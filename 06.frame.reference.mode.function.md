#### Frame Reference Mode Function

<div class="syntax">
frame_reference_mode( ) {
    if ( FrameIsIntra ) {
        compoundReferenceAllowed = 0
    } else {
        compoundReferenceAllowed = 0
        for ( i = 1; i < REFS_PER_FRAME; i++ )
            if ( ref_frame_sign_bias[ i + 1 ] != ref_frame_sign_bias[ 1 ] )
                compoundReferenceAllowed = 1
    }
    if ( compoundReferenceAllowed ) {
        @@reference_select                                              f(1)
        if ( reference_select ) {
            ReferenceMode = REFERENCE_MODE_SELECT
        } else {
            @@non_single_reference                                      f(1)
            if (non_single_reference == 0 )
                ReferenceMode = SINGLE_REFERENCE
            else
                ReferenceMode = COMPOUND_REFERENCE
        }
        setup_compound_reference_mode( )
    } else {
        ReferenceMode = SINGLE_REFERENCE
    }
}
</div>
