<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>AV1 Bitstream &amp; Decoding Process Specification</title>
  <link rel="stylesheet" href="/av1-spec/assets/css/av1-spec.css">
  <link rel="stylesheet" href="/av1-spec/assets/css/bootstrap.min.css">
  <link rel="apple-touch-icon" sizes="57x57" href="assets/images/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="assets/images/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="assets/images/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="assets/images/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="assets/images/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="assets/images/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="assets/images/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="assets/images/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="assets/images/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="assets/images/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/images/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="assets/images/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/images/icons/favicon-16x16.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="assets/images/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
</head>

<body>
  <div class="container">
    <div class="row">
      <div class="col-md-10 col-md-offset-1">

<h1 class="no_toc" id="av1-bitstream--decoding-process-specification">AV1 Bitstream &amp; Decoding Process Specification</h1>

<p><em>Copyright 2017, The <a href="http://aomedia.org/">Alliance for Open Media</a></em></p>

<p><em>Last modified: 2017-12-06 18:27:29 -0800</em></p>

<p class="alert alert-danger"><strong>Draft Document</strong><br />
This document is a work in process draft, and will change substantially before
release. Do not rely on its current contents.<br /><br />
Find document build instructions on the <a href="https://github.com/AOMediaCodec/av1-spec">project homepage</a>.</p>

<h2 class="no_toc no_count" id="abstract">Abstract</h2>

<p>This document defines the bitstream format and decoding process for the
<a href="http://aomedia.org/">Alliance for Open Media</a> AV1 video codec.</p>

<p><a class="btn btn-xs btn-primary" role="button" data-toggle="collapse" href="#contents" aria-expanded="false" aria-controls="contents"><b>Contents</b></a></p>

<div id="contents" class="collapse">

<ul id="markdown-toc">
  <li><a href="#scope" id="markdown-toc-scope">Scope</a></li>
  <li><a href="#terms-and-definitions" id="markdown-toc-terms-and-definitions">Terms and Definitions</a></li>
  <li><a href="#symbols-and-abbreviated-terms" id="markdown-toc-symbols-and-abbreviated-terms">Symbols and Abbreviated Terms</a></li>
  <li><a href="#conventions" id="markdown-toc-conventions">Conventions</a>    <ul>
      <li><a href="#arithmetic-operators" id="markdown-toc-arithmetic-operators">Arithmetic operators</a></li>
      <li><a href="#logical-operators" id="markdown-toc-logical-operators">Logical operators</a></li>
      <li><a href="#relational-operators" id="markdown-toc-relational-operators">Relational operators</a></li>
      <li><a href="#bitwise-operators" id="markdown-toc-bitwise-operators">Bitwise operators</a></li>
      <li><a href="#assignment" id="markdown-toc-assignment">Assignment</a></li>
      <li><a href="#mathematical-functions" id="markdown-toc-mathematical-functions">Mathematical functions</a></li>
      <li><a href="#method-of-describing-bitstream-syntax" id="markdown-toc-method-of-describing-bitstream-syntax">Method of describing bitstream syntax</a></li>
      <li><a href="#functions" id="markdown-toc-functions">Functions</a></li>
      <li><a href="#descriptors" id="markdown-toc-descriptors">Descriptors</a>        <ul>
          <li><a href="#fn" id="markdown-toc-fn">f(n)</a></li>
          <li><a href="#len" id="markdown-toc-len">le(n)</a></li>
          <li><a href="#sun" id="markdown-toc-sun">su(n)</a></li>
          <li><a href="#ln" id="markdown-toc-ln">L(n)</a></li>
          <li><a href="#s" id="markdown-toc-s">S</a></li>
          <li><a href="#un" id="markdown-toc-un">U(n)</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#bitstream-syntax" id="markdown-toc-bitstream-syntax">Bitstream Syntax</a>    <ul>
      <li><a href="#obu-syntax" id="markdown-toc-obu-syntax">OBU Syntax</a>        <ul>
          <li><a href="#obu-header-syntax" id="markdown-toc-obu-header-syntax">OBU Header Syntax</a></li>
          <li><a href="#obu-extension-header-syntax" id="markdown-toc-obu-extension-header-syntax">OBU Extension Header Syntax</a></li>
          <li><a href="#trailing-bits-syntax" id="markdown-toc-trailing-bits-syntax">Trailing Bits Syntax</a></li>
        </ul>
      </li>
      <li><a href="#reserved-obu-syntax" id="markdown-toc-reserved-obu-syntax">Reserved OBU Syntax</a></li>
      <li><a href="#sequence-header-obu-syntax" id="markdown-toc-sequence-header-obu-syntax">Sequence Header OBU Syntax</a>        <ul>
          <li><a href="#color-config-syntax" id="markdown-toc-color-config-syntax">Color Config Syntax</a></li>
        </ul>
      </li>
      <li><a href="#temporal-delimiter-obu-syntax" id="markdown-toc-temporal-delimiter-obu-syntax">Temporal Delimiter OBU Syntax</a></li>
      <li><a href="#padding-obu-syntax" id="markdown-toc-padding-obu-syntax">Padding OBU Syntax</a></li>
      <li><a href="#metadata-obu-syntax" id="markdown-toc-metadata-obu-syntax">Metadata OBU Syntax</a>        <ul>
          <li><a href="#metadata-private-data-syntax" id="markdown-toc-metadata-private-data-syntax">Metadata Private Data Syntax</a></li>
          <li><a href="#metadata-high-dynamic-range-content-light-level-syntax" id="markdown-toc-metadata-high-dynamic-range-content-light-level-syntax">Metadata High Dynamic Range Content Light Level Syntax</a></li>
          <li><a href="#metadata-high-dynamic-range-mastering-display-color-volume-syntax" id="markdown-toc-metadata-high-dynamic-range-mastering-display-color-volume-syntax">Metadata High Dynamic Range Mastering Display Color Volume Syntax</a></li>
        </ul>
      </li>
      <li><a href="#frame-header-obu-syntax" id="markdown-toc-frame-header-obu-syntax">Frame Header OBU Syntax</a>        <ul>
          <li><a href="#uncompressed-header-syntax" id="markdown-toc-uncompressed-header-syntax">Uncompressed Header Syntax</a></li>
          <li><a href="#frame-size-syntax" id="markdown-toc-frame-size-syntax">Frame Size Syntax</a></li>
          <li><a href="#render-size-syntax" id="markdown-toc-render-size-syntax">Render Size Syntax</a></li>
          <li><a href="#frame-size-with-refs-syntax" id="markdown-toc-frame-size-with-refs-syntax">Frame Size with Refs Syntax</a></li>
          <li><a href="#compute-image-size-function" id="markdown-toc-compute-image-size-function">Compute Image Size Function</a></li>
          <li><a href="#interpolation-filter-syntax" id="markdown-toc-interpolation-filter-syntax">Interpolation Filter Syntax</a></li>
          <li><a href="#loop-filter-params-syntax" id="markdown-toc-loop-filter-params-syntax">Loop Filter Params Syntax</a></li>
          <li><a href="#quantization-params-syntax" id="markdown-toc-quantization-params-syntax">Quantization Params Syntax</a></li>
          <li><a href="#delta-quantizer-syntax" id="markdown-toc-delta-quantizer-syntax">Delta Quantizer Syntax</a></li>
          <li><a href="#segmentation-params-syntax" id="markdown-toc-segmentation-params-syntax">Segmentation Params Syntax</a></li>
          <li><a href="#tile-info-syntax" id="markdown-toc-tile-info-syntax">Tile Info Syntax</a></li>
          <li><a href="#tile-size-calculation-function" id="markdown-toc-tile-size-calculation-function">Tile Size Calculation Function</a></li>
          <li><a href="#quantizer-index-delta-parameters-syntax" id="markdown-toc-quantizer-index-delta-parameters-syntax">Quantizer Index Delta Parameters Syntax</a></li>
          <li><a href="#loop-filter-delta-parameters-syntax" id="markdown-toc-loop-filter-delta-parameters-syntax">Loop Filter Delta Parameters Syntax</a></li>
          <li><a href="#cdef-params-syntax" id="markdown-toc-cdef-params-syntax">CDEF Params Syntax</a></li>
          <li><a href="#loop-restoration-params-syntax" id="markdown-toc-loop-restoration-params-syntax">Loop Restoration Params Syntax</a></li>
          <li><a href="#tx-mode-syntax" id="markdown-toc-tx-mode-syntax">TX Mode Syntax</a></li>
          <li><a href="#frame-reference-mode-syntax" id="markdown-toc-frame-reference-mode-syntax">Frame Reference Mode Syntax</a></li>
          <li><a href="#global-motion-params-syntax" id="markdown-toc-global-motion-params-syntax">Global Motion Params Syntax</a></li>
          <li><a href="#global-param-syntax" id="markdown-toc-global-param-syntax">Global Param Syntax</a></li>
          <li><a href="#decode-signed-subexp-with-ref-syntax" id="markdown-toc-decode-signed-subexp-with-ref-syntax">Decode Signed Subexp With Ref Syntax</a></li>
          <li><a href="#decode-unsigned-subexp-with-ref-syntax" id="markdown-toc-decode-unsigned-subexp-with-ref-syntax">Decode Unsigned Subexp With Ref Syntax</a></li>
          <li><a href="#decode-subexp-syntax" id="markdown-toc-decode-subexp-syntax">Decode Subexp Syntax</a></li>
          <li><a href="#decode-uniform-syntax" id="markdown-toc-decode-uniform-syntax">Decode Uniform Syntax</a></li>
          <li><a href="#inverse-recenter-function" id="markdown-toc-inverse-recenter-function">Inverse Recenter Function</a></li>
          <li><a href="#inv-recenter-noneg-function" id="markdown-toc-inv-recenter-noneg-function">Inv Recenter Noneg Function</a></li>
        </ul>
      </li>
      <li><a href="#tile-group-obu-syntax" id="markdown-toc-tile-group-obu-syntax">Tile Group OBU Syntax</a>        <ul>
          <li><a href="#decode-tile-syntax" id="markdown-toc-decode-tile-syntax">Decode Tile Syntax</a></li>
          <li><a href="#clear-block-decoded-flags-function" id="markdown-toc-clear-block-decoded-flags-function">Clear Block Decoded Flags Function</a></li>
          <li><a href="#decode-partition-syntax" id="markdown-toc-decode-partition-syntax">Decode Partition Syntax</a></li>
          <li><a href="#decode-block-syntax" id="markdown-toc-decode-block-syntax">Decode Block Syntax</a></li>
          <li><a href="#mode-info-syntax" id="markdown-toc-mode-info-syntax">Mode Info Syntax</a></li>
          <li><a href="#intra-frame-mode-info-syntax" id="markdown-toc-intra-frame-mode-info-syntax">Intra Frame Mode Info Syntax</a></li>
          <li><a href="#intra-segment-id-syntax" id="markdown-toc-intra-segment-id-syntax">Intra Segment ID Syntax</a></li>
          <li><a href="#skip-syntax" id="markdown-toc-skip-syntax">Skip Syntax</a></li>
          <li><a href="#quantizer-index-delta-syntax" id="markdown-toc-quantizer-index-delta-syntax">Quantizer Index Delta Syntax</a></li>
          <li><a href="#loop-filter-delta-syntax" id="markdown-toc-loop-filter-delta-syntax">Loop Filter Delta Syntax</a></li>
          <li><a href="#segmentation-feature-active-function" id="markdown-toc-segmentation-feature-active-function">Segmentation Feature Active Function</a></li>
          <li><a href="#tx-size-syntax" id="markdown-toc-tx-size-syntax">TX Size Syntax</a></li>
          <li><a href="#inter-tx-size-syntax" id="markdown-toc-inter-tx-size-syntax">Inter TX Size Syntax</a></li>
          <li><a href="#var-tx-size-syntax" id="markdown-toc-var-tx-size-syntax">Var TX Size Syntax</a></li>
          <li><a href="#inter-frame-mode-info-syntax" id="markdown-toc-inter-frame-mode-info-syntax">Inter Frame Mode Info Syntax</a></li>
          <li><a href="#inter-segment-id-syntax" id="markdown-toc-inter-segment-id-syntax">Inter Segment ID Syntax</a></li>
          <li><a href="#is-inter-syntax" id="markdown-toc-is-inter-syntax">Is Inter Syntax</a></li>
          <li><a href="#get-segment-id-function" id="markdown-toc-get-segment-id-function">Get Segment ID Function</a></li>
          <li><a href="#intra-block-mode-info-syntax" id="markdown-toc-intra-block-mode-info-syntax">Intra Block Mode Info Syntax</a></li>
          <li><a href="#inter-block-mode-info-syntax" id="markdown-toc-inter-block-mode-info-syntax">Inter Block Mode Info Syntax</a></li>
          <li><a href="#ref-frames-syntax" id="markdown-toc-ref-frames-syntax">Ref Frames Syntax</a></li>
          <li><a href="#assign-mv-syntax" id="markdown-toc-assign-mv-syntax">Assign MV Syntax</a></li>
          <li><a href="#read-motion-mode-syntax" id="markdown-toc-read-motion-mode-syntax">Read Motion Mode Syntax</a></li>
          <li><a href="#read-inter-intra-syntax" id="markdown-toc-read-inter-intra-syntax">Read Inter Intra Syntax</a></li>
          <li><a href="#read-compound-type-syntax" id="markdown-toc-read-compound-type-syntax">Read Compound Type Syntax</a></li>
          <li><a href="#get-mode-function" id="markdown-toc-get-mode-function">Get Mode Function</a></li>
          <li><a href="#mv-syntax" id="markdown-toc-mv-syntax">MV Syntax</a></li>
          <li><a href="#mv-component-syntax" id="markdown-toc-mv-component-syntax">MV Component Syntax</a></li>
          <li><a href="#residual-syntax" id="markdown-toc-residual-syntax">Residual Syntax</a></li>
          <li><a href="#transform-block-syntax" id="markdown-toc-transform-block-syntax">Transform Block Syntax</a></li>
          <li><a href="#transform-tree-syntax" id="markdown-toc-transform-tree-syntax">Transform Tree Syntax</a></li>
          <li><a href="#get-tx-size-function" id="markdown-toc-get-tx-size-function">Get TX Size Function</a></li>
          <li><a href="#get-plane-residual-size-function" id="markdown-toc-get-plane-residual-size-function">Get Plane Residual Size Function</a></li>
          <li><a href="#coefficients-syntax" id="markdown-toc-coefficients-syntax">Coefficients Syntax</a></li>
          <li><a href="#compute-transform-type-function" id="markdown-toc-compute-transform-type-function">Compute Transform Type Function</a></li>
          <li><a href="#get-scan-function" id="markdown-toc-get-scan-function">Get Scan Function</a></li>
          <li><a href="#coef-syntax" id="markdown-toc-coef-syntax">Coef Syntax</a></li>
          <li><a href="#intra-angle-info-syntax" id="markdown-toc-intra-angle-info-syntax">Intra Angle Info Syntax</a></li>
          <li><a href="#is-directional-mode-function" id="markdown-toc-is-directional-mode-function">Is Directional Mode Function</a></li>
          <li><a href="#read-cfl-alphas-syntax" id="markdown-toc-read-cfl-alphas-syntax">Read CFL Alphas Syntax</a></li>
          <li><a href="#palette-mode-info-syntax" id="markdown-toc-palette-mode-info-syntax">Palette Mode Info Syntax</a></li>
          <li><a href="#transform-type-syntax" id="markdown-toc-transform-type-syntax">Transform Type Syntax</a></li>
          <li><a href="#get-transform-set-function" id="markdown-toc-get-transform-set-function">Get Transform Set Function</a></li>
          <li><a href="#palette-tokens-syntax" id="markdown-toc-palette-tokens-syntax">Palette Tokens Syntax</a></li>
          <li><a href="#palette-color-context-function" id="markdown-toc-palette-color-context-function">Palette Color Context Function</a></li>
          <li><a href="#is-inside-function" id="markdown-toc-is-inside-function">Is Inside Function</a></li>
          <li><a href="#check-references-functions" id="markdown-toc-check-references-functions">Check References Functions</a></li>
          <li><a href="#clamp-mv-row-function" id="markdown-toc-clamp-mv-row-function">Clamp MV Row Function</a></li>
          <li><a href="#clamp-mv-col-function" id="markdown-toc-clamp-mv-col-function">Clamp MV Col Function</a></li>
          <li><a href="#clear-cdef-function" id="markdown-toc-clear-cdef-function">Clear CDEF Function</a></li>
          <li><a href="#read-cdef-syntax" id="markdown-toc-read-cdef-syntax">Read CDEF Syntax</a></li>
          <li><a href="#decode-loop-restoration-syntax" id="markdown-toc-decode-loop-restoration-syntax">Decode Loop Restoration Syntax</a></li>
          <li><a href="#decode-loop-restoration-unit-syntax" id="markdown-toc-decode-loop-restoration-unit-syntax">Decode Loop Restoration Unit Syntax</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#bitstream-semantics" id="markdown-toc-bitstream-semantics">Bitstream Semantics</a>    <ul>
      <li><a href="#obu-semantics" id="markdown-toc-obu-semantics">OBU Semantics</a>        <ul>
          <li><a href="#obu-header-semantics" id="markdown-toc-obu-header-semantics">OBU Header Semantics</a></li>
          <li><a href="#obu-extension-header-semantics" id="markdown-toc-obu-extension-header-semantics">OBU Extension Header Semantics</a></li>
          <li><a href="#trailing-bits-semantics" id="markdown-toc-trailing-bits-semantics">Trailing Bits Semantics</a></li>
        </ul>
      </li>
      <li><a href="#reserved-obu-semantics" id="markdown-toc-reserved-obu-semantics">Reserved OBU Semantics</a></li>
      <li><a href="#sequence-header-obu-semantics" id="markdown-toc-sequence-header-obu-semantics">Sequence Header OBU Semantics</a>        <ul>
          <li><a href="#color-config-semantics" id="markdown-toc-color-config-semantics">Color Config Semantics</a></li>
        </ul>
      </li>
      <li><a href="#temporal-delimiter-obu-semantics" id="markdown-toc-temporal-delimiter-obu-semantics">Temporal Delimiter OBU Semantics</a></li>
      <li><a href="#padding-obu-semantics" id="markdown-toc-padding-obu-semantics">Padding OBU Semantics</a></li>
      <li><a href="#metadata-obu-semantics" id="markdown-toc-metadata-obu-semantics">Metadata OBU Semantics</a>        <ul>
          <li><a href="#metadata-private-data-semantics" id="markdown-toc-metadata-private-data-semantics">Metadata Private Data Semantics</a></li>
          <li><a href="#metadata-high-dynamic-range-content-light-level-semantics" id="markdown-toc-metadata-high-dynamic-range-content-light-level-semantics">Metadata High Dynamic Range Content Light Level Semantics</a></li>
          <li><a href="#metadata-high-dynamic-range-mastering-display-color-volume-semantics" id="markdown-toc-metadata-high-dynamic-range-mastering-display-color-volume-semantics">Metadata High Dynamic Range Mastering Display Color Volume Semantics</a></li>
        </ul>
      </li>
      <li><a href="#frame-header-obu-semantics" id="markdown-toc-frame-header-obu-semantics">Frame Header OBU Semantics</a>        <ul>
          <li><a href="#uncompressed-header-semantics" id="markdown-toc-uncompressed-header-semantics">Uncompressed Header Semantics</a></li>
          <li><a href="#frame-size-semantics" id="markdown-toc-frame-size-semantics">Frame Size Semantics</a></li>
          <li><a href="#render-size-semantics" id="markdown-toc-render-size-semantics">Render Size Semantics</a></li>
          <li><a href="#frame-size-with-refs-semantics" id="markdown-toc-frame-size-with-refs-semantics">Frame Size with Refs Semantics</a></li>
          <li><a href="#compute-image-size-semantics" id="markdown-toc-compute-image-size-semantics">Compute Image Size Semantics</a></li>
          <li><a href="#interpolation-filter-semantics" id="markdown-toc-interpolation-filter-semantics">Interpolation Filter Semantics</a></li>
          <li><a href="#loop-filter-semantics" id="markdown-toc-loop-filter-semantics">Loop Filter Semantics</a></li>
          <li><a href="#quantization-params-semantics" id="markdown-toc-quantization-params-semantics">Quantization Params Semantics</a></li>
          <li><a href="#delta-quantizer-semantics" id="markdown-toc-delta-quantizer-semantics">Delta Quantizer Semantics</a></li>
          <li><a href="#segmentation-params-semantics" id="markdown-toc-segmentation-params-semantics">Segmentation Params Semantics</a></li>
          <li><a href="#tile-info-semantics" id="markdown-toc-tile-info-semantics">Tile Info Semantics</a></li>
          <li><a href="#quantizer-index-delta-parameters-semantics" id="markdown-toc-quantizer-index-delta-parameters-semantics">Quantizer Index Delta Parameters Semantics</a></li>
          <li><a href="#loop-filter-delta-parameters-semantics" id="markdown-toc-loop-filter-delta-parameters-semantics">Loop Filter Delta Parameters Semantics</a></li>
          <li><a href="#global-motion-params-semantics" id="markdown-toc-global-motion-params-semantics">Global Motion Params Semantics</a></li>
          <li><a href="#global-param-semantics" id="markdown-toc-global-param-semantics">Global Param Semantics</a></li>
          <li><a href="#decode-subexp-semantics" id="markdown-toc-decode-subexp-semantics">Decode Subexp Semantics</a></li>
          <li><a href="#decode-uniform-semantics" id="markdown-toc-decode-uniform-semantics">Decode Uniform Semantics</a></li>
          <li><a href="#tx-mode-semantics" id="markdown-toc-tx-mode-semantics">TX Mode Semantics</a></li>
          <li><a href="#frame-reference-mode-semantics" id="markdown-toc-frame-reference-mode-semantics">Frame Reference Mode Semantics</a></li>
        </ul>
      </li>
      <li><a href="#tile-group-obu-semantics" id="markdown-toc-tile-group-obu-semantics">Tile Group OBU Semantics</a>        <ul>
          <li><a href="#decode-tile-semantics" id="markdown-toc-decode-tile-semantics">Decode Tile Semantics</a></li>
          <li><a href="#clear-block-decoded-flags-semantics" id="markdown-toc-clear-block-decoded-flags-semantics">Clear Block Decoded Flags Semantics</a></li>
          <li><a href="#decode-partition-semantics" id="markdown-toc-decode-partition-semantics">Decode Partition Semantics</a></li>
          <li><a href="#decode-block-semantics" id="markdown-toc-decode-block-semantics">Decode Block Semantics</a></li>
          <li><a href="#intra-frame-mode-info-semantics" id="markdown-toc-intra-frame-mode-info-semantics">Intra Frame Mode Info Semantics</a></li>
          <li><a href="#intra-and-inter-segment-id-semantics" id="markdown-toc-intra-and-inter-segment-id-semantics">Intra and Inter Segment ID Semantics</a></li>
          <li><a href="#skip-semantics" id="markdown-toc-skip-semantics">Skip Semantics</a></li>
          <li><a href="#quantizer-index-delta-semantics" id="markdown-toc-quantizer-index-delta-semantics">Quantizer Index Delta Semantics</a></li>
          <li><a href="#loop-filter-delta-semantics" id="markdown-toc-loop-filter-delta-semantics">Loop Filter Delta Semantics</a></li>
          <li><a href="#cdef-params-semantics" id="markdown-toc-cdef-params-semantics">CDEF Params Semantics</a></li>
          <li><a href="#loop-restoration-params-semantics" id="markdown-toc-loop-restoration-params-semantics">Loop Restoration Params Semantics</a></li>
          <li><a href="#tx-size-semantics" id="markdown-toc-tx-size-semantics">TX Size Semantics</a></li>
          <li><a href="#inter-tx-size-semantics" id="markdown-toc-inter-tx-size-semantics">Inter TX Size Semantics</a></li>
          <li><a href="#var-tx-size-semantics" id="markdown-toc-var-tx-size-semantics">Var TX Size Semantics</a></li>
          <li><a href="#transform-type-semantics" id="markdown-toc-transform-type-semantics">Transform Type Semantics</a></li>
          <li><a href="#is-inter-semantics" id="markdown-toc-is-inter-semantics">Is Inter Semantics</a></li>
          <li><a href="#intra-block-mode-info-semantics" id="markdown-toc-intra-block-mode-info-semantics">Intra Block Mode Info Semantics</a></li>
          <li><a href="#inter-block-mode-info-semantics" id="markdown-toc-inter-block-mode-info-semantics">Inter Block Mode Info Semantics</a></li>
          <li><a href="#ref-frames-semantics" id="markdown-toc-ref-frames-semantics">Ref Frames Semantics</a></li>
          <li><a href="#read-motion-mode-semantics" id="markdown-toc-read-motion-mode-semantics">Read Motion Mode Semantics</a></li>
          <li><a href="#read-inter-intra-semantics" id="markdown-toc-read-inter-intra-semantics">Read Inter Intra Semantics</a></li>
          <li><a href="#read-compound-type-semantics" id="markdown-toc-read-compound-type-semantics">Read Compound Type Semantics</a></li>
          <li><a href="#mv-semantics" id="markdown-toc-mv-semantics">MV Semantics</a></li>
          <li><a href="#mv-component-semantics" id="markdown-toc-mv-component-semantics">MV Component Semantics</a></li>
          <li><a href="#residual-semantics" id="markdown-toc-residual-semantics">Residual Semantics</a></li>
          <li><a href="#coefficients-semantics" id="markdown-toc-coefficients-semantics">Coefficients Semantics</a></li>
          <li><a href="#transform-tree-semantics" id="markdown-toc-transform-tree-semantics">Transform Tree Semantics</a></li>
          <li><a href="#token-semantics" id="markdown-toc-token-semantics">Token Semantics</a></li>
          <li><a href="#coef-semantics" id="markdown-toc-coef-semantics">Coef Semantics</a></li>
          <li><a href="#intra-angle-info-semantics" id="markdown-toc-intra-angle-info-semantics">Intra Angle Info Semantics</a></li>
          <li><a href="#read-cfl-alphas-semantics" id="markdown-toc-read-cfl-alphas-semantics">Read CFL Alphas Semantics</a></li>
          <li><a href="#palette-mode-info-semantics" id="markdown-toc-palette-mode-info-semantics">Palette Mode Info Semantics</a></li>
          <li><a href="#palette-tokens-semantics" id="markdown-toc-palette-tokens-semantics">Palette Tokens Semantics</a></li>
          <li><a href="#palette-color-context-semantics" id="markdown-toc-palette-color-context-semantics">Palette Color Context Semantics</a></li>
          <li><a href="#read-cdef-semantics" id="markdown-toc-read-cdef-semantics">Read CDEF Semantics</a></li>
          <li><a href="#decode-loop-restoration-unit-semantics" id="markdown-toc-decode-loop-restoration-unit-semantics">Decode Loop Restoration Unit Semantics</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#decoding-process" id="markdown-toc-decoding-process">Decoding Process</a>    <ul>
      <li><a href="#general" id="markdown-toc-general">General</a></li>
      <li><a href="#decode-frame-process" id="markdown-toc-decode-frame-process">Decode Frame Process</a></li>
      <li><a href="#frame-order-constraints" id="markdown-toc-frame-order-constraints">Frame Order Constraints</a></li>
      <li><a href="#cdf-update-process" id="markdown-toc-cdf-update-process">CDF Update Process</a></li>
      <li><a href="#motion-field-estimation-process" id="markdown-toc-motion-field-estimation-process">Motion Field Estimation Process</a>        <ul>
          <li><a href="#forward-projection-process" id="markdown-toc-forward-projection-process">Forward Projection Process</a></li>
          <li><a href="#backward-projection-process" id="markdown-toc-backward-projection-process">Backward Projection Process</a></li>
          <li><a href="#get-mv-position-process" id="markdown-toc-get-mv-position-process">Get MV Position Process</a></li>
          <li><a href="#get-block-position-process" id="markdown-toc-get-block-position-process">Get Block Position Process</a></li>
        </ul>
      </li>
      <li><a href="#motion-vector-prediction-processes" id="markdown-toc-motion-vector-prediction-processes">Motion Vector Prediction Processes</a>        <ul>
          <li><a href="#find-mv-list-process" id="markdown-toc-find-mv-list-process">Find MV List Process</a>            <ul>
              <li><a href="#setup-zero-mv-process" id="markdown-toc-setup-zero-mv-process">Setup Zero MV Process</a></li>
              <li><a href="#spatial-motion-vector-candidate-process" id="markdown-toc-spatial-motion-vector-candidate-process">Spatial Motion Vector Candidate Process</a></li>
              <li><a href="#candidate-add-process" id="markdown-toc-candidate-add-process">Candidate Add Process</a></li>
            </ul>
          </li>
          <li><a href="#compound-context-process" id="markdown-toc-compound-context-process">Compound Context Process</a></li>
          <li><a href="#find-mv-stack-process" id="markdown-toc-find-mv-stack-process">Find MV Stack Process</a>            <ul>
              <li><a href="#scan-row-process" id="markdown-toc-scan-row-process">Scan Row Process</a></li>
              <li><a href="#scan-col-process" id="markdown-toc-scan-col-process">Scan Col Process</a></li>
              <li><a href="#scan-point-process" id="markdown-toc-scan-point-process">Scan Point Process</a></li>
              <li><a href="#temporal-scan-process" id="markdown-toc-temporal-scan-process">Temporal Scan Process</a></li>
              <li><a href="#temporal-sample-process" id="markdown-toc-temporal-sample-process">Temporal Sample Process</a></li>
              <li><a href="#add-reference-motion-vector-process" id="markdown-toc-add-reference-motion-vector-process">Add Reference Motion Vector Process</a></li>
              <li><a href="#search-stack-process" id="markdown-toc-search-stack-process">Search Stack Process</a></li>
              <li><a href="#compound-search-stack-process" id="markdown-toc-compound-search-stack-process">Compound Search Stack Process</a></li>
              <li><a href="#lower-precision-process" id="markdown-toc-lower-precision-process">Lower Precision Process</a></li>
              <li><a href="#sorting-process" id="markdown-toc-sorting-process">Sorting Process</a></li>
              <li><a href="#context-and-clamping-process" id="markdown-toc-context-and-clamping-process">Context and Clamping Process</a></li>
            </ul>
          </li>
          <li><a href="#has-overlappable-candidates-process" id="markdown-toc-has-overlappable-candidates-process">Has Overlappable Candidates Process</a></li>
          <li><a href="#find-warp-samples-process" id="markdown-toc-find-warp-samples-process">Find Warp Samples Process</a>            <ul>
              <li><a href="#add-sample-process" id="markdown-toc-add-sample-process">Add Sample Process</a></li>
              <li><a href="#sort-sample-process" id="markdown-toc-sort-sample-process">Sort Sample Process</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="#prediction-processes" id="markdown-toc-prediction-processes">Prediction Processes</a>        <ul>
          <li><a href="#intra-prediction-process" id="markdown-toc-intra-prediction-process">Intra Prediction Process</a>            <ul>
              <li><a href="#filter-corner-process" id="markdown-toc-filter-corner-process">Filter Corner Process</a></li>
              <li><a href="#intra-filter-type-process" id="markdown-toc-intra-filter-type-process">Intra Filter Type Process</a></li>
              <li><a href="#intra-edge-filter-strength-selection-process" id="markdown-toc-intra-edge-filter-strength-selection-process">Intra Edge Filter Strength Selection Process</a></li>
              <li><a href="#intra-edge-upsample-selection-process" id="markdown-toc-intra-edge-upsample-selection-process">Intra Edge Upsample Selection Process</a></li>
              <li><a href="#intra-edge-upsample-process" id="markdown-toc-intra-edge-upsample-process">Intra Edge Upsample Process</a></li>
              <li><a href="#intra-edge-filter-process" id="markdown-toc-intra-edge-filter-process">Intra Edge Filter Process</a></li>
            </ul>
          </li>
          <li><a href="#inter-prediction-process" id="markdown-toc-inter-prediction-process">Inter Prediction Process</a>            <ul>
              <li><a href="#motion-vector-scaling-process" id="markdown-toc-motion-vector-scaling-process">Motion Vector Scaling Process</a></li>
              <li><a href="#block-inter-prediction-process" id="markdown-toc-block-inter-prediction-process">Block Inter Prediction Process</a></li>
              <li><a href="#block-warp-process" id="markdown-toc-block-warp-process">Block Warp Process</a></li>
              <li><a href="#setup-shear-process" id="markdown-toc-setup-shear-process">Setup Shear Process</a></li>
              <li><a href="#resolve-divisor-process" id="markdown-toc-resolve-divisor-process">Resolve Divisor Process</a></li>
              <li><a href="#warp-estimation-process" id="markdown-toc-warp-estimation-process">Warp Estimation Process</a></li>
              <li><a href="#overlapped-motion-compensation-process" id="markdown-toc-overlapped-motion-compensation-process">Overlapped Motion Compensation Process</a></li>
              <li><a href="#overlap-blending-process" id="markdown-toc-overlap-blending-process">Overlap Blending Process</a></li>
              <li><a href="#wedge-mask-process" id="markdown-toc-wedge-mask-process">Wedge Mask Process</a></li>
              <li><a href="#segment-mask-process" id="markdown-toc-segment-mask-process">Segment Mask Process</a></li>
              <li><a href="#inter-intra-mask-process" id="markdown-toc-inter-intra-mask-process">Inter Intra Mask Process</a></li>
              <li><a href="#mask-blend-process" id="markdown-toc-mask-blend-process">Mask Blend Process</a></li>
            </ul>
          </li>
          <li><a href="#palette-prediction-process" id="markdown-toc-palette-prediction-process">Palette Prediction Process</a></li>
          <li><a href="#predict-chroma-from-luma-process" id="markdown-toc-predict-chroma-from-luma-process">Predict Chroma From Luma Process</a></li>
        </ul>
      </li>
      <li><a href="#reconstruction-and-dequantization" id="markdown-toc-reconstruction-and-dequantization">Reconstruction and Dequantization</a>        <ul>
          <li><a href="#dequantization-functions" id="markdown-toc-dequantization-functions">Dequantization Functions</a></li>
          <li><a href="#reconstruct-process" id="markdown-toc-reconstruct-process">Reconstruct Process</a></li>
        </ul>
      </li>
      <li><a href="#inverse-transform-process" id="markdown-toc-inverse-transform-process">Inverse Transform Process</a>        <ul>
          <li><a href="#1d-transforms" id="markdown-toc-1d-transforms">1D Transforms</a>            <ul>
              <li><a href="#butterfly-functions" id="markdown-toc-butterfly-functions">Butterfly Functions</a></li>
              <li><a href="#inverse-dct-array-permutation-process" id="markdown-toc-inverse-dct-array-permutation-process">Inverse DCT Array Permutation Process</a></li>
              <li><a href="#inverse-dct-process" id="markdown-toc-inverse-dct-process">Inverse DCT Process</a></li>
              <li><a href="#inverse-adst-input-array-permutation-process" id="markdown-toc-inverse-adst-input-array-permutation-process">Inverse ADST Input Array Permutation Process</a></li>
              <li><a href="#inverse-adst-output-array-permutation-process" id="markdown-toc-inverse-adst-output-array-permutation-process">Inverse ADST Output Array Permutation Process</a></li>
              <li><a href="#inverse-adst-process" id="markdown-toc-inverse-adst-process">Inverse ADST Process</a></li>
              <li><a href="#inverse-walsh-hadamard-transform-process" id="markdown-toc-inverse-walsh-hadamard-transform-process">Inverse Walsh-Hadamard Transform Process</a></li>
              <li><a href="#inverse-identity-transform-4-process" id="markdown-toc-inverse-identity-transform-4-process">Inverse Identity Transform 4 Process</a></li>
              <li><a href="#inverse-identity-transform-8-process" id="markdown-toc-inverse-identity-transform-8-process">Inverse Identity Transform 8 Process</a></li>
              <li><a href="#inverse-identity-transform-16-process" id="markdown-toc-inverse-identity-transform-16-process">Inverse Identity Transform 16 Process</a></li>
              <li><a href="#inverse-identity-transform-32-process" id="markdown-toc-inverse-identity-transform-32-process">Inverse Identity Transform 32 Process</a></li>
              <li><a href="#inverse-identity-transform-64-process" id="markdown-toc-inverse-identity-transform-64-process">Inverse Identity Transform 64 Process</a></li>
              <li><a href="#inverse-identity-transform-process" id="markdown-toc-inverse-identity-transform-process">Inverse Identity Transform Process</a></li>
            </ul>
          </li>
          <li><a href="#2d-inverse-transform" id="markdown-toc-2d-inverse-transform">2D Inverse Transform</a></li>
        </ul>
      </li>
      <li><a href="#loop-filter-process" id="markdown-toc-loop-filter-process">Loop Filter Process</a>        <ul>
          <li><a href="#edge-loop-filter-process" id="markdown-toc-edge-loop-filter-process">Edge Loop Filter Process</a></li>
          <li><a href="#filter-size-process" id="markdown-toc-filter-size-process">Filter Size Process</a></li>
          <li><a href="#adaptive-filter-strength-process" id="markdown-toc-adaptive-filter-strength-process">Adaptive Filter Strength Process</a></li>
          <li><a href="#adaptive-filter-strength-selection-process" id="markdown-toc-adaptive-filter-strength-selection-process">Adaptive Filter Strength Selection Process</a></li>
          <li><a href="#sample-filtering-process" id="markdown-toc-sample-filtering-process">Sample Filtering Process</a>            <ul>
              <li><a href="#filter-mask-process" id="markdown-toc-filter-mask-process">Filter Mask Process</a></li>
              <li><a href="#narrow-filter-process" id="markdown-toc-narrow-filter-process">Narrow Filter Process</a></li>
              <li><a href="#wide-filter-process" id="markdown-toc-wide-filter-process">Wide Filter Process</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="#cdef-process" id="markdown-toc-cdef-process">CDEF Process</a>        <ul>
          <li><a href="#cdef-block-process" id="markdown-toc-cdef-block-process">CDEF Block Process</a></li>
          <li><a href="#cdef-direction-process" id="markdown-toc-cdef-direction-process">CDEF Direction Process</a></li>
          <li><a href="#cdef-filter-process" id="markdown-toc-cdef-filter-process">CDEF Filter Process</a></li>
        </ul>
      </li>
      <li><a href="#upscaling-process" id="markdown-toc-upscaling-process">Upscaling Process</a></li>
      <li><a href="#loop-restoration-process" id="markdown-toc-loop-restoration-process">Loop Restoration Process</a>        <ul>
          <li><a href="#loop-restore-block-process" id="markdown-toc-loop-restore-block-process">Loop Restore Block Process</a></li>
          <li><a href="#self-guided-filter-process" id="markdown-toc-self-guided-filter-process">Self Guided Filter Process</a></li>
          <li><a href="#box-filter-process" id="markdown-toc-box-filter-process">Box Filter Process</a></li>
          <li><a href="#wiener-filter-process" id="markdown-toc-wiener-filter-process">Wiener Filter Process</a></li>
          <li><a href="#wiener-coefficient-process" id="markdown-toc-wiener-coefficient-process">Wiener Coefficient Process</a></li>
          <li><a href="#get-source-sample-process" id="markdown-toc-get-source-sample-process">Get Source Sample Process</a></li>
        </ul>
      </li>
      <li><a href="#output-process" id="markdown-toc-output-process">Output Process</a></li>
      <li><a href="#reference-frame-update-process" id="markdown-toc-reference-frame-update-process">Reference Frame Update Process</a></li>
    </ul>
  </li>
  <li><a href="#parsing-process" id="markdown-toc-parsing-process">Parsing Process</a>    <ul>
      <li><a href="#parsing-process-for-fn" id="markdown-toc-parsing-process-for-fn">Parsing Process for f(n)</a></li>
      <li><a href="#parsing-process-for-boolean-decoder" id="markdown-toc-parsing-process-for-boolean-decoder">Parsing Process for Boolean Decoder</a>        <ul>
          <li><a href="#initialization-process-for-boolean-decoder" id="markdown-toc-initialization-process-for-boolean-decoder">Initialization Process for Boolean Decoder</a></li>
          <li><a href="#boolean-decoding-process" id="markdown-toc-boolean-decoding-process">Boolean Decoding Process</a></li>
          <li><a href="#exit-process-for-boolean-decoder" id="markdown-toc-exit-process-for-boolean-decoder">Exit Process for Boolean Decoder</a></li>
          <li><a href="#parsing-process-for-read_literal" id="markdown-toc-parsing-process-for-read_literal">Parsing Process for read_literal</a></li>
          <li><a href="#symbol-decoding-process" id="markdown-toc-symbol-decoding-process">Symbol Decoding Process</a></li>
        </ul>
      </li>
      <li><a href="#parsing-process-for-cdf-encoded-syntax-elements" id="markdown-toc-parsing-process-for-cdf-encoded-syntax-elements">Parsing process for CDF encoded syntax elements</a>        <ul>
          <li><a href="#cdf-selection-process" id="markdown-toc-cdf-selection-process">CDF Selection Process</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#additional-tables" id="markdown-toc-additional-tables">Additional Tables</a>    <ul>
      <li><a href="#scan-tables" id="markdown-toc-scan-tables">Scan Tables</a></li>
      <li><a href="#conversion-tables" id="markdown-toc-conversion-tables">Conversion Tables</a></li>
      <li><a href="#default-cdf-tables" id="markdown-toc-default-cdf-tables">Default CDF Tables</a></li>
      <li><a href="#quantizer-matrix-tables" id="markdown-toc-quantizer-matrix-tables">Quantizer Matrix Tables</a></li>
    </ul>
  </li>
  <li><a href="#annex-a-levels" id="markdown-toc-annex-a-levels">Annex A: Levels</a></li>
  <li><a href="#annex-b-raw-bitstream-format" id="markdown-toc-annex-b-raw-bitstream-format">Annex B: Raw Bitstream Format</a>    <ul>
      <li><a href="#overview-1" id="markdown-toc-overview-1">Overview</a></li>
      <li><a href="#raw-bitstream-syntax" id="markdown-toc-raw-bitstream-syntax">Raw Bitstream Syntax</a></li>
      <li><a href="#raw-bitstream-semantics" id="markdown-toc-raw-bitstream-semantics">Raw Bitstream semantics</a></li>
    </ul>
  </li>
  <li><a href="#annex-c-included-experiments" id="markdown-toc-annex-c-included-experiments">Annex C: Included Experiments</a>    <ul>
      <li><a href="#overview-2" id="markdown-toc-overview-2">Overview</a></li>
      <li><a href="#included-experiments" id="markdown-toc-included-experiments">Included Experiments</a></li>
      <li><a href="#excluded-experiments" id="markdown-toc-excluded-experiments">Excluded Experiments</a></li>
    </ul>
  </li>
  <li><a href="#bibliography" id="markdown-toc-bibliography">Bibliography</a></li>
</ul>

</div>

<h2 id="scope">Scope</h2>

<p>This document specifies the Alliance for Open Media AV1 bitstream format and
decoding process.</p>

<h2 id="terms-and-definitions">Terms and Definitions</h2>

<p>For the purposes of this document, the following terms and definitions apply:</p>

<dl>
  <dt>AC coefficient</dt>
  <dd>
    <p>Any transform coefficient whose frequency indices are non-zero in at least
one dimension.</p>
  </dd>
  <dt>Altref</dt>
  <dd>
    <p>(Alternative reference frame) A frame that can be used in inter coding.</p>
  </dd>
  <dt>Bitstream</dt>
  <dd>
    <p>The sequence of bits generated by encoding a sequence of frames.</p>
  </dd>
  <dt>Bit string</dt>
  <dd>
    <p>An ordered string with limited number of bits. The left most bit is the most
significant bit (MSB), the right most bit is the least significant bit (LSB).</p>
  </dd>
  <dt>Block</dt>
  <dd>
    <p>A square or rectangular region of pixels consisting of one Luma and two Chroma
matrices.</p>
  </dd>
  <dt>Block scan</dt>
  <dd>
    <p>A specified serial ordering of quantized coefficients.</p>
  </dd>
  <dt>Byte</dt>
  <dd>
    <p>An 8-bit bit string.</p>
  </dd>
  <dt>Byte alignment</dt>
  <dd>
    <p>One bit is byte aligned if the position of the bit is an integer multiple of
eight from the position of the first bit in the bitstream.</p>
  </dd>
  <dt>CDEF</dt>
  <dd>
    <p>Constrained Directional Enhancement Filter designed to adaptively filter blocks based on identifying the direction.</p>
  </dd>
  <dt>CDF</dt>
  <dd>
    <p>Cumulative distribution function representing the probability times 32768 that
a symbol has value less than or equal to a given level.</p>
  </dd>
  <dt>Chroma</dt>
  <dd>
    <p>A sample value matrix or a single sample value of one of the two color
difference signals.</p>

    <p class="alert alert-info"><strong>Note:</strong> Symbols of chroma are U and V.</p>
  </dd>
  <dt>Coded frame</dt>
  <dd>
    <p>The representation of one frame before the decoding process.</p>
  </dd>
  <dt>Component</dt>
  <dd>
    <p>One of the three sample value matrices (one luma matrix and two chroma
matrices) or its single sample value.</p>
  </dd>
  <dt>Compound prediction</dt>
  <dd>
    <p>A type of inter prediction where sample values are computed by blending
together predictions from two reference frames (the frames blended can be the same or different).</p>
  </dd>
  <dt>DC coefficient</dt>
  <dd>
    <p>A transform coefficient whose frequency indices are zero in both dimensions.</p>
  </dd>
  <dt>Decoded frame</dt>
  <dd>
    <p>The frame reconstructed out of the bitstream by the decoder.</p>
  </dd>
  <dt>Decoder</dt>
  <dd>
    <p>One embodiment of the decoding process.</p>
  </dd>
  <dt>Decoding process</dt>
  <dd>
    <p>The process that derives decoded frames from syntax elements.</p>
  </dd>
  <dt>Dequantization</dt>
  <dd>
    <p>The process in which transform coefficients are obtained by scaling the
quantized coefficients.</p>
  </dd>
  <dt>Encoder</dt>
  <dd>
    <p>One embodiment of the encoding process.</p>
  </dd>
  <dt>Encoding process</dt>
  <dd>
    <p>A process not specified in this Specification that generates the bitstream
that conforms to the description provided in this document.</p>
  </dd>
  <dt>Flag</dt>
  <dd>
    <p>A binary variable - some variables and syntax elements (e.g. obu_extension_flag)
are described using the word flag to highlight
that the syntax element can only be equal to 0 or equal to 1.</p>
  </dd>
  <dt>Frame</dt>
  <dd>
    <p>The representation of video signals in the spatial domain, composed of one luma
sample matrix (Y) and two chroma sample matrices (U and V).</p>
  </dd>
  <dt>Frame context</dt>
  <dd>
    <p>A set of probabilities used in the decoding process.</p>
  </dd>
  <dt>Frame buffer</dt>
  <dd>
    <p>A storage area for a previously decoded frame and associated information.</p>
  </dd>
  <dt>Golden frame</dt>
  <dd>
    <p>A frame that can be used in inter coding. Typically the golden frame is
encoded with higher quality and is used as a reference for multiple inter frames.</p>
  </dd>
  <dt>Inter coding</dt>
  <dd>
    <p>Coding one block or frame using inter prediction.</p>
  </dd>
  <dt>Inter frame</dt>
  <dd>
    <p>A frame compressed by referencing previously decoded frames and which may use
intra prediction or inter prediction.</p>
  </dd>
  <dt>Inter prediction</dt>
  <dd>
    <p>The process of deriving the prediction value for the current frame using
previously decoded frames.</p>
  </dd>
  <dt>Intra coding</dt>
  <dd>
    <p>Coding one block or frame using intra prediction.</p>
  </dd>
  <dt>Intra frame</dt>
  <dd>
    <p>A frame compressed using only intra prediction which can be independently
decoded.</p>
  </dd>
  <dt>Intra-only frame</dt>
  <dd>
    <p>A type of intra frame that does not reset the decoding process.</p>

    <p class="alert alert-info"><strong>Note:</strong> A key frame is different to an intra-only frame even though both
only use intra prediction. The difference is that a key frame fully resets the
decoding process.  For example, for a sequence of frames A, B, C, frame C can
use frame A as a reference if B was an intra-only frame - but not if B was
a keyframe.</p>
  </dd>
  <dt>Intra prediction</dt>
  <dd>
    <p>The process of deriving the prediction value for the current sample using
previously decoded sample values in the same decoded frame.</p>
  </dd>
  <dt>Inverse transform</dt>
  <dd>
    <p>The process in which a transform coefficient matrix is transformed into a
spatial sample value matrix.</p>
  </dd>
  <dt>Key frame</dt>
  <dd>
    <p>A frame where the decoding process is reset. Key frames, and following frames,
are always decodable without access to preceding frames. A key frame only uses
intra prediction.</p>
  </dd>
  <dt>Level</dt>
  <dd>
    <p>A defined set of constraints on the values for the syntax elements and
variables.</p>
  </dd>
  <dt>Loop filter</dt>
  <dd>
    <p>A filtering process applied to the reconstruction intended to reduce the
visibility of block edges.</p>
  </dd>
  <dt>Luma</dt>
  <dd>
    <p>A sample value matrix or a single sample value representing the monochrome
signal related to the primary colors.</p>

    <p class="alert alert-info"><strong>Note:</strong> The symbol representing luma is Y.</p>
  </dd>
  <dt>Mode info</dt>
  <dd>
    <p>Syntax elements sent for a block containing an indication of how a block is
to be predicted during the decoding process.</p>
  </dd>
  <dt>Mode info block</dt>
  <dd>
    <p>A luma sample value block of size 4x4 or larger and its two corresponding
chroma sample value blocks (if present).</p>
  </dd>
  <dt>Motion vector</dt>
  <dd>
    <p>A two-dimensional vector used for inter prediction which refers the current
frame to the reference frame, the value of which provides the coordinate
offsets from a location in the current frame to a location in the reference
frame.</p>
  </dd>
  <dt>OBU</dt>
  <dd>
    <p>All structures are packetized in “Open Bitstream Units” or OBUs.<br />
Each OBU has a header, which provides identifying information for the contained data (payload).</p>
  </dd>
  <dt>Parse</dt>
  <dd>
    <p>The procedure of getting the syntax element from the bitstream.</p>
  </dd>
  <dt>Prediction</dt>
  <dd>
    <p>The implementation of the prediction process consisting of either inter or
intra prediction.</p>
  </dd>
  <dt>Prediction process</dt>
  <dd>
    <p>The process of estimating the decoded sample value or data element using a
predictor.</p>
  </dd>
  <dt>Prediction value</dt>
  <dd>
    <p>The value, which is the combination of the previously decoded sample values or
data elements, used in the decoding process of the next sample value or data
element.</p>
  </dd>
  <dt>Profile</dt>
  <dd>
    <p>A subset of syntax, semantics and algorithms defined in a part.</p>
  </dd>
  <dt>Quantization parameter</dt>
  <dd>
    <p>A variable used for scaling the quantized coefficients in the decoding
process.</p>
  </dd>
  <dt>Quantized coefficient</dt>
  <dd>
    <p>A transform coefficient before dequantization.</p>
  </dd>
  <dt>Raster scan</dt>
  <dd>
    <p>Maps a two dimensional rectangular raster into a one dimensional raster, in
which the entry of the one dimensional raster starts from the first row of the
two dimensional raster, and the scanning then goes through the second row and
the third row, and so on. Each raster row is scanned in left to right order.</p>
  </dd>
  <dt>Reconstruction</dt>
  <dd>
    <p>Obtaining the addition of the decoded residual and the corresponding
prediction values.</p>
  </dd>
  <dt>Reference frame</dt>
  <dd>
    <p>A previously decoded frame used during inter prediction.</p>
  </dd>
  <dt>Reserved</dt>
  <dd>
    <p>A special syntax element value which may be used to extend this part in the
future.</p>
  </dd>
  <dt>Residual</dt>
  <dd>
    <p>The differences between the reconstructed samples and the corresponding
prediction values.</p>
  </dd>
  <dt>Sample</dt>
  <dd>
    <p>The basic elements that compose the frame.</p>
  </dd>
  <dt>Sample value</dt>
  <dd>
    <p>The value of a sample. This is an integer from 0 to 255 (inclusive) for 8-bit
frames, from 0 to 1023 (inclusive) for 10-bit frames, and from 0 to 4095
(inclusive) for 12-bit frames.</p>
  </dd>
  <dt>Segmentation map</dt>
  <dd>
    <p>A 3-bit number containing the segment affiliation for each 4x4 block in the
image. The segmentation map persists across frames.  (TODO change with segment_pred_last experiment)</p>
  </dd>
  <dt>Sequence</dt>
  <dd>
    <p>The highest level syntax structure of coding bitstream, including one or
several consecutive coded frames.</p>
  </dd>
  <dt>Superblock</dt>
  <dd>
    <p>The top level of the block quadtree within a tile. All superblocks within a frame are the same size and are square. The
superblocks may be 128x128 pixels or 64x64 pixels. A superblock may contain 1 or 2 mode info blocks, or
may be bisected in each direction to create 4 sub-blocks, which may themselves be further subpartitioned,
forming the block quadtree.</p>
  </dd>
  <dt>Switch Frame</dt>
  <dd>
    <p>An inter frame that can be used as a point to switch scalability layers.  Switch frames overwrite all the frame buffers without forcing the use of intra coding.</p>
  </dd>
  <dt>Syntax element</dt>
  <dd>
    <p>An element of data represented in the bitstream.</p>
  </dd>
  <dt>Temporal delimiter OBU</dt>
  <dd>
    <p>An indication that the following OBUs will have a different presentation/decoding time stamp from the one of the last frame prior to the temporal delimiter.</p>
  </dd>
  <dt>Temporal unit</dt>
  <dd>
    <p>A Temporal unit consists of all the OBUs that are associated with a specific, distinct time instant.
It consists of a temporal delimiter OBU, and all the OBUs that follow, up to but not including the next temporal delimiter.</p>
  </dd>
  <dt>Tile</dt>
  <dd>
    <p>A rectangular region of the frame that is intended to be able to be decoded
and encoded independently, although loop-filtering across tile edges may still
be applied.</p>

    <p class="alert alert-info"><strong>Note:</strong> For AV1 this intention is only partially met. Partitioning into
columns works as expected, but partitioning into rows does not. The decode of
a tile depends on the decode of the tile above if dependent_tiles is equal to 1.</p>
  </dd>
  <dt>Transform block</dt>
  <dd>
    <p>A square transform coefficient matrix, used as input to the inverse transform
process.</p>
  </dd>
  <dt>Transform coefficient</dt>
  <dd>
    <p>A scalar value, considered to be in a frequency domain, contained in a
transform block.</p>
  </dd>
  <dt>Uncompressed header</dt>
  <dd>
    <p>High level description of the frame to be decoded that is encoded without the
use of arithmetic encoding.</p>
  </dd>
</dl>

<h2 id="symbols-and-abbreviated-terms">Symbols and Abbreviated Terms</h2>

<dl>
  <dt>DCT</dt>
  <dd>
    <p>Discrete Cosine Transform</p>
  </dd>
  <dt>ADST</dt>
  <dd>
    <p>Asymmetric Discrete Sine Transform</p>
  </dd>
  <dt>LSB</dt>
  <dd>
    <p>Least Significant Bit</p>
  </dd>
  <dt>MSB</dt>
  <dd>
    <p>Most Significant Bit</p>
  </dd>
  <dt>WHT</dt>
  <dd>
    <p>Walsh Hadamard Transform</p>
  </dd>
</dl>

<p>The specification makes use of a number of constant integers.  Constants that
relate to the semantics of a particular syntax element are defined in
<a href="#bitstream-semantics">section 6</a>.</p>

<p>Additional constants are defined below:</p>

<table class="table table-sm table-bordered table-striped">
  <thead>
    <tr>
      <th>Symbol name</th>
      <th style="text-align: center">Value</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>REFS_PER_FRAME</code></td>
      <td style="text-align: center">7</td>
      <td>Number of reference frames that can be used for inter prediction</td>
    </tr>
    <tr>
      <td><code>TOTAL_REFS_PER_FRAME</code></td>
      <td style="text-align: center">8</td>
      <td>Number of reference frame types (including intra type)</td>
    </tr>
    <tr>
      <td><code>MV_FR_SIZE</code></td>
      <td style="text-align: center">4</td>
      <td>Number of values that can be decoded for <code>mv_fr</code></td>
    </tr>
    <tr>
      <td><code>BLOCK_SIZE_GROUPS</code></td>
      <td style="text-align: center">4</td>
      <td>Number of contexts when decoding <code>y_mode</code></td>
    </tr>
    <tr>
      <td><code>BLOCK_SIZES</code></td>
      <td style="text-align: center">24</td>
      <td>Number of different block sizes used</td>
    </tr>
    <tr>
      <td><code>BLOCK_INVALID</code></td>
      <td style="text-align: center">14</td>
      <td>Sentinel value to mark partition choices that are illegal</td>
    </tr>
    <tr>
      <td><code>MAX_SB_SIZE</code></td>
      <td style="text-align: center">128</td>
      <td>Maximum size of a superblock in pixels</td>
    </tr>
    <tr>
      <td><code>MAX_SB_SIZE_LOG2</code></td>
      <td style="text-align: center">7</td>
      <td>Base 2 logarithm of maximum superblock size</td>
    </tr>
    <tr>
      <td><code>MI_SIZE</code></td>
      <td style="text-align: center">4</td>
      <td>Smallest size of a mode info block in pixels</td>
    </tr>
    <tr>
      <td><code>MI_SIZE_LOG2</code></td>
      <td style="text-align: center">2</td>
      <td>Base 2 logarithm of smallest size of a mode info block</td>
    </tr>
    <tr>
      <td><code>MAX_TILE_WIDTH_SB</code></td>
      <td style="text-align: center">4096 / <code>MAX_SB_SIZE</code></td>
      <td>Maximum width of a tile in units of 128x128 pixels</td>
    </tr>
    <tr>
      <td><code>MAX_TILE_AREA</code></td>
      <td style="text-align: center">4096 * 2304</td>
      <td>Maximum area of a tile in units of luma samples</td>
    </tr>
    <tr>
      <td><code>MAX_TILE_AREA_SB</code></td>
      <td style="text-align: center"><code>MAX_TILE_AREA</code> / ( <code>MAX_SB_SIZE</code> * <code>MAX_SB_SIZE</code> )</td>
      <td>Maximum area of a tile in units of luma samples</td>
    </tr>
    <tr>
      <td><code>MAX_TILE_ROWS</code></td>
      <td style="text-align: center">64</td>
      <td>Maximum number of tile rows</td>
    </tr>
    <tr>
      <td><code>MAX_TILE_COLS</code></td>
      <td style="text-align: center">64</td>
      <td>Maximum number of tile columns</td>
    </tr>
    <tr>
      <td><code>NUM_REF_FRAMES</code></td>
      <td style="text-align: center">8</td>
      <td>Number of frames that can be stored for future reference</td>
    </tr>
    <tr>
      <td><code>MAX_REF_FRAMES</code></td>
      <td style="text-align: center">4</td>
      <td>Number of values that can be derived for <code>ref_frame</code></td>
    </tr>
    <tr>
      <td><code>IS_INTER_CONTEXTS</code></td>
      <td style="text-align: center">4</td>
      <td>Number of contexts for <code>is_inter</code></td>
    </tr>
    <tr>
      <td><code>COMP_MODE_CONTEXTS</code></td>
      <td style="text-align: center">5</td>
      <td>Number of contexts for <code>comp_mode</code></td>
    </tr>
    <tr>
      <td><code>REF_CONTEXTS</code></td>
      <td style="text-align: center">5</td>
      <td>Number of contexts for <code>single_ref</code>, <code>comp_ref</code> and <code>comp_bwdref</code></td>
    </tr>
    <tr>
      <td><code>MAX_SEGMENTS</code></td>
      <td style="text-align: center">8</td>
      <td>Number of segments allowed in segmentation map</td>
    </tr>
    <tr>
      <td><code>SEG_LVL_ALT_Q</code></td>
      <td style="text-align: center">0</td>
      <td>Index for quantizer segment feature</td>
    </tr>
    <tr>
      <td><code>SEG_LVL_ALT_LF_Y_V</code></td>
      <td style="text-align: center">1</td>
      <td>Index for vertical luma loop filter segment feature</td>
    </tr>
    <tr>
      <td><code>SEG_LVL_ALT_LF_Y_H</code></td>
      <td style="text-align: center">2</td>
      <td>Index for horizontal luma loop filter segment feature</td>
    </tr>
    <tr>
      <td><code>SEG_LVL_ALT_LF_U</code></td>
      <td style="text-align: center">3</td>
      <td>Index for U plane loop filter segment feature</td>
    </tr>
    <tr>
      <td><code>SEG_LVL_ALT_LF_V</code></td>
      <td style="text-align: center">4</td>
      <td>Index for V plane loop filter segment feature</td>
    </tr>
    <tr>
      <td><code>SEG_LVL_REF_FRAME</code></td>
      <td style="text-align: center">5</td>
      <td>Index for reference frame segment feature</td>
    </tr>
    <tr>
      <td><code>SEG_LVL_SKIP</code></td>
      <td style="text-align: center">6</td>
      <td>Index for skip segment feature</td>
    </tr>
    <tr>
      <td><code>SEG_LVL_GLOBALMV</code></td>
      <td style="text-align: center">7</td>
      <td>Index for global mv feature</td>
    </tr>
    <tr>
      <td><code>SEG_LVL_MAX</code></td>
      <td style="text-align: center">8</td>
      <td>Number of segment features</td>
    </tr>
    <tr>
      <td><code>BLOCK_TYPES</code></td>
      <td style="text-align: center">2</td>
      <td>Number of different plane types (Y or UV)</td>
    </tr>
    <tr>
      <td><code>REF_TYPES</code></td>
      <td style="text-align: center">2</td>
      <td>Number of different prediction types (intra or inter)</td>
    </tr>
    <tr>
      <td><code>COEF_BANDS</code></td>
      <td style="text-align: center">6</td>
      <td>Number of coefficient bands</td>
    </tr>
    <tr>
      <td><code>PREV_COEF_CONTEXTS</code></td>
      <td style="text-align: center">6</td>
      <td>Number of contexts for decoding AC coefficients</td>
    </tr>
    <tr>
      <td><code>DC_COEF_CONTEXTS</code></td>
      <td style="text-align: center">3</td>
      <td>Number of contexts for decoding DC coefficients</td>
    </tr>
    <tr>
      <td><code>UNCONSTRAINED_NODES</code></td>
      <td style="text-align: center">3</td>
      <td>Number of coefficient probabilities that are directly transmitted</td>
    </tr>
    <tr>
      <td><code>DC_HEAD_TOKENS</code></td>
      <td style="text-align: center">6</td>
      <td>Number of values for <code>dc_head_token</code></td>
    </tr>
    <tr>
      <td><code>AC_HEAD_TOKENS</code></td>
      <td style="text-align: center">5</td>
      <td>Number of values for <code>ac_head_token</code></td>
    </tr>
    <tr>
      <td><code>TAIL_TOKENS</code></td>
      <td style="text-align: center">9</td>
      <td>Number of values for <code>tail_token</code></td>
    </tr>
    <tr>
      <td><code>TX_SIZE_CONTEXTS</code></td>
      <td style="text-align: center">2</td>
      <td>Number of contexts for transform size</td>
    </tr>
    <tr>
      <td><code>INTERP_FILTERS</code></td>
      <td style="text-align: center">3</td>
      <td>Number of values for <code>interp_filter</code></td>
    </tr>
    <tr>
      <td><code>INTERP_FILTER_CONTEXTS</code></td>
      <td style="text-align: center">16</td>
      <td>Number of contexts for <code>interp_filter</code></td>
    </tr>
    <tr>
      <td><code>SKIP_CONTEXTS</code></td>
      <td style="text-align: center">3</td>
      <td>Number of contexts for decoding skip</td>
    </tr>
    <tr>
      <td><code>PARTITION_CONTEXTS_W8</code></td>
      <td style="text-align: center">4</td>
      <td>Number of contexts when decoding partition when the block is 8 samples wide</td>
    </tr>
    <tr>
      <td><code>PARTITION_CONTEXTS</code></td>
      <td style="text-align: center">20</td>
      <td>Number of contexts when decoding partition for other block sizes</td>
    </tr>
    <tr>
      <td><code>PARTITION_TYPES_W8</code></td>
      <td style="text-align: center">4</td>
      <td>Number of values for <code>partition</code> when the block is 8 samples wide</td>
    </tr>
    <tr>
      <td><code>PARTITION_TYPES</code></td>
      <td style="text-align: center">10</td>
      <td>Number of values for <code>partition</code> for other block sizes</td>
    </tr>
    <tr>
      <td><code>TX_SIZES</code></td>
      <td style="text-align: center">5</td>
      <td>Number of square transform sizes</td>
    </tr>
    <tr>
      <td><code>TX_SIZES_ALL</code></td>
      <td style="text-align: center">13</td>
      <td>Number of transform sizes (including non-square sizes)</td>
    </tr>
    <tr>
      <td><code>TX_MODES</code></td>
      <td style="text-align: center">6</td>
      <td>Number of values for <code>tx_mode</code></td>
    </tr>
    <tr>
      <td><code>DCT_DCT</code></td>
      <td style="text-align: center">0</td>
      <td>Inverse transform rows with <code>DCT</code> and columns with <code>DCT</code></td>
    </tr>
    <tr>
      <td><code>ADST_DCT</code></td>
      <td style="text-align: center">1</td>
      <td>Inverse transform rows with <code>DCT</code> and columns with <code>ADST</code></td>
    </tr>
    <tr>
      <td><code>DCT_ADST</code></td>
      <td style="text-align: center">2</td>
      <td>Inverse transform rows with <code>ADST</code> and columns with <code>DCT</code></td>
    </tr>
    <tr>
      <td><code>ADST_ADST</code></td>
      <td style="text-align: center">3</td>
      <td>Inverse transform rows with <code>ADST</code> and columns with <code>ADST</code></td>
    </tr>
    <tr>
      <td><code>FLIPADST_DCT</code></td>
      <td style="text-align: center">4</td>
      <td>Inverse transform rows with <code>FLIPADST</code> and columns with <code>DCT</code></td>
    </tr>
    <tr>
      <td><code>DCT_FLIPADST</code></td>
      <td style="text-align: center">5</td>
      <td>Inverse transform rows with <code>DCT</code> and columns with <code>FLIPADST</code></td>
    </tr>
    <tr>
      <td><code>FLIPADST_FLIPADST</code></td>
      <td style="text-align: center">6</td>
      <td>Inverse transform rows with <code>FLIPADST</code> and columns with <code>FLIPADST</code></td>
    </tr>
    <tr>
      <td><code>ADST_FLIPADST</code></td>
      <td style="text-align: center">7</td>
      <td>Inverse transform rows with <code>ADST</code> and columns with <code>FLIPADST</code></td>
    </tr>
    <tr>
      <td><code>FLIPADST_ADST</code></td>
      <td style="text-align: center">8</td>
      <td>Inverse transform rows with <code>FLIPADST</code> and columns with <code>ADST</code></td>
    </tr>
    <tr>
      <td><code>IDTX</code></td>
      <td style="text-align: center">9</td>
      <td>Inverse transform rows with identity and columns with identity</td>
    </tr>
    <tr>
      <td><code>V_DCT</code></td>
      <td style="text-align: center">10</td>
      <td>Inverse transform rows with identity and columns with <code>DCT</code></td>
    </tr>
    <tr>
      <td><code>H_DCT</code></td>
      <td style="text-align: center">11</td>
      <td>Inverse transform rows with <code>DCT</code> and columns with identity</td>
    </tr>
    <tr>
      <td><code>V_ADST</code></td>
      <td style="text-align: center">12</td>
      <td>Inverse transform rows with identity and columns with <code>ADST</code></td>
    </tr>
    <tr>
      <td><code>H_ADST</code></td>
      <td style="text-align: center">13</td>
      <td>Inverse transform rows with <code>ADST</code> and columns with identity</td>
    </tr>
    <tr>
      <td><code>V_FLIPADST</code></td>
      <td style="text-align: center">14</td>
      <td>Inverse transform rows with identity and columns with <code>FLIPADST</code></td>
    </tr>
    <tr>
      <td><code>H_FLIPADST</code></td>
      <td style="text-align: center">15</td>
      <td>Inverse transform rows with <code>FLIPADST</code> and columns with identity</td>
    </tr>
    <tr>
      <td><code>TX_TYPES</code></td>
      <td style="text-align: center">16</td>
      <td>Number of inverse transform types</td>
    </tr>
    <tr>
      <td><code>MB_MODE_COUNT</code></td>
      <td style="text-align: center">17</td>
      <td>Number of values for <code>YMode</code></td>
    </tr>
    <tr>
      <td><code>INTRA_MODES</code></td>
      <td style="text-align: center">13</td>
      <td>Number of values for <code>y_mode</code></td>
    </tr>
    <tr>
      <td><code>UV_INTRA_MODES</code></td>
      <td style="text-align: center">14</td>
      <td>Number of values for <code>uv_mode</code></td>
    </tr>
    <tr>
      <td><code>COMPOUND_MODES</code></td>
      <td style="text-align: center">8</td>
      <td>Number of values for <code>compound_mode</code></td>
    </tr>
    <tr>
      <td><code>COMPOUND_MODE_CONTEXTS</code></td>
      <td style="text-align: center">7</td>
      <td>Number of contexts for <code>compound_mode</code></td>
    </tr>
    <tr>
      <td><code>NEW_MV_CONTEXTS</code></td>
      <td style="text-align: center">7</td>
      <td>Number of contexts for <code>new_mv</code></td>
    </tr>
    <tr>
      <td><code>ZERO_MV_CONTEXTS</code></td>
      <td style="text-align: center">2</td>
      <td>Number of contexts for <code>zero_mv</code></td>
    </tr>
    <tr>
      <td><code>REF_MV_CONTEXTS</code></td>
      <td style="text-align: center">9</td>
      <td>Number of contexts for <code>ref_mv</code></td>
    </tr>
    <tr>
      <td><code>DRL_MODE_CONTEXTS</code></td>
      <td style="text-align: center">5</td>
      <td>Number of contexts for <code>drl_mode</code></td>
    </tr>
    <tr>
      <td><code>MV_CONTEXTS</code></td>
      <td style="text-align: center">3</td>
      <td>Number of contexts for decoding motion vectors</td>
    </tr>
    <tr>
      <td><code>MV_JOINTS</code></td>
      <td style="text-align: center">4</td>
      <td>Number of values for <code>mv_joint</code></td>
    </tr>
    <tr>
      <td><code>MV_CLASSES</code></td>
      <td style="text-align: center">11</td>
      <td>Number of values for <code>mv_class</code></td>
    </tr>
    <tr>
      <td><code>CLASS0_SIZE</code></td>
      <td style="text-align: center">2</td>
      <td>Number of values for <code>mv_class0_bit</code></td>
    </tr>
    <tr>
      <td><code>MV_OFFSET_BITS</code></td>
      <td style="text-align: center">10</td>
      <td>Maximum number of bits for decoding motion vectors</td>
    </tr>
    <tr>
      <td><code>MAX_PROB</code></td>
      <td style="text-align: center">255</td>
      <td>Number of values allowed for a probability adjustment</td>
    </tr>
    <tr>
      <td><code>MAX_MODE_LF_DELTAS</code></td>
      <td style="text-align: center">2</td>
      <td>Number of different mode types for loop filtering</td>
    </tr>
    <tr>
      <td><code>COMPANDED_MVREF_THRESH</code></td>
      <td style="text-align: center">8</td>
      <td>Threshold at which motion vectors are considered large</td>
    </tr>
    <tr>
      <td><code>MAX_LOOP_FILTER</code></td>
      <td style="text-align: center">63</td>
      <td>Maximum value used for loop filtering</td>
    </tr>
    <tr>
      <td><code>REF_SCALE_SHIFT</code></td>
      <td style="text-align: center">14</td>
      <td>Number of bits of precision when scaling reference frames</td>
    </tr>
    <tr>
      <td><code>SUBPEL_BITS</code></td>
      <td style="text-align: center">4</td>
      <td>Number of bits of precision when choosing an inter prediction filter kernel</td>
    </tr>
    <tr>
      <td><code>SUBPEL_SHIFTS</code></td>
      <td style="text-align: center">16</td>
      <td><code>1 &lt;&lt; SUBPEL_BITS</code></td>
    </tr>
    <tr>
      <td><code>SUBPEL_MASK</code></td>
      <td style="text-align: center">15</td>
      <td><code>SUBPEL_SHIFTS - 1</code></td>
    </tr>
    <tr>
      <td><code>SCALE_SUBPEL_BITS</code></td>
      <td style="text-align: center">10</td>
      <td>Number of bits of precision when computing inter prediction locations</td>
    </tr>
    <tr>
      <td><code>MV_BORDER</code></td>
      <td style="text-align: center">128</td>
      <td>Value used when clipping motion vectors</td>
    </tr>
    <tr>
      <td><code>INTERP_EXTEND</code></td>
      <td style="text-align: center">4</td>
      <td>Value used when clipping motion vectors</td>
    </tr>
    <tr>
      <td><code>BORDERINPIXELS</code></td>
      <td style="text-align: center">160</td>
      <td>Value used when clipping motion vectors</td>
    </tr>
    <tr>
      <td><code>MAX_UPDATE_FACTOR</code></td>
      <td style="text-align: center">128</td>
      <td>Value used in adapting probabilities</td>
    </tr>
    <tr>
      <td><code>COUNT_SAT</code></td>
      <td style="text-align: center">20</td>
      <td>Value used in adapting probabilities</td>
    </tr>
    <tr>
      <td><code>BOTH_ZERO</code></td>
      <td style="text-align: center">0</td>
      <td>Both candidates use <code>GLOBALMV</code></td>
    </tr>
    <tr>
      <td><code>ZERO_PLUS_PREDICTED</code></td>
      <td style="text-align: center">1</td>
      <td>One candidate uses <code>GLOBALMV</code>, one uses <code>NEARMV</code> or <code>NEARESTMV</code></td>
    </tr>
    <tr>
      <td><code>BOTH_PREDICTED</code></td>
      <td style="text-align: center">2</td>
      <td>Both candidates use <code>NEARMV</code> or <code>NEARESTMV</code></td>
    </tr>
    <tr>
      <td><code>NEW_PLUS_NON_INTRA</code></td>
      <td style="text-align: center">3</td>
      <td>One candidate uses <code>NEWMV</code>, one uses <code>GLOBALMV</code></td>
    </tr>
    <tr>
      <td><code>BOTH_NEW</code></td>
      <td style="text-align: center">4</td>
      <td>Both candidates use <code>NEWMV</code></td>
    </tr>
    <tr>
      <td><code>INTRA_PLUS_NON_INTRA</code></td>
      <td style="text-align: center">5</td>
      <td>One candidate uses intra prediction, one uses inter prediction</td>
    </tr>
    <tr>
      <td><code>BOTH_INTRA</code></td>
      <td style="text-align: center">6</td>
      <td>Both candidates use intra prediction</td>
    </tr>
    <tr>
      <td><code>INVALID_CASE</code></td>
      <td style="text-align: center">9</td>
      <td>Sentinel value marking a case that can never occur</td>
    </tr>
    <tr>
      <td><code>UNUSED_PROB</code></td>
      <td style="text-align: center">128</td>
      <td>Defined to make usage of probabilities clearer</td>
    </tr>
    <tr>
      <td><code>PALETTE_COLOR_CONTEXTS</code></td>
      <td style="text-align: center">5</td>
      <td>Number of values for color contexts</td>
    </tr>
    <tr>
      <td><code>PALETTE_MAX_COLOR_CONTEXT_HASH</code></td>
      <td style="text-align: center">8</td>
      <td>Number of mappings between color context hash and color context</td>
    </tr>
    <tr>
      <td><code>PALETTE_BLOCK_SIZES</code></td>
      <td style="text-align: center">13</td>
      <td>Number of values for palette block size</td>
    </tr>
    <tr>
      <td><code>PALETTE_Y_MODE_CONTEXTS</code></td>
      <td style="text-align: center">3</td>
      <td>Number of values for palette Y plane mode contexts</td>
    </tr>
    <tr>
      <td><code>PALETTE_UV_MODE_CONTEXTS</code></td>
      <td style="text-align: center">2</td>
      <td>Number of values for palette U and V plane mode contexts</td>
    </tr>
    <tr>
      <td><code>PALETTE_SIZES</code></td>
      <td style="text-align: center">7</td>
      <td>Number of values for palette_size</td>
    </tr>
    <tr>
      <td><code>PALETTE_COLORS</code></td>
      <td style="text-align: center">8</td>
      <td>Number of values for palette_color</td>
    </tr>
    <tr>
      <td><code>PALETTE_NUM_NEIGHBORS</code></td>
      <td style="text-align: center">3</td>
      <td>Number of neighbors considered within palette computation</td>
    </tr>
    <tr>
      <td><code>DELTA_Q_SMALL</code></td>
      <td style="text-align: center">3</td>
      <td>Value indicating alternative encoding of quantizer index delta values</td>
    </tr>
    <tr>
      <td><code>DELTA_LF_SMALL</code></td>
      <td style="text-align: center">3</td>
      <td>Value indicating alternative encoding of loop filter delta values</td>
    </tr>
    <tr>
      <td><code>QM_TOTAL_SIZE</code></td>
      <td style="text-align: center">2708</td>
      <td>Number of values in the quantizer matrix</td>
    </tr>
    <tr>
      <td><code>MAX_ANGLE_DELTA</code></td>
      <td style="text-align: center">3</td>
      <td>Maximum magnitude of AngleDeltaY and AngleDeltaUV</td>
    </tr>
    <tr>
      <td><code>DIRECTIONAL_MODES</code></td>
      <td style="text-align: center">8</td>
      <td>Number of directional intra modes</td>
    </tr>
    <tr>
      <td><code>ANGLE_STEP</code></td>
      <td style="text-align: center">3</td>
      <td>Number of degrees of step per unit increase in AngleDeltaY or AngleDeltaUV.</td>
    </tr>
    <tr>
      <td><code>TX_SETS_INTRA</code></td>
      <td style="text-align: center">3</td>
      <td>Number of intra transform sets</td>
    </tr>
    <tr>
      <td><code>TX_SETS_INTER</code></td>
      <td style="text-align: center">4</td>
      <td>Number of inter transform sets</td>
    </tr>
    <tr>
      <td><code>TX_SET_TYPES</code></td>
      <td style="text-align: center">6</td>
      <td>Number of transform set types</td>
    </tr>
    <tr>
      <td><code>FRAME_CONTEXTS</code></td>
      <td style="text-align: center">8</td>
      <td>Number of slots for saving CDF information.</td>
    </tr>
    <tr>
      <td><code>WARPEDMODEL_PREC_BITS</code></td>
      <td style="text-align: center">16</td>
      <td>Internal precision of warped motion models</td>
    </tr>
    <tr>
      <td><code>IDENTITY</code></td>
      <td style="text-align: center">0</td>
      <td>Warp model is just an identity transform</td>
    </tr>
    <tr>
      <td><code>TRANSLATION</code></td>
      <td style="text-align: center">1</td>
      <td>Warp model is a pure translation</td>
    </tr>
    <tr>
      <td><code>ROTZOOM</code></td>
      <td style="text-align: center">2</td>
      <td>Warp model is a rotation + symmetric zoom + translation</td>
    </tr>
    <tr>
      <td><code>AFFINE</code></td>
      <td style="text-align: center">3</td>
      <td>Warp model is a general affine transform</td>
    </tr>
    <tr>
      <td><code>GM_ABS_TRANS_BITS</code></td>
      <td style="text-align: center">12</td>
      <td>Number of bits encoded for translational components of global motion models, if part of a ROTZOOM or AFFINE model</td>
    </tr>
    <tr>
      <td><code>GM_ABS_TRANS_ONLY_BITS</code></td>
      <td style="text-align: center">9</td>
      <td>Number of bits encoded for translational components of global motion models, if part of a TRANSLATION model</td>
    </tr>
    <tr>
      <td><code>GM_ABS_ALPHA_BITS</code></td>
      <td style="text-align: center">12</td>
      <td>Number of bits encoded for non-translational components of global motion models</td>
    </tr>
    <tr>
      <td><code>DIV_LUT_PREC_BITS</code></td>
      <td style="text-align: center">14</td>
      <td>Number of fractional bits of entries in divisor lookup table</td>
    </tr>
    <tr>
      <td><code>DIV_LUT_BITS</code></td>
      <td style="text-align: center">8</td>
      <td>Number of fractional bits for lookup in divisor lookup table</td>
    </tr>
    <tr>
      <td><code>DIV_LUT_NUM</code></td>
      <td style="text-align: center">257</td>
      <td>Number of entries in divisor lookup table</td>
    </tr>
    <tr>
      <td><code>MOTION_MODES</code></td>
      <td style="text-align: center">3</td>
      <td>Number of values for motion modes</td>
    </tr>
    <tr>
      <td><code>SIMPLE</code></td>
      <td style="text-align: center">0</td>
      <td>Use translation or global motion compensation</td>
    </tr>
    <tr>
      <td><code>OBMC</code></td>
      <td style="text-align: center">1</td>
      <td>Use overlapped block motion compensation</td>
    </tr>
    <tr>
      <td><code>LOCALWARP</code></td>
      <td style="text-align: center">2</td>
      <td>Use local warp motion compensation</td>
    </tr>
    <tr>
      <td><code>LEAST_SQUARES_SAMPLES_MAX</code></td>
      <td style="text-align: center">8</td>
      <td>Largest number of samples used when computing a local warp</td>
    </tr>
    <tr>
      <td><code>TRIM_THR</code></td>
      <td style="text-align: center">16</td>
      <td>Threshold used to compute which samples to include in local warp computation</td>
    </tr>
    <tr>
      <td><code>LS_MV_MAX</code></td>
      <td style="text-align: center">256</td>
      <td>Largest motion vector difference to include in local warp computation</td>
    </tr>
    <tr>
      <td><code>LS_MAT_DOWN_BITS</code></td>
      <td style="text-align: center">2</td>
      <td>Largest amount used when reducing precision of warp matrix</td>
    </tr>
    <tr>
      <td><code>LS_MAT_MIN</code></td>
      <td style="text-align: center">-(1&lt;&lt;22)</td>
      <td>Smallest value in warp matrix</td>
    </tr>
    <tr>
      <td><code>LS_MAT_MAX</code></td>
      <td style="text-align: center">(1&lt;&lt;22)-1</td>
      <td>Largest value in warp matrix</td>
    </tr>
    <tr>
      <td><code>WARPEDMODEL_TRANS_CLAMP</code></td>
      <td style="text-align: center">1&lt;&lt;23</td>
      <td>Clamping value used for translation components of warp</td>
    </tr>
    <tr>
      <td><code>WARPEDMODEL_NONDIAGAFFINE_CLAMP</code></td>
      <td style="text-align: center">1&lt;&lt;13</td>
      <td>Clamping value used for matrix components of warp</td>
    </tr>
    <tr>
      <td><code>WARPEDPIXEL_PREC_SHIFTS</code></td>
      <td style="text-align: center">1&lt;&lt;6</td>
      <td>Number of phases used in warped filtering</td>
    </tr>
    <tr>
      <td><code>WARPEDDIFF_PREC_BITS</code></td>
      <td style="text-align: center">10</td>
      <td>Number of extra bits of precision in warped filtering</td>
    </tr>
    <tr>
      <td><code>GM_ALPHA_PREC_BITS</code></td>
      <td style="text-align: center">15</td>
      <td>Number of fractional bits for sending non-translational warp model coefficients</td>
    </tr>
    <tr>
      <td><code>GM_TRANS_PREC_BITS</code></td>
      <td style="text-align: center">6</td>
      <td>Number of fractional bits for sending translational warp model coefficients</td>
    </tr>
    <tr>
      <td><code>GM_TRANS_ONLY_PREC_BITS</code></td>
      <td style="text-align: center">3</td>
      <td>Number of fractional bits used for pure translational warps</td>
    </tr>
    <tr>
      <td><code>INTERINTRA_MODES</code></td>
      <td style="text-align: center">4</td>
      <td>Number of inter intra modes</td>
    </tr>
    <tr>
      <td><code>WEDGE_DIRECTIONS</code></td>
      <td style="text-align: center">6</td>
      <td>Number of wedge index values</td>
    </tr>
    <tr>
      <td><code>MAX_WEDGE_SIZE</code></td>
      <td style="text-align: center">32</td>
      <td>Largest size of wedge mask</td>
    </tr>
    <tr>
      <td><code>MASK_MASTER_SIZE</code></td>
      <td style="text-align: center">64</td>
      <td>Size of MasterMask array</td>
    </tr>
    <tr>
      <td><code>CDEF_VERY_LARGE</code></td>
      <td style="text-align: center">30000</td>
      <td>Arbitrary large value used to signal unavailable pixels</td>
    </tr>
    <tr>
      <td><code>SEGMENT_ID_PREDICTED_CONTEXTS</code></td>
      <td style="text-align: center">3</td>
      <td>Number of contexts for <code>segment_id_predicted</code></td>
    </tr>
    <tr>
      <td><code>IS_INTER_CONTEXTS</code></td>
      <td style="text-align: center">4</td>
      <td>Number of contexts for <code>is_inter</code></td>
    </tr>
    <tr>
      <td><code>SKIP_CONTEXTS</code></td>
      <td style="text-align: center">3</td>
      <td>Number of contexts for <code>skip</code></td>
    </tr>
    <tr>
      <td><code>FWD_REFS</code></td>
      <td style="text-align: center">4</td>
      <td>Number of syntax elements for forward reference frames</td>
    </tr>
    <tr>
      <td><code>BWD_REFS</code></td>
      <td style="text-align: center">3</td>
      <td>Number of syntax elements for backward reference frames</td>
    </tr>
    <tr>
      <td><code>SINGLE_REFS</code></td>
      <td style="text-align: center">7</td>
      <td>Number of syntax elements for single reference frames</td>
    </tr>
    <tr>
      <td><code>UNIDIR_COMP_REFS</code></td>
      <td style="text-align: center">4</td>
      <td>Number of syntax elements for unidirectional compound reference frames</td>
    </tr>
    <tr>
      <td><code>COMPOUND_TYPES</code></td>
      <td style="text-align: center">3</td>
      <td>Number of values for <code>compound_type</code></td>
    </tr>
    <tr>
      <td><code>CFL_JOINT_SIGNS</code></td>
      <td style="text-align: center">8</td>
      <td>Number of values for <code>cfl_alpha_signs</code></td>
    </tr>
    <tr>
      <td><code>CFL_ALPHABET_SIZE</code></td>
      <td style="text-align: center">16</td>
      <td>Number of values for <code>cfl_alpha_u</code> and <code>cfl_alpha_v</code></td>
    </tr>
    <tr>
      <td><code>COMP_INTER_CONTEXTS</code></td>
      <td style="text-align: center">5</td>
      <td>Number of contexts for <code>comp_mode</code></td>
    </tr>
    <tr>
      <td><code>COMP_REF_TYPE_CONTEXTS</code></td>
      <td style="text-align: center">5</td>
      <td>Number of contexts for <code>comp_ref_type</code></td>
    </tr>
    <tr>
      <td><code>UNI_COMP_REF_CONTEXTS</code></td>
      <td style="text-align: center">3</td>
      <td>Number of contexts for <code>uni_comp_ref</code>, <code>uni_comp_ref_p1</code> and <code>uni_comp_ref_p2</code></td>
    </tr>
    <tr>
      <td><code>CFL_ALPHA_CONTEXTS</code></td>
      <td style="text-align: center">6</td>
      <td>Number of contexts for <code>cfl_alpha_u</code> and <code>cfl_alpha_v</code></td>
    </tr>
    <tr>
      <td><code>INTRA_MODE_CONTEXTS</code></td>
      <td style="text-align: center">5</td>
      <td>Number of contexts for <code>intra_frame_y_mode</code></td>
    </tr>
    <tr>
      <td><code>INTRA_EDGE_KERNELS</code></td>
      <td style="text-align: center">3</td>
      <td>Number of filter kernels for the intra edge filter</td>
    </tr>
    <tr>
      <td><code>INTRA_EDGE_TAPS</code></td>
      <td style="text-align: center">5</td>
      <td>Number of kernel taps for the intra edge filter</td>
    </tr>
    <tr>
      <td><code>FRAME_LF_COUNT</code></td>
      <td style="text-align: center">4</td>
      <td>Number of loop filter strength values</td>
    </tr>
    <tr>
      <td><code>MAX_VARTX_DEPTH</code></td>
      <td style="text-align: center">2</td>
      <td>Maximum depth for variable transform trees</td>
    </tr>
    <tr>
      <td><code>TXFM_PARTITION_CONTEXTS</code></td>
      <td style="text-align: center">22</td>
      <td>Number of contexts for txfm_split</td>
    </tr>
    <tr>
      <td><code>REF_CAT_LEVEL</code></td>
      <td style="text-align: center">640</td>
      <td>Bonus weight for close motion vectors</td>
    </tr>
    <tr>
      <td><code>MAX_REF_MV_STACK_SIZE</code></td>
      <td style="text-align: center">8</td>
      <td>Maximum number of motion vectors in the stack</td>
    </tr>
    <tr>
      <td><code>MFMV_STACK_SIZE</code></td>
      <td style="text-align: center">3</td>
      <td>Stack size for motion field motion vectors</td>
    </tr>
    <tr>
      <td><code>MAX_TX_DEPTH</code></td>
      <td style="text-align: center">2</td>
      <td>Number of contexts for tx_size when the maximum transform size is 8x8</td>
    </tr>
    <tr>
      <td><code>WEDGE_TYPES</code></td>
      <td style="text-align: center">16</td>
      <td>Number of directions for the wedge mask process</td>
    </tr>
    <tr>
      <td><code>FILTER_BITS</code></td>
      <td style="text-align: center">7</td>
      <td>Number of bits used in Wiener filter coefficients</td>
    </tr>
    <tr>
      <td><code>WIENER_COEFFS</code></td>
      <td style="text-align: center">3</td>
      <td>Number of Wiener filter coefficients to read</td>
    </tr>
    <tr>
      <td><code>EXTRAPREC_BITS</code></td>
      <td style="text-align: center">2</td>
      <td>Extra precision used in Wiener filtering</td>
    </tr>
    <tr>
      <td><code>SGRPROJ_PARAMS_BITS</code></td>
      <td style="text-align: center">4</td>
      <td>Number of bits needed to specify self guided filter set</td>
    </tr>
    <tr>
      <td><code>SGRPROJ_PRJ_SUBEXP_K</code></td>
      <td style="text-align: center">4</td>
      <td>Controls how self guided deltas are read</td>
    </tr>
    <tr>
      <td><code>SGRPROJ_PRJ_BITS</code></td>
      <td style="text-align: center">7</td>
      <td>Precision bits during self guided restoration</td>
    </tr>
    <tr>
      <td><code>SGRPROJ_RST_BITS</code></td>
      <td style="text-align: center">4</td>
      <td>Restoration precision bits generated higher than source before projection</td>
    </tr>
    <tr>
      <td><code>SGRPROJ_MTABLE_BITS</code></td>
      <td style="text-align: center">20</td>
      <td>Precision of mtable division table</td>
    </tr>
    <tr>
      <td><code>SGRPROJ_RECIP_BITS</code></td>
      <td style="text-align: center">8</td>
      <td>Precision of division by n table</td>
    </tr>
    <tr>
      <td><code>SGRPROJ_SGR_BITS</code></td>
      <td style="text-align: center">8</td>
      <td>Internal precision bits for core selfguided_restoration</td>
    </tr>
    <tr>
      <td><code>EC_PROB_SHIFT</code></td>
      <td style="text-align: center">6</td>
      <td>Number of bits to reduce CDF precision during arithmetic coding</td>
    </tr>
    <tr>
      <td><code>EC_MIN_PROB</code></td>
      <td style="text-align: center">4</td>
      <td>Minimum probability assigned to each symbol during arithmetic coding</td>
    </tr>
    <tr>
      <td><code>SELECT_INTEGER_MV</code></td>
      <td style="text-align: center">2</td>
      <td>Value that indicates the force_integer_mv syntax element is coded</td>
    </tr>
    <tr>
      <td><code>RESTORATION_TILESIZE_MAX</code></td>
      <td style="text-align: center">256</td>
      <td>Maximum size of a loop restoration tile</td>
    </tr>
    <tr>
      <td><code>MAX_OFFSET_WIDTH</code></td>
      <td style="text-align: center">8</td>
      <td>Maximum horizontal offset of a projected motion vector</td>
    </tr>
    <tr>
      <td><code>MAX_OFFSET_HEIGHT</code></td>
      <td style="text-align: center">0</td>
      <td>Maximum vertical offset of a projected motion vector</td>
    </tr>
    <tr>
      <td><code>WARP_PARAM_REDUCE_BITS</code></td>
      <td style="text-align: center">6</td>
      <td>Rounding bitwidth for the parameters to the shear process</td>
    </tr>
    <tr>
      <td><code>NUM_BASE_LEVELS</code></td>
      <td style="text-align: center">2</td>
      <td>Number of quantizer base levels</td>
    </tr>
    <tr>
      <td><code>COEFF_BASE_RANGE</code></td>
      <td style="text-align: center">12</td>
      <td>The quantizer range above NUM_BASE_LEVELS above which the Exp-Golomb coding process is activated</td>
    </tr>
    <tr>
      <td><code>BR_CDF_SIZE</code></td>
      <td style="text-align: center">4</td>
      <td>Number of contexts for <code>coeff_br</code></td>
    </tr>
    <tr>
      <td><code>SIG_COEF_CONTEXTS_EOB</code></td>
      <td style="text-align: center">4</td>
      <td>Number of contexts for <code>coeff_base_eob</code></td>
    </tr>
    <tr>
      <td><code>SIG_COEF_CONTEXTS_2D</code></td>
      <td style="text-align: center">26</td>
      <td>Context offset for <code>coeff_base</code> for horizontal-only or vertical-only transforms.</td>
    </tr>
    <tr>
      <td><code>SIG_COEF_CONTEXTS</code></td>
      <td style="text-align: center">46</td>
      <td>Number of contexts for <code>coeff_base</code></td>
    </tr>
    <tr>
      <td><code>SIG_REF_OFFSET_NUM</code></td>
      <td style="text-align: center">5</td>
      <td>Maximum number of context samples to be used in determining the context index for <code>coeff_base</code> and <code>coeff_base_eob</code>.</td>
    </tr>
    <tr>
      <td><code>BR_CONTEXT_POSITION_NUM</code></td>
      <td style="text-align: center">8</td>
      <td>Maximum number of context samples to be used in determining the context index for <code>coeff_br</code>.</td>
    </tr>
    <tr>
      <td><code>SUPERRES_NUM</code></td>
      <td style="text-align: center">8</td>
      <td>Numerator for upscaling ratio</td>
    </tr>
    <tr>
      <td><code>SUPERRES_DENOM_MIN</code></td>
      <td style="text-align: center">9</td>
      <td>Smallest denominator for upscaling ratio</td>
    </tr>
    <tr>
      <td><code>SUPERRES_DENOM_BITS</code></td>
      <td style="text-align: center">3</td>
      <td>Number of bits sent to specify denominator of upscaling ratio</td>
    </tr>
    <tr>
      <td><code>SUPERRES_FILTER_BITS</code></td>
      <td style="text-align: center">6</td>
      <td>Number of bits of fractional precision during upscaling</td>
    </tr>
    <tr>
      <td><code>SUPERRES_FILTER_SHIFTS</code></td>
      <td style="text-align: center">1 &lt;&lt; 6</td>
      <td>Number of phases of upscaling filters</td>
    </tr>
    <tr>
      <td><code>SUPERRES_SCALE_BITS</code></td>
      <td style="text-align: center">14</td>
      <td>Number of fractional bits for computing initial position of upscaling filter</td>
    </tr>
    <tr>
      <td><code>SUPERRES_SCALE_MASK</code></td>
      <td style="text-align: center">(1 &lt;&lt; 14) - 1</td>
      <td>Mask for computing initial position of upscaling filter</td>
    </tr>
    <tr>
      <td><code>SUPERRES_EXTRA_BITS</code></td>
      <td style="text-align: center">8</td>
      <td>Difference in precision between SUPERRES_SCALE_BITS and SUPERRES_FILTER_BITS</td>
    </tr>
  </tbody>
</table>

<h2 id="conventions">Conventions</h2>

<p>The mathematical operators and their precedence rules used to describe this
Specification are similar to those used in the C programming language.
However, the operation of integer division with truncation is specifically
defined.</p>

<p>In addition, an array with 2 elements used to hold a motion vector (indicated
by the variable name ending with the letters <code>Mv</code> or <code>Mvs</code>) can be accessed
using either normal array notation (e.g. <code>Mv[ 0 ]</code> and <code>Mv[ 1 ]</code>), or by just
the name (e.g., <code>Mv</code>). The only operations defined when using the name are
assignment and equality/inequality testing. Assignment of an array is
represented using the normal notation <code>A = B</code> and is specified to mean the same
as doing both the individual assignments <code>A[ 0 ] = B[ 0 ]</code> and
<code>A[ 1 ] = B[ 1 ].</code> Equality testing of 2 motion vectors is represented using the
notation <code>A == B</code> and is specified to mean the same as
<code>(A[ 0 ] == B[ 0 ] &amp;&amp; A[ 1 ] == B[ 1 ])</code>. Inequality testing is defined as
<code>A != B</code> and is specified to mean the same as
<code>(A[ 0 ] != B[ 0 ] || A[ 1 ] != B[ 1 ])</code>.</p>

<p>When a variable is said to be representable by a signed integer with <code>x</code> bits,
it means that the variable is greater than or equal to <code>-(1 &lt;&lt; (x-1))</code>, and that
the variable is less than or equal to <code>(1 &lt;&lt; (x-1))-1</code>.</p>

<h3 id="arithmetic-operators">Arithmetic operators</h3>

<table class="table table-sm table-bordered table-nohead">
  <thead>
    <tr>
      <th style="text-align: center"> </th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code>+</code></td>
      <td>Addition</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>–</code></td>
      <td>Subtraction (as a binary operator) or negation (as a unary prefix operator)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>*</code></td>
      <td>Multiplication</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>/</code></td>
      <td>Integer division with truncation of the result toward zero. For example, <code>7/4</code> and <code>-7/-4</code> are truncated to <code>1</code> and <code>-7/4</code> and <code>7/-4</code> are truncated to <code>-1</code>.</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>a % b</code></td>
      <td>Remainder from division of <code>a</code> by <code>b</code>. Both <code>a</code> and <code>b</code> are positive integers.</td>
    </tr>
  </tbody>
</table>

<h3 id="logical-operators">Logical operators</h3>

<table class="table table-sm table-bordered table-nohead">
  <thead>
    <tr>
      <th style="text-align: center"> </th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code>a &amp;&amp; b</code></td>
      <td>Logical AND operation between <code>a</code> and <code>b</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code>a || b</code></td>
      <td>Logical OR operation between <code>a</code> and <code>b</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code>!</code></td>
      <td>Logical NOT operation.</td>
    </tr>
  </tbody>
</table>

<h3 id="relational-operators">Relational operators</h3>

<table class="table table-sm table-bordered table-nohead">
  <thead>
    <tr>
      <th style="text-align: center"> </th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code>&gt;</code></td>
      <td>Greater than</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>&gt;=</code></td>
      <td>Greater than or equal to</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>&lt;</code></td>
      <td>Less than</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>&lt;=</code></td>
      <td>Less than or equal to</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>==</code></td>
      <td>Equal to</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>!=</code></td>
      <td>Not equal to</td>
    </tr>
  </tbody>
</table>

<h3 id="bitwise-operators">Bitwise operators</h3>

<table class="table table-sm table-bordered table-nohead">
  <thead>
    <tr>
      <th style="text-align: center"> </th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code>&amp;</code></td>
      <td>AND operation</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>|</code></td>
      <td>OR operation</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>^</code></td>
      <td>XOR operation</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>~</code></td>
      <td>Negation operation</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>a &gt;&gt; b</code></td>
      <td>Shift <code>a</code> in 2’s complement binary integer representation format to the right by <code>b</code> bit positions. This operator is only used with <code>b</code> being a non-negative integer. Bits shifted into the MSBs as a result of the right shift have a value equal to the MSB of <code>a</code> prior to the shift operation.</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>a &lt;&lt; b</code></td>
      <td>Shift <code>a</code> in 2’s complement binary integer representation format to the left by <code>b</code> bit positions. This operator is only used with <code>b</code> being a non-negative integer. Bits shifted into the LSBs as a result of the left shift have a value equal to <code>0</code>.</td>
    </tr>
  </tbody>
</table>

<h3 id="assignment">Assignment</h3>

<table class="table table-sm table-bordered table-nohead">
  <thead>
    <tr>
      <th style="text-align: center"> </th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code>=</code></td>
      <td>Assignment operator</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>++</code></td>
      <td>Increment, <code>x++</code> is equivalent to <code>x = x + 1</code>. When this operator is used for an array index, the variable value is obtained before the auto increment operation</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>--</code></td>
      <td>Decrement, i.e. <code>x--</code> is equivalent to <code>x = x - 1</code>. When this operator is used for an array index, the variable value is obtained before the auto decrement operation</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>+=</code></td>
      <td>Addition assignment operator, for example <code>x += 3</code> corresponds to <code>x = x + 3</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code>-=</code></td>
      <td>Subtraction assignment operator, for example <code>x -= 3</code> corresponds to <code>x = x - 3</code></td>
    </tr>
  </tbody>
</table>

<h3 id="mathematical-functions">Mathematical functions</h3>

<p>The following mathematical functions (Abs, Clip3, Clip1, Min, Max, Round2
and Round2Signed) are defined as follows:</p>

<p><img src="assets/images/formula-abs.svg.png" class=".img-fluid" alt="" /></p>

<p><img src="assets/images/formula-clip1.svg.png" class=".img-fluid" alt="" /></p>

<p><img src="assets/images/formula-clip3.svg.png" class=".img-fluid" alt="" /></p>

<p><img src="assets/images/formula-min.svg.png" class=".img-fluid" alt="" /></p>

<p><img src="assets/images/formula-max.svg.png" class=".img-fluid" alt="" /></p>

<p><img src="assets/images/formula-round2.svg.png" class=".img-fluid" alt="" /></p>

<p><img src="assets/images/formula-round2signed.svg.png" class=".img-fluid" alt="" /></p>

<h3 id="method-of-describing-bitstream-syntax">Method of describing bitstream syntax</h3>

<p>The description style of the syntax is similar to the C programming language.
Syntax elements in the bitstream are represented in bold type. Each syntax
element is described by its name (using only lower case letters with
underscore characters) and a descriptor for its method of coded
representation. The decoding process behaves according to the value of the
syntax element and to the values of previously decoded syntax elements. When a
value of a syntax element is used in the syntax tables or the text, it appears
in regular (i.e. not bold) type. If the value of a syntax element is being
computed (e.g. being written with a default value instead of being coded in
the bitstream), it also appears in regular type (e.g. tile_size).</p>

<p>In some cases the syntax tables may use the values of other variables derived
from syntax elements values. Such variables appear in the syntax tables, or
text, named by a mixture of lower case and upper case letter and without any
underscore characters. Variables starting with an upper case letter are
derived for the decoding of the current syntax structure and all depending
syntax structures. These variables may be used in the decoding process for
later syntax structures. Variables starting with a lower case letter are only
used within the process from which they are derived.</p>

<p>Constant values appear in all upper case letters with underscore characters (e.g. MI_SIZE).</p>

<p>Constant lookup tables appear as words (with the first letter of each word in upper case,
and remaining letters in lower case) separated with underscore
characters (e.g. Block_Width[…]).</p>

<p>Hexadecimal notation, indicated by prefixing the hexadecimal number by <code>0x</code>,
may be used when the number of bits is an integer multiple of 4. For example,
<code>0x1a</code> represents a bit string <code>0001 1010</code>.</p>

<p>Binary notation is indicated by prefixing the binary number by <code>0b</code>. For
example, <code>0b00011010</code> represents a bit string <code>0001 1010</code>. Binary numbers may
include underscore characters to enhance readability. If present, the
underscore characters appear every 4 binary digits starting from the LSB. For
example, <code>0b11010</code> may also be written as <code>0b1_1010</code>.</p>

<p>A value equal to 0 represents a FALSE condition in a test statement. The
value TRUE is represented by any value not equal to 0.</p>

<p>The following table lists examples of the syntax specification format. When
<code>syntax_element</code> appears (with bold face font), it specifies that this syntax
element is parsed from the bitstream.</p>

<pre class="syntax"><code>/* A statement can be a syntax element with associated
descriptor or can be an expression used to specify its
existence, type, and value, as in the following examples */

<b class="syntax-element">syntax_element</b>                                                               f(1)

/* A group of statements enclosed in brackets is a
compound statement and is treated functionally as a single
statement. */

{
    statement
    ...
}

/* A "while" structure specifies that the statement is
to be evaluated repeatedly while the condition remains
true. */

while ( condition )
    statement

/* A "do .. while" structure executes the statement once,
and then tests the condition. It repeatedly evaluates the
statement while the condition remains true. */

do
    statement
while ( condition )

/* An "if .. else" structure tests the condition first. If
it is true, the primary statement is evaluated. Otherwise,
the alternative statement is evaluated. If the alternative
statement is unnecessary to be evaluated, the "else" and
corresponding alternative statement can be omitted. */

if ( condition )
    primary statement
else
    alternative statement

/* A "for" structure evaluates the initial statement at the
beginning then tests the condition. If it is true, the primary
and subsequent statements are evaluated until the condition
becomes false. */

for ( initial statement; condition; subsequent statement )
    primary statement
</code></pre>

<h3 id="functions">Functions</h3>

<p>Bitstream functions used for syntax description are specified in this section.</p>

<p>Other functions are included in the syntax tables.
The convention is that a section is called syntax if it causes syntax elements to be read from the bitstream, either directly or indirectly through subprocesses.
The remaining sections are called functions.</p>

<p>The specification of these functions makes use of a bitstream position
indicator. This bitstream position indicator locates the position of the bit
that is going to be read next.</p>

<p><strong>get_position( ):</strong> Return the value of the bitstream position indicator.</p>

<p><strong>init_bool( sz ):</strong> Initialize the arithmetic decode process for the boolean
decoder with a size of sz bytes as specified in <a href="#initialization-process-for-boolean-decoder">section 8.2.1</a>.</p>

<p><strong>exit_bool( ):</strong> Exit the arithmetic decode process as described in <a href="#exit-process-for-boolean-decoder">section 8.2.3</a>.</p>

<h3 id="descriptors">Descriptors</h3>

<p>The following descriptors specify the parsing of syntax elements. Lower case
descriptors specify syntax elements that are represented by a fixed integer
number of bits in the bitstream; upper case descriptors specify syntax elements
that are represented by arithmetic coding.</p>

<h4 id="fn">f(n)</h4>

<p>Unsigned n-bit number appearing directly in the bitstream. The bits are read
from high to low order.  The parsing process specified in <a href="#parsing-process-for-fn">section 8.1</a> is
invoked and the syntax element is set equal to the return value.</p>

<h4 id="len">le(n)</h4>

<p>Unsigned little-endian n-byte number appearing directly in the bitstream.
The parsing process for this descriptor is specified below:</p>

<pre class="syntax"><code>le(n) {
    t = 0
    for( i = 0; i &lt; n; i++) {
        <b class="syntax-element">byte</b>                                                                 f(8)
        t += ( byte &lt;&lt; ( i * 8 ) )
    }
    return t
}
</code></pre>

<p class="alert alert-info"><strong>Note:</strong> This syntax element will only be present when the bitstream position
is byte aligned.</p>

<h4 id="sun">su(n)</h4>

<p>Signed integer converted from an n+1 unsigned integer in the bitstream.
(The unsigned integer corresponds to the bottom n+1 bits of the signed integer.)
The parsing process for this descriptor is specified below:</p>

<pre class="syntax"><code>su(n) {
    <b class="syntax-element">value</b>                                                                    f(n+1)
    signBit = 1 &lt;&lt; n
    if (value &amp; signBit)
        value = value - 2 * signBit
    return value
}
</code></pre>

<h4 id="ln">L(n)</h4>

<p>Unsigned arithmetic encoded n-bit number encoded as n flags (a “literal”). The
flags are read from high to low order.  The syntax element is set equal to the
return value of read_literal( n ) (see <a href="#parsing-process-for-read_literal">section 8.2.4</a> for a specification of
this process).</p>

<h4 id="s">S</h4>

<p>An arithmetic encoded symbol coded from a small alphabet of at most 16 entries.</p>

<p>The symbol is decoded based on a context sensitive CDF (see <a href="#parsing-process-for-cdf-encoded-syntax-elements">section 8.3</a> for the specification of this process).</p>

<h4 id="un">U(n)</h4>

<p>Unsigned arithmetic encoded number with maximum number of values n (i.e. output in range 0..n-1).</p>

<p>This descriptor is similar to L(ceil(log2(n))), but reduces wastage incurred when encoding non-power of two
value ranges by encoding 1 fewer bits for the lower part of the value range. For example, when
n is equal to 5, the encodings are as follows (full binary encodings are also presented for
comparison):</p>

<table class="table table-sm table-bordered table-striped">
  <thead>
    <tr>
      <th style="text-align: center">Value</th>
      <th style="text-align: center">Full binary encoding</th>
      <th style="text-align: center">U(n) encoding</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">000</td>
      <td style="text-align: center">00</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">001</td>
      <td style="text-align: center">01</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">010</td>
      <td style="text-align: center">10</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: center">011</td>
      <td style="text-align: center">110</td>
    </tr>
    <tr>
      <td style="text-align: center">4</td>
      <td style="text-align: center">100</td>
      <td style="text-align: center">111</td>
    </tr>
  </tbody>
</table>

<p>The parsing process for this descriptor is specified below:</p>

<pre class="syntax"><code>U( n ) {
    w = floor(log2(n)) + 1
    m = (1 &lt;&lt; w) - n
    <b class="syntax-element">v</b>                                                                        L( w - 1 )
    if (v &lt; m)
        return v
    <b class="syntax-element">extra_bit</b>                                                                L( 1 )
    return (v &lt;&lt; 1) - m + extra_bit
}
</code></pre>

<h2 id="bitstream-syntax">Bitstream Syntax</h2>

<p>This section presents the bitstream syntax in a tabular form. The meaning of
each of the syntax elements is presented in <a href="#bitstream-semantics">Section 6</a>.</p>

<h3 id="obu-syntax">OBU Syntax</h3>

<pre class="syntax"><code>open_bitstream_unit( sz ) {
    obu_header()
    sz -= 1 + obu_extension_flag
    if ( obu_type == OBU_SEQUENCE_HEADER )
        sequence_header_obu()
    else if ( obu_type == OBU_TD )
        temporal_delimiter_obu()
    else if ( obu_type == OBU_FRAME_HEADER )
        frame_header_obu( )
    else if ( obu_type == OBU_TILE_GROUP )
        tile_group_obu( sz )
    else if ( obu_type == OBU_METADATA )
        metadata_obu( sz )
    else if ( obu_type == OBU_PADDING )
        padding_obu()
    else
        reserved_obu( sz )
    trailing_bits()
}
</code></pre>

<h4 id="obu-header-syntax">OBU Header Syntax</h4>

<pre class="syntax"><code>obu_header() {
    <b class="syntax-element">obu_forbidden_bit</b>                                                        f(1)
    <b class="syntax-element">obu_type</b>                                                                 f(4)
    <b class="syntax-element">obu_reserved_2bits</b>                                                       f(2)
    <b class="syntax-element">obu_extension_flag</b>                                                       f(1)
    if ( obu_extension_flag == 1 )
        obu_extension_header()
}    

</code></pre>

<h4 id="obu-extension-header-syntax">OBU Extension Header Syntax</h4>

<pre class="syntax"><code>obu_extension_header() {
    <b class="syntax-element">temporal_id</b>                                                              f(3)
    <b class="syntax-element">spatial_id</b>                                                               f(2)
    <b class="syntax-element">quality_id</b>                                                               f(2)
    <b class="syntax-element">reserved_flag</b>                                                            f(1)
}    
</code></pre>

<h4 id="trailing-bits-syntax">Trailing Bits Syntax</h4>

<pre class="syntax"><code>trailing_bits( ) {
    while ( get_position( ) &amp; 7 )
        <b class="syntax-element">zero_bit</b>                                                             f(1)
}
</code></pre>

<h3 id="reserved-obu-syntax">Reserved OBU Syntax</h3>

<pre class="syntax"><code>reserved_obu( sz ) {
    for ( i = 0; i &lt; sz; i++ )
        <b class="syntax-element">reserved_obu_payload_byte</b>                                            f(8)
}    
</code></pre>

<h3 id="sequence-header-obu-syntax">Sequence Header OBU Syntax</h3>

<pre class="syntax"><code>sequence_header_obu( ) {
    <b class="syntax-element">profile_low_bit</b>                                                          f(1)
    <b class="syntax-element">profile_high_bit</b>                                                         f(1)
    Profile = (profile_high_bit &lt;&lt; 1) + profile_low_bit
    if ( Profile == 3 )
        <b class="syntax-element">reserved_zero</b>                                                        f(1)
    <b class="syntax-element">level</b>                                                                    f(4)
    <b class="syntax-element">frame_width_bits_minus_1</b>                                                 f(4)
    <b class="syntax-element">frame_height_bits_minus_1</b>                                                f(4)
    n = frame_width_bits_minus_1 + 1
    <b class="syntax-element">max_frame_width_minus_1</b>                                                  f(n)
    n = frame_height_bits_minus_1 + 1
    <b class="syntax-element">max_frame_height_minus_1</b>                                                 f(n)
    <b class="syntax-element">frame_id_numbers_present_flag</b>                                            f(1)
    if ( frame_id_numbers_present_flag ) {    
        <b class="syntax-element">frame_id_length_minus7</b>                                               f(4)
        <b class="syntax-element">delta_frame_id_length_minus2</b>                                         f(4)
    }    
    color_config( )    
}    
</code></pre>

<h4 id="color-config-syntax">Color Config Syntax</h4>

<pre class="syntax"><code>color_config( ) {
    if ( Profile &gt;= 2 ) {
        <b class="syntax-element">ten_or_twelve_bit</b>                                                    f(1)
        BitDepth = ten_or_twelve_bit ? 12 : 10
    } else {
        BitDepth = 8
    }
    <b class="syntax-element">color_space</b>                                                              f(5)
    <b class="syntax-element">transfer_function</b>                                                        f(5)
    if ( color_space != CS_SRGB ) {
        <b class="syntax-element">color_range</b>                                                          f(1)
        if ( Profile == 1 || Profile == 3 ) {
            <b class="syntax-element">subsampling_x</b>                                                    f(1)
            <b class="syntax-element">subsampling_y</b>                                                    f(1)
            <b class="syntax-element">reserved_zero</b>                                                    f(1)
        } else {
            subsampling_x = 1
            subsampling_y = 1
        }
        if (subsampling_x &amp;&amp; subsampling_y) {
            <b class="syntax-element">chroma_sample_position</b>                                           f(2)
        }
    } else {
        color_range = 1
        if ( Profile == 1 || Profile == 3 ) {
            subsampling_x = 0
            subsampling_y = 0
            <b class="syntax-element">reserved_zero</b>                                                    f(1)
        }
    }
}
</code></pre>

<h3 id="temporal-delimiter-obu-syntax">Temporal Delimiter OBU Syntax</h3>

<pre class="syntax"><code>temporal_delimiter_obu( ) {
    SeenFrameHeader = 0
}
</code></pre>

<p class="alert alert-info"><strong>Note:</strong> The temporal delimiter has an empty payload.</p>

<h3 id="padding-obu-syntax">Padding OBU Syntax</h3>

<pre class="syntax"><code>padding_obu( ) {
    <b class="syntax-element">obu_padding_length</b>                                                       f(8)
    for ( i = 0; i &lt; obu_padding_length; i++ )
        <b class="syntax-element">obu_padding_byte</b>                                                     f(8)
}    
</code></pre>

<h3 id="metadata-obu-syntax">Metadata OBU Syntax</h3>

<pre class="syntax"><code>metadata_obu( sz ) {
    <b class="syntax-element">metadata_type</b>                                                            f(16)
    if ( metadata_type == METADATA_TYPE_PRIVATE_DATA )
        metadata_private_data( sz − 2 )
    else if ( metadata_type == METADATA_TYPE_HDR_CLL ) 
        metadata_hdr_cll( sz − 2 )
    else if ( metadata_type == METADATA_TYPE_HDR_MDCV )
        metadata_hdr_mdcv( sz − 2 )
}
</code></pre>

<h4 id="metadata-private-data-syntax">Metadata Private Data Syntax</h4>

<pre class="syntax"><code>metadata_private_data( sz ) {
    for ( i = 0; i &lt; sz; i++ )
        <b class="syntax-element">metadata_private_data_payload_byte[ i ]</b>                              f(8)
}
</code></pre>

<h4 id="metadata-high-dynamic-range-content-light-level-syntax">Metadata High Dynamic Range Content Light Level Syntax</h4>

<pre class="syntax"><code>metadata_hdr_cll( sz ) {
    <b class="syntax-element">max_cll</b>                                                                  f(16)
    <b class="syntax-element">max_fall</b>                                                                 f(16)
}
</code></pre>

<h4 id="metadata-high-dynamic-range-mastering-display-color-volume-syntax">Metadata High Dynamic Range Mastering Display Color Volume Syntax</h4>

<pre class="syntax"><code>metadata_hdr_mdcv( sz ) {
    for ( i = 0; i &lt; 3; i++ ) {    
        <b class="syntax-element">primary_chromaticity_x[ i ]</b>                                          f(16)
        <b class="syntax-element">primary_chromaticity_y[ i ]</b>                                          f(16)
    }
    <b class="syntax-element">white_point_chromaticity_x</b>                                               f(16)
    <b class="syntax-element">white_point_chromaticity_y</b>                                               f(16)
    <b class="syntax-element">luminance_max</b>                                                            f(32)
    <b class="syntax-element">luminance_min</b>                                                            f(32)
}
</code></pre>

<h3 id="frame-header-obu-syntax">Frame Header OBU Syntax</h3>

<pre class="syntax"><code>frame_header_obu( ) {
    if ( SeenFrameHeader == 1 ) {
        frame_header_copy()
    } else {
        SeenFrameHeader = 1
        uncompressed_header( )
        trailing_bits( )
        if ( show_existing_frame ) {
            decode_frame( )
            SeenFrameHeader = 0
        } else {
            TileNum = 0
            MaxTileSize = 0
            SeenFrameHeader = 1
        }
    }
}
</code></pre>

<h4 id="uncompressed-header-syntax">Uncompressed Header Syntax</h4>

<pre class="syntax"><code>uncompressed_header( ) {
    idLen = frame_id_length_minus7 + 7
    <b class="syntax-element">show_existing_frame</b>                                                      f(1)
    if ( show_existing_frame == 1 ) {
        <b class="syntax-element">frame_to_show_map_idx</b>                                                f(3)
        refresh_frame_flags = 0
        for ( i = 0; i &lt; FRAME_LF_COUNT; i++ )
            loop_filter_level[ i ] = 0
        if (frame_id_numbers_present_flag) {
            <b class="syntax-element">display_frame_id</b>                                                 f(idLen)
        }
        CurrentVideoFrame += 1
        return
    }
    <b class="syntax-element">frame_type</b>                                                               f(2)
    <b class="syntax-element">show_frame</b>                                                               f(1)
    <b class="syntax-element">error_resilient_mode</b>                                                     f(1)
    if ( frame_id_numbers_present_flag ) {
        <b class="syntax-element">current_frame_id</b>                                                     f(idLen)
    }
    <b class="syntax-element">frame_size_override_flag</b>                                                 f(1)
    FrameIsIntra = (frame_type == INTRA_ONLY_FRAME || 
                    frame_type == KEY_FRAME)
    if ( frame_type == KEY_FRAME ) {
        frame_size( )
        render_size( )
        <b class="syntax-element">use_128x128_superblock</b>                                               f(1)
        <b class="syntax-element">allow_screen_content_tools</b>                                           f(1)
        refresh_frame_flags = 0xFF
        CurrentVideoFrame = 0
        if (allow_screen_content_tools) {
            <b class="syntax-element">seq_choose_integer_mv</b>                                            f(1)
            if ( seq_choose_integer_mv ) {
                seq_force_integer_mv = SELECT_INTEGER_MV
            } else {
                <b class="syntax-element">seq_force_integer_mv</b>                                         f(1)
            }
        } else {
            seq_force_integer_mv = 0
        }
    } else {
        if ( frame_type == INTRA_ONLY_FRAME ) {
            <b class="syntax-element">allow_screen_content_tools</b>                                       f(1)
        }
        if ( frame_type == INTRA_ONLY_FRAME ) {
            <b class="syntax-element">refresh_frame_flags</b>                                              f(8)
            frame_size( )
            render_size( )
            <b class="syntax-element">use_128x128_superblock</b>                                           f(1)
        } else {
            if (frame_type == SWITCH_FRAME ) {
                refresh_frame_flags = 0xFF
            } else {
                <b class="syntax-element">refresh_frame_flags</b>                                          f(8)
            }
            for( i = 0; i &lt; REFS_PER_FRAME; i++ ) {
                <b class="syntax-element">ref_frame_idx[ i ]</b>                                           f(3)
                if (frame_type == SWITCH_FRAME ) {
                    ref_frame_sign_bias[ LAST_FRAME + i ] = 0
                } else {
                    <b class="syntax-element">ref_frame_sign_bias[ LAST_FRAME + i ]</b>                    f(1)
                }
                if (frame_id_numbers_present_flag) {
                    n = delta_frame_id_length_minus2 + 2
                    <b class="syntax-element">delta_frame_id_minus1</b>                                    f(n)
                    DeltaFrameId = delta_frame_id_minus1 + 1
                    RefFrameId = ((current_frame_id -
                                  DeltaFrameId ) % (1 &lt;&lt; idLen))
                }
            }
            if ( frame_size_override_flag &amp;&amp; !error_resilient_mode ) {
                frame_size_with_refs( )
            } else {
                frame_size( )
                render_size( )
            }
            if ( seq_force_integer_mv == SELECT_INTEGER_MV )
                <b class="syntax-element">force_integer_mv</b>                                             f(1)
            else
                force_integer_mv = seq_force_integer_mv
            if ( force_integer_mv ) {
                allow_high_precision_mv = 0
            } else {
                <b class="syntax-element">allow_high_precision_mv</b>                                      f(1)
            }
            read_interpolation_filter( )
            if ( error_resilient_mode ) {
                can_use_previous = 0
            } else {
                <b class="syntax-element">can_use_previous</b>                                             f(1)
            }
        }
    }
    if (show_frame == 0) {
        <b class="syntax-element">frame_offset_update</b>                                                  f(4)
        DecodeOrder = CurrentVideoFrame + frame_offset_update
    } else {
        DecodeOrder = CurrentVideoFrame
        CurrentVideoFrame += 1
    }
    if ( !FrameIsIntra ) {
        for( i = 0; i &lt; REFS_PER_FRAME; i++ ) {
            DecodeOrders[ LAST_FRAME + i ] = RefDecodeOrder[ ref_frame_idx[ i ] ]
        }
    }
    if ( error_resilient_mode ) {
        frame_parallel_decoding_mode = 1
    } else {
        <b class="syntax-element">frame_parallel_decoding_mode</b>                                         f(1)
    }
    if ( FrameIsIntra || error_resilient_mode ) {
        setup_past_independence ( )
    } else {
        load_cdfs( ref_frame_idx[ 0 ] )
        load_previous( )
    }
    loop_filter_params( )
    quantization_params( )
    segmentation_params( )
    delta_q_params( )
    AllLossless = 1
    for ( segmentId = 0; segmentId &lt; MAX_SEGMENTS; segmentId++ ) {
        qindex = get_qindex( 1, segmentId )
        LosslessArray[ segmentId ] = qindex == 0 &amp;&amp; deltaQYDc == 0 &amp;&amp; deltaQUVAc == 0 &amp;&amp; deltaQUVDc == 0
        if ( !LosslessArray[ segmentId ] )
            AllLossless = 0
        if ( using_qmatrix ) {
            if ( LosslessArray[ segmentId ] ) {
                qmLevel = 15
            } else {
                qmLevel = min_qmlevel + ( base_q_idx * ( max_qmlevel - min_qmlevel + 1 ) ) / 256
            }
            SegQMLevel[ segmentId ] = qmLevel
        }
    }
    delta_lf_params( )
    cdef_params( )
    lr_params( )
    read_tx_mode( )
    global_motion_params( )
    frame_reference_mode( )
    <b class="syntax-element">reduced_tx_set</b>                                                           f(1)
    tile_info( )
}
</code></pre>

<h4 id="frame-size-syntax">Frame Size Syntax</h4>

<pre class="syntax"><code>frame_size( ) {
    if (frame_size_override_flag) {
        n = frame_width_bits_minus_1 + 1
        <b class="syntax-element">frame_width_minus_1</b>                                                  f(n)
        n = frame_height_bits_minus_1 + 1
        <b class="syntax-element">frame_height_minus_1</b>                                                 f(n)
        FrameWidth = frame_width_minus_1 + 1
        FrameHeight = frame_height_minus_1 + 1
    } else {
        FrameWidth = max_frame_width_minus_1 + 1
        FrameHeight = max_frame_height_minus_1 + 1
    }
    compute_image_size( )
}
</code></pre>

<h4 id="render-size-syntax">Render Size Syntax</h4>

<pre class="syntax"><code>render_size( ) {
    <b class="syntax-element">render_and_frame_size_different</b>                                          f(1)
    if ( render_and_frame_size_different == 1 ) {
        <b class="syntax-element">render_width_minus_1</b>                                                 f(16)
        <b class="syntax-element">render_height_minus_1</b>                                                f(16)
        RenderWidth = render_width_minus_1 + 1
        RenderHeight = render_height_minus_1 + 1
    } else {
        RenderWidth = FrameWidth
        RenderHeight = FrameHeight
    }
}
</code></pre>

<h4 id="frame-size-with-refs-syntax">Frame Size with Refs Syntax</h4>

<pre class="syntax"><code>frame_size_with_refs( ) {
    for ( i = 0; i &lt; REFS_PER_FRAME; i++ ) {
        <b class="syntax-element">found_ref</b>                                                            f(1)
        if ( found_ref == 1 ) {
            FrameWidth = RefFrameWidth[ ref_frame_idx[ i ] ]
            FrameHeight = RefFrameHeight[ ref_frame_idx[ i ] ]
            RenderWidth = FrameWidth
            RenderHeight = FrameHeight
            break
        }
    }
    if ( found_ref == 0 ) {
        frame_size( )
        render_size( )
    } else {
        compute_image_size( )
    }
}
</code></pre>

<h4 id="compute-image-size-function">Compute Image Size Function</h4>

<pre class="syntax"><code>compute_image_size( ) {
    MiCols = 2 * ( ( FrameWidth + 7 ) &gt;&gt; 3 )
    MiRows = 2 * ( ( FrameHeight + 7 ) &gt;&gt; 3 )
    MaxSbCols = ( MiCols + 31 ) &gt;&gt; 5
    MaxSbRows = ( MiRows + 31 ) &gt;&gt; 5
}
</code></pre>

<h4 id="interpolation-filter-syntax">Interpolation Filter Syntax</h4>

<pre class="syntax"><code>read_interpolation_filter( ) {
    <b class="syntax-element">is_filter_switchable</b>                                                     f(1)
    if ( is_filter_switchable == 1 ) {
        interpolation_filter = SWITCHABLE
    } else {
        <b class="syntax-element">interpolation_filter</b>                                                 f(2)
    }
}
</code></pre>

<h4 id="loop-filter-params-syntax">Loop Filter Params Syntax</h4>

<pre class="syntax"><code>loop_filter_params( ) {
    <b class="syntax-element">loop_filter_level[ 0 ]</b>                                                   f(6)
    <b class="syntax-element">loop_filter_level[ 1 ]</b>                                                   f(6)
    if ( loop_filter_level[ 0 ] || loop_filter_level[ 1 ] ) {
        <b class="syntax-element">loop_filter_level[ 2 ]</b>                                               f(6)
        <b class="syntax-element">loop_filter_level[ 3 ]</b>                                               f(6)
    }
    <b class="syntax-element">loop_filter_sharpness</b>                                                    f(3)
    <b class="syntax-element">loop_filter_delta_enabled</b>                                                f(1)
    if ( loop_filter_delta_enabled == 1 ) {
        <b class="syntax-element">loop_filter_delta_update</b>                                             f(1)
        if ( loop_filter_delta_update == 1 ) {
            for ( i = 0; i &lt; TOTAL_REFS_PER_FRAME; i++ ) {
                <b class="syntax-element">update_ref_delta</b>                                             f(1)
                if ( update_ref_delta == 1 )
                    <b class="syntax-element">loop_filter_ref_deltas[ i ]</b>                              su(6)
                for ( i = 0; i &lt; 2; i++ ) {
                    <b class="syntax-element">update_mode_delta</b>                                        f(1)
                    if ( update_mode_delta == 1 )
                        <b class="syntax-element">loop_filter_mode_deltas[ i ]</b>                         su(6)
                }
            }
        }
    }
}
</code></pre>

<h4 id="quantization-params-syntax">Quantization Params Syntax</h4>

<pre class="syntax"><code>quantization_params( ) {
    <b class="syntax-element">base_q_idx</b>                                                               f(8)
    deltaQYDc = read_delta_q( )
    deltaQUVDc = read_delta_q( )
    deltaQUVAc = read_delta_q( )
    <b class="syntax-element">using_qmatrix</b>                                                            f(1)
    if (using_qmatrix) {
        <b class="syntax-element">min_qmlevel</b>                                                          f(4)
        <b class="syntax-element">max_qmlevel</b>                                                          f(4)
    }
}
</code></pre>

<h4 id="delta-quantizer-syntax">Delta Quantizer Syntax</h4>

<pre class="syntax"><code>read_delta_q( ) {
    <b class="syntax-element">delta_coded</b>                                                              f(1)
    if ( delta_coded ) {
        <b class="syntax-element">delta_q</b>                                                              su(6)
    } else {
        delta_q = 0
    }
    return delta_q
}
</code></pre>

<h4 id="segmentation-params-syntax">Segmentation Params Syntax</h4>

<pre class="syntax"><code>segmentation_params( ) {
    <b class="syntax-element">segmentation_enabled</b>                                                     f(1)
    if ( segmentation_enabled == 1 ) {
        if ( FrameIsIntra || error_resilient_mode ) {
            segmentation_update_map = 1
            segmentation_temporal_update = 0
        } else {
            <b class="syntax-element">segmentation_update_map</b>                                          f(1)
            if ( segmentation_update_map == 1 )
                <b class="syntax-element">segmentation_temporal_update</b>                                 f(1)
        }
        <b class="syntax-element">segmentation_update_data</b>                                             f(1)
        if ( segmentation_update_data == 1 ) {
            for ( i = 0; i &lt; MAX_SEGMENTS; i++ ) {
                for ( j = 0; j &lt; SEG_LVL_MAX; j++ ) {
                    feature_value = 0
                    <b class="syntax-element">feature_enabled</b>                                          f(1)
                    FeatureEnabled[ i ][ j ] = feature_enabled
                    if ( feature_enabled == 1 ) {
                        bitsToRead = Segmentation_Feature_Bits[ j ]
                        <b class="syntax-element">feature_value</b>                                        f(bitsToRead)
                        if ( Segmentation_Feature_Signed[ j ] == 1 ) {
                            <b class="syntax-element">feature_sign</b>                                     f(1)
                        }
                    }
                    FeatureData[ i ][ j ] = feature_value
                    if ( feature_sign == 1 )
                        FeatureData[ i ][ j ] *= -1
                }
            }
        }
    }
}
</code></pre>

<p>The constant lookup tables used in this syntax are defined as:</p>

<pre><code>Segmentation_Feature_Bits[ SEG_LVL_MAX ] = { 8, 6, 6, 6, 6, 3, 0, 0 }
Segmentation_Feature_Signed[ SEG_LVL_MAX ] = { 1, 1, 1, 1, 1, 0, 0, 0 }
</code></pre>

<h4 id="tile-info-syntax">Tile Info Syntax</h4>

<pre class="syntax"><code>tile_info ( ) {
    minLog2TileCols = tile_log2(MAX_TILE_WIDTH_SB, MaxSbCols)
    maxLog2TileCols = tile_log2(1, Min(MaxSbCols, MAX_TILE_COLS))
    maxLog2TileRows = tile_log2(1, Min(MaxSbRows, MAX_TILE_ROWS))
    minLog2Tiles = Max(minLog2TileCols, 
                       tile_log2(MAX_TILE_AREA_SB, MaxSbRows * MaxSbCols))
                       
    <b class="syntax-element">uniform_tile_spacing_flag</b>                                                f(1)
    if ( uniform_tile_spacing_flag ) {
        TileColsLog2 = minLog2TileCols
        while ( TileColsLog2 &lt; maxLog2TileCols ) {
            <b class="syntax-element">increment_tile_cols_log2</b>                                         f(1)
            if ( increment_tile_cols_log2 == 1 )
                TileColsLog2++
            else
                break
        }
        sizeSb = (MaxSbCols + (1 &lt;&lt; TileColsLog2) - 1) &gt;&gt; TileColsLog2
        i = 0
        for (startSb = 0; startSb &lt; MaxSbCols; startSb += sizeSb) {
          MiColStarts[ i ] = startSb &lt;&lt; (MAX_SB_SIZE_LOG2 - MI_SIZE_LOG2)
          i += 1
        }
        MiColStarts[i] = MiCols
        TileCols = i
        
        minLog2TileRows = Max( minLog2Tiles - TileColsLog2, 0)
        maxTileHeightSb = MaxSbRows &gt;&gt; minLog2TileRows
        TileRowsLog2 = minLog2TileRows
        while ( TileRowsLog2 &lt; maxLog2TileRows ) {
            <b class="syntax-element">increment_tile_rows_log2</b>                                         f(1)
            if ( increment_tile_rows_log2 == 1 )
                TileRowsLog2++
            else
                break
        }
        sizeSb = (MaxSbCols + (1 &lt;&lt; TileRowsLog2) - 1) &gt;&gt; TileRowsLog2
        i = 0
        for (startSb = 0; startSb &lt; MaxSbRows; startSb += sizeSb) {
          MiRowStarts[ i ] = startSb &lt;&lt; (MAX_SB_SIZE_LOG2 - MI_SIZE_LOG2)
          i += 1
        }
        MiRowStarts[i] = MiRows
        TileRows = i
    } else {
        widestTileSb = 0
        startSb = 0
        for ( i = 0; startSb &lt; MaxSbCols &amp;&amp; i &lt; MAX_TILE_COLS; i++ ) {
            MiColStarts[ i ] = startSb &lt;&lt; (MAX_SB_SIZE_LOG2 - MI_SIZE_LOG2)
            maxWidth = Min(MaxSbCols - startSb, MAX_TILE_WIDTH_SB)
            sizeSb = decode_uniform(maxWidth) + 1
            widestTileSb = Max( sizeSb, widestTileSb )
            startSb += sizeSb
        }
        MiColStarts[i] = MiCols
        TileCols = i
        TileColsLog2 = tile_log2(1, TileCols)

        if ( minLog2Tiles &gt; 0 )
            maxTileAreaSb = (MaxSbRows * MaxSbCols) &gt;&gt; (minLog2Tiles + 1)
        else
            maxTileAreaSb = MaxSbRows * MaxSbCols
        maxTileHeightSb = Max( maxTileAreaSb / widestTileSb, 1 )

        startSb = 0
        for ( i = 0; startSb &lt; MaxSbRows &amp;&amp; i &lt; MAX_TILE_ROWS; i++ ) {
            MiRowStarts[ i ] = startSb &lt;&lt; (MAX_SB_SIZE_LOG2 - MI_SIZE_LOG2)
            maxHeight = Min(MaxSbRows - startSb, maxTileHeightSb)
            sizeSb = decode_uniform(maxHeight) + 1
            startSb += sizeSb
        }
        MiRowStarts[ i ] = MiRows
        TileRows = i
        TileRowsLog2 = tile_log2(1, TileRows)
    }
    startMi = 0
    maxTileHeightMi = maxTileHeightSb &lt;&lt; (MAX_SB_SIZE_LOG2 - MI_SIZE_LOG2)
    for (i = 0; i &lt; TileRows; i++) {
      if (MiRowStarts[i+1] - startMi &gt; maxTileHeightMi) {
        AllowDependentTileRow[i] = 0
        startMi = MiRowStarts[i+1]
      } else {
        AllowDependentTileRow[i] = 1
      }
    }
    if ( TileRowsLog2 &gt; 0 )
        <b class="syntax-element">dependent_tiles</b>                                                      f(1)
    else
        dependent_tiles = 0
    if ( TileRowsLog2 &gt; 0 || TileColsLog2 &gt; 0 )
        <b class="syntax-element">loop_filter_across_tiles</b>                                             f(1)
    else
        loop_filter_across_tiles = 0
    <b class="syntax-element">tile_size_bytes_minus_1</b>                                                  f(2)
    TileSizeBytes = tile_size_bytes_minus_1 + 1
}
</code></pre>

<h4 id="tile-size-calculation-function">Tile Size Calculation Function</h4>

<p>tile_log2 returns the smallest value for k such that 1 &lt;&lt; k is greater than or equal to target.</p>

<pre class="syntax"><code>tile_log2( blkSize, target) {
  for (k = 0; (blkSize &lt;&lt; k) &lt; target; k++) {
  }
  return k
}
</code></pre>

<h4 id="quantizer-index-delta-parameters-syntax">Quantizer Index Delta Parameters Syntax</h4>

<pre class="syntax"><code>delta_q_params( ) {
    segmentQuantizerActive = 0
    for ( i = 0; i &lt; MAX_SEGMENTS; i++ ) {
        if ( seg_feature_active_idx( i, SEG_LVL_ALT_Q ) ) {
            segmentQuantizerActive = 1
        }
    }
    delta_q_res = 0
    delta_q_present = 0
    if ( segmentQuantizerActive == 0 &amp;&amp; base_q_idx &gt; 0 ) {
        <b class="syntax-element">delta_q_present</b>                                                      f(1)
    }
    if ( delta_q_present ) {
        <b class="syntax-element">delta_q_res</b>                                                          f(2)
    }
}
</code></pre>

<h4 id="loop-filter-delta-parameters-syntax">Loop Filter Delta Parameters Syntax</h4>

<pre class="syntax"><code>delta_lf_params( ) {
    delta_lf_present = 0
    delta_lf_res = 0
    delta_lf_multi = 0
    if ( delta_q_present ) {
        <b class="syntax-element">delta_lf_present</b>                                                     f(1)
        if ( delta_lf_present ) {
            <b class="syntax-element">delta_lf_res</b>                                                     f(2)
            <b class="syntax-element">delta_lf_multi</b>                                                   f(1)
        }
    }
}
</code></pre>

<h4 id="cdef-params-syntax">CDEF Params Syntax</h4>

<pre class="syntax"><code>cdef_params( ) {
    if ( !AllLossless ) {
        <b class="syntax-element">cdef_damping_minus_3</b>                                                 f(2)
        CdefDamping = cdef_damping_minus_3 + 3
        <b class="syntax-element">cdef_bits</b>                                                            f(2)
        for (i = 0; i &lt; (1 &lt;&lt; cdef_bits); i++) {
            <b class="syntax-element">cdef_y_pri_strength[i]</b>                                           f(4)
            <b class="syntax-element">cdef_y_sec_strength[i]</b>                                           f(2)
            if (cdef_y_sec_strength[i] == 3)
                cdef_y_sec_strength[i] += 1
            <b class="syntax-element">cdef_uv_pri_strength[i]</b>                                          f(4)
            <b class="syntax-element">cdef_uv_sec_strength[i]</b>                                          f(2)
            if (cdef_uv_sec_strength[i] == 3)
                cdef_uv_sec_strength[i] += 1
        }
    }
}
</code></pre>

<h4 id="loop-restoration-params-syntax">Loop Restoration Params Syntax</h4>

<pre class="syntax"><code>lr_params( ) {
    usesLr = 0
    usesChromaLr = 0
    for (i = 0; i &lt; 3; i++) {
        <b class="syntax-element">lr_type</b>                                                              f(2)
        FrameRestorationType[i] = Remap_Lr_Type[lr_type]
        if (FrameRestorationType[i] != RESTORE_NONE) {
            usesLr = 1
            if ( i &gt; 0 ) {
                usesChromaLr = 1
            }
        }
    }
    if ( usesLr ) {
        <b class="syntax-element">lr_unit_shift</b>                                                        f(1)
        if ( lr_unit_shift ) {
            <b class="syntax-element">lr_unit_extra_shift</b>                                              f(1)
            lr_unit_shift += lr_unit_extra_shift
        }
        LoopRestorationSize[ 0 ] = RESTORATION_TILESIZE_MAX &gt;&gt; (2 - lr_unit_shift)
        if (subsampling_x &amp;&amp; subsampling_y &amp;&amp; usesChromaLr ) {
            <b class="syntax-element">lr_uv_shift</b>                                                      f(1)
        } else {
            lr_uv_shift = 0
        }
        LoopRestorationSize[1] = LoopRestorationSize[0] &gt;&gt; lr_uv_shift
        LoopRestorationSize[2] = LoopRestorationSize[0] &gt;&gt; lr_uv_shift
    }
}
</code></pre>

<p>where Remap_Lr_Type is a constant lookup table specified as:</p>

<pre><code class="language-c">Remap_Lr_Type[4] = {
  RESTORE_NONE, RESTORE_SWITCHABLE, RESTORE_WIENER, RESTORE_SGRPROJ
}
</code></pre>

<h4 id="tx-mode-syntax">TX Mode Syntax</h4>

<pre class="syntax"><code>read_tx_mode( ) {
    if ( AllLossless == 1 ) {
        TxMode = ONLY_4X4
    } else {
        <b class="syntax-element">tx_mode_select</b>                                                       f(1)
        if ( tx_mode_select ) {
            TxMode = TX_MODE_SELECT
        } else {
            <b class="syntax-element">tx_mode</b>                                                          f(2)
            TxMode = tx_mode
        }
        if (TxMode == ALLOW_32X32) {
            <b class="syntax-element">tx_mode_64x64</b>                                                    f(1)
            TxMode += tx_mode_64x64
        }
    }
}
</code></pre>

<h4 id="frame-reference-mode-syntax">Frame Reference Mode Syntax</h4>

<pre class="syntax"><code>frame_reference_mode( ) {
    if ( FrameIsIntra ) {
        compoundReferenceAllowed = 0
    } else {
        compoundReferenceAllowed = 0
        for ( i = 1; i &lt; REFS_PER_FRAME; i++ )
            if ( ref_frame_sign_bias[ i + 1 ] != ref_frame_sign_bias[ 1 ] )
                compoundReferenceAllowed = 1
    }
    if ( compoundReferenceAllowed ) {
        <b class="syntax-element">reference_select</b>                                                     f(1)
        if ( reference_select ) {
            ReferenceMode = REFERENCE_MODE_SELECT
        } else {
            <b class="syntax-element">non_single_reference</b>                                             f(1)
            if (non_single_reference == 0 )
                ReferenceMode = SINGLE_REFERENCE
            else
                ReferenceMode = COMPOUND_REFERENCE
        }
    } else {
        ReferenceMode = SINGLE_REFERENCE
    }
    if ( FrameIsIntra || comp_pred_mode == COMPOUND_REFERENCE) {
        allow_interintra_compound = 0
    } else {
        <b class="syntax-element">allow_interintra_compound</b>                                            f(1)
    }
    if ( FrameIsIntra || comp_pred_mode == SINGLE_REFERENCE) {
        allow_masked_compound = 0
    } else {
        <b class="syntax-element">allow_masked_compound</b>                                                f(1)
    }
}
</code></pre>

<h4 id="global-motion-params-syntax">Global Motion Params Syntax</h4>

<pre class="syntax"><code>global_motion_params( ) {
    if ( FrameIsIntra || error_resilient_mode || !can_use_previous) {
        for (ref = LAST_FRAME; ref &lt;= ALTREF_FRAME; ref++) {
            gm_type[ref] = IDENTITY
            for ( i = 0; i &lt; 6; i++ )
                gm_params[ ref ][ i ] = (i%3 == 2) ? 1 &lt;&lt; WARPEDMODEL_PREC_BITS : 0
        }
    }
    if ( FrameIsIntra )
        return
    for (ref = LAST_FRAME; ref &lt;= ALTREF_FRAME; ref++) {
        <b class="syntax-element">is_global</b>                                                            f(1)
        if (is_global) {
            <b class="syntax-element">is_rot_zoom</b>                                                      f(1)
            if (is_rot_zoom) {
                type = ROTZOOM
            } else {
                <b class="syntax-element">is_translation</b>                                               f(1)
                type = is_translation ? TRANSLATION : AFFINE
            }
        } else {
            type = IDENTITY
        }
        gm_type[ref] = type

        if (type &gt;= ROTZOOM) {
            read_global_param(type,ref,2)
            read_global_param(type,ref,3)
            if (type == AFFINE) {
                read_global_param(type,ref,4)
                read_global_param(type,ref,5)
            } else {
                gm_params[ref][4] = -gm_params[ref][3]
                gm_params[ref][5] = gm_params[ref][2]
            }
        }
        if (type &gt;= TRANSLATION) {
            read_global_param(type,ref,0)
            read_global_param(type,ref,1)
        }
    }
}
</code></pre>

<h4 id="global-param-syntax">Global Param Syntax</h4>

<pre class="syntax"><code>read_global_param( type, ref, idx ) {
    absBits = GM_ABS_ALPHA_BITS
    precBits = GM_ALPHA_PREC_BITS
    if (idx &lt; 2) {
        if (type == TRANSLATION) {
            absBits = GM_ABS_TRANS_ONLY_BITS - !allow_high_precision_mv
            precBits = GM_TRANS_ONLY_PREC_BITS - !allow_high_precision_mv
        } else {
            absBits = GM_ABS_TRANS_BITS
            precBits = GM_TRANS_PREC_BITS
        }
    }
    precDiff = WARPEDMODEL_PREC_BITS - precBits
    round = (i % 3) == 2 ? (1 &lt;&lt; WARPEDMODEL_PREC_BITS) : 0
    sub = (i % 3) == 2 ? (1 &lt;&lt; precDiff) : 0
    mx = (1 &lt;&lt; absBits)
    r = (gm_params[ref][idx] &gt;&gt; precDiff) - sub
    gm_params[ref][idx] = (decode_signed_subexp_with_ref( -mx, mx + 1, r ) &lt;&lt; precDiff) + round
}
</code></pre>

<p class="alert alert-info"><strong>Note:</strong> When force_integer_mv is equal to 1, some fractional bits are still read for the translation components.
However, these fractional bits will be discarded during the Setup Zero MV process.</p>

<h4 id="decode-signed-subexp-with-ref-syntax">Decode Signed Subexp With Ref Syntax</h4>

<pre class="syntax"><code>decode_signed_subexp_with_ref( low, high, r ) {
    x = decode_unsigned_subexp_with_ref(high - low, r - low)
    return x + low
}
</code></pre>

<h4 id="decode-unsigned-subexp-with-ref-syntax">Decode Unsigned Subexp With Ref Syntax</h4>

<pre class="syntax"><code>decode_unsigned_subexp_with_ref( mx, r ) {
    v = decode_subexp( mx )
    if ((r &lt;&lt; 1) &lt;= mx) {
        return inverse_recenter(r, v)
    } else {
        return mx - 1 - inverse_recenter(mx - 1 - r, v)
    }
}
</code></pre>

<h4 id="decode-subexp-syntax">Decode Subexp Syntax</h4>

<pre class="syntax"><code>decode_subexp( numSyms ) {
    i = 0
    mk = 0
    k = 3
    while (1) {
        b2 = i ? k + i - 1 : k
        a = 1 &lt;&lt; b2
        if (numSyms &lt;= mk + 3 * a) {
            return decode_uniform(numSyms - mk) + mk
        } else {
            <b class="syntax-element">subexp_more_bits</b>                                                 f(1)
            if (subexp_more_bits) {
               i++
               mk += a
            } else {
               <b class="syntax-element">subexp_bits</b>                                                   f(b2)
               return subexp_bits + mk
            }
        }
    }
}
</code></pre>

<h4 id="decode-uniform-syntax">Decode Uniform Syntax</h4>

<pre class="syntax"><code>decode_uniform( n ) {
    w = floor(log2(n)) + 1
    m = (1 &lt;&lt; w) - n
    <b class="syntax-element">v</b>                                                                        f( w - 1 )
    if (v &lt; m)
        return v
    <b class="syntax-element">extra_bit</b>                                                                f( 1 )
    return (v &lt;&lt; 1) - m + extra_bit
}
</code></pre>

<h4 id="inverse-recenter-function">Inverse Recenter Function</h4>

<pre class="syntax"><code>inverse_recenter( r, v ) {
  if (v &gt; 2 * r)
    return v
  else if (v &amp; 1)
    return r - ((v + 1) &gt;&gt; 1)
  else
    return r + (v &gt;&gt; 1)
}
</code></pre>

<h4 id="inv-recenter-noneg-function">Inv Recenter Noneg Function</h4>

<pre class="syntax"><code>inv_recenter_nonneg( v, m ) {
    if ( v &gt; 2 * m )
        return v
    if ( v &amp; 1 )
        return m - ((v + 1) &gt;&gt; 1)
    return m + (v &gt;&gt; 1)
}
</code></pre>

<h3 id="tile-group-obu-syntax">Tile Group OBU Syntax</h3>

<pre class="syntax"><code>tile_group_obu( sz ) {
    NumTiles = TileCols * TileRows
    startBitPos = get_position( )
    tileBits = TileColsLog2 + tile_rows_log2
    <b class="syntax-element">tg_start</b>                                                                 f(tileBits)
    <b class="syntax-element">tg_end</b>                                                                   f(tileBits)
    trailing_bits( )
    endBitPos = get_position( )
    headerBytes = (endBitPos - startBitPos) / 8
    sz -= headerBytes
    
    for ( TileNum = tg_start; TileNum &lt;= tg_end; TileNum++ ) {
        tileRow = TileNum / TileCols
        tileCol = TileNum % TileCols
        lastTile = TileNum == tg_end
        if ( lastTile ) {
            tile_size = sz
        } else {
            <b class="syntax-element">tile_size</b>                                                        le(TileSizeBytes)
            sz -= tile_size + TileSizeBytes
        }
        MiRowStart = MiRowStarts[ tileRow ]
        MiRowEnd = MiRowStarts[ tileRow + 1 ]
        MiColStart = MiColStarts[ tileCol ]
        MiColEnd = MiColStarts[ tileCol + 1 ]
        if ( TileNum == tg_start ) {
            tileGroupRowStart = tileRow
            tileGroupColStart = tileCol
        }
        if (tileCol &gt;= tileGroupColStart)
            AboveSameTileGroup = tileRow &gt; tileGroupRowStart
        else
            AboveSameTileGroup = tileRow &gt;= tileGroupRowStart
        if ( !AllowDependentTileRow[ tileRow ] )
            AboveSameTileGroup = 0
        CurrentQIndex = base_q_idx
        init_bool( tile_size )
        decode_tile( )
        exit_bool( )
    }
    if (tg_end == NumTiles - 1) {
        if ( !error_resilient_mode &amp;&amp; !frame_parallel_decoding_mode ) {
            update_cdf( )
        }
        decode_frame( )
        SeenFrameHeader = 0
    }
}
</code></pre>

<h4 id="decode-tile-syntax">Decode Tile Syntax</h4>

<pre class="syntax"><code>decode_tile( ) {
    if ( !dependent_tiles || TileNum == tg_start) {
        clear_above_context( )
    }
    for ( i = 0; i &lt; FRAME_LF_COUNT; i++ )
        DeltaLF[ i ] = 0
    for ( plane = 0; plane &lt; 3; plane++ ) {
        for ( pass = 0; pass &lt; 2; pass++ ) {
            RefSgrXqd[ plane ][ pass ] = Sgrproj_Xqd_Mid[ pass ]
            for ( i = 0; i &lt; WIENER_COEFFS; i++ ) {
                RefLrWiener[ plane ][ pass ][ i ] = Wiener_Taps_Mid[ i ]
            }
        }
    }
    sbSize = use_128x128_superblock ? BLOCK_128X128 : BLOCK_64X64
    sbSize4 = Num_4x4_Blocks_Wide[ sbSize ]
    for ( r = MiRowStart; r &lt; MiRowEnd; r += sbSize4 ) {
        clear_left_context( )
        for ( c = MiColStart; c &lt; MiColEnd; c += sbSize4 ) {
            ReadDeltas = delta_q_present
            clear_cdef( r, c )
            clear_block_decoded_flags( c &lt; ( MiColEnd - 1 ) )
            decode_partition( r, c, sbSize )
            decode_lr( r, c, sbSize )
        }
    }
}
</code></pre>

<p>where Sgrproj_Xqd_Mid and Wiener_Taps_Mid are constant lookup tables specified as:</p>

<pre><code class="language-c">Wiener_Taps_Mid[3] = {  3,  -7,  15 }

Sgrproj_Xqd_Mid[2] = { -32,  31 }
</code></pre>

<h4 id="clear-block-decoded-flags-function">Clear Block Decoded Flags Function</h4>

<pre class="syntax"><code>clear_block_decoded_flags( notLastColumn ) {
    sbSize = use_128x128_superblock ? 128 : 64
    for ( plane = 0; plane &lt; 1 + HasChroma * 2; plane++ ) {
        subX = (plane &gt; 0) ? subsampling_x : 0
        subY = (plane &gt; 0) ? subsampling_y : 0
        for ( y = -1; y &lt;= ( sbSize &gt;&gt; ( MI_SIZE_LOG2 + subY ) ); y++ ) 
            for ( x = -1; x &lt;= ( sbSize &gt;&gt; ( MI_SIZE_LOG2 + subX ) ); x++ ) {
                BlockDecoded[ plane ][ y ][ x ] = ( y &lt; 0 || x &lt; 0 )
            }
        BlockDecoded[ plane ][ -1 ][ sbSize &gt;&gt; ( MI_SIZE_LOG2 + subX ) ] = notLastColumn
        BlockDecoded[ plane ][ sbSize &gt;&gt; ( MI_SIZE_LOG2 + subY ) ][ -1 ] = 0
    }
}
</code></pre>

<h4 id="decode-partition-syntax">Decode Partition Syntax</h4>

<pre class="syntax"><code>decode_partition( r, c, bSize ) {
    if ( r &gt;= MiRows || c &gt;= MiCols )
        return 0
    num4x4 = Num_4x4_Blocks_Wide[ bSize ]
    halfBlock4x4 = num4x4 &gt;&gt; 1
    quarterBlock4x4 = halfBlock4x4 &gt;&gt; 1
    hasRows = ( r + halfBlock4x4 ) &lt; MiRows
    hasCols = ( c + halfBlock4x4 ) &lt; MiCols
    if (bSize &lt; BLOCK_8X8) {
        partition = PARTITION_NONE
    } else if ( hasRows &amp;&amp; hasCols ) {
        <b class="syntax-element">partition</b>                                                            S
    } else if ( hasCols ) {
        <b class="syntax-element">split_or_horz</b>                                                        S
        partition = split_or_horz ? PARTITION_SPLIT : PARTITION_HORZ
    } else if ( hasRows ) {
        <b class="syntax-element">split_or_vert</b>                                                        S
        partition = split_or_vert ? PARTITION_SPLIT : PARTITION_VERT
    } else {
        partition = PARTITION_SPLIT
    }
    subSize = Partition_Subsize[ partition ][ bSize ]
    splitSize = Partition_Subsize[ PARTITION_SPLIT ][ bSize ]
    if ( partition == PARTITION_NONE ) {
        decode_block( r, c, subSize )
    } else if ( partition == PARTITION_HORZ ) {
        decode_block( r, c, subSize )
        if ( hasRows )
            decode_block( r + halfBlock4x4, c, subSize )
    } else if ( partition == PARTITION_VERT ) {
        decode_block( r, c, subSize )
        if ( hasCols )
            decode_block( r, c + halfBlock4x4, subSize )
    } else if ( partition == PARTITION_SPLIT ) {
        decode_partition( r, c, subSize )
        decode_partition( r, c + halfBlock4x4, subSize )
        decode_partition( r + halfBlock4x4, c, subSize )
        decode_partition( r + halfBlock4x4, c + halfBlock4x4, subSize )
    } else if ( partition == PARTITION_HORZ_A ) {
        decode_block( r, c, splitSize )
        decode_block( r, c + halfBlock4x4, splitSize )
        decode_block( r + halfBlock4x4, c, subSize )
    } else if ( partition == PARTITION_HORZ_B ) {
        decode_block( r, c, subSize )
        decode_block( r + halfBlock4x4, c, splitSize )
        decode_block( r + halfBlock4x4, c + halfBlock4x4, splitSize )
    } else if ( partition == PARTITION_VERT_A ) {
        decode_block( r, c, splitSize )
        decode_block( r + halfBlock4x4, c, splitSize )
        decode_block( r, c + halfBlock4x4, subSize )
    } else if ( partition == PARTITION_VERT_B ) {
        decode_block( r, c, subSize )
        decode_block( r, c + halfBlock4x4, splitSize )
        decode_block( r + halfBlock4x4, c + halfBlock4x4, splitSize )
    } else if ( partition == PARTITION_HORZ_4 ) {
        decode_block( r + quarterBlock4x4 * 0, c, subSize )
        decode_block( r + quarterBlock4x4 * 1, c, subSize )
        decode_block( r + quarterBlock4x4 * 2, c, subSize )
        decode_block( r + quarterBlock4x4 * 3, c, subSize )
    } else {
        decode_block( r, c + quarterBlock4x4 * 0, subSize )
        decode_block( r, c + quarterBlock4x4 * 1, subSize )
        decode_block( r, c + quarterBlock4x4 * 2, subSize )
        decode_block( r, c + quarterBlock4x4 * 3, subSize )
    }
}
</code></pre>

<h4 id="decode-block-syntax">Decode Block Syntax</h4>

<pre class="syntax"><code>decode_block( r, c, subSize ) {
    MiRow = r
    MiCol = c
    MiSize = subSize
    AvailU = is_inside( r - 1, c )
    AvailL = is_inside( r, c - 1 )
    bw4 = Num_4x4_Blocks_Wide[ subSize ]
    bh4 = Num_4x4_Blocks_High[ subSize ]
    if ( bh4 == 1 &amp;&amp; subsampling_y &amp;&amp; (MiRow &amp; 1) == 0 )
        HasChroma = 0
    else if ( bw4 == 1 &amp;&amp; subsampling_x &amp;&amp; (MiCol &amp; 1) == 0 )
        HasChroma = 0
    else
        HasChroma = 1
    mode_info( )
    for ( y = 0; y &lt; bh4; y++ ) {
        for ( x = 0; x &lt; bw4; x++ ) {
            YModes [ r + y ][ c + x ] = YMode
            for( refList = 0; refList &lt; 2; refList++ )
                RefFrames[ r + y ][ c + x ][ refList ] = RefFrame[ refList ]
            if ( is_inter ) {
                for ( dir = 0; dir &lt; 2; dir++ ) {
                    InterpFilters[ r + y ][ c + x ][ dir ] = interp_filter[ dir ]
                }
                for( refList = 0; refList &lt; 2; refList++ ) {
                    Mvs[ r + y ][ c + x ][ refList ] = Mv[ refList ]
                    PredMvs[ r + y ][ c + x ][ refList ] = PredMv[ refList ]
                }
            }
        }
    }
    residual( )
    for ( y = 0; y &lt; bh4; y++ ) {
        for ( x = 0; x &lt; bw4; x++ ) {
            Skips[ r + y ][ c + x ] = skip
            TxSizes[ r + y ][ c + x ] = tx_size
            MiSizes[ r + y ][ c + x ] = MiSize
            TileNums[ r + y ][ c + x ] = TileNum
            TileStarts[ r + y ][ c + x ] = tg_start
            SegmentIds[ r + y ][ c + x ] = segment_id
            PaletteSizes[ 0 ][ r + y ][ c + x ] = PaletteSizeY
            PaletteSizes[ 1 ][ r + y ][ c + x ] = PaletteSizeUV
            for ( i = 0; i &lt; PaletteSizeY; i++ )
                PaletteColors[ 0 ][ r + y ][ c + x ][ i ] = palette_colors_y[ i ]
            for ( i = 0; i &lt; PaletteSizeUV; i++ )
                PaletteColors[ 1 ][ r + y ][ c + x ][ i ] = palette_colors_u[ i ]
            for ( i = 0; i &lt; FRAME_LF_COUNT; i++ )
                DeltaLFs[ r + y ][ c + x ][ i ] = DeltaLF[ i ]
        }
    }
}
</code></pre>

<h4 id="mode-info-syntax">Mode Info Syntax</h4>

<pre class="syntax"><code>mode_info( ) {
    if ( FrameIsIntra )
        intra_frame_mode_info( )
    else
        inter_frame_mode_info( )
}
</code></pre>

<h4 id="intra-frame-mode-info-syntax">Intra Frame Mode Info Syntax</h4>

<pre class="syntax"><code>intra_frame_mode_info( ) {
    intra_segment_id( )
    read_skip( )
    read_cdef( )
    read_delta_qindex( )
    read_delta_lf( )
    ReadDeltas = 0
    read_tx_size( 1 )
    RefFrame[ 0 ] = INTRA_FRAME
    RefFrame[ 1 ] = NONE
    is_inter = 0
    <b class="syntax-element">intra_frame_y_mode</b>                                                       S
    YMode = intra_frame_y_mode
    if (HasChroma) {
        <b class="syntax-element">uv_mode</b>                                                              S
        UVMode = uv_mode
        if (UVMode == UV_CFL_PRED) {
            read_cfl_alphas( )
        }
    }
    intra_angle_info( )
    PaletteSizeY = 0
    PaletteSizeUV = 0
    if (( MiSize &gt;= BLOCK_8X8 ) &amp;&amp; ( MiSize &lt;= BLOCK_64X64 ) &amp;&amp;
          allow_screen_content_tools )
        palette_mode_info( )
}
</code></pre>

<h4 id="intra-segment-id-syntax">Intra Segment ID Syntax</h4>

<pre class="syntax"><code>intra_segment_id( ) {
    if ( segmentation_enabled &amp;&amp; segmentation_update_map )
        <b class="syntax-element">segment_id</b>                                                           S
    else
        segment_id = 0
    Lossless = LosslessArray[ segment_id ]
}
</code></pre>

<h4 id="skip-syntax">Skip Syntax</h4>

<pre class="syntax"><code>read_skip() {
    if ( seg_feature_active( SEG_LVL_SKIP ) ) {
        skip = 1
    } else {
        <b class="syntax-element">skip</b>                                                                 S
    }
}
</code></pre>

<h4 id="quantizer-index-delta-syntax">Quantizer Index Delta Syntax</h4>

<pre class="syntax"><code>read_delta_qindex( ) {
    if ( MiSize == BLOCK_LARGEST &amp;&amp; skip )
        return
    if ( ReadDeltas ) {
        <b class="syntax-element">delta_q_abs</b>                                                          S
        if ( delta_q_abs == DELTA_Q_SMALL ) {
            <b class="syntax-element">delta_q_rem_bits</b>                                                 L(3)
            delta_q_rem_bits++
            <b class="syntax-element">delta_q_abs_bits</b>                                                 L(delta_q_rem_bits)
            delta_q_abs = delta_q_abs_bits + (1 &lt;&lt; delta_q_rem_bits) + 1
        }
        if (delta_q_abs) {
            <b class="syntax-element">delta_q_sign_bit</b>                                                 L(1)
            reducedDeltaQIndex = delta_q_sign_bit ? -delta_q_abs : delta_q_abs
            CurrentQIndex = Clip3(1, 255, CurrentQIndex + (reducedDeltaQIndex &lt;&lt; delta_q_res))
        }
    }
}
</code></pre>

<h4 id="loop-filter-delta-syntax">Loop Filter Delta Syntax</h4>

<pre class="syntax"><code>read_delta_lf( ) {
    if ( MiSize == BLOCK_LARGEST &amp;&amp; skip )
        return
    if ( ReadDeltas &amp;&amp; delta_lf_present ) {
        for ( i = 0; i &lt; ( delta_lf_multi ? FRAME_LF_COUNT : 1 ); i++ ) {
            <b class="syntax-element">delta_lf_abs</b>                                                     S
            if ( delta_lf_abs == DELTA_LF_SMALL ) {
                <b class="syntax-element">delta_lf_rem_bits</b>                                            L(3)
                n = delta_lf_rem_bits + 1
                <b class="syntax-element">delta_lf_abs_bits</b>                                            L(n)
                deltaLfAbs = delta_lf_abs_bits +
                               ( 1 &lt;&lt; n ) + 1
            } else {
                deltaLfAbs = delta_lf_abs
            }
            if ( deltaLfAbs ) {
                <b class="syntax-element">delta_lf_sign_bit</b>                                            L(1)
                reducedDeltaLfLevel = delta_lf_sign_bit ?
                                      -deltaLfAbs :
                                       deltaLfAbs
                DeltaLF[ i ] = Clip3( 0, MAX_LOOP_FILTER, DeltaLF[ i ] +
                                  (reducedDeltaLfLevel &lt;&lt; delta_lf_res) )
            }
        }
    }
}
</code></pre>

<h4 id="segmentation-feature-active-function">Segmentation Feature Active Function</h4>

<pre class="syntax"><code>seg_feature_active_idx( idx, feature ) {
    return segmentation_enabled &amp;&amp; FeatureEnabled[ idx ][ feature ]
}

seg_feature_active( feature ) {
    return seg_feature_active_idx( segment_id, feature )
}
</code></pre>

<h4 id="tx-size-syntax">TX Size Syntax</h4>

<pre class="syntax"><code>read_tx_size( allowSelect ) {
    largestTxSize = Tx_Mode_To_Biggest_Tx_Size[ TxMode ]
    maxTxSize = Max_Tx_Size[ MiSize ]
    maxRectTxSize = Max_Tx_Size_Rect[ MiSize ]
    maxCodedTxSize = maxTxSize + Rect_Tx_Allowed[ MiSize ]
    if ( MiSize &gt; BLOCK_4X4 ) {
        if ( allowSelect &amp;&amp; TxMode == TX_MODE_SELECT ) {
            <b class="syntax-element">tx_size</b>                                                          S
            if (tx_size &gt; maxTxSize )
                tx_size = maxRectTxSize
        } else {
            if ( Tx_Size_Sqr_Up[ maxRectTxSize ] &lt;= largestTxSize )
                tx_size = maxRectTxSize
            else
                tx_size = largestTxSize
        }
    } else {
        tx_size = maxRectTxSize
    }
}
</code></pre>

<p>The Rect_Tx_Allowed table specifies which block sizes are allowed
to use a rectangular transform; the table is defined as:</p>

<pre><code class="language-c">Rect_Tx_Allowed[ BLOCK_SIZES ] = {
    0, 1, 1, 0, 1, 1, 0, 1, 1, 0, 0, 0,
    0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 1, 1,
}
</code></pre>

<p>The Tx_Mode_To_Biggest_Tx_Size table is defined as:</p>

<pre><code class="language-c">Tx_Mode_To_Biggest_Tx_Size[ TX_MODES ] = {
    TX_4X4,
    TX_8X8,
    TX_16X16,
    TX_32X32,
    TX_64X64,
    TX_64X64
}
</code></pre>

<h4 id="inter-tx-size-syntax">Inter TX Size Syntax</h4>

<p>read_inter_tx_size is used in inter frames to read the transform sizes.</p>

<p>Either a single transform size is used for the whole block, or a tree of transform sizes is generated.</p>

<p>As the maximum transform size is 32 samples, a block may require several transform trees to be coded.</p>

<pre class="syntax"><code>read_inter_tx_size( ) {
    bw4 = Num_4x4_Blocks_Wide[ MiSize ]
    bh4 = Num_4x4_Blocks_High[ MiSize ]
    if (tx_mode == TX_MODE_SELECT &amp;&amp; 
          MiSize &gt; BLOCK_4X4 &amp;&amp; is_inter &amp;&amp;
          !skip &amp;&amp; !Lossless) {
        MinTxSize = TX_32X32
        maxTxSz = Max_Tx_Size_Rect[ MiSize ]
        txW4 = Tx_Width[ maxTxSz ] / MI_SIZE
        txH4 = Tx_Height[ maxTxSz ] / MI_SIZE
        for ( row = MiRow; row &lt; MiRow + bh4; row += txH4 )
            for ( col = MiCol; col &lt; MiCol + bw4; col += txW4 )
                read_var_tx_size( row, col, maxTxSz, 0 )
    } else {
        read_tx_size(!skip || !is_inter)
        for ( row = MiRow; row &lt; MiRow + bh4; row++ )
            for ( col = MiCol; col &lt; MiCol + bw4; col++ )
                InterTxSizes[ row ][ col ] = tx_size
        MinTxSize = Tx_Size_Sqr[ tx_size ]
    }
}
</code></pre>

<h4 id="var-tx-size-syntax">Var TX Size Syntax</h4>

<p>read_var_tx_size is used to read a transform size tree.</p>

<p>The original transform size may be square or rectangular, but only square transform sizes are produced if split.</p>

<pre class="syntax"><code>read_var_tx_size( row, col, txSz, depth) {
    if ( row &gt;= MiRows || col &gt;= MiCols )
        return
    if (txSz == TX_4X4 || depth == MAX_VARTX_DEPTH) {
        txfm_split = 0
    } else {
        <b class="syntax-element">txfm_split</b>                                                           S
    }
    w4 = Tx_Width[ txSz ] / MI_SIZE
    h4 = Tx_Height[ txSz ] / MI_SIZE
    if (txfm_split) {
        subTxSz = Split_Tx_Size[ txSz ]
        step4 = Tx_Width[ subTxSz ] / MI_SIZE
        for (i = 0; i &lt; h4; i += step4)
            for (j = 0; j &lt; w4; j += step4)
                read_var_tx_size( row + i, col + j, subTxSz, depth+1)
    } else {
        for (i = 0; i &lt; h4; i++ )
            for (j = 0; j &lt; w4; j++ )
                InterTxSizes[ row + i ][ col + j ] = txSz
        MinTxSize = Min( MinTxSize, Tx_Size_Sqr[ txSz ] )
        tx_size = txSz
    }
}
</code></pre>

<p>where Split_Tx_Size defines the transform size to use if txfm_split is equal to 1, and is defined as:</p>

<pre><code class="language-c">Split_Tx_Size[TX_SIZES_ALL] = {
  TX_4X4,
  TX_4X4,
  TX_8X8,
  TX_16X16,
  TX_32X32,
  TX_4X4,
  TX_4X4,
  TX_8X8,
  TX_8X8,
  TX_16X16,
  TX_16X16,
  TX_32X32,
  TX_32X32,
}
</code></pre>

<h4 id="inter-frame-mode-info-syntax">Inter Frame Mode Info Syntax</h4>

<pre class="syntax"><code>inter_frame_mode_info( ) {
    LeftRefFrame[ 0 ] = AvailL ? RefFrames[ MiRow ][ MiCol-1 ][ 0 ] : INTRA_FRAME
    AboveRefFrame[ 0 ] = AvailU ? RefFrames[ MiRow-1 ][ MiCol ][ 0 ] : INTRA_FRAME
    LeftRefFrame[ 1 ] = AvailL ? RefFrames[ MiRow ][ MiCol-1 ][ 1 ] : NONE
    AboveRefFrame[ 1 ] = AvailU ? RefFrames[ MiRow-1 ][ MiCol ][ 1 ] : NONE
    LeftIntra = LeftRefFrame[ 0 ] &lt;= INTRA_FRAME
    AboveIntra = AboveRefFrame[ 0 ] &lt;= INTRA_FRAME
    LeftSingle = LeftRefFrame[ 1 ] &lt;= INTRA_FRAME
    AboveSingle = AboveRefFrame[ 1 ] &lt;= INTRA_FRAME
    inter_segment_id( )
    read_skip( )
    read_cdef( )
    read_delta_qindex( )
    read_delta_lf( )
    ReadDeltas = 0
    read_is_inter( )
    read_inter_tx_size( )
    if ( is_inter )
        inter_block_mode_info( )
    else
        intra_block_mode_info( )
}
</code></pre>

<h4 id="inter-segment-id-syntax">Inter Segment ID Syntax</h4>

<pre class="syntax"><code>inter_segment_id( ) {
    if ( segmentation_enabled ) {
        predictedSegmentId = get_segment_id( )
        if ( segmentation_update_map ) {
            if ( segmentation_temporal_update == 1 ) {
                <b class="syntax-element">seg_id_predicted</b>                                             S
                if ( seg_id_predicted )
                    segment_id = predictedSegmentId
                else
                    <b class="syntax-element">segment_id</b>                                               S
                for ( i = 0; i &lt; Num_4x4_Blocks_Wide[ MiSize ]; i++ )
                    AboveSegPredContext[ MiCol + i ] = seg_id_predicted
                for ( i = 0; i &lt; Num_4x4_Blocks_High[ MiSize ]; i++ )
                    LeftSegPredContext[ MiRow + i ] = seg_id_predicted
            } else {
                <b class="syntax-element">segment_id</b>                                                   S
            }
        } else {
            segment_id = predictedSegmentId
        }
    } else {
        segment_id = 0
    }
    Lossless = LosslessArray[ segment_id ]
}
</code></pre>

<h4 id="is-inter-syntax">Is Inter Syntax</h4>

<pre class="syntax"><code>read_is_inter( ) {
    if ( seg_feature_active ( SEG_LVL_REF_FRAME ) )
        is_inter = FeatureData[ segment_id ][ SEG_LVL_REF_FRAME ] != INTRA_FRAME
    else
        <b class="syntax-element">is_inter</b>                                                             S
}
</code></pre>

<h4 id="get-segment-id-function">Get Segment ID Function</h4>

<p>The predicted segment id is the smallest value found in the on-screen region
of the segmentation map covered by the current block.</p>

<pre class="syntax"><code>get_segment_id( ) {
    bw4 = Num_4x4_Blocks_Wide[ MiSize ]
    bh4 = Num_4x4_Blocks_High[ MiSize ]
    xMis = Min( MiCols - MiCol, bw4 )
    yMis = Min( MiRows - MiRow, bh4 )
    seg = 7
    for ( y = 0; y &lt; yMis; y++ )
        for ( x = 0; x &lt; xMis; x++ )
            seg = Min( seg, PrevSegmentIds[ MiRow + y ][ MiCol + x ] )
    return seg
}
</code></pre>

<h4 id="intra-block-mode-info-syntax">Intra Block Mode Info Syntax</h4>

<pre class="syntax"><code>intra_block_mode_info( ) {
    RefFrame[ 0 ] = INTRA_FRAME
    RefFrame[ 1 ] = NONE
    <b class="syntax-element">y_mode</b>                                                                   S
    YMode = y_mode
    if (HasChroma) {
        <b class="syntax-element">uv_mode</b>                                                              S
        UVMode = uv_mode
        if (UVMode == UV_CFL_PRED) {
            read_cfl_alphas( )
        }
    }
    intra_angle_info( )
    PaletteSizeY = 0
    PaletteSizeUV = 0
    if (( MiSize &gt;= BLOCK_8X8 ) &amp;&amp; ( MiSize &lt;= BLOCK_64X64 ) &amp;&amp;
          allow_screen_content_tools )
        palette_mode_info( )
}
</code></pre>

<h4 id="inter-block-mode-info-syntax">Inter Block Mode Info Syntax</h4>

<pre class="syntax"><code>inter_block_mode_info( ) {
    PaletteSizeY = 0
    PaletteSizeUV = 0
    read_ref_frames( )
    for ( j = 0; j &lt; 2; j++ ) {
        if ( RefFrame[ j ] &gt; INTRA_FRAME ) {
            find_mv_list( j )
            find_mv_stack( j )
        }
    }
    isCompound = RefFrame[ 1 ] &gt; INTRA_FRAME
    if ( isCompound ) {
        compound_context( )
        find_mv_stack( -1 )
    }
    if ( seg_feature_active( SEG_LVL_SKIP ) ||
         seg_feature_active( SEG_LVL_GLOBALMV ) ) {
        YMode = GLOBALMV
    } else if ( isCompound ) {
        <b class="syntax-element">compound_mode</b>                                                        S
        YMode = NEAREST_NEARESTMV + compound_mode
    } else {
        <b class="syntax-element">new_mv</b>                                                               S
        if ( new_mv == 0 ) {
            YMode = NEWMV
        } else if ( AllZero ) {
            YMode = GLOBALMV
        } else {
            <b class="syntax-element">zero_mv</b>                                                          S
            if ( zero_mv == 0 ) {
                YMode = GLOBALMV
            } else {
                <b class="syntax-element">ref_mv</b>                                                       S
                YMode = (ref_mv == 0) ? NEARESTMV : NEARMV
            }
        }
        YMode = NEARESTMV + inter_mode
    }
    RefMvIdx = 0
    if (YMode == NEWMV || YMode == NEW_NEWMV) {
        for (idx = 0; idx &lt; 2; idx++) {
            if (NumMvFound &gt; idx + 1) {
                <b class="syntax-element">drl_mode</b>                                                     S
                if (drl_mode == 0) {
                  RefMvIdx = idx
                  break
                }
                RefMvIdx = idx + 1
            }
        }
    } else if ( has_nearmv( ) ) {
        RefMvIdx = 1
        for (idx = 1; idx &lt; 3; idx++) {
            if (NumMvFound &gt; idx + 1) {
                <b class="syntax-element">drl_mode</b>                                                     S
                if ( drl_mode == 0 ) {
                    RefMvIdx = idx
                    break
                }
                RefMvIdx = idx + 1
            }
        }
    }
    assign_mv( isCompound )
    read_interintra_mode( isCompound )
    read_motion_mode( isCompound )
    read_compound_type( isCompound )
    if ( interpolation_filter == SWITCHABLE ) {
        for ( dir = 0; dir &lt; 2; dir++ ) {
            if ( needs_interp_filter( ) ) {
                <b class="syntax-element">interp_filter[ dir ]</b>                                         S
            } else {
                interp_filter[ dir ] = EIGHTTAP
            }
        }
    } else {
        for ( dir = 0; dir &lt; 2; dir++ )
            interp_filter[ dir ] = interpolation_filter
    }
}
</code></pre>

<p>The function has_nearmv is defined as:</p>

<pre class="syntax"><code>has_nearmv( ) {
    return (YMode == NEARMV || YMode == NEAR_NEARMV
            || YMode == NEAR_NEWMV || YMode == NEW_NEARMV)
}
</code></pre>

<p>The function needs_interp_filter is defined as:</p>

<pre class="syntax"><code>needs_interp_filter( ) {
    if (YMode == GLOBALMV) {
        return gm_type[ RefFrame[ 0 ] ] &lt;= TRANSLATION
    } else if (YMode == GLOBAL_GLOBALMV ) {
        return gm_type[ RefFrame[ 0 ] ] &lt;= TRANSLATION || gm_type[ RefFrame[ 1 ] ] &lt;= TRANSLATION
    } else {
        return 1
    }
}
</code></pre>

<h4 id="ref-frames-syntax">Ref Frames Syntax</h4>

<pre class="syntax"><code>read_ref_frames( ) {
    if ( seg_feature_active( SEG_LVL_REF_FRAME ) ) {
        RefFrame[ 0 ] = FeatureData[ segment_id ][ SEG_LVL_REF_FRAME ]
        RefFrame[ 1 ] = NONE
    } else if ( seg_feature_active( SEG_LVL_SKIP ) ||
                seg_feature_active( SEG_LVL_GLOBALMV ) ) {
        RefFrame[ 0 ] = LAST_FRAME
        RefFrame[ 1 ] = NONE
    } else {
        if ( ReferenceMode == REFERENCE_MODE_SELECT )
            <b class="syntax-element">comp_mode</b>                                                        S
        else
            comp_mode = ReferenceMode
        if ( comp_mode == COMPOUND_REFERENCE ) {
            <b class="syntax-element">comp_ref_type</b>                                                    S
            if (comp_ref_type == UNIDIR_COMP_REFERENCE) {
                <b class="syntax-element">uni_comp_ref</b>                                                 S
                if (uni_comp_ref) {
                    RefFrame[0] = BWDREF_FRAME
                    RefFrame[1] = ALTREF_FRAME
                } else {
                    <b class="syntax-element">uni_comp_ref_p1</b>                                          S
                    if (uni_comp_ref_p1) {
                        <b class="syntax-element">uni_comp_ref_p2</b>                                      S
                        if (uni_comp_ref_p2) {
                          RefFrame[0] = LAST_FRAME
                          RefFrame[1] = GOLDEN_FRAME
                        } else {
                          RefFrame[0] = LAST_FRAME
                          RefFrame[1] = LAST3_FRAME
                        }
                    } else {
                        RefFrame[0] = LAST_FRAME
                        RefFrame[1] = LAST2_FRAME
                    }
                }
            } else {
                <b class="syntax-element">comp_ref</b>                                                     S
                if ( comp_ref == 0 ) {
                    <b class="syntax-element">comp_ref_p1</b>                                              S
                    RefFrame[ 0 ] = comp_ref_p1 ?
                                    LAST_FRAME : LAST2_FRAME
                } else {
                    <b class="syntax-element">comp_ref_p2</b>                                              S
                    RefFrame[ 0 ] = comp_ref_p2 ?
                                    GOLDEN_FRAME : LAST3_FRAME
                }
                <b class="syntax-element">comp_bwdref</b>                                                  S
                if ( comp_bwdref == 0 ) {
                    <b class="syntax-element">comp_bwdref_p1</b>                                           S
                    RefFrame[ 1 ] = comp_bwdref_p1 ?
                                     ALTREF2_FRAME : BWDREF_FRAME
                } else {
                    RefFrame[ 1 ] = ALTREF_FRAME
                }
            }
        } else {
            <b class="syntax-element">single_ref_p1</b>                                                    S
            if ( single_ref_p1 ) {
                <b class="syntax-element">single_ref_p2</b>                                                S
                if ( single_ref_p2 == 0 ) {
                    <b class="syntax-element">single_ref_p6</b>                                            S
                    RefFrame[ 0 ] = single_ref_p6 ?
                                     ALTREF2_FRAME : BWDREF_FRAME
                } else {
                    RefFrame[ 0 ] = ALTREF_FRAME
                }
            } else {
                <b class="syntax-element">single_ref_p3</b>                                                S
                if ( single_ref_p3 == 0 ) {
                    <b class="syntax-element">single_ref_p5</b>                                            S
                    RefFrame[ 0 ] = single_ref_p5 ?
                                     GOLDEN_FRAME : LAST3_FRAME
                } else {
                    <b class="syntax-element">single_ref_p4</b>                                            S
                    RefFrame[ 0 ] = single_ref_p4 ?
                                     LAST2_FRAME : LAST_FRAME
                }
            }
            RefFrame[ 1 ] = NONE
        }
    }
}
</code></pre>

<h4 id="assign-mv-syntax">Assign MV Syntax</h4>

<pre class="syntax"><code>assign_mv( isCompound ) {
    bw = Block_Width[ MiSize ]
    bh = Block_Height[ MiSize ]
    Mv[ 1 ] = ZeroMvs[ 1 ]
    PredMv[ 1 ] = ZeroMvs[ 1 ]
    for ( i = 0; i &lt; 1 + isCompound; i++ ) {
        compMode = get_mode( i )
        if ( compMode == GLOBALMV ) {
            PredMv[ i ] = ZeroMvs[ i ]
        } else {
            pos = ( compMode == NEARESTMV ) ? 0 : RefMvIdx
            useStack = pos &lt; NumMvFound
            if ( compMode == NEWMV &amp;&amp; NumMvFound &lt;= 1)
                useStack = 0
            if ( useStack ) {
                PredMv[ i ] = RefStackMv[ pos ][ i ]
                if ( YMode == NEARMV &amp;&amp; pos &gt; 1 ) {
                    // No clamping
                } else {
                    PredMv[ i ][ 0 ] = clamp_mv_row( PredMv[ i ][ 0 ], MV_BORDER + bh * 8)
                    PredMv[ i ][ 1 ] = clamp_mv_col( PredMv[ i ][ 1 ], MV_BORDER + bw * 8)
                }
            } else {
                PredMv[ i ] = RefListMv[ i ][ pos ]
            }
        }
        if ( compMode == NEWMV )
            read_mv( i )
    }
}
</code></pre>

<h4 id="read-motion-mode-syntax">Read Motion Mode Syntax</h4>

<pre class="syntax"><code>read_motion_mode( isCompound ) {
    if ( Min( Block_Width[ MiSize ],
              Block_Height[ MiSize ] ) &lt; 8 ) {
        motion_mode = SIMPLE
        return
    }
    if ( !force_integer_mv &amp;&amp; 
         ( YMode == GLOBALMV || YMode == GLOBAL_GLOBALMV ) ) {
        if (gm_type[ RefFrame[ 0 ] ] &gt; TRANSLATION) {
            motion_mode = SIMPLE
            return
        }
    }
    if ( isCompound || !has_overlappable_candidates( ) ) {
        motion_mode = SIMPLE
        return
    }
    find_warp_samples()
    if ( force_integer_mv || NumSamples == 0) {
        <b class="syntax-element">use_obmc</b>                                                             S
        motion_mode = use_obmc ? OBMC : SIMPLE
    } else {
        <b class="syntax-element">motion_mode</b>                                                          S
    }
}
</code></pre>

<h4 id="read-inter-intra-syntax">Read Inter Intra Syntax</h4>

<pre class="syntax"><code>read_interintra_mode( isCompound ) {
    if ( allow_interintra_compound &amp;&amp; !isCompound &amp;&amp; 
         MiSize &gt;= BLOCK_8X8 &amp;&amp; MiSize &lt;= BLOCK_32X32) {
        <b class="syntax-element">interintra</b>                                                           S
        if (interintra) {
            <b class="syntax-element">interintra_mode</b>                                                  S
            RefFrame[1] = INTRA_FRAME
            AngleDeltaY = 0
            AngleDeltaUV = 0
            n = Wedge_Bits[ MiSize ]
            if ( n &gt; 0 ) {
                <b class="syntax-element">wedge_interintra</b>                                             S
                if (wedge_interintra) {
                    <b class="syntax-element">wedge_index</b>                                              L(n)
                    wedge_sign = 0
                }
            } else {
                wedge_interintra = 0
            }
        }
    } else {
        interintra = 0
    }
}
</code></pre>

<h4 id="read-compound-type-syntax">Read Compound Type Syntax</h4>

<pre class="syntax"><code>read_compound_type( isCompound ) {
    if ( allow_masked_compound &amp;&amp; isCompound &amp;&amp; motion_mode == SIMPLE &amp;&amp; MiSize &gt;= BLOCK_8X8) {
        n = Wedge_Bits[ MiSize ]
        if ( n == 0 ) {
            <b class="syntax-element">compound_type</b>                                                    S
        } else {
            <b class="syntax-element">compound_avg</b>                                                     L(1)
            compound_type = compound_avg ?
                            COMPOUND_AVERAGE : COMPOUND_SEG
        }
        if ( compound_type == COMPOUND_WEDGE ) {
            <b class="syntax-element">wedge_index</b>                                                      L(n)
            <b class="syntax-element">wedge_sign</b>                                                       L(1)
        } else if ( compound_type == COMPOUND_SEG ) {
            <b class="syntax-element">mask_type</b>                                                        L(1)
        }
    } else {
        if ( interintra ) {
            compund_type = wedge_interintra ? COMPOUND_WEDGE : COMPOUND_INTRA
        } else {
            compound_type = COMPOUND_AVERAGE
        }
    }
}
</code></pre>

<h4 id="get-mode-function">Get Mode Function</h4>

<pre class="syntax"><code>get_mode( refList ) {
    if ( refList == 0 ) {
        if (YMode &lt; NEAREST_NEARESTMV)
            compMode = YMode
        else if (YMode == NEW_NEWMV || YMode == NEW_NEARESTMV || YMode == NEW_NEARMV)
            compMode = NEWMV
        else if (YMode == NEAREST_NEARESTMV || YMode == NEAREST_NEWMV)
            compMode = NEARESTMV
        else if (YMode == NEAR_NEARMV || YMode == NEAR_NEWMV)
            compMode = NEARMV
        else
            compMode = GLOBALMV
    } else {
        if (YMode == NEW_NEWMV || YMode == NEAREST_NEWMV || YMode == NEAR_NEWMV)
            compMode = NEWMV
        else if (YMode == NEAREST_NEARESTMV || YMode == NEW_NEARESTMV)
            compMode = NEARESTMV
        else if (YMode == NEAR_NEARMV || YMode == NEW_NEARMV)
            compMode = NEARMV
        else
            compMode = GLOBALMV
    }
    return compMode
}
</code></pre>

<h4 id="mv-syntax">MV Syntax</h4>

<pre class="syntax"><code>read_mv( ref ) {
    diffMv[ 0 ] = 0
    diffMv[ 1 ] = 0
    if ( has_nearmv( ) )
        idx = RefMvIdx - 1
    else
        idx = RefMvIdx
    if ( idx &lt; NumMvFound )
        MvCtx = MvCtxStack[ idx ][ ref ]
    else
        MvCtx = 0
    <b class="syntax-element">mv_joint</b>                                                                 S
    if ( mv_joint == MV_JOINT_HZVNZ || mv_joint == MV_JOINT_HNZVNZ )
        diffMv[ 0 ] = read_mv_component( 0 )
    if ( mv_joint == MV_JOINT_HNZVZ || mv_joint == MV_JOINT_HNZVNZ )
        diffMv[ 1 ] = read_mv_component( 1 )
    Mv[ ref ][ 0 ] = PredMv[ ref ][ 0 ] + diffMv[ 0 ]
    Mv[ ref ][ 1 ] = PredMv[ ref ][ 1 ] + diffMv[ 1 ]
}
</code></pre>

<p class="alert alert-info"><strong>Note:</strong> When has_nearmv() is true, the candidate motion vector to be used is
at index RefMvIdx, but the CDF for the motion vectors is associated with the
previous candidate.</p>

<h4 id="mv-component-syntax">MV Component Syntax</h4>

<pre class="syntax"><code>read_mv_component( comp ) {
    <b class="syntax-element">mv_sign</b>                                                                  S
    <b class="syntax-element">mv_class</b>                                                                 S
    if ( mv_class == MV_CLASS_0 ) {
        <b class="syntax-element">mv_class0_bit</b>                                                        S
        if ( force_integer_mv )
            mv_class0_fr = 3
        else
            <b class="syntax-element">mv_class0_fr</b>                                                     S
        if ( allow_high_precision_mv )
            mv_class0_hp = 1
        else
            <b class="syntax-element">mv_class0_hp</b>                                                     S
        mag = ( ( mv_class0_bit &lt;&lt; 3 ) |
                ( mv_class0_fr &lt;&lt; 1 ) |
                  mv_class0_hp ) + 1
    } else {
        d = 0
        for ( i = 0; i &lt; mv_class; i++ ) {
            <b class="syntax-element">mv_bit</b>                                                           S
            d |= mv_bit &lt;&lt; i
        }
        mag = CLASS0_SIZE &lt;&lt; ( mv_class + 2 )
        if ( force_integer_mv )
            mv_fr = 3
        else
            <b class="syntax-element">mv_fr</b>                                                            S
        if ( allow_high_precision_mv )
            mv_hp = 1
        else
            <b class="syntax-element">mv_hp</b>                                                            S
        mag += ( ( d &lt;&lt; 3 ) | ( mv_fr &lt;&lt; 1 ) | mv_hp ) + 1
    }
    return mv_sign ? -mag : mag
}
</code></pre>

<h4 id="residual-syntax">Residual Syntax</h4>

<pre class="syntax"><code>residual( ) {
    palette_tokens( )

    sbMask = use_128x128_superblock ? 31 : 15
    subBlockMiRow = MiRow &amp; sbMask
    subBlockMiCol = MiCol &amp; sbMask

    for ( plane = 0; plane &lt; 1 + HasChroma * 2; plane++ ) {
        txSz = get_tx_size( plane, tx_size )
        stepX = Tx_Width[ txSz ] &gt;&gt; 2
        stepY = Tx_Height[ txSz ] &gt;&gt; 2
        planeSz = get_plane_residual_size( MiSize, plane )
        num4x4W = Num_4x4_Blocks_Wide[ planeSz ]
        num4x4H = Num_4x4_Blocks_High[ planeSz ]
        log2W = MI_SIZE_LOG2 + Mi_Width_Log2[ planeSz ]
        log2H = MI_SIZE_LOG2 + Mi_Height_Log2[ planeSz ]
        subX = (plane &gt; 0) ? subsampling_x : 0
        subY = (plane &gt; 0) ? subsampling_y : 0
        baseX = (MiCol &gt;&gt; subX) * MI_SIZE
        baseY = (MiRow &gt;&gt; subY) * MI_SIZE
        candRow = (MiRow &gt;&gt; subY) &lt;&lt; subY
        candCol = (MiCol &gt;&gt; subX) &lt;&lt; subX

        IsInterIntra = ( is_inter &amp;&amp; RefFrame[ 1 ] == INTRA_FRAME )
        IsCFL = (plane &gt; 0 &amp;&amp; !is_inter &amp;&amp; UVMode == UV_CFL_PRED)

        if ( IsInterIntra ) {
            if ( interintra_mode == II_DC_PRED ) mode = DC_PRED
            else if ( interintra_mode == II_V_PRED ) mode = V_PRED
            else if ( interintra_mode == II_H_PRED ) mode = H_PRED
            else mode = SMOOTH_PRED
        } else {
            mode = DC_PRED
        }

        if ( IsInterIntra || IsCFL ) {
            predict_intra( plane, baseX, baseY,
                           AvailL,
                           AvailU,
                           BlockDecoded[ plane ]
                                       [ ( subBlockMiRow &gt;&gt; subY ) - 1 ]
                                       [ ( subBlockMiCol &gt;&gt; subX ) + num4x4W ],
                           BlockDecoded[ plane ]
                                       [ ( subBlockMiRow &gt;&gt; subY ) + num4x4H ]
                                       [ ( subBlockMiCol &gt;&gt; subX ) - 1 ],
                           mode,
                           log2W, log2H )
        }

        if ( is_inter ) {
            predW = Block_Width[ MiSize ] &gt;&gt; subX
            predH = Block_Height[ MiSize ] &gt;&gt; subY
            someUseIntra = 0
            for( r = 0; r &lt; num4x4H; r++ )
                for( c = 0; c &lt; num4x4W; c++ )
                    if ( RefFrames[ candRow + r ][ candCol + c ][ 0 ] == INTRA_FRAME )
                        someUseIntra = 1
            if ( someUseIntra ) {
                predW = num4x4W * 4
                predH = num4x4H * 4
                candRow = MiRow
                candCol = MiCol
            }
            r = 0
            for( y = 0; y &lt; num4x4H * 4; y += predH ) {
                c = 0
                for( x = 0; x &lt; num4x4W * 4; x += predW ) {
                    predict_inter( plane, baseX + x, baseY + y,
                                   predW, predH,
                                   candRow + r, candCol + c)
                    c++
                }
                r++
            }
        }

        maxX = (MiCols * MI_SIZE) &gt;&gt; subX
        maxY = (MiRows * MI_SIZE) &gt;&gt; subY
        if (is_inter) {
            transform_tree( plane, baseX, baseY, num4x4W * 4, num4x4H * 4 )
        } else {
            for( y = 0; y &lt; num4x4H; y += stepY )
                for( x = 0; x &lt; num4x4W; x += stepX )
                    transform_block( plane, baseX, baseY, txSz, x, y)
        }
    }
}
</code></pre>

<h4 id="transform-block-syntax">Transform Block Syntax</h4>

<pre class="syntax"><code>transform_block(plane, baseX, baseY, txSz, x, y) {
    startX = baseX + 4 * x
    startY = baseY + 4 * y
    subX = (plane &gt; 0) ? subsampling_x : 0
    subY = (plane &gt; 0) ? subsampling_y : 0
    row = ( startY &lt;&lt; subY ) &gt;&gt; MI_SIZE_LOG2
    col = ( startX &lt;&lt; subX ) &gt;&gt; MI_SIZE_LOG2
    sbMask = use_128x128_superblock ? 31 : 15
    subBlockMiRow = row &amp; sbMask
    subBlockMiCol = col &amp; sbMask
    stepX = Tx_Width[ txSz ] &gt;&gt; MI_SIZE_LOG2
    stepY = Tx_Height[ txSz ] &gt;&gt; MI_SIZE_LOG2
    maxX = (MiCols * MI_SIZE) &gt;&gt; subX
    maxY = (MiRows * MI_SIZE) &gt;&gt; subY
    if ( startX &gt;= maxX || startY &gt;= maxY ) {
        return
    }
    if ( !is_inter ) {
        if ( ( ( plane == 0 ) &amp;&amp; PaletteSizeY ) ||
             ( ( plane != 0 ) &amp;&amp; PaletteSizeUV ) ) {
            predict_palette( plane, startX, startY, x, y, txSz )
        } else if ( IsCFL ) {
            predict_chroma_from_luma( plane, startX, startY, txSz )
        } else {
            mode = ( plane == 0 ) ? YMode : UVMode
            log2W = Tx_Width_Log2[ txSz ]
            log2H = Tx_Height_Log2[ txSz ]
            predict_intra( plane, startX, startY,
                           AvailL || x &gt; 0,
                           AvailU || y &gt; 0,
                           BlockDecoded[ plane ]
                                       [ ( subBlockMiRow &gt;&gt; subY ) + y - 1 ]
                                       [ ( subBlockMiCol &gt;&gt; subX ) + x + stepX ],
                           BlockDecoded[ plane ]
                                       [ ( subBlockMiRow &gt;&gt; subY ) + y + stepY ]
                                       [ ( subBlockMiCol &gt;&gt; subX ) + x - 1 ],
                           mode,
                           log2W, log2H )
        }
        if (plane == 0) {
            MaxLumaW = startX + stepX * 4
            MaxLumaH = startY + stepY * 4
        }
    }
    if ( !skip ) {
        eob = coeffs( plane, startX, startY, txSz )
        if ( eob &gt; 0 )
            reconstruct( plane, startX, startY, txSz )
    }
    for ( i = 0; i &lt; stepY; i++ ) {
        for ( j = 0; j &lt; stepX; j++ ) {
            LoopfilterTxSizes[ plane ]
                             [ (row &gt;&gt; subY) + i ]
                             [ (col &gt;&gt; subX) + j ] = txSz
            BlockDecoded[ plane ]
                        [ ( subBlockMiRow &gt;&gt; subY ) + y + i ]
                        [ ( subBlockMiCol &gt;&gt; subX ) + x + j ] = 1
        }
    }
}
</code></pre>

<h4 id="transform-tree-syntax">Transform Tree Syntax</h4>

<p>transform_tree is used to read a number of transform blocks arranged in a transform tree.</p>

<pre class="syntax"><code>transform_tree( plane, startX, startY, w, h ) {
    subX = (plane &gt; 0) ? subsampling_x : 0
    subY = (plane &gt; 0) ? subsampling_y : 0
    maxX = (MiCols * MI_SIZE) &gt;&gt; subX
    maxY = (MiRows * MI_SIZE) &gt;&gt; subY
    if ( startX &gt;= maxX || startY &gt;= maxY ) {
        return
    }
    row = ( startY &lt;&lt; subY ) &gt;&gt; MI_SIZE_LOG2
    col = ( startX &lt;&lt; subX ) &gt;&gt; MI_SIZE_LOG2
    lumaTxSz = InterTxSizes[ row ][ col ]
    lumaW = Tx_Width[ lumaTxSz ]
    lumaH = Tx_Height[ lumaTxSz ]
    uses64 = w &gt;= 64 || h &gt;= 64 
    isSubsampled = subX || subY
    forceSplit = uses64 &amp;&amp; isSubsampled
    if ( (isSubsampled &amp;&amp; !uses64) ||
         (!isSubsampled &amp;&amp; w &lt;= lumaW &amp;&amp; h &lt;= lumaH) ) {
        txSz = find_tx_size( w, h )
        transform_block( plane, startX, startY, txSz, 0, 0 )
    } else {
        if ( w &gt; h ) {
            transform_tree( plane, startX, startY, w/2, h )
            transform_tree( plane, startX + w / 2, startY, w/2, h )
        } else if ( w &lt; h ) {
            transform_tree( plane, startX, startY, w, h/2 )
            transform_tree( plane, startX, startY + h/2, w, h/2 )
        } else {
            transform_tree( plane, startX, startY, w/2, h/2 )
            transform_tree( plane, startX + w/2, startY, w/2, h/2 )
            transform_tree( plane, startX, startY + h/2, w/2, h/2 )
            transform_tree( plane, startX + w/2, startY + h/2, w/2, h/2 )
        }
    }
}
</code></pre>

<p>where find_tx_size finds the transform size matching the given dimensions and is defined as:</p>

<pre><code class="language-c">find_tx_size( w, h ) {
    for( txSz = 0; txSz &lt; TX_SIZES_ALL; txSz++ )
        if ( Tx_Width[ txSz ] == w &amp;&amp; Tx_Height[ txSz ] == h )
            break
    return txSz
}
</code></pre>

<h4 id="get-tx-size-function">Get TX Size Function</h4>

<pre class="syntax"><code>get_tx_size( plane, txSz ) {
    return plane &gt; 0 ? Uv_Tx_Size[ MiSize ][ txSz ][ subsampling_x ][ subsampling_y ] : txSz
}
</code></pre>

<h4 id="get-plane-residual-size-function">Get Plane Residual Size Function</h4>

<p>The get_plane_residual_size returns the size of a residual block
for the specified plane.
(The residual block will always have width and height at least equal to 4.)</p>

<pre class="syntax"><code>get_plane_residual_size( subsize, plane ) {
    subx = plane &gt; 0 ? subsampling_x : 0
    suby = plane &gt; 0 ? subsampling_y : 0
    return Subsampled_Size[ subsize ][ subx ][ suby ]
}
</code></pre>

<p>The Subsampled_Size table is defined as:</p>

<pre><code class="language-c">Subsampled_Size[ BLOCK_SIZES ][ 2 ][ 2 ] = {
  { { BLOCK_4X4,    BLOCK_4X4},      {BLOCK_4X4,     BLOCK_4X4} },
  { { BLOCK_4X8,    BLOCK_4X4},      {BLOCK_INVALID, BLOCK_4X4} },
  { { BLOCK_8X4,    BLOCK_INVALID},  {BLOCK_4X4,     BLOCK_4X4} },
  { { BLOCK_8X8,    BLOCK_8X4},      {BLOCK_4X8,     BLOCK_4X4} },
  { {BLOCK_8X16,    BLOCK_8X8},      {BLOCK_INVALID, BLOCK_4X8} },
  { {BLOCK_16X8,    BLOCK_INVALID},  {BLOCK_8X8,     BLOCK_8X4} },
  { {BLOCK_16X16,   BLOCK_16X8},     {BLOCK_8X16,    BLOCK_8X8} },
  { {BLOCK_16X32,   BLOCK_16X16},    {BLOCK_INVALID, BLOCK_8X16} },
  { {BLOCK_32X16,   BLOCK_INVALID},  {BLOCK_16X16,   BLOCK_16X8} },
  { {BLOCK_32X32,   BLOCK_32X16},    {BLOCK_16X32,   BLOCK_16X16} },
  { {BLOCK_32X64,   BLOCK_32X32},    {BLOCK_INVALID, BLOCK_16X32} },
  { {BLOCK_64X32,   BLOCK_INVALID},  {BLOCK_32X32,   BLOCK_32X16} },
  { {BLOCK_64X64,   BLOCK_64X32},    {BLOCK_32X64,   BLOCK_32X32} }
  { {BLOCK_64X128,  BLOCK_64X64},    {BLOCK_INVALID, BLOCK_32X64} },
  { {BLOCK_128X64,  BLOCK_INVALID},  {BLOCK_64X64,   BLOCK_64X32} },
  { {BLOCK_128X128, BLOCK_128X64},   {BLOCK_64X128,  BLOCK_64X64} },
  { {BLOCK_4X16,    BLOCK_4X8},      {BLOCK_INVALID, BLOCK_4X8} },
  { {BLOCK_16X4,    BLOCK_INVALID},  {BLOCK_8X4,     BLOCK_8X4} },
  { {BLOCK_8X32,    BLOCK_8X16},     {BLOCK_INVALID, BLOCK_4X16} },
  { {BLOCK_32X8,    BLOCK_INVALID},  {BLOCK_16X8,    BLOCK_16X4} },
  { {BLOCK_16X64,   BLOCK_16X32},    {BLOCK_INVALID, BLOCK_8X32} },
  { {BLOCK_64X16,   BLOCK_INVALID},  {BLOCK_32X16,   BLOCK_32X8} },
  { {BLOCK_32X128,  BLOCK_32X64},    {BLOCK_INVALID, BLOCK_16X64} },
  { {BLOCK_128X32,  BLOCK_INVALID},  {BLOCK_64X32,   BLOCK_64X16} },
}
</code></pre>

<h4 id="coefficients-syntax">Coefficients Syntax</h4>

<pre class="syntax"><code>coeffs( plane, startX, startY, txSz ) {
    txSzCtx = Tx_Size_Sqr_Up[txSz]
    PlaneTxType = TxTypes[ startY ][ startX ]
    ptype = plane &gt; 0
    if ( txSzCtx == TX_64X64 )
        txScale = 2
    else if ( txSzCtx == TX_32X32 )
        txScale = 1
    else 
        txScale = 0
    denom = 1 &lt;&lt; txScale
    segEob = Min( 1024, Tx_Width[ txSz ] * Tx_Height[ txSz ] )
    
    for ( c = 0; c &lt; segEob; c++ )
        Quant[c] = 0
    
    eob = 0
    culLevel = 0
    dcCategory = 0
    
    <b class="syntax-element">all_zero</b>                                                                 S
    if ( all_zero ) {
        c = 0
        if ( plane == 0 ) {
            for ( i = 0; i &lt; ( Tx_Width[ txSz ] &gt;&gt; 2 ); i++ ) {
                for ( j = 0; j &lt; ( Tx_Height[ txSz ] &gt;&gt; 2 ); j++ ) {
                    TxTypes[ startY + j ][ startX + i ] = DCT_DCT
                }
            }
        }
    } else {
        if ( plane == 0 )
            transform_type( startX, startY, Tx_Size_Sqr[ txSz ] )
        scan = get_scan( plane, txSz )
    
        maxEobPt = ceil( log2( segEob ) ) + 1
        for ( eobPt = 1; eobPt &lt; maxEobPt; eobPt++ ) {
            <b class="syntax-element">is_eob</b>                                                           S
            if ( is_eob )
                break
        }

        eob = ( eobPt &lt; 2 ) ? eobPt : ( ( 1 &lt;&lt; ( eobPt - 2 ) ) + 1 )
        eobShift = Max( -1, eobPt - 3 )
        if ( eobShift &gt;= 0 ) {
            <b class="syntax-element">eob_extra</b>                                                        S
            if ( eob_extra ) {
                eob += ( 1 &lt;&lt; eobShift )
            }

            for ( i = 1; i &lt; Max( 0, eobPt - 2 ); i++ ) {
                eobShift = Max( 0, eobPt - 2 ) - 1 - i
                <b class="syntax-element">eob_extra_bit</b>                                                L(1)
                if ( eob_extra_bit ) {
                    eob += ( 1 &lt;&lt; eobShift )
                }
            }
        }
        for ( c = eob - 1; c &gt;= 0; c-- ) {
            if ( c == ( eob - 1 ) ) {
                <b class="syntax-element">coeff_base_eob</b>                                               S
                level = coeff_base_eob + 1
            } else {
                <b class="syntax-element">coeff_base</b>                                                   S
                level = coeff_base
            }
            Quant[ scan[ c ] ] = level
        }
        
        for ( c = 0; c &lt; eob; c++ ) {
            if ( Quant[ scan[ c ] ] != 0 ) {
                if ( c == 0 ) {
                    <b class="syntax-element">dc_sign</b>                                                  S
                    signs[ c ] = dc_sign
                } else {
                    <b class="syntax-element">sign_bit</b>                                                 L(1)
                    signs[ c ] = sign_bit
                }
            } else {
                signs[ c ] = 0
            }
        }
        
        for ( c = eob - 1; c &gt;= 0; c-- ) {
            if ( Quant[ scan[ c ] ] &gt; NUM_BASE_LEVELS ) {
              for ( idx = 0;
                    idx &lt; COEFF_BASE_RANGE / ( BR_CDF_SIZE - 1 );
                    idx++ ) {
                  <b class="syntax-element">coeff_br</b>                                                   S
                  Quant[ scan[ c ] ] += coeff_br
                  if ( coeff_br &lt; ( BR_CDF_SIZE - 1 ) )
                      break
              }
              if ( Quant[ scan[ c ] ] &gt;
                  ( NUM_BASE_LEVELS + COEFF_BASE_RANGE ) ) {
                  length = 0
                  do {
                      length++
                      <b class="syntax-element">golomb_length_bit</b>                                      L(1)
                  } while ( !golomb_length_bit )
                  x = 1
                  for ( i = length - 2; i &gt;= 0; i-- ) {
                      <b class="syntax-element">golomb_data_bit</b>                                        L(1)
                      x = ( x &lt;&lt; 1 ) | golomb_data_bit
                  }
                  Quant[ scan[ c ] ] = x + COEFF_BASE_RANGE + NUM_BASE_LEVELS
              }
            }
        }
        
        for ( c = 0; c &lt; eob; c++ ) {
            culLevel += Quant[ scan[ c ] ]
        }
        
        for ( c = 0; c &lt; eob; c++ ) {
            if ( signs[ c ] )
                Quant[ scan[ c ] ] = - Quant[ scan[ c ] ]
        }

        culLevel = Min( 63, culLevel )
        
        if ( Quant[ 0 ] &lt; 0 ) {
            dcCategory = 1
        } else if ( Quant[ 0 ] &gt; 0 ) {
            dcCategory = 2
        }
    }
    
    for( i = 0; i &lt; w; i++ ) {
        AboveLevelContext[ plane ][ x4 + i ] = culLevel
        AboveDcContext[ plane ][ x4 + i ] = dcCategory
    }
    for( i = 0; i &lt; h; i++ ) {
        LeftLevelContext[ plane ][ y4 + i ] = culLevel
        LeftDcContext[ plane ][ y4 + i ] = dcCategory
    }
    return eob
}
</code></pre>

<h4 id="compute-transform-type-function">Compute Transform Type Function</h4>

<pre class="syntax"><code>compute_tx_type( plane, txSz, blockX, blockY ) {
    txSzSqr = Tx_Size_Sqr[ txSz ]
    
    if ( Lossless || txSzSqr &gt;= TX_32X32 )
        return DCT_DCT
        
    set = get_tx_set( txSz )
    
    if ( plane == 0 ) {
        txType = TxTypes[ blockY ][ blockX ]
        if ( RefFrame[ 0 ] != INTRA_FRAME &amp;&amp; !Tx_Type_In_Set[ set ][ txType ] )
            return DCT_DCT
        return txType
    }
    
    if ( RefFrame[ 0 ] != INTRA_FRAME ) {
        txType = TxTypes[ blockY &lt;&lt; subsampling_y ][ blockX &lt;&lt; subsampling_x ]
        if ( !Tx_Type_In_Set[ set ][ txType ] )
            return DCT_DCT
        return txType
    }
    
    return Mode_To_Txfm[ UVMode ]
}
</code></pre>

<h4 id="get-scan-function">Get Scan Function</h4>

<pre class="syntax"><code>get_mrow_scan( txSz ) {
    if ( txSz == TX_4X4 )
        return Mrow_Scan_4x4
    else if ( txSz == TX_4X8 )
        return Mrow_Scan_4x8
    else if ( txSz == TX_8X4 )
        return Mrow_Scan_8x4
    else if ( txSz == TX_8X8 )
        return Mrow_Scan_8x8
    else if ( txSz == TX_8X16 )
        return Mrow_Scan_8x16
    else if ( txSz == TX_16X8 )
        return Mrow_Scan_16x8
    else if ( txSz == TX_16X16 )
        return Mrow_Scan_16x16
    else if ( txSz == TX_16X32 )
        return Mrow_Scan_16x32
    else if ( txSz == TX_32X16 )
        return Mrow_Scan_32x16
    return Mrow_Scan_32x32
}

get_row_scan( txSz ) {
    if ( txSz == TX_4X4 )
        return Row_Scan_4x4
    else if ( txSz == TX_8X8 )
        return Row_Scan_8x8
    return Row_Scan_16x16
}

get_mcol_scan( txSz ) {
    if ( txSz == TX_4X4 )
        return Mcol_Scan_4x4
    else if ( txSz == TX_4X8 )
        return Mcol_Scan_4x8
    else if ( txSz == TX_8X4 )
        return Mcol_Scan_8x4
    else if ( txSz == TX_8X8 )
        return Mcol_Scan_8x8
    else if ( txSz == TX_8X16 )
        return Mcol_Scan_8x16
    else if ( txSz == TX_16X8 )
        return Mcol_Scan_16x8
    else if ( txSz == TX_16X16 )
        return Mcol_Scan_16x16
    else if ( txSz == TX_16X32 )
        return Mcol_Scan_16x32
    else if ( txSz == TX_32X16 )
        return Mcol_Scan_32x16
    return Mcol_Scan_32x32
}

get_col_scan( txSz ) {
    if ( txSz == TX_4X4 )
        return Col_Scan_4x4
    else if ( txSz == TX_8X8 )
        return Col_Scan_8x8
    return Col_Scan_16x16
}

get_default_scan( txSz ) {
    if ( txSz == TX_4X4 )
        return Default_Scan_4x4
    else if ( txSz == TX_4X8 )
        return Default_Scan_4x8
    else if ( txSz == TX_8X4 )
        return Default_Scan_8x4
    else if ( txSz == TX_8X8 )
        return Default_Scan_8x8
    else if ( txSz == TX_8X16 )
        return Default_Scan_8x16
    else if ( txSz == TX_16X8 )
        return Default_Scan_16x8
    else if ( txSz == TX_16X16 )
        return Default_Scan_16x16
    else if ( txSz == TX_16X32 )
        return Default_Scan_16x32
    else if ( txSz == TX_32X16 )
        return Default_Scan_32x16
    return Default_Scan_32x32
}

get_scan( plane, txSz ) {
    if ( Tx_Size_Sqr_Up[ txSz ] == TX_64X64 ) {
        return Default_Scan_32x32
    }
    
    preferRow = ( PlaneTxType == ADST_DCT ||
                  PlaneTxType == V_DCT ||
                  PlaneTxType == V_ADST ||
                  PlaneTxType == V_FLIPADST )

    preferCol = ( PlaneTxType == DCT_ADST ||
                  PlaneTxType == H_DCT ||
                  PlaneTxType == H_ADST ||
                  PlaneTxType == H_FLIPADST )

    usesIdTx  = ( PlaneTxType == IDTX ||
                  PlaneTxType == V_DCT ||
                  PlaneTxType == V_ADST ||
                  PlaneTxType == V_FLIPADST ||
                  PlaneTxType == H_DCT ||
                  PlaneTxType == H_ADST ||
                  PlaneTxType == H_FLIPADST )

    preferRaster = !( txSz == TX_4X4 ||
                      txSz == TX_8X8 ||
                      txSz == TX_16X16 )

    if ( !usesIdTx ) {
        if ( txSz == TX_32X32 ) {
            if ( PlaneTxType == DCT_DCT )
                return Default_Scan_32x32
            else if ( PlaneTxType == ADST_DCT ||
                      PlaneTxType == FLIPADST_DCT )
                return H2_Scan_32x32
            else if ( PlaneTxType == DCT_ADST ||
                      PlaneTxType == DCT_FLIPADST )
                return V2_Scan_32x32
            return Qtr_Scan_32x32
        } else if ( is_inter ) {
            preferRow = 0
            preferCol = 0
        }
    }

    if (preferRow) {
        return preferRaster ? get_mrow_scan( txSz ) : get_row_scan( txSz )
    } else if (preferCol) {
        return preferRaster ? get_mcol_scan( txSz ) : get_col_scan( txSz )
    }
    return get_default_scan( txSz )
}
</code></pre>

<h4 id="coef-syntax">Coef Syntax</h4>

<pre class="syntax"><code>read_coef( token ) {
    cat = Extra_Bits[ token ][ 0 ]
    minValue = Extra_Bits[ token ][ 2 ]
    if ( cat == 0 )
        return token
    
    if ( cat &lt; 6 ) {
        extraBitCount = Extra_Bits[ token ][ 1 ]
    } else {
        extraBitCount = BitDepth + 3 + Max( 0, Tx_Size_Sqr_Up[ Min( TX_32X32, tx_size ) ] )
        extraBitCount = Min( 18, ( ( extraBitCount + 3 ) &gt;&gt; 2 ) &lt;&lt; 2 )
    }
    
    coef = 0
    count = 0
    cdfIndex = 0
    while ( count &lt; extraBitCount ) {
        bits = Min( extraBitCount - count, 4 )
        <b class="syntax-element">coef_extra_bits</b>                                                S
        coef |= coef_extra_bits &lt;&lt; count
        count += bits
        cdfIndex += 1
    }
    return minValue + coef
}
</code></pre>

<p>where Extra_Bits is defined as:</p>

<pre><code class="language-c">Extra_Bits[ 11 ][ 3 ] = {
    { 0, 0, 0 },
    { 0, 0, 1 },
    { 0, 0, 2 },
    { 0, 0, 3 },
    { 0, 0, 4 },
    { 1, 1, 5 },
    { 2, 2, 7 },
    { 3, 3, 11 },
    { 4, 4, 19 },
    { 5, 5, 35 },
    { 6, 14, 67 }
}
</code></pre>

<h4 id="intra-angle-info-syntax">Intra Angle Info Syntax</h4>

<pre class="syntax"><code>intra_angle_info( ) {
    if ( MiSize &gt;= BLOCK_8X8 ) {
        if ( is_directional_mode( YMode ) ) {
            <b class="syntax-element">angle_delta_y</b>                                                    S
            AngleDeltaY = angle_delta_y - MAX_ANGLE_DELTA
        }
        if ( is_directional_mode( UVMode ) ) {
            <b class="syntax-element">angle_delta_uv</b>                                                   S
            AngleDeltaUV = angle_delta_uv - MAX_ANGLE_DELTA
        }
    }
}
</code></pre>

<h4 id="is-directional-mode-function">Is Directional Mode Function</h4>

<pre class="syntax"><code>is_directional_mode( mode ) {
    if ( ( mode &gt;= V_PRED ) &amp;&amp; ( mode &lt;= D63_PRED ) ) {
        return 1
    }
    return 0
}
</code></pre>

<h4 id="read-cfl-alphas-syntax">Read CFL Alphas Syntax</h4>

<pre class="syntax"><code>read_cfl_alphas() {
    <b class="syntax-element">cfl_alpha_signs</b>                                                          S
    signU = (cfl_alpha_signs + 1 ) / 3
    signV = (cfl_alpha_signs + 1 ) % 3
    if (signU != CFL_SIGN_ZERO) {
        <b class="syntax-element">cfl_alpha_u</b>                                                          S
        CflAlphaU = 1 + cfl_alpha_u
        if (signU == CFL_SIGN_NEG)
            CflAlphaU = -CflAlphaU
    } else {
      CflAlphaU = 0
    }
    if (signV != CFL_SIGN_ZERO) {
        <b class="syntax-element">cfl_alpha_v</b>                                                          S
        CflAlphaV = 1 + cfl_alpha_v
        if (signV == CFL_SIGN_NEG)
            CflAlphaV = -CflAlphaV
    } else {
      CflAlphaV = 0
    }
}
</code></pre>

<h4 id="palette-mode-info-syntax">Palette Mode Info Syntax</h4>

<pre class="syntax"><code>palette_mode_info( ) {
    if ( YMode == DC_PRED ) {
        <b class="syntax-element">has_palette_y</b>                                                        S
        if ( has_palette_y ) {
            <b class="syntax-element">palette_size_y_minus_2</b>                                           S
            PaletteSizeY = palette_size_y_minus_2 + 2
            cacheN = get_palette_cache( 0 )
            idx = 0
            for ( i = 0; i &lt; cacheN &amp;&amp; idx &lt; PaletteSizeY; i++ ) {
                <b class="syntax-element">use_palette_color_cache_y</b>                                    L(1)
                if ( use_palette_color_cache_y ) {
                    palette_colors_y[ idx ] = PaletteCache[ i ]
                    idx++
                }
            }
            if ( idx &lt; PaletteSizeY ) {
                <b class="syntax-element">palette_colors_y[ idx ]</b>                                      L(BitDepth)
                idx++
            }
            if ( idx &lt; PaletteSizeY ) {
                minBits = BitDepth - 3
                <b class="syntax-element">palette_num_extra_bits_y</b>                                     L(2)
                paletteBits = minBits + palette_num_extra_bits_y
            }
            while ( idx &lt; PaletteSizeY ) {
                <b class="syntax-element">palette_delta_y</b>                                              L(paletteBits)
                palette_delta_y++
                palette_colors_y[ idx ] =
                          Clip1( palette_colors_y[ idx - 1 ] +
                                 palette_delta_y )
                range = ( 1 &lt;&lt; BitDepth ) - palette_colors_y[ idx ] - 1
                paletteBits = Min( paletteBits, ceil( log2( range ) ) )
                idx++
            }
            sort( palette_colors_y, 0, PaletteSizeY - 1 )
        }
    }
    if ( UVMode == DC_PRED ) {
        <b class="syntax-element">has_palette_uv</b>                                                       S
        if ( has_palette_uv ) {
            <b class="syntax-element">palette_size_uv_minus_2</b>                                          S
            PaletteSizeUV = palette_size_uv_minus_2 + 2
            cacheN = get_palette_cache( 1 )
            idx = 0
            for ( i = 0; i &lt; cacheN &amp;&amp; idx &lt; PaletteSizeUV; i++ ) {
                <b class="syntax-element">use_palette_color_cache_u</b>                                    L(1)
                if ( use_palette_color_cache_u ) {
                    palette_colors_u[ idx ] = PaletteCache[ i ]
                    idx++
                }
            }
            if ( idx &lt; PaletteSizeUV ) {
                <b class="syntax-element">palette_colors_u[ idx ]</b>                                      L(BitDepth)
                idx++
            }
            if ( idx &lt; PaletteSizeUV ) {
                minBits = BitDepth - 3
                <b class="syntax-element">palette_num_extra_bits_u</b>                                     L(2)
                paletteBits = minBits + palette_num_extra_bits_u
            }
            while ( idx &lt; PaletteSizeUV ) {
                <b class="syntax-element">palette_delta_u</b>                                              L(paletteBits)
                palette_colors_u[ idx ] = 
                          Clip1( palette_colors_u[ idx - 1 ] +
                                 palette_delta_u )
                range = ( 1 &lt;&lt; BitDepth ) - palette_colors_u[ idx ]
                paletteBits = Min( paletteBits, ceil( log2( range ) ) )
                idx++
            }
            sort( palette_colors_u, 0, PaletteSizeUV - 1 )
            
            <b class="syntax-element">delta_encode_palette_colors_v</b>                                    L(1)
            if ( delta_encode_palette_colors_v ) {
                minBits = BitDepth - 4
                maxVal = 1 &lt;&lt; BitDepth
                <b class="syntax-element">palette_num_extra_bits_v</b>                                     L(2)
                paletteBits = minBits + palette_num_extra_bits_v
                <b class="syntax-element">palette_colors_v[ 0 ]</b>                                        L(BitDepth)
                for ( idx = 1; idx &lt; PaletteSizeUV; idx++ ) {
                    <b class="syntax-element">palette_delta_v</b>                                          L(paletteBits)
                    if ( palette_delta_v ) {
                        <b class="syntax-element">palette_delta_sign_bit_v</b>                             L(1)
                        if ( palette_delta_sign_bit_v ) {
                            palette_delta_v = -palette_delta_v
                        }
                    }
                    val = palette_colors_v[ idx - 1 ] + palette_delta_v
                    if ( val &lt; 0 ) val += maxVal
                    if ( val &gt;= maxVal ) val -= maxVal
                    palette_colors_v[ idx ] = Clip1( val )
                }
            } else {
                for ( idx = 0; idx &lt; PaletteSizeUV; idx++ ) {
                    <b class="syntax-element">palette_colors_v[ idx ]</b>                                  L(BitDepth)
                }
            }
        }
    }
}
</code></pre>

<p>The function sort( arr, i1, i2 ) sorts a subarray of the array arr in-place into ascending order. The
subarray to be sorted is between indices i1 and i2 inclusive.</p>

<p class="alert alert-info"><strong>Note:</strong> The palette colors are generated in ascending order.
The palette cache is also in ascending order.
This means that the sort function can be replaced in implementations by a merge of two sorted lists.</p>

<p>where the function get_palette_cache, which merges the above and left palettes to form a cache,
is specified as follows:</p>

<pre class="syntax"><code>get_palette_cache( plane ) {
    aboveN = 0
    if ( ( ( MiRow * MI_SIZE ) % 64 ) &amp;&amp; AvailU ) {
        aboveN = PaletteSizes[ plane ][ MiRow - 1 ][ MiCol ]
    }
    leftN = 0
    if ( AvailL ) {
        leftN = PaletteSizes[ plane ][ MiRow ][ MiCol - 1 ]
    }
    aboveIdx = 0
    leftIdx = 0
    n = 0
    while ( aboveIdx &lt; aboveN  &amp;&amp; leftIdx &lt; leftN ) {
        aboveC = PaletteColors[ plane ][ MiRow - 1 ][ MiCol ][ aboveIdx ]
        leftC = PaletteColors[ plane ][ MiRow ][ MiCol - 1 ][ leftIdx ]
        if ( leftC &lt; aboveC ) {
            if ( n == 0 || leftC != PaletteCache[ n - 1 ] ) {
                PaletteCache[ n ] = leftC
                n++
            }
            leftIdx++
        } else {
            if ( n == 0 || aboveC != PaletteCache[ n - 1 ] ) {
                PaletteCache[ n ] = aboveC
                n++
            }
            aboveIdx++
            if ( leftC == aboveC ) {
                leftIdx++
            }
        }
    }
    while ( aboveIdx &lt; aboveN ) {
        val = PaletteColors[ plane ][ MiRow - 1 ][ MiCol ][ aboveIdx ]
        aboveIdx++
        if ( n == 0 || val != PaletteCache[ n - 1 ] ) {
            PaletteCache[ n ] = val
            n++
        }
    }
    while ( leftIdx &lt; leftN ) {
        val = PaletteColors[ plane ][ MiRow ][ MiCol - 1 ][ leftIdx ]
        leftIdx++
        if ( n == 0 || val != PaletteCache[ n - 1 ] ) {
            PaletteCache[ n ] = val
            n++
        }
    }
    return n
}
</code></pre>

<p class="alert alert-info"><strong>Note:</strong> get_palette_cache is equivalent to sorting the available palette colors from above and left together and removing any duplicates.</p>

<h4 id="transform-type-syntax">Transform Type Syntax</h4>

<pre class="syntax"><code>transform_type( startX, startY, txSz ) {
    set = get_tx_set( txSz )

    if ( set &gt; 0 &amp;&amp;
         ( segmentation_enabled ? get_qindex( 1, segment_id ) : base_q_idx ) &gt; 0 &amp;&amp;
         !skip &amp;&amp;
         !seg_feature_active( SEG_LVL_SKIP ) ) {
        if ( is_inter ) {
            <b class="syntax-element">inter_tx_type</b>                                                    S
            TxType = inter_tx_type
        } else {
            <b class="syntax-element">intra_tx_type</b>                                                    S
            TxType = intra_tx_type
        }
    } else {
        TxType = DCT_DCT
    }
    for ( i = 0; i &lt; ( Tx_Width[ txSz ] &gt;&gt; 2 ); i++ ) {
        for ( j = 0; j &lt; ( Tx_Height[ txSz ] &gt;&gt; 2 ); j++ ) {
            TxTypes[ startY + j ][ startX + i ] = TxType
        }
    }
}
</code></pre>

<h4 id="get-transform-set-function">Get Transform Set Function</h4>

<pre class="syntax"><code>get_tx_set( txSz ) {
    txSzSqr = Tx_Size_Sqr[ txSz ]
    txSzSqrUp = Tx_Size_Sqr_Up[ txSz ]
    if ( txSzSqr &gt; TX_32X32 )
        return TX_SET_DCTONLY
    if ( is_inter ) {
        if ( reduced_tx_set || txSzSqrUp == TX_32X32 ) return TX_SET_INTER_3
        else if ( txSzSqr == TX_16X16 ) return TX_SET_INTER_2
        return TX_SET_INTER_1
    }
    else {
        if ( reduced_tx_set ) return TX_SET_INTRA_2
        else if ( txSzSqrUp == TX_32X32 ) return TX_SET_DCTONLY
        else if ( txSzSqr == TX_16X16 ) return TX_SET_INTRA_2
        return TX_SET_INTRA_1
    }
}
</code></pre>

<h4 id="palette-tokens-syntax">Palette Tokens Syntax</h4>

<pre class="syntax"><code>palette_tokens( ) {
    blockHeight = Block_Height[ MiSize ]
    blockWidth = Block_Width[ MiSize ]
    onscreenHeight = Min( blockHeight, (MiRows - MiRow) * MI_SIZE )
    onscreenWidth = Min( blockWidth, (MiCols - MiCol) * MI_SIZE )

    if ( PaletteSizeY ) {
        <b class="syntax-element">color_index_map_y</b>                                                    U(PaletteSizeY)
        ColorMapY[0][0] = color_index_map_y
        for ( i = 1; i &lt; onscreenHeight + onscreenWidth - 1; i++ ) {
            for ( j = Min( i, onscreenWidth - 1 ); j &gt;= Max( 0, i - onscreenHeight + 1 ); j-- ) {
                get_palette_color_context( ColorMapY, ( i - j ), j, PaletteSizeY )
                <b class="syntax-element">palette_color_idx_y</b>                                   S
                ColorMapY[ i - j ][ j ] = ColorOrder[ palette_color_idx_y ]
            }
        }
        for ( i = 0; i &lt; onscreenHeight; i++ ) {
            for ( j = onscreenWidth; j &lt; blockWidth; j++ ) {
                ColorMapY[ i ][ j ] = ColorMapY[ i ][ onscreenWidth - 1 ]
            }
        }
        for ( i = onscreenHeight; i &lt; blockHeight; i++ ) {
            for ( j = 0; j &lt; blockWidth; j++ ) {
                ColorMapY[ i ][ j ] = ColorMapY[ onscreenHeight - 1 ][ j ]
            }
        }
    }

    if ( PaletteSizeUV ) {
        <b class="syntax-element">color_index_map_uv</b>                                                   U(PaletteSizeUV)
        ColorMapUV[0][0] = color_index_map_uv
        blockHeight = blockHeight &gt;&gt; subsampling_y
        blockWidth = blockWidth &gt;&gt; subsampling_x
        onscreenHeight = onscreenHeight &gt;&gt; subsampling_y
        onscreenWidth = onscreenWidth &gt;&gt; subsampling_x

        for ( i = 1; i &lt; onscreenHeight + onscreenWidth - 1; i++ ) {
            for ( j = Min( i, onscreenWidth - 1 ); j &gt;= Max( 0, i - onscreenHeight + 1 ); j-- ) {
                get_palette_color_context( ColorMapUV, ( i - j ), j, PaletteSizeUV )
                <b class="syntax-element">palette_color_idx_uv</b>                                  S
                ColorMapUV[ i - j ][ j ] = ColorOrder[ palette_color_idx_uv ]
            }
        }
        for ( i = 0; i &lt; onscreenHeight; i++ ) {
            for ( j = onscreenWidth; j &lt; blockWidth; j++ ) {
                ColorMapUV[ i ][ j ] = ColorMapUV[ i ][ onscreenWidth - 1 ]
            }
        }
        for ( i = onscreenHeight; i &lt; blockHeight; i++ ) {
            for ( j = 0; j &lt; blockWidth; j++ ) {
                ColorMapUV[ i ][ j ] = ColorMapUV[ onscreenHeight - 1 ][ j ]
            }
        }
    }
}
</code></pre>

<h4 id="palette-color-context-function">Palette Color Context Function</h4>

<pre class="syntax"><code>get_palette_color_context( colorMap, r, c, n ) {
    for( i = 0; i &lt; PALETTE_COLORS; i++ ) {
        scores[ i ] = 0
        ColorOrder[i] = i
    }
    if ( c &gt; 0 ) {
        neighbor = colorMap[ r ][ c - 1 ]
        scores[ neighbor ] += 2
    }
    if ( ( r &gt; 0 ) &amp;&amp; ( c &gt; 0 ) ) {
        neighbor = colorMap[ r - 1 ][ c - 1 ]
        scores[ neighbor ] += 1
    }
    if ( r &gt; 0 ) {
        neighbor = colorMap[ r - 1 ][ c ]
        scores[ neighbor ] += 2
    }
    for ( i = 0; i &lt; PALETTE_NUM_NEIGHBORS; i++ ) {
        maxScore = scores[ i ]
        maxIdx = i
        for ( j = i + 1; j &lt; n; j++ ) {
            if (scores[ j ] &gt; maxScore) {
                maxScore = scores[ j ]
                maxIdx = j
            }
        }
        if ( maxIdx != i ) {
            maxScore = scores[ maxIdx ]
            maxColorOrder = ColorOrder[ maxIdx ]
            for ( k = maxIdx; k &gt; i; k-- ) {
                scores[ k ] = scores[ k - 1 ]
                ColorOrder[ k ] = ColorOrder[ k - 1 ]
            }
            scores[ i ] = maxScore
            ColorOrder[ i ] = maxColorOrder
        }
    }
    ColorContextHash = 0
    for( i = 0; i &lt; PALETTE_NUM_NEIGHBORS; i++ ) {
        ColorContextHash += scores[ i ] * Palette_Color_Hash_Multipliers[ i ]
    }
}
</code></pre>

<h4 id="is-inside-function">Is Inside Function</h4>

<p>is_inside determines whether a candidate position is accessible for motion
vector prediction. Moving across the top tile edge is allowed when
dependent_tiles is equal to 1 and
the tile above is in the same tile group, but
moving across the other tile edges is always prohibited.</p>

<p>In addition, if the dependency would result in having to decode too large an area,
the AllowDependentTileRow array is used to break the horizontal dependency.</p>

<pre class="syntax"><code>is_inside( candidateR, candidateC ) {
    if (candidateC &gt;= MiColStart &amp;&amp;
        candidateC &lt; MiColEnd &amp;&amp;
        candidateR &lt; MiRowEnd) {
        if (candidateR &gt;= MiRowStart)
            return 1
        if (dependent_tiles &amp;&amp; AboveSameTileGroup) {
            return 1
        }
    }
    return 0
}
</code></pre>

<h4 id="check-references-functions">Check References Functions</h4>

<p>This section defines some simple helper functions used in other parts of the specification:</p>

<pre class="syntax"><code>check_forward(refFrame) {
  return ( (refFrame &gt;= LAST_FRAME) &amp;&amp; (refFrame &lt;= GOLDEN_FRAME) )
} 

check_backward(refFrame) {
  return ( (refFrame &gt;= BWDREF_FRAME) &amp;&amp; (refFrame &lt;= ALTREF_FRAME) )
} 

check_last_or_last2(refFrame) {
  return ( (refFrame == LAST_FRAME) || (refFrame == LAST2_FRAME) )
}

check_golden_or_last3(refFrame) {
  return ( (refFrame == GOLDEN_FRAME) || (refFrame == LAST3_FRAME) )
}

check_last(refFrame) {
  return (refFrame == LAST_FRAME)
}

check_last2(refFrame) {
  return (refFrame == LAST2_FRAME)
}

check_last3(refFrame) {
  return (refFrame == LAST3_FRAME)
}

check_golden(refFrame) {
  return (refFrame == GOLDEN_FRAME)
}

</code></pre>

<h4 id="clamp-mv-row-function">Clamp MV Row Function</h4>

<pre class="syntax"><code>clamp_mv_row( mvec, border ) {
    bh4 = Num_4x4_Blocks_High[ MiSize ]
    mbToTopEdge = -((MiRow * MI_SIZE) * 8)
    mbToBottomEdge = ((MiRows - bh4 - MiRow) * MI_SIZE) * 8
    return Clip3( mbToTopEdge - border, mbToBottomEdge + border, mvec )
}
</code></pre>

<h4 id="clamp-mv-col-function">Clamp MV Col Function</h4>

<pre class="syntax"><code>clamp_mv_col( mvec, border ) {
    bw4 = Num_4x4_Blocks_Wide[ MiSize ]
    mbToLeftEdge = -((MiCol * MI_SIZE) * 8)
    mbToRightEdge = ((MiCols - bw4 - MiCol) * MI_SIZE) * 8
    return Clip3( mbToLeftEdge - border, mbToRightEdge + border, mvec )
}
</code></pre>

<h4 id="clear-cdef-function">Clear CDEF Function</h4>

<pre class="syntax"><code>clear_cdef( r, c ) {
    cdef_idx[ r ][ c ] = -1
    if ( use_128x128_superblock ) {
        cdefSize4 = Num_4x4_Blocks_Wide[ BLOCK_64X64 ]
        cdef_idx[ r ][ c + cdefSize4 ] = -1
        cdef_idx[ r + cdefSize4][ c ] = -1
        cdef_idx[ r + cdefSize4][ c + cdefSize4 ] = -1
    }
}
</code></pre>

<h4 id="read-cdef-syntax">Read CDEF Syntax</h4>

<pre class="syntax"><code>read_cdef( ) {
    if ( !AllLossless &amp;&amp; !skip) {
        cdefSize4 = Num_4x4_Blocks_Wide[ BLOCK_64X64 ]
        cdefMask4 = ~(cdefSize4 - 1)
        r = MiRow &amp; cdefMask4
        c = MiCol &amp; cdefMask4
        if ( cdef_idx[ r ][ c ] == -1 ) {
            <b class="syntax-element">cdef_idx[ r ][ c ]</b>                                               L(cdef_bits)
            w4 = Num_4x4_Blocks_Wide[ MiSize ]
            h4 = Num_4x4_Blocks_High[ MiSize ]
            for (i = r; i &lt; r + h4 ; i += cdefSize4) {
                for (j = c; j &lt; j + w4 ; j += cdefSize4) {
                    cdef_idx[ i ][ j ] = cdef_idx[ r ][ c ]
                }
            }
        }
    }
}
</code></pre>

<h4 id="decode-loop-restoration-syntax">Decode Loop Restoration Syntax</h4>

<pre class="syntax"><code class="language-c">decode_lr( r, c, bSize ) {
    for (plane = 0; plane &lt; 3; plane++) {
        if (FrameRestorationType[ plane ] == RESTORE_NONE)
            continue
        subX = (plane == 0) ? 0 : subsampling_x
        subY = (plane == 0) ? 0 : subsampling_y
        w = Num_4x4_Blocks_Wide[ bSize ]
        h = Num_4x4_Blocks_High[ bSize ]
        unitSize = LoopRestorationSize[ plane ]
        unitRows = count_units_in_tile( unitSize, (MiRowEnd - MiRowStart) * MI_SIZE &gt;&gt; subY )
        unitCols = count_units_in_tile( unitSize, (MiColEnd - MiColStart) * MI_SIZE &gt;&gt; subX )
        relMiRow = r - MiRowStart
        relMiCol = c - MiColStart
        unitRowStart = ( relMiRow * ( MI_SIZE &gt;&gt; subY) ) / unitSize
        unitRowEnd = Min( unitRows, ( (relMiRow + h) * ( MI_SIZE &gt;&gt; subY) ) / unitSize)
        unitColStart = ( relMiCol * ( MI_SIZE &gt;&gt; subX) ) / unitSize
        unitColEnd = Min( unitCols, ( (relMiCol + w) * ( MI_SIZE &gt;&gt; subX) ) / unitSize)
        for (unitRow = unitRowStart; unitRow &lt; unitRowEnd; unitRow++) {
            for (unitCol = unitColStart; unitCol &lt; unitColEnd; unitCol++) {
                decode_lr_unit(plane, unitRow, unitCol)
            }
        }
    }
}
</code></pre>

<p>where count_units_in_tile is a function specified as:</p>

<pre><code class="language-c">count_units_in_tile(unitSize, tileSize) {
  return Max((tileSize + (unitSize &gt;&gt; 1)) / unitSize, 1)
}
</code></pre>

<h4 id="decode-loop-restoration-unit-syntax">Decode Loop Restoration Unit Syntax</h4>

<pre class="syntax"><code class="language-c">decode_lr_unit(plane, unitRow, unitCol) {
    if (FrameRestorationType[ plane ] == RESTORE_NONE) {
        restoration_type = RESTORE_NONE
    } else if (FrameRestorationType[ plane ] == RESTORE_WIENER) {
        <b class="syntax-element">use_wiener</b>                                                           S
        restoration_type = use_wiener ? RESTORE_WIENER : RESTORE_NONE
      } else if (FrameRestorationType[ plane ] == RESTORE_SGRPROJ) {
        <b class="syntax-element">use_sgrproj</b>                                                          S
        restoration_type = use_sgrproj ? RESTORE_SGRPROJ : RESTORE_NONE
    } else {
        <b class="syntax-element">restoration_type</b>                                                     S
    }
    LrType[ TileNum ][ plane ][ unitRow ][ unitCol ] = restoration_type
    if (restoration_type == RESTORE_WIENER) {
        for ( pass = 0; pass &lt; 2; pass++ ) {
            if (plane) {
                firstCoeff = 1
                LrWiener[ TileNum ][ plane ]
                        [ unitRow ][ unitCol ][ pass ][0] = 0
            } else {
                firstCoeff = 0
            }
            for (j = firstCoeff; j &lt; 3; j++) {
                min = Wiener_Taps_Min[ j ]
                max = Wiener_Taps_Max[ j ]
                k = Wiener_Taps_K[ j ]
                v = decode_signed_subexp_with_ref_bool(
                        min, max + 1, k, RefLrWiener[ plane ][ pass ][ j ] )
                LrWiener[ TileNum ][ plane ]
                        [ unitRow ][ unitCol ][ pass ][ j ] = v
                RefLrWiener[ plane ][ pass ][ j ] = v
            }
        }
    } else if (restoration_type == RESTORE_SGRPROJ) {
        <b class="syntax-element">lr_sgr_set</b>                                                           U(SGRPROJ_PARAMS_BITS)
        LrSgrSet[ TileNum ][ plane ][ unitRow ][ unitCol ] = lr_sgr_set
        for (i = 0; i &lt; 2; i++) {
            min = Sgrproj_Xqd_Min[i]
            max = Sgrproj_Xqd_Max[i]
            v = decode_signed_subexp_with_ref_bool(
                     min, max + 1, SGRPROJ_PRJ_SUBEXP_K, RefSgrXqd[ plane ][ i ])
            LrSgrXqd[ TileNum ][ plane ][ unitRow ][ unitCol ][ i ] = v
            RefSgrXqd[ plane ][ i ] = v
        }
    } 
}
</code></pre>

<p>where Wiener_Taps_Min, Wiener_Taps_Max, ,Wiener_Taps_K, Sgrproj_Xqd_Min, and Sgrproj_Xqd_Max are constant lookup tables:</p>

<pre><code class="language-c">Wiener_Taps_Min[3] = { -5, -23, -17 }
Wiener_Taps_Max[3] = { 10,   8,  46 }
Wiener_Taps_K[3] = { 1, 2, 3 }

Sgrproj_Xqd_Min[2] = { -96, -32 }
Sgrproj_Xqd_Max[2] = {  31,  95 }
</code></pre>

<p>and decode_signed_subexp_with_ref_bool
is a function specified as follows:</p>

<pre class="syntax"><code class="language-c">decode_signed_subexp_with_ref_bool( low, high, k, r ) {
    x = decode_unsigned_subexp_with_ref_bool(high - low, k, r - low)
    return x + low
}

decode_unsigned_subexp_with_ref_bool( mx, k, r ) {
    v = decode_subexp_bool( mx, k )
    if ((r &lt;&lt; 1) &lt;= mx) {
        return inverse_recenter(r, v)
    } else {
        return mx - 1 - inverse_recenter(mx - 1 - r, v)
    }
}

decode_subexp_bool( numSyms, k ) {
    i = 0
    mk = 0
    while (1) {
        b2 = i ? k + i - 1 : k
        a = 1 &lt;&lt; b2
        if (numSyms &lt;= mk + 3 * a) {
            <b class="syntax-element">subexp_unif_bools</b>                                                U(numSyms - mk)
            return subexp_unif_bools + mk
        } else {
            <b class="syntax-element">subexp_more_bools</b>                                                L(1)
            if (subexp_more_bools) {
               i++
               mk += a
            } else {
               <b class="syntax-element">subexp_bools</b>                                                  L(b2)
               return subexp_bools + mk
            }
        }
    }
}
</code></pre>

<p class="alert alert-info"><strong>Note:</strong> The decode_signed_subexp_with_ref_bool function is the same as the decode_signed_subexp_with_ref
function
except that the bits used to represent the symbol are arithmetic coded instead of being read directly
from the bitstream.</p>

<h2 id="bitstream-semantics">Bitstream Semantics</h2>

<p>This section specifies the meaning of the syntax elements read in the syntax
structures.</p>

<h3 id="obu-semantics">OBU Semantics</h3>

<p>The bitstream consists of a sequence of open bitstream units (OBUs).</p>

<p>Each OBU is given to the decoding process in turn as a bitstream along
with a variable sz that gives the total number of bytes in the OBU.</p>

<p class="alert alert-info"><strong>Note:</strong> Encoders should always set sz equal to the actual size of the OBU.
Decoders should ignore any extra bytes if sz is greater than the actual size of the OBU.
(For example, this may be needed if a future version of AV1 defines some additional
fields at the end of the frame header, that are not strictly required for decoding,
but if interpreted can improve the decoding).</p>

<p>OBUs must begin at a byte boundary.</p>

<p>Methods of framing the OBUs in a container format are outside the
scope of this Specification. However, one simple method of packing OBUs
is described in Annex B.</p>

<h4 id="obu-header-semantics">OBU Header Semantics</h4>

<p>OBUs are structured with a header and a payload.
The header identifies the type of the payload using the obu_type header parameter.</p>

<p><strong>obu_forbidden_bit</strong> must be set to 0.</p>

<p class="alert alert-info"><strong>Note:</strong> This ensures that MPEG2 transport is
possible by preventing emulation of MPEG2 transport stream ids.</p>

<p><strong>obu_type</strong> specifies the type of data structure contained in the OBU payload:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th>obu_type</th>
      <th>Name of obu_type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>Reserved</td>
    </tr>
    <tr>
      <td>1</td>
      <td>OBU_SEQUENCE_HEADER</td>
    </tr>
    <tr>
      <td>2</td>
      <td>OBU_TD</td>
    </tr>
    <tr>
      <td>3</td>
      <td>OBU_FRAME_HEADER</td>
    </tr>
    <tr>
      <td>4</td>
      <td>OBU_TILE_GROUP</td>
    </tr>
    <tr>
      <td>5</td>
      <td>OBU_METADATA</td>
    </tr>
    <tr>
      <td>6-14</td>
      <td>Reserved</td>
    </tr>
    <tr>
      <td>15</td>
      <td>OBU_PADDING</td>
    </tr>
  </tbody>
</table>

<p>Reserved units are for future use and shall be ignored by AV1 decoder.</p>

<p><strong>obu_reserved_2bits</strong> must be set to 0. The value is ignored by a decoder.</p>

<p><strong>obu_extension_flag</strong> indicates if the optional obu_extension_header is present.</p>

<h4 id="obu-extension-header-semantics">OBU Extension Header Semantics</h4>

<p><strong>temporal_id</strong> specifies the temporal level of the coded picture.</p>

<p><strong>spatial_id</strong> specifies the spatial level of the coded picture.</p>

<p class="alert alert-info"><strong>Note:</strong> Spatial scalability here is assumed to mean that the reference pictures, if any, are from the same temporal unit and have a different spatial resolution.</p>

<p><strong>quality_id</strong> specifies the quality level of the coded picture.</p>

<p class="alert alert-info"><strong>Note:</strong> Quality scalability here is assumed to mean that the reference pictures, if any,
are from the same temporal unit and have the exact same spatial resolution.</p>

<p><strong>reserved_flag</strong> must be set to 0. The value is ignored by a decoder.</p>

<h4 id="trailing-bits-semantics">Trailing Bits Semantics</h4>

<p><strong>zero_bit</strong> shall be equal to 0 and is inserted into the bitstream to align
the bit position to a multiple of 8 bits.</p>

<h3 id="reserved-obu-semantics">Reserved OBU Semantics</h3>

<p>The reserved OBU allows the extension of this specification with additional OBU
types in a way that allows older decoders to ignore them.</p>

<p><strong>reserved_obu_payload_byte</strong> is a payload byte of the reserved OBU.</p>

<h3 id="sequence-header-obu-semantics">Sequence Header OBU Semantics</h3>

<p><strong>profile_low_bit</strong> and <strong>profile_high_bit</strong> combine to make the variable
Profile. AV1 supports 4 profiles:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th>Profile</th>
      <th>Bit depth</th>
      <th>SRGB Colorspace support</th>
      <th>Chroma subsampling</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>8</td>
      <td>No</td>
      <td>YUV 4:2:0</td>
    </tr>
    <tr>
      <td>1</td>
      <td>8</td>
      <td>Yes</td>
      <td>YUV 4:2:2, YUV 4:4:0 or YUV 4:4:4</td>
    </tr>
    <tr>
      <td>2</td>
      <td>10 or 12</td>
      <td>No</td>
      <td>YUV 4:2:0</td>
    </tr>
    <tr>
      <td>3</td>
      <td>10 or 12</td>
      <td>Yes</td>
      <td>YUV 4:2:2, YUV 4:4:0 or YUV 4:4:4</td>
    </tr>
  </tbody>
</table>

<p><strong>reserved_zero</strong> shall be equal to 0.</p>

<p><strong>level</strong> specifies the level for the coded video sequence.</p>

<p><strong>frame_width_bits_minus_1</strong> specifies the number of bits minus 1 used for transmitting the frame width syntax elements.</p>

<p><strong>frame_height_bits_minus_1</strong> specifies the number of bits minus 1 used for transmitting the frame height syntax elements.</p>

<p><strong>max_frame_width_minus_1</strong> specifies the maximum frame width minus 1 for the frames represented by this sequence header.</p>

<p><strong>max_frame_height_minus_1</strong> specifies the maximum frame height minus 1 for the frames represented by this sequence header.</p>

<p><strong>frame_id_numbers_present_flag</strong> specifies whether frame id numbers are present in the bitstream.</p>

<p class="alert alert-info"><strong>Note:</strong> Frame id numbers are not needed by the decoding process,
but allow decoders to spot when frames have been missed and take an appropriate action.</p>

<p><strong>frame_id_length_minus7</strong> specifies the number of bits minus 7 used to encode the frame_id syntax element.</p>

<p><strong>delta_frame_id_length_minus2</strong> specifies the number of bits minus 2 used to encode delta_frame_id syntax elements.</p>

<h4 id="color-config-semantics">Color Config Semantics</h4>

<p><strong>ten_or_twelve_bit</strong> equal to 1 indicates the bit depth is 12 bits;
ten_or_twelve_bit equal to 0 indicates that the bit depth is 10 bits.</p>

<p><strong>color_space</strong> specifies the color space of the stream:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">color_space</th>
      <th style="text-align: center">Name of color space</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">CS_UNKNOWN</td>
      <td>Unknown (in this case the color space must be signaled outside the AV1 bitstream).</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">CS_BT_601</td>
      <td>Rec. ITU-R BT.601-7</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">CS_BT_709</td>
      <td>Rec. ITU-R BT.709-6</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: center">CS_SMPTE_170</td>
      <td>SMPTE-170</td>
    </tr>
    <tr>
      <td style="text-align: center">4</td>
      <td style="text-align: center">CS_SMPTE_240</td>
      <td>SMPTE-240</td>
    </tr>
    <tr>
      <td style="text-align: center">5</td>
      <td style="text-align: center">CS_BT_2020_NCL</td>
      <td>Rec. ITU-R BT.2020-2 (nonconstant luminance)</td>
    </tr>
    <tr>
      <td style="text-align: center">6</td>
      <td style="text-align: center">CS_BT_2020_CL</td>
      <td>Rec. ITU-R BT.2020-2 (constant luminance)</td>
    </tr>
    <tr>
      <td style="text-align: center">7</td>
      <td style="text-align: center">CS_ICTCP</td>
      <td>Rec. ITU-R BT.2100-0</td>
    </tr>
    <tr>
      <td style="text-align: center">8</td>
      <td style="text-align: center">CS_SRGB</td>
      <td>sRGB (IEC 61966-2-1)</td>
    </tr>
    <tr>
      <td style="text-align: center">9..31</td>
      <td style="text-align: center">CS_RESERVED</td>
      <td>Reserved</td>
    </tr>
  </tbody>
</table>

<p>It is a requirement of bitstream conformance that color_space is not equal to
CS_SRGB when profile_low_bit is equal to 0.</p>

<p><strong>transfer_function</strong> specifies specifies opto-electronic characteristics of the
source video:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">transfer_function</th>
      <th style="text-align: center">Name of transfer function</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">TF_UNKNOWN</td>
      <td>Unknown (in this case the source video transfer function must be signaled outside the AV1 bitstream).</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">TF_BT_709</td>
      <td>Rec. ITU-R BT.709-6, Rec. ITU-R BT.601-7 525 or 625, Rec. ITU-R BT.2020</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">TF_PQ</td>
      <td>SMPTE ST 2084:2014 / BT.2100 PQ</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: center">TF_HLG</td>
      <td>BT.2100 Hybrid Log-Gamma (HLG)</td>
    </tr>
    <tr>
      <td style="text-align: center">4..31</td>
      <td style="text-align: center">TF_RESERVED</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<p><strong>color_range</strong> specifies the black level and range of the luma and chroma
signals as specified in Rec. ITU-R BT.709-6 and Rec. ITU-R BT.2020-2:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th>color_range</th>
      <th>Description</th>
      <th>Details</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>Studio swing</td>
      <td>For BitDepth equals 8:<br /> Y is between 16 and 235 inclusive.<br /> U and V are between 16 and 240 inclusive.</td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td>For BitDepth equals 10:<br />Y is between 64 and 940 inclusive.<br />U and V are between 64 and 960 inclusive.</td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
      <td>For BitDepth equals 12:<br />Y is between 256 and 3760.<br />U and V are between 256 and 3840 inclusive.</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Full swing</td>
      <td>No restriction on Y, U, V values.</td>
    </tr>
  </tbody>
</table>

<p class="alert alert-info"><strong>Note:</strong> Note that this specification does not enforce the range of YUV values
when the YUV range is signaled as Studio swing. Therefore the application
should perform additional clamping and color conversion operations according to
the specified range.</p>

<p><strong>subsampling_x</strong>, <strong>subsampling_y</strong> specify the chroma subsampling format:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th>subsampling_x</th>
      <th>subsampling_y</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>0</td>
      <td>YUV 4:4:4</td>
    </tr>
    <tr>
      <td>0</td>
      <td>1</td>
      <td>YUV 4:4:0</td>
    </tr>
    <tr>
      <td>1</td>
      <td>0</td>
      <td>YUV 4:2:2</td>
    </tr>
    <tr>
      <td>1</td>
      <td>1</td>
      <td>YUV 4:2:0</td>
    </tr>
  </tbody>
</table>

<p>It is a requirement of bitstream conformance that either subsampling_x is equal
to 0 or subsampling_y is equal to 0 when profile_low_bit is equal to 1.</p>

<p class="alert alert-info"><strong>Note:</strong> In Chroma subsampling format 4:2:2, AV1 assumes that chroma
samples are co-located with luma samples if there is no explicit signaling
outside of the AV1 bitstream. When there is explicit signaling at the container
level, the signaled information overrides AV1’s default assumption.</p>

<p><strong>reserved_zero</strong> shall be equal to 0.</p>

<p><strong>chroma_sample_position</strong> specifies the sample position for 4:2:0 streams:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">chroma_sample_position</th>
      <th style="text-align: center">Name of chroma sample position</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">CSP_UNKNOWN</td>
      <td>Unknown (in this case the source video transfer function must be signaled outside the AV1 bitstream)</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">CSP_VERTICAL</td>
      <td>Horizontally co-located with (0, 0) luma sample, vertical position in the middle between two luma samples</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">CSP_COLOCATED</td>
      <td>co-located with (0, 0) luma sample</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: center">CSP_RESERVED</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h3 id="temporal-delimiter-obu-semantics">Temporal Delimiter OBU Semantics</h3>

<p><strong>SeenFrameHeader</strong> is a variable used to mark whether we have received the frame header for the current frame.</p>

<h3 id="padding-obu-semantics">Padding OBU Semantics</h3>

<p>The padding OBU offers padding from 1 to 256 bytes.  Multiple padding units can be present, each padding with an arbitrary number of bytes.</p>

<p><strong>obu_padding_length</strong> indicates the length of the remaining payload in bytes.</p>

<p><strong>obu_padding_byte</strong> is a padding bytes.  Padding bytes may have arbitrary values and have no effect on the decoding process.</p>

<h3 id="metadata-obu-semantics">Metadata OBU Semantics</h3>

<p><strong>metadata_type</strong> indicates the type of metadata:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th>metadata_type</th>
      <th>Name of metadata_type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>METADATA_TYPE_PRIVATE_DATA</td>
    </tr>
    <tr>
      <td>1</td>
      <td>METADATA_TYPE_HDR_CLL</td>
    </tr>
    <tr>
      <td>2</td>
      <td>METADATA_TYPE_HDR_MDCV</td>
    </tr>
    <tr>
      <td>3-65535</td>
      <td>Reserved</td>
    </tr>
  </tbody>
</table>

<h4 id="metadata-private-data-semantics">Metadata Private Data Semantics</h4>

<p>Private data allows the transfer of arbitrary, application-specific binary information.</p>

<p><strong>metadata_private_data_payload_byte[ i ]</strong> carries the payload of the private data.
Private data may have arbitrary values and have no effect on the decoding process.</p>

<h4 id="metadata-high-dynamic-range-content-light-level-semantics">Metadata High Dynamic Range Content Light Level Semantics</h4>

<p><strong>max_cll</strong> specifies the maximum content light level as specified in CEA-861.3, Appendix A.</p>

<p><strong>max_fall</strong> specifies the maximum frame-average light level as specified in CEA-861.3, Appendix A.</p>

<h4 id="metadata-high-dynamic-range-mastering-display-color-volume-semantics">Metadata High Dynamic Range Mastering Display Color Volume Semantics</h4>

<p><strong>primary_chromaticity_x[ i ]</strong> specifies a 0.16 fixed-point X chromaticity coordinate as defined by CIE 1931, where i = 0,1,2 specifies Red, Green, Blue respectively.</p>

<p><strong>primary_chromaticity_y[ i ]</strong> specifies a 0.16 fixed-point Y chromaticity coordinate as defined by CIE 1931, where i = 0,1,2 specifies Red, Green, Blue respectively.</p>

<p><strong>white_point_chromaticity_x[ i ]</strong> specifies a 0.16 fixed-point white X chromaticity coordinate as defined by CIE 1931.</p>

<p><strong>white_point_chromaticity_y[ i ]</strong> specifies a 0.16 fixed-point white Y chromaticity coordinate as defined by CIE 1931.</p>

<p><strong>luminance_max</strong> is a 24.8 fixed-point maximum luminance, represented in candelas per square meter.</p>

<p><strong>luminance_min</strong> is a 18.14 fixed-point minimum luminance, represented in candelas per square meter.</p>

<h3 id="frame-header-obu-semantics">Frame Header OBU Semantics</h3>

<p>It is a requirement of bitstream conformance that a sequence header OBU has been received
before a frame header OBU.</p>

<p><strong>frame_header_copy</strong> is a function call that indicates that a copy of the previous
frame_header_obu should be inserted at this point.</p>

<p class="alert alert-info"><strong>Note:</strong> Bitstreams may contain several copies of the frame_header_obu interspersed
with tile_group_obu to allow for greater error resilience.
However, all copies must contain identical contents.</p>

<p><strong>TileNum</strong> is a variable giving the index (zero-based) of the current tile.</p>

<p><strong>MaxTileSize</strong> is a variable that tracks the largest size in bytes of each tile.
(This is needed because the CDFs are updated based on the largest tile decoded.)</p>

<p><strong>decode_frame</strong> is a function call that indicates that the decode frame process
specified in <a href="#decode-frame-process">section 7.2</a> should be invoked.</p>

<h4 id="uncompressed-header-semantics">Uncompressed Header Semantics</h4>

<p><strong>show_existing_frame</strong> equal to 1, indicates the frame indexed by
frame_to_show_map_idx is to be displayed; show_existing_frame equal to 0
indicates that further processing is required.</p>

<p><strong>frame_to_show_map_idx</strong> specifies the frame to be displayed. It is only
available if show_existing_frame is 1.</p>

<p><strong>display_frame_id</strong> provides the frame number for the frame to display.
It is a requirement of bitstream conformance that whenever display_frame_id is read, the value matches
the value of current_frame_id at the time that the frame indexed by
frame_to_show_map_idx was stored.</p>

<p><strong>frame_type</strong> specifies the type of the frame:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th>frame_type</th>
      <th>Name of frame_type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>KEY_FRAME</td>
    </tr>
    <tr>
      <td>1</td>
      <td>INTER_FRAME</td>
    </tr>
    <tr>
      <td>2</td>
      <td>INTRA_ONLY_FRAME</td>
    </tr>
    <tr>
      <td>3</td>
      <td>SWITCH_FRAME</td>
    </tr>
  </tbody>
</table>

<p>It is possible for bitstreams to start with a non key frame and still be
decodable. In this case there are a number of additional constraints on the
bitstream that are detailed in <a href="#frame-order-constraints">section 7.3</a>.</p>

<p><strong>show_frame</strong> equal to 1 specifies that this frame should be immediately output once decoded.
show_frame equal to 0 specifies that this frame should not be immediately output.
(It may be output later if a later uncompressed header uses show_existing_frame equal to 1).</p>

<p><strong>error_resilient_mode</strong> equal to 1 indicates that error resilient mode is
enabled; error_resilient_mode equal to 0 indicates that error resilient mode
is disabled.</p>

<p class="alert alert-info"><strong>Note:</strong> Error resilient mode allows the syntax of a frame to be decoded
independently of previous frames.</p>

<p><strong>current_frame_id</strong> specifies the frame number for the current frame.
Frame numbers are additional information
that do not affect the decoding process, but provide decoders with a way of detecting
missing reference frames so that appropriate action can be taken.</p>

<p><strong>frame_size_override_flag</strong> equal to 1 specifies that the frame size will be contained in the bitstream.
frame_size_override_flag equal to 0 specifies that the frame size is equal to the size in the sequence header.</p>

<p><strong>use_128x128_superblock</strong>, when equal to 1, indicates that superblocks are
128x128 pixels. When equal to 0, it indicates that superblocks are 64x64
pixels.</p>

<p><strong>allow_screen_content_tools</strong> equal to 1 indicates that intra blocks may use
palette encoding; allow_screen_content_tools equal to 0 indicates that palette
encoding is never used.</p>

<p><strong>seq_choose_integer_mv</strong> equal to 1 indicates that the force_integer_mv syntax element
will be present in the frame headers of inter and intra-only frames.</p>

<p><strong>seq_force_integer_mv</strong> equal to SELECT_INTEGER_MV indicates that the force_integer_mv syntax element
will be present in the frame headers of inter and intra-only frames.  Otherwise, seq_force_integer_mv
contains the value for force_integer_mv.</p>

<p><strong>refresh_frame_flags</strong> contains a bitmask that specifies which reference frame
slots will be updated with the current frame after it is decoded.</p>

<p>See <a href="#reference-frame-update-process">section 7.15</a> for details of the frame update process.</p>

<p><strong>ref_frame_idx</strong> specifies which reference frames are used by inter frames. It
is a requirement of bitstream conformance that the selected reference frames
match the current frame in bit depth, profile, chroma subsampling, and color
space.</p>

<p><strong>ref_frame_sign_bias</strong> specifies the intended direction of the motion vector
in time for each reference frame. A sign bias equal to 0 indicates that the
reference frame is a backwards reference; a sign bias equal to 1 indicates that
the reference frame is a forwards reference.</p>

<p class="alert alert-info"><strong>Note:</strong> The sign bias is just an indication that can improve the accuracy of
motion vector prediction and is not constrained to reflect the actual output
order of pictures.</p>

<p><strong>delta_frame_id_minus1</strong> is used to calculate DeltaFrameId.</p>

<p><strong>DeltaFrameId</strong> specifies the distance to the frame id for the reference frame.</p>

<p><strong>RefFrameId</strong> specifies the frame id for the reference frame.
It is a requirement of bitstream conformance that whenever RefFrameId is calculated, the value matches
the value of current_frame_id at the time that the frame indexed by
ref_frame_idx was stored.</p>

<p><strong>force_integer_mv</strong> equal to 1 specifies that motion vectors will always be integers.
force_integer_mv equal to 0 specifies that motion vectors can contain fractional bits.</p>

<p><strong>allow_high_precision_mv</strong> equal to 0 specifies that motion vectors are
specified to quarter pel precision; allow_high_precision_mv equal to 1
specifies that motion vectors are specified to eighth pel precision.</p>

<p><strong>can_use_previous</strong> equal to 1 specifies that information (motion vectors and global motion settings)
from a previous frame can be used when decoding the current frame.
can_use_previous equal to 0 specifies that this information will not be used.</p>

<p><strong>frame_parallel_decoding_mode</strong> equal to 1 indicates that parallel decoding mode is enabled;
frame_parallel_decoding_mode equal to 0 indicates that parallel decoding mode is disabled.</p>

<p class="alert alert-info"><strong>Note:</strong> Parallel decoding mode means that the CDFs in the frame context are not updated at the
end of the frame.
This means that the next frame can start to be decoded as soon as the frame headers of the
current frame have been processed.</p>

<p><strong>frame_offset_update</strong> specifies how many frames later this frame will be shown.</p>

<p><strong>DecodeOrder</strong> specifies the offset of when this frame will be shown relative to the last key frame.</p>

<p><strong>DecodeOrders</strong> specifies the decode order for each reference frame.</p>

<p><strong>CurrentVideoFrame</strong> counts the number of frames that have been shown since the last key frame.
This variable should be initialized to zero in case the sequence starts with an intra only frame.</p>

<p class="alert alert-info"><strong>Note:</strong> The starting value of CurrentVideoFrame is unimportant because
the decoding process only depends on the relative value between values of DecodeOrder.</p>

<p><strong>AllLossless</strong> is a variable that is equal to 1 when all segments use lossless
encoding.</p>

<p><strong>reduced_tx_set</strong> equal to 1 specifies that the frame is restricted to a
reduced subset of the full set of transform types.</p>

<p><strong>setup_past_independence</strong> is a function call that indicates that this frame
can be decoded without dependence on previous coded frames. When this function
is invoked the following takes place:</p>

<ul>
  <li>
    <p>FeatureData[ i ][ j ] and FeatureEnabled[ i ][ j ] are set equal to 0 for
i = 0..7 and j = 0..3.</p>
  </li>
  <li>
    <p>PrevSegmentIds[ row ][ col ] is set equal to 0 for row = 0..MiRows-1 and
col = 0..MiCols-1.</p>
  </li>
  <li>
    <p>loop_filter_delta_enabled is set equal to 1.</p>
  </li>
  <li>
    <p>loop_filter_ref_deltas[ INTRA_FRAME ] is set equal to 1.</p>
  </li>
  <li>
    <p>loop_filter_ref_deltas[ LAST_FRAME ] is set equal to 0.</p>
  </li>
  <li>
    <p>loop_filter_ref_deltas[ LAST2_FRAME ] is set equal to 0.</p>
  </li>
  <li>
    <p>loop_filter_ref_deltas[ LAST3_FRAME ] is set equal to 0.</p>
  </li>
  <li>
    <p>loop_filter_ref_deltas[ BWDREF_FRAME ] is set equal to 0.</p>
  </li>
  <li>
    <p>loop_filter_ref_deltas[ GOLDEN_FRAME ] is set equal to -1.</p>
  </li>
  <li>
    <p>loop_filter_ref_deltas[ ALTREF_FRAME ] is set equal to -1.</p>
  </li>
  <li>
    <p>loop_filter_ref_deltas[ ALTREF2_FRAME ] is set equal to -1.</p>
  </li>
  <li>
    <p>loop_filter_mode_deltas[ i ] is set equal to 0 for i = 0..1.</p>
  </li>
  <li>
    <p>The cumulative distribution function arrays are reset to default values as follows:</p>

    <ul>
      <li>
        <p>YModeCdf is set to a copy of Default_Y_Mode_Cdf</p>
      </li>
      <li>
        <p>UVModeCdf is set to a copy of Default_Uv_Mode_Cdf</p>
      </li>
      <li>
        <p>AngleDeltaCdf is set to a copy of Default_Angle_Delta_Cdf</p>
      </li>
      <li>
        <p>PartitionW8Cdf is set to a copy of Default_Partition_W8_Cdf</p>
      </li>
      <li>
        <p>PartitionCdf is set to a copy of Default_Partition_Cdf</p>
      </li>
      <li>
        <p>SegmentIdCdf is set to a copy of Default_Segment_Id_Cdf</p>
      </li>
      <li>
        <p>SegmentIdPredictedCdf is set to a copy of Default_Segment_Id_Predicted_Cdf</p>
      </li>
      <li>
        <p>Tx8x8Cdf is set to a copy of Default_Tx_8x8_Cdf</p>
      </li>
      <li>
        <p>Tx16x16Cdf is set to a copy of Default_Tx_16x16_Cdf</p>
      </li>
      <li>
        <p>Tx32x32Cdf is set to a copy of Default_Tx_32x32_Cdf</p>
      </li>
      <li>
        <p>Tx64x64Cdf is set to a copy of Default_Tx_64x64_Cdf</p>
      </li>
      <li>
        <p>TxfmSplitCdf is set to a copy of Default_Txfm_Split_Cdf</p>
      </li>
      <li>
        <p>InterpFilterCdf is set to a copy of Default_Interp_Filter_Cdf</p>
      </li>
      <li>
        <p>MotionModeCdf is set to a copy of Default_Motion_Mode_Cdf</p>
      </li>
      <li>
        <p>NewMvCdf is set to a copy of Default_New_Mv_Cdf</p>
      </li>
      <li>
        <p>ZeroMvCdf is set to a copy of Default_Zero_Mv_Cdf</p>
      </li>
      <li>
        <p>RefMvCdf is set to a copy of Default_Ref_Mv_Cdf</p>
      </li>
      <li>
        <p>CompoundModeCdf is set to a copy of Default_Compound_Mode_Cdf</p>
      </li>
      <li>
        <p>DrlModeCdf is set to a copy of Default_Drl_Mode_Cdf</p>
      </li>
      <li>
        <p>IsInterCdf is set to a copy of Default_Is_Inter_Cdf</p>
      </li>
      <li>
        <p>CompModeCdf is set to a copy of Default_Comp_Mode_Cdf</p>
      </li>
      <li>
        <p>SkipCdf is set to a copy of Default_Skip_Cdf</p>
      </li>
      <li>
        <p>CompRefCdf is set to a copy of Default_Comp_Ref_Cdf</p>
      </li>
      <li>
        <p>CompBwdRefCdf is set to a copy of Default_Comp_Bwd_Ref_Cdf</p>
      </li>
      <li>
        <p>SingleRefCdf is set to a copy of Default_Single_Ref_Cdf</p>
      </li>
      <li>
        <p>MvJointCdf[ i ] is set to a copy of Default_Mv_Joint_Cdf for i = 0..MV_CONTEXTS-1</p>
      </li>
      <li>
        <p>MvClassCdf[ i ] is set to a copy of Default_Mv_Class_Cdf for i = 0..MV_CONTEXTS-1</p>
      </li>
      <li>
        <p>MvClass0BitCdf[ i ][ comp ] is set to a copy of Default_Mv_Class0_Bit_Cdf for i = 0..MV_CONTEXTS-1 and comp = 0..1</p>
      </li>
      <li>
        <p>MvFrCdf[ i ] is set to a copy of Default_Mv_Fr_Cdf for i = 0..MV_CONTEXTS-1</p>
      </li>
      <li>
        <p>MvClass0FrCdf[ i ] is set to a copy of Default_Mv_Class0_Fr_Cdf for i = 0..MV_CONTEXTS-1</p>
      </li>
      <li>
        <p>MvClass0HpCdf[ i ][ comp ] is set to a copy of Default_Mv_Class0_Hp_Cdf for i = 0..MV_CONTEXTS-1 and comp = 0..1</p>
      </li>
      <li>
        <p>MvSignCdf[ i ][ comp ] is set to a copy of Default_Mv_Sign_Cdf for i = 0..MV_CONTEXTS-1 and comp = 0..1</p>
      </li>
      <li>
        <p>MvBitCdf[ i ][ comp ] is set to a copy of Default_Mv_Bit_Cdf for i = 0..MV_CONTEXTS-1 and comp = 0..1</p>
      </li>
      <li>
        <p>MvHpCdf[ i ][ comp ] is set to a copy of Default_Mv_Hp_Cdf for i = 0..MV_CONTEXTS-1 and comp = 0..1</p>
      </li>
      <li>
        <p>PaletteYModeCdf is set to a copy of Default_Palette_Y_Mode_Cdf</p>
      </li>
      <li>
        <p>PaletteUVModeCdf is set to a copy of Default_Palette_Uv_Mode_Cdf</p>
      </li>
      <li>
        <p>PaletteYSizeCdf is set to a copy of Default_Palette_Y_Size_Cdf</p>
      </li>
      <li>
        <p>PaletteUVSizeCdf is set to a copy of Default_Palette_Uv_Size_Cdf</p>
      </li>
      <li>
        <p>PaletteSize2YColorCdf is set to a copy of
Default_Palette_Size_2_Y_Color_Cdf</p>
      </li>
      <li>
        <p>PaletteSize2UVColorCdf is set to a copy of
Default_Palette_Size_2_Uv_Color_Cdf</p>
      </li>
      <li>
        <p>PaletteSize3YColorCdf is set to a copy of
Default_Palette_Size_3_Y_Color_Cdf</p>
      </li>
      <li>
        <p>PaletteSize3UVColorCdf is set to a copy of
Default_Palette_Size_3_Uv_Color_Cdf</p>
      </li>
      <li>
        <p>PaletteSize4YColorCdf is set to a copy of
Default_Palette_Size_4_Y_Color_Cdf</p>
      </li>
      <li>
        <p>PaletteSize4UVColorCdf is set to a copy of
Default_Palette_Size_4_Uv_Color_Cdf</p>
      </li>
      <li>
        <p>PaletteSize5YColorCdf is set to a copy of
Default_Palette_Size_5_Y_Color_Cdf</p>
      </li>
      <li>
        <p>PaletteSize5UVColorCdf is set to a copy of
Default_Palette_Size_5_Uv_Color_Cdf</p>
      </li>
      <li>
        <p>PaletteSize6YColorCdf is set to a copy of
Default_Palette_Size_6_Y_Color_Cdf</p>
      </li>
      <li>
        <p>PaletteSize6UVColorCdf is set to a copy of
Default_Palette_Size_6_Uv_Color_Cdf</p>
      </li>
      <li>
        <p>PaletteSize7YColorCdf is set to a copy of
Default_Palette_Size_7_Y_Color_Cdf</p>
      </li>
      <li>
        <p>PaletteSize7UVColorCdf is set to a copy of
Default_Palette_Size_7_Uv_Color_Cdf</p>
      </li>
      <li>
        <p>PaletteSize8YColorCdf is set to a copy of
Default_Palette_Size_8_Y_Color_Cdf</p>
      </li>
      <li>
        <p>PaletteSize8UVColorCdf is set to a copy of
Default_Palette_Size_8_Uv_Color_Cdf</p>
      </li>
      <li>
        <p>DeltaQCdf is set to a copy of Default_Delta_Q_Cdf</p>
      </li>
      <li>
        <p>DeltaLFCdf is set to a copy of Default_Delta_Lf_Cdf</p>
      </li>
      <li>
        <p>DeltaLFMultiCdf[ i ] is set to a copy of Default_Delta_Lf_Cdf for i = 0..FRAME_LF_COUNT-1</p>
      </li>
      <li>
        <p>IntraTxTypeSet1Cdf is set to a copy of Default_Intra_Tx_Type_Set1_Cdf</p>
      </li>
      <li>
        <p>IntraTxTypeSet2Cdf is set to a copy of Default_Intra_Tx_Type_Set2_Cdf</p>
      </li>
      <li>
        <p>InterTxTypeSet1Cdf is set to a copy of Default_Inter_Tx_Type_Set1_Cdf</p>
      </li>
      <li>
        <p>InterTxTypeSet2Cdf is set to a copy of Default_Inter_Tx_Type_Set2_Cdf</p>
      </li>
      <li>
        <p>InterTxTypeSet3Cdf is set to a copy of Default_Inter_Tx_Type_Set3_Cdf</p>
      </li>
      <li>
        <p>UseObmcCdf is set to a copy of Default_Use_Obmc_Cdf</p>
      </li>
      <li>
        <p>InterIntraCdf is set to a copy of Default_Inter_Intra_Cdf</p>
      </li>
      <li>
        <p>CompRefTypeCdf is set to a copy of Default_Comp_Ref_Type_Cdf</p>
      </li>
      <li>
        <p>CflSignCdf is set to a copy of Default_Cfl_Sign_Cdf</p>
      </li>
      <li>
        <p>UniCompRefCdf is set to a copy of Default_Uni_Comp_Ref_Cdf</p>
      </li>
      <li>
        <p>WedgeInterIntraCdf is set to a copy of Default_Wedge_Inter_Intra_Cdf</p>
      </li>
      <li>
        <p>CompoundTypeCdf is set to a copy of Default_Compound_Type_Cdf</p>
      </li>
      <li>
        <p>InterIntraModeCdf is set to a copy of Default_Inter_Intra_Mode_Cdf</p>
      </li>
      <li>
        <p>CflAlphaCdf is set to a copy of Default_Cfl_Alpha_Cdf</p>
      </li>
      <li>
        <p>UseWienerCdf is set to a copy of Default_Use_Wiener_Cdf</p>
      </li>
      <li>
        <p>UseSgrprojCdf is set to a copy of Default_Use_Sgrproj_Cdf</p>
      </li>
      <li>
        <p>RestorationTypeCdf is set to a copy of Default_Restoration_Type_Cdf</p>
      </li>
      <li>
        <p>TxbSkipCdf is set to a copy of Default_Txb_Skip_Cdf.</p>
      </li>
      <li>
        <p>EobFlagCdf is set to a copy of Default_Eob_Flag_Cdf.</p>
      </li>
      <li>
        <p>EobExtraCdf is set to a copy of Default_Eob_Extra_Cdf.</p>
      </li>
      <li>
        <p>DcSignCdf is set to a copy of Default_Dc_Sign_Cdf.</p>
      </li>
      <li>
        <p>CoeffBaseEobCdf is set to a copy of Default_Coeff_Base_Eob_Cdf.</p>
      </li>
      <li>
        <p>CoeffBaseCdf is set to a copy of Default_Coeff_Base_Cdf.</p>
      </li>
      <li>
        <p>CoeffBrCdf is set to a copy of Default_Coeff_Br_Cdf.</p>
      </li>
    </ul>
  </li>
</ul>

<p><strong>load_cdfs( ctx )</strong> is a function call that indicates that the CDF tables are
loaded from frame context number ctx in the range 0 to (NUM_REF_FRAMES - 1).
When this function is invoked, a copy of each CDF array mentioned in the
semantics for setup_past_independence is loaded from an area of memory indexed
by ctx. (The memory contents of these frame contexts have been initialized by
previous calls to save_cdfs).  Once the CDF arrays have been loaded, the last entry
in each array is set to 0.</p>

<p class="alert alert-info"><strong>Note:</strong> The last entry in each CDF array is used to keep track of how many times
the CDF has been used within the current tile.  This allows the CDF to adapt faster
at the start of each tile.</p>

<p><strong>load_previous( )</strong> is a function call that indicates that information from the
previous frame should be loaded for use in decoding the current frame.
When this function is invoked the following ordered steps apply:</p>

<ol>
  <li>
    <p>The variable prevFrame is set equal to ref_frame_idx[ 0 ].</p>
  </li>
  <li>
    <p>gm_params is set equal to SavedGmParams[ prevFrame ].</p>
  </li>
  <li>
    <p>If segmentation_enabled is equal to 1, PrevSegmentIds[ row ][ col ] is set equal to SavedSegmentIds[ prevFrame ][ row ][ col ] for row = 0..MiRows-1, for col = 0..MiCols-1</p>
  </li>
  <li>
    <p>If can_use_previous is equal to 1, the motion field estimation process in <a href="#motion-field-estimation-process">section 7.5</a> is invoked.</p>
  </li>
</ol>

<p>It is a requirement of bitstream conformance that if segmentation_enabled is equal to 1, prevFrame refers to a frame of the same
width and height as the current frame.
In other words, when this function is invoked, all of the following must be true:</p>

<ul>
  <li>
    <p>RefFrameWidth[ prevFrame ] is equal to FrameWidth.</p>
  </li>
  <li>
    <p>RefFrameHeight[ prevFrame ] is equal to FrameHeight.</p>
  </li>
</ul>

<h4 id="frame-size-semantics">Frame Size Semantics</h4>

<p><strong>frame_width_minus_1</strong> plus one is the width of the frame in pixels.</p>

<p><strong>frame_height_minus_1</strong> plus one is the height of the frame in pixels.</p>

<p>It is a requirement of bitstream conformance that frame_width_minus_1 is less than or equal to max_frame_width_minus_1.</p>

<p>It is a requirement of bitstream conformance that frame_height_minus_1 is less than or equal to max_frame_height_minus_1.</p>

<h4 id="render-size-semantics">Render Size Semantics</h4>

<p>The render size is provided as a hint to the application about the desired
display size. It has no effect on the decoding process.</p>

<p><strong>render_and_frame_size_different</strong> equal to 0 means that the render width and
height are inferred from the frame width and height.
render_and_frame_size_different equal to 1 means that the render width and
height are explicitly coded in the bitstream.</p>

<p class="alert alert-info"><strong>Note:</strong> It is legal for the bitstream to explicitly code the render
dimensions in the bitstream even if they are an exact match for the frame
dimensions.</p>

<p><strong>render_width_minus_1</strong> plus one is the render width of the frame in pixels.</p>

<p><strong>render_height_minus_1</strong> plus one is the render height of the frame in pixels.</p>

<h4 id="frame-size-with-refs-semantics">Frame Size with Refs Semantics</h4>

<p>For inter frames, the frame size is either set equal to the size of a reference
frame, or can be sent explicitly.</p>

<p><strong>found_ref</strong> equal to 1 indicates that the frame dimensions can be inferred
from reference frame i where i is the loop counter in the syntax parsing
process for frame_size_with_refs. found_ref equal to 0 indicates that the
frame dimensions are not inferred from reference frame i.</p>

<p>Once the FrameWidth and FrameHeight have been computed for an inter frame, it
is a requirement of bitstream conformance that for all values of i in
the range 0..(REFS_PER_FRAME - 1), all the following conditions are true:</p>

<ul>
  <li>2 * FrameWidth &gt;= RefFrameWidth[ ref_frame_idx[ i ] ]</li>
  <li>2 * FrameHeight &gt;= RefFrameHeight[ ref_frame_idx[ i ] ]</li>
  <li>FrameWidth &lt;= 16 * RefFrameWidth[ ref_frame_idx[ i ] ]</li>
  <li>FrameHeight &lt;= 16 * RefFrameHeight[ ref_frame_idx[ i ] ]</li>
</ul>

<p class="alert alert-info"><strong>Note:</strong> This is a requirement even if all the blocks in an inter frame are
coded using intra prediction.</p>

<h4 id="compute-image-size-semantics">Compute Image Size Semantics</h4>

<p>When compute_image_size is invoked, if this is the first time compute_image_size is invoked, or if either
FrameWidth or FrameHeight have changed in value compared to the previous
time this function was invoked, then the segmentation map is cleared to
all zeros by setting SegmentIds[ row ][ col ] equal to 0 for row =
0..MiRows-1 and col = 0..MiCols-1.</p>

<p class="alert alert-info"><strong>Note:</strong> compute_image_size is not invoked and therefore segmentation map is
not cleared when show_existing_frame is equal to 1 even if the shown frame has
different dimensions.</p>

<h4 id="interpolation-filter-semantics">Interpolation Filter Semantics</h4>

<p><strong>is_filter_switchable</strong> equal to 1 indicates that the filter selection is
signaled at the block level; is_filter_switchable equal to 0 indicates that the
filter selection is signaled at the frame level.</p>

<p><strong>interpolation_filter</strong> specifies the filter selection used for performing
inter prediction:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">interpolation_filter</th>
      <th style="text-align: center">Name of interpolation_filter</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">EIGHTTAP</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">EIGHTTAP_SMOOTH</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">EIGHTTAP_SHARP</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: center">BILINEAR</td>
    </tr>
    <tr>
      <td style="text-align: center">4</td>
      <td style="text-align: center">SWITCHABLE</td>
    </tr>
  </tbody>
</table>

<h4 id="loop-filter-semantics">Loop Filter Semantics</h4>

<p><strong>loop_filter_level</strong> is an array containing loop filter strength values. Different
loop filter strength values from the array are used depending on the image plane being
filtered, and the edge direction (vertical or horizontal) being filtered.</p>

<p><strong>loop_filter_sharpness</strong> indicates the sharpness level. The loop_filter_level
and loop_filter_sharpness together determine when a block edge is filtered, and
by how much the filtering can change the sample values.</p>

<p>The loop filter process is described in <a href="#loop-filter-process">section 7.10</a>.</p>

<p><strong>loop_filter_delta_enabled</strong> equal to 1 means that the filter level depends on
the mode and reference frame used to predict a block. loop_filter_delta_enabled
equal to 0 means that the filter level does not depend on the mode and
reference frame.</p>

<p><strong>loop_filter_delta_update</strong> equal to 1 means that the bitstream contains
additional syntax elements that specify which mode and reference frame deltas
are to be updated. loop_filter_delta_update equal to 0 means that these syntax
elements are not present.</p>

<p><strong>update_ref_delta</strong> equal to 1 means that the bitstream contains the syntax
element loop_filter_ref_delta; update_ref_delta equal to 0 means that the
bitstream does not contain this syntax element.</p>

<p><strong>loop_filter_ref_deltas</strong> contains the adjustment needed for the filter level
based on the chosen reference frame. If this syntax element is not present in
the bitstream, it maintains its previous value.</p>

<p><strong>update_mode_delta</strong> equal to 1 means that the bitstream contains the syntax
element loop_filter_mode_deltas; update_mode_delta equal to 0 means that the
bitstream does not contain this syntax element.</p>

<p><strong>loop_filter_mode_deltas</strong> contains the adjustment needed for the filter level
based on the chosen mode. If this syntax element is not present in the
bitstream, it maintains its previous value.</p>

<p class="alert alert-info"><strong>Note:</strong> The previous values for loop_filter_mode_deltas and
loop_filter_ref_deltas are intially set by the setup_past_independence function
and can be subsequently modified by these syntax elements being coded in a
previous frame.</p>

<h4 id="quantization-params-semantics">Quantization Params Semantics</h4>

<p>The residual is specified via decoded coefficients which are adjusted by one of
four quantization parameters before the inverse transform is applied. The
choice depends on the plane (Y or UV) and coefficient position (DC/AC
coefficient). The Dequantization process is specified in <a href="#reconstruction-and-dequantization">section 7.8</a>.</p>

<p><strong>base_q_idx</strong> indicates the base frame qindex. This is used for Y AC
coefficients and as the base value for the other quantizers.</p>

<p><strong>deltaQYDc</strong> indicates the Y DC quantizer relative to base_q_idx.</p>

<p><strong>deltaQUVDc</strong> indicates the UV DC quantizer relative to base_q_idx.</p>

<p><strong>deltaQUVAc</strong> indicates the UV AC quantizer relative to base_q_idx.</p>

<p><strong>using_qmatrix</strong> specifies that the quantizer matrix will be used to
compute quantizers.</p>

<p><strong>min_qmlevel</strong> specifies the smallest level in the quantizer matrix that
may be used.</p>

<p><strong>max_qmlevel</strong> specifies the largest level in the quantizer matrix that
may be used.</p>

<h4 id="delta-quantizer-semantics">Delta Quantizer Semantics</h4>

<p><strong>delta_coded</strong> specifies that the delta_q syntax element is present in the
bitstream.</p>

<p><strong>delta_q</strong> specifies an offset (relative to base_q_idx) for a particular
quantization parameter.</p>

<h4 id="segmentation-params-semantics">Segmentation Params Semantics</h4>

<p>AV1 provides a means of segmenting the image and then applying various
adjustments at the segment level.</p>

<p>Up to 8 segments may be specified for any given frame. For each of these
segments it is possible to specify:</p>

<ol>
  <li>A quantizer (absolute value or delta).</li>
  <li>A loop filter strength (absolute value or delta).</li>
  <li>A prediction reference frame.</li>
  <li>A block skip mode that implies both the use of a (0,0) motion vector and
that no residual will be coded.</li>
</ol>

<p>Each of these data values for each segment may be individually updated at the
frame level. Where a value is not updated in a given frame, the value from the
previous frame persists. The exceptions to this are key frames, intra only
frames or other frames where independence from past frame values is required
(for example to enable error resilience). In such cases all values are reset
as described in the semantics for setup_past_independence.</p>

<p>The segment affiliation (the segmentation map) is stored at the resolution of
4x4 blocks. If no explicit update is coded for a block’s segment affiliation,
then it persists from frame to frame (until reset by a call to
setup_past_independence).</p>

<p><strong>segmentation_enabled</strong> equal to 1 indicates that this frame makes use of the
segmentation tool; segmentation_enabled equal to 0 indicates that the frame
does not use segmentation.</p>

<p><strong>segmentation_update_map</strong> equal to 1 indicates that the segmentation map are
updated during the decoding of this frame. segmentation_update_map equal to 0
means that the segmentation map from the previous frame is used.</p>

<p><strong>segmentation_temporal_update</strong> equal to 1 indicates that the updates to the
segmentation map are coded relative to the existing segmentation map.
segmentation_temporal_update equal to 0 indicates that the new
segmentation map is coded without reference to the existing segmentation map.</p>

<p><strong>segmentation_update_data</strong> equal to 1 indicates that new parameters are about
to be specified for each segment. segmentation_update_data equal to 0 indicates
that the segmentation parameters should keep their existing values.</p>

<p><strong>feature_enabled</strong> equal to 0 indicates that the corresponding feature is
unused and has value equal to 0. feature_enabled equal to 1 indicates that the
feature value is coded in the bitstream.</p>

<p><strong>feature_value</strong> specifies the magnitude of the feature data for a segment
feature.</p>

<p><strong>feature_sign</strong> equal to 1 indicates that the feature data is given by
-feature_value. feature_sign equal to 0 indicates that the feature data is
given by feature_value.</p>

<h4 id="tile-info-semantics">Tile Info Semantics</h4>

<p><strong>uniform_tile_spacing_flag</strong> equal to 1 means that the tiles are uniformly spaced
across the frame.  (In other words, all tiles are the same size except for the ones at the right and bottom edge which can be smaller.)
uniform_tile_spacing_flag equal to 0 means that the tile sizes are coded.</p>

<p><strong>increment_tile_cols_log2</strong> indicates whether the tile width is increased.</p>

<p><strong>TileColsLog2</strong> specifies the base 2 logarithm of the desired number of tiles
across the frame.</p>

<p><strong>TileCols</strong> specifies the number of tiles across the frame.
It is a requirement of bitstream conformance that TileCols is less than or equal to MAX_TILE_COLS.</p>

<p><strong>increment_tile_rows_log2</strong> is used to compute
TileRowsLog2.</p>

<p><strong>TileRowsLog2</strong> specifies the base 2 logarithm of the desired number of tiles
down the frame.</p>

<p class="alert alert-info"><strong>Note:</strong> For small frame sizes the actual number of tiles in the frame may be
smaller than the desired number because the tile size is rounded up to a
multiple of the maximum superblock size.</p>

<p><strong>TileRows</strong> specifies the number of tiles down the frame.
It is a requirement of bitstream conformance that TileRows is less than or equal to MAX_TILE_ROWS.</p>

<p><strong>sizeSb</strong> is used to specify the width/height of each tile in units of 128x128 pixels.
It is a requirement of bitstream conformance that sizeSb is less than or equal to MAX_TILE_WIDTH_SB.</p>

<p>If uniform_tile_spacing_flag is equal to 0, it is a requirement of bitstream conformance that
startSb is equal to MaxSbCols when the loop writing MiColStarts exits.</p>

<p>If uniform_tile_spacing_flag is equal to 0, it is a requirement of bitstream conformance that
startSb is equal to MaxSbRows when the loop writing MiRowStarts exits.</p>

<p class="alert alert-info"><strong>Note:</strong> The requirements on startSb ensure that the sizes of each tile add up to the full size of the frame when measured in 128x128 units.</p>

<p><strong>MiColStarts</strong> is an array specifying the start column (in units of 4x4 pixels)
for each tile across the image.</p>

<p><strong>MiRowStarts</strong> is an array specifying the start row (in units of 4x4 pixels)
for each tile down the image.</p>

<p><strong>maxTileHeightSb</strong> specifies the maximum height (in units of 128x128 pixels) that can be used for a tile (to avoid making tiles with too much area).</p>

<p><strong>maxTileHeightMi</strong> contains the maximum height (in units of 4x4 pixels) that can be used for a tile.</p>

<p><strong>AllowDependentTileRow</strong> is an array that specifies which tile rows are allowed to use
syntax dependencies between tiles.</p>

<p class="alert alert-info"><strong>Note:</strong> The AllowDependentTileRow array ensures that the syntax decode can be split into
independent units of a certain maximum size even when dependent_tiles is equal to 1.</p>

<p><strong>dependent_tiles</strong> equal to 0 indicates that there are no syntax dependencies
between tiles, dependent_tiles equal to 1 indicates that there can be
dependencies between tiles.</p>

<p class="alert alert-info"><strong>Note:</strong> When dependent_tiles is equal to 1, the context determination, motion
vector prediction, and intra prediction are allowed to depend on the tile above,
but only if the tile above is in the same tile group.</p>

<p><strong>loop_filter_across_tiles</strong> equal to 1 indicates that loop filtering is allowed
across tile edges. loop_filter_across_tiles equal to 0 indicates that loop
filtering is not allowed across tile edges (unless dependent_tiles is equal to
1, in which case loop filtering is allowed across tile edges for horizontal
boundaries, but not across tile group edges).</p>

<p><strong>tile_size_bytes_minus_1</strong> is used to compute TileSizeBytes.</p>

<p><strong>TileSizeBytes</strong> specifies the number of bytes needed to code each tile size.</p>

<h4 id="quantizer-index-delta-parameters-semantics">Quantizer Index Delta Parameters Semantics</h4>

<p><strong>delta_q_present</strong> specifies whether quantizer index delta values are present
in the bitstream.</p>

<p><strong>delta_q_res</strong> specifies the left shift which should be applied to decoded
quantizer index delta values.</p>

<h4 id="loop-filter-delta-parameters-semantics">Loop Filter Delta Parameters Semantics</h4>

<p><strong>delta_lf_present</strong> specifies whether loop filter delta values are present in
the bitstream.</p>

<p><strong>delta_lf_res</strong> specifies the left shift which should be applied to decoded
loop filter delta values.</p>

<p><strong>delta_lf_multi</strong> equal to 1 specifies that separate loop filter deltas are sent
for horizontal luma edges, vertical luma edges, the U edges, and the V edges.
delta_lf_multi equal to 0 specifies that the same loop filter delta is used for
all edges.</p>

<h4 id="global-motion-params-semantics">Global Motion Params Semantics</h4>

<p><strong>is_global</strong> specifies whether global motion parameters are present for a
particular reference frame.</p>

<p><strong>is_rot_zoom</strong> specifies whether a particular reference frame uses rotation and
zoom global motion.</p>

<p><strong>is_translation</strong> specifies whether a particular reference frame uses
translation global motion.</p>

<h4 id="global-param-semantics">Global Param Semantics</h4>

<p><strong>absBits</strong> is used to compute the range of values that can be used for this
parameter. The values allowed are in the range -(1 &lt;&lt; absBits) to
(1 &lt;&lt; absBits).</p>

<p><strong>precBits</strong> specifies the number of fractional bits used for representing this
parameter in the bitstream. All global motion parameters are stored in the model
with WARPEDMODEL_PREC_BITS fractional bits, but the parameters are encoded with
less precision in the bitstream.</p>

<h4 id="decode-subexp-semantics">Decode Subexp Semantics</h4>

<p><strong>subexp_more_bits</strong> equal to 0 specifies that the parameter is in the range mk
to mk+a-1.  subexp_more_bits equal to 0 specifies that the parameter is greater
than mk+a-1.</p>

<p><strong>subexp_bits</strong> specifies the value of the parameter minus mk.</p>

<h4 id="decode-uniform-semantics">Decode Uniform Semantics</h4>

<p><strong>v</strong> and <strong>extra_bit</strong> are used to compute the value of an unsigned number in
the range 0 to n-1.</p>

<h4 id="tx-mode-semantics">TX Mode Semantics</h4>

<p><strong>tx_mode</strong> specifies how the transform size is determined:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">tx_mode</th>
      <th style="text-align: center">Name of tx_mode</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">ONLY_4X4</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">ALLOW_8X8</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">ALLOW_16X16</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: center">ALLOW_32X32</td>
    </tr>
    <tr>
      <td style="text-align: center">4</td>
      <td style="text-align: center">ALLOW_64X64</td>
    </tr>
    <tr>
      <td style="text-align: center">5</td>
      <td style="text-align: center">TX_MODE_SELECT</td>
    </tr>
  </tbody>
</table>

<p>For tx_mode not equal to 4, the inverse transform will use the largest
transform size possible up to the limit set in tx_mode. For tx_mode equal to 4,
the choice of size is specified explicitly for each block.</p>

<p><strong>tx_mode_select</strong> equal to 1 indicates that the transform mode is specified
within each mode info header. tx_mode_select equal to 0 indicates that the
transform mode is computed based on the size of the block and the maximum
transform size allowed by the frame header.</p>

<p><strong>tx_mode_64x64</strong> is an extra bit read if tx_mode is initially read as ALLOW_32X32,
to determine whether to increment tx_mode to ALLOW_64X64. This reduces the number of
bits read on average to determine tx_mode.</p>

<h4 id="frame-reference-mode-semantics">Frame Reference Mode Semantics</h4>

<p><strong>reference_select</strong> equal to 1 specifies that the mode info for inter blocks
contains the syntax element comp_mode that indicates whether to use single or
compound reference prediction. Reference_select equal to 0 specifies that all
inter blocks will use single or compound reference prediction.</p>

<p><strong>non_single_reference</strong> equal to 0 specifies that single reference prediction
will be used. non_single_reference equal to 1 specifies that compound reference
prediction will be used.</p>

<p><strong>ReferenceMode</strong> is a variable that specifies the type of inter prediction to
be used:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">ReferenceMode</th>
      <th style="text-align: center">Name of ReferenceMode</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">SINGLE_REFERENCE</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">COMPOUND_REFERENCE</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">REFERENCE_MODE_SELECT</td>
    </tr>
  </tbody>
</table>

<p><strong>SINGLE_REFERENCE</strong> indicates that all the inter blocks use only a single
reference frame to generate motion compensated prediction.</p>

<p><strong>COMPOUND_REFERENCE</strong> requires all the inter blocks to use compound mode.
Single reference frame prediction is not allowed.</p>

<p><strong>REFERENCE_MODE_SELECT</strong> allows each individual inter block to select between
single and compound prediction modes.</p>

<p><strong>allow_interintra_compound</strong> equal to 1 specifies that the mode info for inter
blocks may contain the syntax element interintra. allow_interintra_compound
equal to 0 specifies that the syntax element interintra will not be present in
this frame.</p>

<p><strong>allow_masked_compound</strong> equal to 1 specifies that the mode info for inter
blocks may contain the syntax element compound_type. allow_masked_compound equal
to 0 specifies that the syntax element compound_type will not be present in this
frame.</p>

<h3 id="tile-group-obu-semantics">Tile Group OBU Semantics</h3>

<p><strong>NumTiles</strong> specifies the total number of tiles in the frame.</p>

<p><strong>tg_start</strong> specifies the zero-based index of the first tile in the current
tile group.</p>

<p>It is a requirement of bitstream conformance that the value of tg_start is equal to the value of TileNum at the point that
tile_group_obu is invoked.</p>

<p><strong>tg_end</strong> specifies the zero-based index of the last tile in the current
tile group.</p>

<p>It is a requirement of bitstream conformance that the value of tg_end is
greater than or equal to tg_start.</p>

<p>It is a requirement of bitstream conformance that the value of tg_end for
the last tile group in each frame is equal to TileNum - 1.</p>

<p class="alert alert-info"><strong>Note:</strong> These requirements ensure that conceptually all tile groups are present and
received in order for the purposes of specifying the decode process.</p>

<p><strong>update_cdf</strong> is a function call that indicates that the CDF arrays are set
equal to the final CDFs at the end of the largest tile (measured in bytes). This process is
described in <a href="#cdf-update-process">section 7.4</a>.</p>

<p><strong>tile_size</strong> specifies the size in bytes of the next coded tile.</p>

<p class="alert alert-info"><strong>Note:</strong> This size includes any padding bytes added by the exit process for the
Boolean decoder. The size does not include the bytes used for tile_group_obu,
trailing_bits, and tile_size.</p>

<p><strong>AboveSameTileGroup</strong> is a variable that specifies if the tile above can be used
for dependencies, which is true if the tile is in the
same tile group (and the current tile row is marked as allowing tile group dependencies).</p>

<p><strong>decode_frame</strong> is a function call that indicates that the decode frame process
specified in <a href="#decode-frame-process">section 7.2</a> should be invoked.</p>

<h4 id="decode-tile-semantics">Decode Tile Semantics</h4>

<p><strong>clear_left_context</strong> is a function call that indicates that some arrays used
to determine the probabilities are zeroed. When this function is invoked the
arrays LeftLevelContext, LeftDcContext, and LeftSegPredContext are set
equal to 0.</p>

<p class="alert alert-info"><strong>Note:</strong> LeftLevelContext[ plane ][ i ], LeftDcContext[ plane ][ i ], and
LeftSegPredContext[ i ] need to be set to 0 for i = 0..MiRows-1, for plane = 0..2.</p>

<p><strong>clear_above_context</strong> is a function call that indicates that some arrays used
to determine the probabilities are zeroed. When this function is invoked the
arrays AboveLevelContext, AboveDcContext, and AboveSegPredContext are set equal to 0.</p>

<p class="alert alert-info"><strong>Note:</strong> AboveLevelContext[ plane ][ i ], AboveDcContext[ plane ][ i ], and
AboveSegPredContext[ i ] need to be set to 0 for i = 0..MiCols-1, for plane = 0..2.</p>

<p><strong>ReadDeltas</strong> specifies whether the current block is the first one in the
current superblock. Delta values for the quantizer index and loop filter are
only read on the first block of a superblock.</p>

<h4 id="clear-block-decoded-flags-semantics">Clear Block Decoded Flags Semantics</h4>

<p><strong>notLastColumn</strong> equal to 1 indicates that the current superblock is not in the
rightmost column of the current tile. notLastColumn equal to 0 indicates that
the current superblock is in the rightmost column of the current tile.</p>

<p><strong>BlockDecoded</strong> is an array which stores one boolean value per 4x4 sample block
per plane in the current superblock, plus a border of one 4x4 sample block on
all sides of the superblock. Except for the borders, a value of 1 in
BlockDecoded indicates that the corresponding 4x4 sample block has been decoded.
The borders are used when computing above-right and below-left availability
along the top and left edges of the superblock.</p>

<h4 id="decode-partition-semantics">Decode Partition Semantics</h4>

<p><strong>partition</strong> specifies how a block is partitioned:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">partition</th>
      <th style="text-align: center">Name of partition</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">PARTITION_NONE</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">PARTITION_HORZ</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">PARTITION_VERT</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: center">PARTITION_SPLIT</td>
    </tr>
    <tr>
      <td style="text-align: center">4</td>
      <td style="text-align: center">PARTITION_HORZ_A</td>
    </tr>
    <tr>
      <td style="text-align: center">5</td>
      <td style="text-align: center">PARTITION_HORZ_B</td>
    </tr>
    <tr>
      <td style="text-align: center">6</td>
      <td style="text-align: center">PARTITION_VERT_A</td>
    </tr>
    <tr>
      <td style="text-align: center">7</td>
      <td style="text-align: center">PARTITION_VERT_B</td>
    </tr>
    <tr>
      <td style="text-align: center">8</td>
      <td style="text-align: center">PARTITION_HORZ_4</td>
    </tr>
    <tr>
      <td style="text-align: center">9</td>
      <td style="text-align: center">PARTITION_VERT_4</td>
    </tr>
  </tbody>
</table>

<p>The variable <strong>subSize</strong> is computed from partition and indicates the size of
the component blocks within this block:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">subSize</th>
      <th style="text-align: center">Name of subSize</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">BLOCK_4X4</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">BLOCK_4X8</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">BLOCK_8X4</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: center">BLOCK_8X8</td>
    </tr>
    <tr>
      <td style="text-align: center">4</td>
      <td style="text-align: center">BLOCK_8X16</td>
    </tr>
    <tr>
      <td style="text-align: center">5</td>
      <td style="text-align: center">BLOCK_16X8</td>
    </tr>
    <tr>
      <td style="text-align: center">6</td>
      <td style="text-align: center">BLOCK_16X16</td>
    </tr>
    <tr>
      <td style="text-align: center">7</td>
      <td style="text-align: center">BLOCK_16X32</td>
    </tr>
    <tr>
      <td style="text-align: center">8</td>
      <td style="text-align: center">BLOCK_32X16</td>
    </tr>
    <tr>
      <td style="text-align: center">9</td>
      <td style="text-align: center">BLOCK_32X32</td>
    </tr>
    <tr>
      <td style="text-align: center">10</td>
      <td style="text-align: center">BLOCK_32X64</td>
    </tr>
    <tr>
      <td style="text-align: center">11</td>
      <td style="text-align: center">BLOCK_64X32</td>
    </tr>
    <tr>
      <td style="text-align: center">12</td>
      <td style="text-align: center">BLOCK_64X64</td>
    </tr>
    <tr>
      <td style="text-align: center">13</td>
      <td style="text-align: center">BLOCK_64X128</td>
    </tr>
    <tr>
      <td style="text-align: center">14</td>
      <td style="text-align: center">BLOCK_128X64</td>
    </tr>
    <tr>
      <td style="text-align: center">15</td>
      <td style="text-align: center">BLOCK_128X128</td>
    </tr>
    <tr>
      <td style="text-align: center">16</td>
      <td style="text-align: center">BLOCK_4X16</td>
    </tr>
    <tr>
      <td style="text-align: center">17</td>
      <td style="text-align: center">BLOCK_16X4</td>
    </tr>
    <tr>
      <td style="text-align: center">18</td>
      <td style="text-align: center">BLOCK_8X32</td>
    </tr>
    <tr>
      <td style="text-align: center">19</td>
      <td style="text-align: center">BLOCK_32X8</td>
    </tr>
    <tr>
      <td style="text-align: center">20</td>
      <td style="text-align: center">BLOCK_16X64</td>
    </tr>
    <tr>
      <td style="text-align: center">21</td>
      <td style="text-align: center">BLOCK_64X16</td>
    </tr>
    <tr>
      <td style="text-align: center">22</td>
      <td style="text-align: center">BLOCK_32X128</td>
    </tr>
    <tr>
      <td style="text-align: center">23</td>
      <td style="text-align: center">BLOCK_128X32</td>
    </tr>
  </tbody>
</table>

<p>The symbol BLOCK_LARGEST is defined as equal to BLOCK_128X128.</p>

<p>The dimensions of these blocks are given in width, height order (e.g.
BLOCK_8X16 corresponds to a block that is 8 pixels wide, and 16 pixels high).</p>

<p>It is a requirement of bitstream conformance that
get_plane_residual_size( subSize, 1 ) is not equal to BLOCK_INVALID every time
subSize is computed.</p>

<p class="alert alert-info"><strong>Note:</strong> This requirement prevents the UV blocks from being too tall or too
wide (i.e. having aspect ratios outside the range 1:2 to 2:1).</p>

<p><strong>split_or_vert</strong> is used to compute partition for blocks when only split or
vert partitions are legal because of overlap with the right hand edge of the
frame.</p>

<p><strong>split_or_horz</strong> is used to compute partition for blocks when only split or
horz partitions are legal because of overlap with the bottom edge of the frame.</p>

<h4 id="decode-block-semantics">Decode Block Semantics</h4>

<p><strong>MiRow</strong> is a variable holding the vertical location of the block in units of
4x4 pixels.</p>

<p><strong>MiCol</strong> is a variable holding the horizontal location of the block in units of
4x4 pixels.</p>

<p><strong>MiSize</strong> is a variable holding the size of the block with values having the
same interpretation for the variable subSize.</p>

<p><strong>HasChroma</strong> is a variable that specifies whether chroma information is coded
for this block.</p>

<p>Variable <strong>AvailU</strong> is equal to 0 if the information from the block above cannot
be used; AvailU is equal to 1 if the information from the block above can be
used.</p>

<p>Variable <strong>AvailL</strong> is equal to 0 if the information from the block to the left
can not be used; AvailL is equal to 1 if the information from the block to the
left can be used.</p>

<p class="alert alert-info"><strong>Note:</strong> Information from a block in a different tile can be used in some
circumstances if the block is above, but not if the block is to the left.</p>

<h4 id="intra-frame-mode-info-semantics">Intra Frame Mode Info Semantics</h4>

<p>This syntax is used when coding an intra block within an intra frame.</p>

<p><strong>intra_frame_y_mode</strong> specifies the direction of intra prediction filtering:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">intra_frame_y_mode</th>
      <th style="text-align: center">Name of intra_frame_y_mode</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">DC_PRED</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">V_PRED</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">H_PRED</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: center">D45_PRED</td>
    </tr>
    <tr>
      <td style="text-align: center">4</td>
      <td style="text-align: center">D135_PRED</td>
    </tr>
    <tr>
      <td style="text-align: center">5</td>
      <td style="text-align: center">D117_PRED</td>
    </tr>
    <tr>
      <td style="text-align: center">6</td>
      <td style="text-align: center">D153_PRED</td>
    </tr>
    <tr>
      <td style="text-align: center">7</td>
      <td style="text-align: center">D207_PRED</td>
    </tr>
    <tr>
      <td style="text-align: center">8</td>
      <td style="text-align: center">D63_PRED</td>
    </tr>
    <tr>
      <td style="text-align: center">9</td>
      <td style="text-align: center">SMOOTH_PRED</td>
    </tr>
    <tr>
      <td style="text-align: center">10</td>
      <td style="text-align: center">SMOOTH_V_PRED</td>
    </tr>
    <tr>
      <td style="text-align: center">11</td>
      <td style="text-align: center">SMOOTH_H_PRED</td>
    </tr>
    <tr>
      <td style="text-align: center">12</td>
      <td style="text-align: center">TM_PRED</td>
    </tr>
    <tr>
      <td style="text-align: center">13</td>
      <td style="text-align: center">UV_CFL_PRED</td>
    </tr>
  </tbody>
</table>

<p><strong>uv_mode</strong> specifies the chrominance intra prediction mode using
values with the same interpretation as in the semantics for intra_frame_y_mode.</p>

<h4 id="intra-and-inter-segment-id-semantics">Intra and Inter Segment ID Semantics</h4>

<p><strong>segment_id</strong> specifies which segment is associated with the current intra
block being decoded.</p>

<p><strong>seg_id_predicted</strong> equal to 1 specifies that the segment_id are taken from
the segmentation map. seg_id_predicted equal to 0 specifies that the syntax
element segment_id are parsed.</p>

<p class="alert alert-info"><strong>Note:</strong> It is legal for seg_id_predicted to be equal to 0 even if the value
coded for the segment_id is equal to predictedSegmentId.</p>

<p><strong>Lossless</strong> is a variable which, if equal to 1, indicates that the block
is coded using a special 4x4 transform designed for encoding frames that
are bit-identical with the original frames.</p>

<h4 id="skip-semantics">Skip Semantics</h4>

<p><strong>skip</strong> equal to 0 indicates that there may be some transform coefficients to
read for this block; skip equal to 1 indicates that there are no transform
coefficients.</p>

<h4 id="quantizer-index-delta-semantics">Quantizer Index Delta Semantics</h4>

<p><strong>delta_q_abs</strong> specifies the absolute value of the quantizer index delta value
being decoded. If delta_q_abs is equal to DELTA_Q_SMALL, the value is encoded
using delta_q_rem_bits and delta_q_abs_bits.</p>

<p><strong>delta_q_rem_bits</strong> and <strong>delta_q_abs_bits</strong> encode the absolute value of the
quantizer index delta value being decoded, where the absolute value of the
quantizer index delta value is of the form:</p>

<pre><code class="language-c">(1 &lt;&lt; delta_q_rem_bits) + delta_q_abs_bits + 1
</code></pre>

<p><strong>delta_q_sign_bit</strong> equal to 0 indicates that the quantizer index delta value
is positive; delta_q_sign_bit equal to 1 indicates that the quantizer index
delta value is negative.</p>

<h4 id="loop-filter-delta-semantics">Loop Filter Delta Semantics</h4>

<p><strong>delta_lf_abs</strong> specifies the absolute value of the loop filter delta value
being decoded. If delta_lf_abs is equal to DELTA_LF_SMALL, the value is encoded
using delta_lf_rem_bits and delta_lf_abs_bits.</p>

<p><strong>delta_lf_rem_bits</strong> and <strong>delta_lf_abs_bits</strong> encode the absolute value of the
loop filter delta value being decoded, where the absolute value of the loop
filter delta value is of the form:</p>

<pre><code class="language-c">( 1 &lt;&lt; ( delta_lf_rem_bits + 1 ) ) + delta_lf_abs_bits + 1
</code></pre>

<p><strong>delta_lf_sign_bit</strong> equal to 0 indicates that the loop filter delta value is
positive; delta_lf_sign_bit equal to 1 indicates that the loop filter delta
value is negative.</p>

<h4 id="cdef-params-semantics">CDEF Params Semantics</h4>

<p><strong>cdef_damping_minus_3</strong> controls the amount of damping in the deringing filter.</p>

<p><strong>cdef_bits</strong> specifies the number of bits needed to specify which CDEF filter
to apply.</p>

<p><strong>cdef_y_pri_strength</strong> and <strong>cdef_uv_pri_strength</strong> specify the strength of the
primary filter.</p>

<p><strong>cdef_y_sec_strength</strong> and <strong>cdef_uv_sec_strength</strong> specify the strength of the
secondary filter.</p>

<h4 id="loop-restoration-params-semantics">Loop Restoration Params Semantics</h4>

<p><strong>lr_type</strong> is used to compute FrameRestorationType.</p>

<p><strong>FrameRestorationType</strong> specifies the type of restoration used for each plane as follows:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">lr_type</th>
      <th style="text-align: center">FrameRestorationType</th>
      <th style="text-align: center">Name of FrameRestorationType</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">RESTORE_NONE</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">3</td>
      <td style="text-align: center">RESTORE_SWITCHABLE</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">RESTORE_WIENER</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: center">2</td>
      <td style="text-align: center">RESTORE_SGRPROJ</td>
    </tr>
  </tbody>
</table>

<p><strong>lr_unit_shift</strong> specifies if the luma restoration size should be halved.</p>

<p><strong>lr_unit_extra_shift</strong> specifies if the luma restoration size should be halved again.</p>

<p><strong>lr_uv_shift</strong> is only present for 4:2:0 formats and specifies if the chroma size should be half the luma size.</p>

<p><strong>LoopRestorationSize[plane]</strong> specifies for size of loop restoration units in units of samples in the current plane.</p>

<h4 id="tx-size-semantics">TX Size Semantics</h4>

<p><strong>tx_size</strong> specifies the transform size to be used for this block:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">tx_size</th>
      <th style="text-align: center">Name of tx_size</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">TX_4X4</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">TX_8X8</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">TX_16X16</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: center">TX_32X32</td>
    </tr>
    <tr>
      <td style="text-align: center">4</td>
      <td style="text-align: center">TX_64X64</td>
    </tr>
    <tr>
      <td style="text-align: center">5</td>
      <td style="text-align: center">TX_4X8</td>
    </tr>
    <tr>
      <td style="text-align: center">6</td>
      <td style="text-align: center">TX_8X4</td>
    </tr>
    <tr>
      <td style="text-align: center">7</td>
      <td style="text-align: center">TX_8X16</td>
    </tr>
    <tr>
      <td style="text-align: center">8</td>
      <td style="text-align: center">TX_16X8</td>
    </tr>
    <tr>
      <td style="text-align: center">9</td>
      <td style="text-align: center">TX_16X32</td>
    </tr>
    <tr>
      <td style="text-align: center">10</td>
      <td style="text-align: center">TX_32X16</td>
    </tr>
    <tr>
      <td style="text-align: center">11</td>
      <td style="text-align: center">TX_32X64</td>
    </tr>
    <tr>
      <td style="text-align: center">12</td>
      <td style="text-align: center">TX_64X32</td>
    </tr>
  </tbody>
</table>

<p class="alert alert-info"><strong>Note:</strong> tx_size is decoded for skipped intra blocks because tx_size controls
the granularity of the intra prediction.</p>

<p class="alert alert-info"><strong>Note:</strong> The tx_size syntax element in the bitstream only explicitly codes
square sizes.  Rectangular sizes are signalled by transmitting a square tx_size
that is larger than the block size. tx_size is then overwritten to be the
largest rectangular size that fits in the block.</p>

<h4 id="inter-tx-size-semantics">Inter TX Size Semantics</h4>

<p><strong>MinTxSize</strong> is a variable that contains a square transform size that would fit inside all the transforms within the block.
In other words, if the block contains transforms of size W[i] by H[i], then MinTxSize represents a transform of size m by m, where m is equal to the smallest value in both W and H.</p>

<p><strong>InterTxSizes</strong> is an array that holds the transform sizes within inter frames.</p>

<p class="alert alert-info"><strong>Note:</strong> TxSizes and InterTxSizes contain different values.
All the values in TxSizes across a residual block will share the same value, while InterTxSizes can represent several different transform sizes within a residual block.</p>

<h4 id="var-tx-size-semantics">Var TX Size Semantics</h4>

<p><strong>txfm_split</strong> equal to 1 specifies that the block should be split into smaller transform sizes.
txfm_split equal to 0 specifies that the block should not be split any more.</p>

<h4 id="transform-type-semantics">Transform Type Semantics</h4>

<p><strong>set</strong> specifies the transform set.</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">is_inter</th>
      <th style="text-align: center">set</th>
      <th style="text-align: center">Name of transform set</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">Don’t care</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">TX_SET_DCTONLY</td>
    </tr>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">TX_SET_INTRA_1</td>
    </tr>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">2</td>
      <td style="text-align: center">TX_SET_INTRA_2</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">TX_SET_INTER_1</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">2</td>
      <td style="text-align: center">TX_SET_INTER_2</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">3</td>
      <td style="text-align: center">TX_SET_INTER_3</td>
    </tr>
  </tbody>
</table>

<p>The transform sets determine what subset of transform types can be used, according to the following table.</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">Transform type</th>
      <th style="text-align: center">TX_SET_DCTONLY</th>
      <th style="text-align: center">TX_SET_INTRA_1</th>
      <th style="text-align: center">TX_SET_INTRA_2</th>
      <th style="text-align: center">TX_SET_INTER_1</th>
      <th style="text-align: center">TX_SET_INTER_2</th>
      <th style="text-align: center">TX_SET_INTER_3</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">DCT_DCT</td>
      <td style="text-align: center">X</td>
      <td style="text-align: center">X</td>
      <td style="text-align: center">X</td>
      <td style="text-align: center">X</td>
      <td style="text-align: center">X</td>
      <td style="text-align: center">X</td>
    </tr>
    <tr>
      <td style="text-align: center">ADST_DCT</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">X</td>
      <td style="text-align: center">X</td>
      <td style="text-align: center">X</td>
      <td style="text-align: center">X</td>
      <td style="text-align: center"> </td>
    </tr>
    <tr>
      <td style="text-align: center">DCT_ADST</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">X</td>
      <td style="text-align: center">X</td>
      <td style="text-align: center">X</td>
      <td style="text-align: center">X</td>
      <td style="text-align: center"> </td>
    </tr>
    <tr>
      <td style="text-align: center">ADST_ADST</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">X</td>
      <td style="text-align: center">X</td>
      <td style="text-align: center">X</td>
      <td style="text-align: center">X</td>
      <td style="text-align: center"> </td>
    </tr>
    <tr>
      <td style="text-align: center">FLIPADST_DCT</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">X</td>
      <td style="text-align: center">X</td>
      <td style="text-align: center"> </td>
    </tr>
    <tr>
      <td style="text-align: center">DCT_FLIPADST</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">X</td>
      <td style="text-align: center">X</td>
      <td style="text-align: center"> </td>
    </tr>
    <tr>
      <td style="text-align: center">FLIPADST_FLIPADST</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">X</td>
      <td style="text-align: center">X</td>
      <td style="text-align: center"> </td>
    </tr>
    <tr>
      <td style="text-align: center">ADST_FLIPADST</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">X</td>
      <td style="text-align: center">X</td>
      <td style="text-align: center"> </td>
    </tr>
    <tr>
      <td style="text-align: center">FLIPADST_ADST</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">X</td>
      <td style="text-align: center">X</td>
      <td style="text-align: center"> </td>
    </tr>
    <tr>
      <td style="text-align: center">IDTX</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">X</td>
      <td style="text-align: center">X</td>
      <td style="text-align: center">X</td>
      <td style="text-align: center">X</td>
      <td style="text-align: center">X</td>
    </tr>
    <tr>
      <td style="text-align: center">V_DCT</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">X</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">X</td>
      <td style="text-align: center">X</td>
      <td style="text-align: center"> </td>
    </tr>
    <tr>
      <td style="text-align: center">H_DCT</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">X</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">X</td>
      <td style="text-align: center">X</td>
      <td style="text-align: center"> </td>
    </tr>
    <tr>
      <td style="text-align: center">V_ADST</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">X</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
    </tr>
    <tr>
      <td style="text-align: center">H_ADST</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">X</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
    </tr>
    <tr>
      <td style="text-align: center">V_FLIPADST</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">X</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
    </tr>
    <tr>
      <td style="text-align: center">H_FLIPADST</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">X</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
    </tr>
  </tbody>
</table>

<p><strong>inter_tx_type</strong> specifies the transform type for inter blocks.</p>

<p><strong>intra_tx_type</strong> specifies the transform type for intra blocks.</p>

<h4 id="is-inter-semantics">Is Inter Semantics</h4>

<p><strong>is_inter</strong> equal to 0 specifies that the block is an intra block; is_inter
equal to 1 specifies that the block is an inter block.</p>

<h4 id="intra-block-mode-info-semantics">Intra Block Mode Info Semantics</h4>

<p>This syntax is used when coding an intra block within an inter frame.</p>

<p><strong>y_mode</strong> and <strong>uv_mode</strong> specify the direction of intra
prediction using values with the same interpretation as for intra_frame_y_mode.</p>

<h4 id="inter-block-mode-info-semantics">Inter Block Mode Info Semantics</h4>

<p>This syntax is used when coding an inter block.</p>

<p><strong>compound_mode</strong> specifies how the motion vector used by inter prediction is
obtained when using compound prediction. An offset is added to compound_mode to
compute YMode as follows:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">YMode</th>
      <th style="text-align: left">Name of YMode</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">14</td>
      <td style="text-align: left">NEARESTMV</td>
    </tr>
    <tr>
      <td style="text-align: center">15</td>
      <td style="text-align: left">NEARMV</td>
    </tr>
    <tr>
      <td style="text-align: center">16</td>
      <td style="text-align: left">GLOBALMV</td>
    </tr>
    <tr>
      <td style="text-align: center">17</td>
      <td style="text-align: left">NEWMV</td>
    </tr>
    <tr>
      <td style="text-align: center">18</td>
      <td style="text-align: left">NEAREST_NEARESTMV</td>
    </tr>
    <tr>
      <td style="text-align: center">19</td>
      <td style="text-align: left">NEAR_NEARMV</td>
    </tr>
    <tr>
      <td style="text-align: center">20</td>
      <td style="text-align: left">NEAREST_NEWMV</td>
    </tr>
    <tr>
      <td style="text-align: center">21</td>
      <td style="text-align: left">NEW_NEARESTMV</td>
    </tr>
    <tr>
      <td style="text-align: center">22</td>
      <td style="text-align: left">NEAR_NEWMV</td>
    </tr>
    <tr>
      <td style="text-align: center">23</td>
      <td style="text-align: left">NEW_NEARMV</td>
    </tr>
    <tr>
      <td style="text-align: center">24</td>
      <td style="text-align: left">GLOBAL_GLOBALMV</td>
    </tr>
    <tr>
      <td style="text-align: center">25</td>
      <td style="text-align: left">NEW_NEWMV</td>
    </tr>
  </tbody>
</table>

<p class="alert alert-info"><strong>Note:</strong> The intra modes take values 0..13 so these YMode values start at 14.</p>

<p><strong>new_mv</strong> equal to 0 means that a motion vector difference should be read.</p>

<p><strong>zero_mv</strong> equal to 0 means that the motion vector should be set equal to
default motion for the frame.</p>

<p><strong>ref_mv</strong> equal to 0 means that the most likely motion vector should be used
(called NEAREST), ref_mv equal to 1 means that the second most likely motion
vector should be used (called NEAR).</p>

<p><strong>interp_filter</strong> specifies the type of filter used in inter prediction.
Values 0..3 are allowed with the same interpretation as for
interpolation_filter. One filter type is specified for the vertical filter
direction and one for the horizontal filter direction.</p>

<p class="alert alert-info"><strong>Note:</strong> The syntax element interpolation_filter from the uncompressed header
can specify the type of filter to be used for the whole frame. If it is set to
SWITCHABLE then the interp_filter syntax element is read from the bitstream
for every inter block.</p>

<p><strong>RefMvIdx</strong> specifies which candidate in the RefStackMv should be used. If
there are not enough entries in the stack, a candidate from the RefListMv will
be used instead.</p>

<p><strong>drl_mode</strong> is a bit sent for candidates in the motion vector stack to indicate
if they should be used. drl_mode equal to 0 means to use the current value of
idx.  drl_mode equal to 1 says to continue searching. DRL stands for “Dynamic
Reference List”.</p>

<h4 id="ref-frames-semantics">Ref Frames Semantics</h4>

<p><strong>comp_mode</strong> specifies whether single or compound prediction is used. Values
0 and 1 are used with the same interpretation as for ReferenceMode.</p>

<p><strong>comp_ref_type</strong> is used for compound prediction to specify whether both
reference frames come from the same direction or not:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">comp_ref_type</th>
      <th style="text-align: center">Name of comp_ref_type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">UNIDIR_COMP_REFERENCE</td>
      <td>Both reference frames from the same direction</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">BIDIR_COMP_REFERENCE</td>
      <td>One forward and one backward reference frame</td>
    </tr>
  </tbody>
</table>

<p><strong>uni_comp_ref</strong>, <strong>uni_comp_ref_p1</strong>, and <strong>uni_comp_ref_p2</strong> specify which
reference frames are in use when both come from the same direction.</p>

<p><strong>comp_ref</strong>, <strong>comp_ref_p1</strong>, and <strong>comp_ref_p2</strong> specify the first reference
frame when the two reference frames come from different directions.</p>

<p><strong>comp_bwdref</strong> and <strong>comp_bwdref_p1</strong> specify the second reference frame when
the two reference frames come from different directions.</p>

<p><strong>single_ref_p1</strong>, <strong>single_ref_p2</strong>, <strong>single_ref_p3</strong>, <strong>single_ref_p4</strong>,
<strong>single_ref_p5</strong>, and <strong>single_ref_p6</strong> specify the reference frame when only a
single reference frame is in use.</p>

<p><strong>RefFrame[ 0 ]</strong> specifies which frame is used to compute the predicted
samples for this block:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">RefFrame[ 0 ]</th>
      <th style="text-align: center">Name of ref_frame</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">INTRA_FRAME</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">LAST_FRAME</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">LAST2_FRAME</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: center">LAST3_FRAME</td>
    </tr>
    <tr>
      <td style="text-align: center">4</td>
      <td style="text-align: center">GOLDEN_FRAME</td>
    </tr>
    <tr>
      <td style="text-align: center">5</td>
      <td style="text-align: center">BWDREF_FRAME</td>
    </tr>
    <tr>
      <td style="text-align: center">6</td>
      <td style="text-align: center">ALTREF2_FRAME</td>
    </tr>
    <tr>
      <td style="text-align: center">7</td>
      <td style="text-align: center">ALTREF_FRAME</td>
    </tr>
  </tbody>
</table>

<p><strong>RefFrame[ 1 ]</strong> specifies which additional frame is used in compound
prediction:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">RefFrame[ 1 ]</th>
      <th style="text-align: center">Name of ref_frame</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">-1</td>
      <td style="text-align: center">NONE (this block uses single prediction)</td>
    </tr>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">INTRA_FRAME (this block uses interintra prediction)</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">LAST_FRAME</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">LAST2_FRAME</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: center">LAST3_FRAME</td>
    </tr>
    <tr>
      <td style="text-align: center">4</td>
      <td style="text-align: center">GOLDEN_FRAME</td>
    </tr>
    <tr>
      <td style="text-align: center">5</td>
      <td style="text-align: center">BWDREF_FRAME</td>
    </tr>
    <tr>
      <td style="text-align: center">6</td>
      <td style="text-align: center">ALTREF2_FRAME</td>
    </tr>
    <tr>
      <td style="text-align: center">7</td>
      <td style="text-align: center">ALTREF_FRAME</td>
    </tr>
  </tbody>
</table>

<p class="alert alert-info"><strong>Note:</strong> Not all combinations of RefFrame[0] and RefFrame[1] can be coded.</p>

<h4 id="read-motion-mode-semantics">Read Motion Mode Semantics</h4>

<p><strong>use_obmc</strong> equal to 1 means that OBMC should be used.  use_obmc equal to 0
means that simple translation should be used.</p>

<p><strong>motion_mode</strong> specifies the type of motion compensation to perform:</p>

<table class="table">
  <thead>
    <tr>
      <th style="text-align: center">motion_mode</th>
      <th style="text-align: center">Name of motion_mode</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">SIMPLE</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">OBMC</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">LOCALWARP</td>
    </tr>
  </tbody>
</table>

<p class="alert alert-info"><strong>Note:</strong> A motion_mode equal to SIMPLE is used for blocks requiring global motion.</p>

<h4 id="read-inter-intra-semantics">Read Inter Intra Semantics</h4>

<p><strong>interintra</strong> equal to 1 specifies that an inter prediction should be blended
with an intra prediction.</p>

<p><strong>interintra_mode</strong> specifies the type of intra prediction to be used:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">interintra_mode</th>
      <th style="text-align: center">Name of interintra_mode</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">II_DC_PRED</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">II_V_PRED</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">II_H_PRED</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: center">II_SMOOTH_PRED</td>
    </tr>
  </tbody>
</table>

<p><strong>wedge_interintra</strong> equal to 1 specifies that wedge blending should be used.
wedge_interintra equal to 0 specifies that intra blending should be used.</p>

<p><strong>wedge_index</strong> specifies the angle to be used during wedge blending.</p>

<h4 id="read-compound-type-semantics">Read Compound Type Semantics</h4>

<p><strong>compound_avg</strong> equal to 1 means COMPOUND_AVERAGE blending should be used.
compound_avg equal to 0 means COMPOUND_SEG should be used.</p>

<p><strong>compound_type</strong> specifies how the two predictions should be blended together:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">compound_type</th>
      <th style="text-align: center">Name of compound_type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">COMPOUND_AVERAGE</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">COMPOUND_WEDGE</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">COMPOUND_SEG</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: center">COMPOUND_INTRA</td>
    </tr>
  </tbody>
</table>

<p class="alert alert-info"><strong>Note:</strong> COMPOUND_INTRA cannot be directly signalled in the compound_type
syntax element.  It is only used in interintra modes.</p>

<p><strong>wedge_index</strong> specifies the angle to be used during wedge blending:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">wedge_index</th>
      <th style="text-align: center">Name of wedge_index</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">WEDGE_HORIZONTAL</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">WEDGE_VERTICAL</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">WEDGE_OBLIQUE27</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: center">WEDGE_OBLIQUE63</td>
    </tr>
    <tr>
      <td style="text-align: center">4</td>
      <td style="text-align: center">WEDGE_OBLIQUE117</td>
    </tr>
    <tr>
      <td style="text-align: center">5</td>
      <td style="text-align: center">WEDGE_OBLIQUE153</td>
    </tr>
  </tbody>
</table>

<p><strong>wedge_sign</strong> specifies the sign of the wedge blend.</p>

<p><strong>mask_type</strong> specifies the type of mask to be used during blending:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">mask_type</th>
      <th style="text-align: center">Name of mask_type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">UNIFORM_45</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">UNIFORM_45_INV</td>
    </tr>
  </tbody>
</table>

<h4 id="mv-semantics">MV Semantics</h4>

<p><strong>MvCtx</strong> is used to determine which CDFs to use for the motion vector syntax
elements.</p>

<p><strong>mv_joint</strong> specifies which components of the motion vector difference are
non-zero:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">mv_joint</th>
      <th style="text-align: center">Name of mv_joint</th>
      <th style="text-align: center">Changes row</th>
      <th style="text-align: center">Changes col</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">MV_JOINT_ZERO</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">No</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">MV_JOINT_HNZVZ</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">Yes</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">MV_JOINT_HZVNZ</td>
      <td style="text-align: center">Yes</td>
      <td style="text-align: center">No</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: center">MV_JOINT_HNZVNZ</td>
      <td style="text-align: center">Yes</td>
      <td style="text-align: center">Yes</td>
    </tr>
  </tbody>
</table>

<p>The motion vector difference is added to the PredMv to compute the final
motion vector in Mv. It is a requirement of bitstream conformance that the
resulting motion vector satisfies -(1 &lt;&lt; 14) &lt; Mv[ ref ][ comp ] &lt;
(1 &lt;&lt; 14) - 1 for comp=0..1.</p>

<h4 id="mv-component-semantics">MV Component Semantics</h4>

<p><strong>mv_sign</strong> equal to 0 means that the motion vector difference is positive;
mv_sign equal to 1 means that the motion vector difference is negative.</p>

<p><strong>mv_class</strong> specifies the class of the motion vector difference. A higher
class means that the motion vector difference represents a larger update:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">mv_class</th>
      <th style="text-align: center">Name of mv_class</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">MV_CLASS_0</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">MV_CLASS_1</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">MV_CLASS_2</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: center">MV_CLASS_3</td>
    </tr>
    <tr>
      <td style="text-align: center">4</td>
      <td style="text-align: center">MV_CLASS_4</td>
    </tr>
    <tr>
      <td style="text-align: center">5</td>
      <td style="text-align: center">MV_CLASS_5</td>
    </tr>
    <tr>
      <td style="text-align: center">6</td>
      <td style="text-align: center">MV_CLASS_6</td>
    </tr>
    <tr>
      <td style="text-align: center">7</td>
      <td style="text-align: center">MV_CLASS_7</td>
    </tr>
    <tr>
      <td style="text-align: center">8</td>
      <td style="text-align: center">MV_CLASS_8</td>
    </tr>
    <tr>
      <td style="text-align: center">9</td>
      <td style="text-align: center">MV_CLASS_9</td>
    </tr>
    <tr>
      <td style="text-align: center">10</td>
      <td style="text-align: center">MV_CLASS_10</td>
    </tr>
  </tbody>
</table>

<p><strong>mv_class0_bit</strong> specifies the integer part of the motion vector difference.
This is only present in the bitstream for class 0 motion vector differences.</p>

<p><strong>mv_class0_fr</strong> specifies the first 2 fractional bits of the motion vector
difference. This is only present in the bitstream for class 0 motion vector
differences.</p>

<p><strong>mv_class0_hp</strong> specifies the third fraction bit of the motion vector
difference. This is only present in the bitstream for class 0 motion vector
differences.</p>

<p><strong>mv_bit</strong> specifies bit i of the integer part of the motion vector difference.</p>

<p><strong>mv_fr</strong> specifies the first 2 fractional bits of the motion vector
difference.</p>

<p><strong>mv_hp</strong> specifies the third fractional bit of the motion vector difference.</p>

<h4 id="residual-semantics">Residual Semantics</h4>

<p><strong>predict_intra</strong> is a function call that indicates the conceptual point where
intra prediction happens. When this function is called, the intra prediction
process specified in <a href="#intra-prediction-process">section 7.7.1</a> is invoked.</p>

<p><strong>predict_inter</strong> is a function call that indicates the conceptual point where
inter prediction happens. When this function is called, the inter prediction
process specified in <a href="#inter-prediction-process">section 7.7.2</a> is invoked.</p>

<p><strong>predW</strong> and <strong>predH</strong> are variables containing the smallest size that can be used for
inter prediction.
(This size may be increased for chroma blocks if not all blocks use inter prediction.)</p>

<p><strong>someUseIntra</strong> is a variable that indicates if some of the blocks corresponding to
this residual require intra prediction.</p>

<p class="alert alert-info"><strong>Note:</strong> The chroma residual block
size is always at least 4 in width and height.  This means that no transform width
or height
smaller than 4 is required.  As such, a chroma residual may actually cover
several luma blocks.
Normally, a single prediction is performed
for the entire chroma residual block based on the mode info of the bottom right luma block.
However, if all the constituent blocks are
inter blocks, a special case is triggered and inter prediction is done using
a smaller block size for each of the corresponding luma blocks.</p>

<p><strong>predict_palette</strong> is a function call that indicates the conceptual point where
palette prediction happens. When this function is called, the palette prediction
process specified in <a href="#palette-prediction-process">section 7.7.3</a> is invoked.</p>

<p class="alert alert-info"><strong>Note:</strong> The predict_inter, predict_intra, predict_palette, and
predict_chroma_from_luma functions do not affect the syntax
decode process.</p>

<h4 id="coefficients-semantics">Coefficients Semantics</h4>

<p><strong>TxTypes</strong> is an array which stores at a 4x4 pixel granularity the transform type to be used.</p>

<p class="alert alert-info"><strong>Note:</strong> The transform type is only read for luma transform blocks, the chroma uses
the transform type for the corresponding luma block.</p>

<p><strong>Quant</strong> is an array storing the quantised coefficients for the current transform block.</p>

<p><strong>all_zero</strong> equal to 1 specifies that all coefficients are zero.</p>

<p><strong>is_eob</strong> equal to 1 indicates that the last non-zero coefficient lies within a certain range.</p>

<p><strong>eob_extra</strong> and <strong>eob_extra_bit</strong> specify the exact position of the last non-zero coefficient
within the range selected by is_eob.</p>

<p class="alert alert-info"><strong>Note:</strong> The value of eob indicates the index of the end of block.
This will be immediately following the last non-zero coefficient.</p>

<p><strong>coeff_base_eob</strong> is used to compute the base level of the last non-zero coefficient.</p>

<p><strong>coeff_base</strong> specifies the base level of a coefficient.</p>

<p><strong>dc_sign</strong> specifies the sign of the DC coefficient.</p>

<p><strong>sign_bit</strong> specifies the sign of a non-zero coefficient.</p>

<p><strong>coeff_br</strong> specifies an increment to the coefficient.</p>

<p class="alert alert-info"><strong>Note:</strong> Each quantized coefficient can use coeff_br to provide up to 4 increments.
If an increment equal to less than 3 is coded, it signifies that this was the final increment.</p>

<p><strong>golomb_length_bit</strong> is used to compute the number of extra bits required to code the coefficient.</p>

<p><strong>golomb_data_bit</strong> specifies the value of one of the extra bits.</p>

<p><strong>AboveLevelContext</strong> and <strong>LeftLevelContext</strong> are arrays that store at a
4 sample granularity the cumulative sum of coefficient levels.</p>

<p><strong>AboveDcContext</strong> and <strong>LeftDcContext</strong> are arrays that store at a 4 sample
granularity 2 bits signalling the sign of the DC coefficient (zero being
counted as a separate sign).</p>

<h4 id="transform-tree-semantics">Transform Tree Semantics</h4>

<p><strong>isLumaSquare</strong> is a variable that indicates if the luma samples used a square transform for this location.</p>

<p><strong>becomingRect</strong> is a variable that indicates we are forced to subdivide the transform tree.</p>

<p class="alert alert-info"><strong>Note:</strong> When the luma uses a square transform, the chroma samples must also use a square transform.
For example, if we have subsampling_y=1, and subsampling_x=0, a 32x32 block in luma will become a 32x16 block in chroma.
If a 32x32 transform is used for luma, chroma is forbidden from using a 32x16 transform and will use a pair of 16x16 transforms instead.</p>

<h4 id="token-semantics">Token Semantics</h4>

<p><strong>moreCoefs</strong> equal to 0 specifies that all the remaining coefficients in
this transform block are equal to 0 and that no more coefficients need to be
parsed for this transform block. moreCoefs equal to 1 indicates that
more coefficients should be read.</p>

<p><strong>dc_head_token</strong> is used to compute combToken for the DC coefficient in a
transform block.</p>

<p><strong>ac_head_token</strong> is used to compute combToken for the AC coefficients in a
transform block.</p>

<p><strong>last_head_token</strong> is used to compute combToken for the last AC coefficient in
a transform block.</p>

<p class="alert alert-info"><strong>Note:</strong> dc_head_token can specify any combination of token and moreCoefs.
ac_head_token cannot specify the case when both token and moreCoefs are equal
to zero. last_head_token cannot specify a zero token, and always specifies
moreCoefs equal to zero. These restrictions ensure that there are no syntax
elements corresponding to trailing zero coefficients.</p>

<p><strong>combToken</strong> specifies the size of the coefficient and whether this is the last
non-zero coefficient in the block.  The least significant bit contains
moreCoefs, and the remaining bits specify the base value for token.</p>

<p><strong>tail_token</strong> specifies an increment to be applied to compute the final token
value.</p>

<p><strong>token</strong> specifies the size range of the transform coefficient:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">token</th>
      <th style="text-align: center">Name of token</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">ZERO_TOKEN</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">ONE_TOKEN</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">TWO_TOKEN</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: center">THREE_TOKEN</td>
    </tr>
    <tr>
      <td style="text-align: center">4</td>
      <td style="text-align: center">FOUR_TOKEN</td>
    </tr>
    <tr>
      <td style="text-align: center">5</td>
      <td style="text-align: center">DCT_VAL_CATEGORY1</td>
    </tr>
    <tr>
      <td style="text-align: center">6</td>
      <td style="text-align: center">DCT_VAL_CATEGORY2</td>
    </tr>
    <tr>
      <td style="text-align: center">7</td>
      <td style="text-align: center">DCT_VAL_CATEGORY3</td>
    </tr>
    <tr>
      <td style="text-align: center">8</td>
      <td style="text-align: center">DCT_VAL_CATEGORY4</td>
    </tr>
    <tr>
      <td style="text-align: center">9</td>
      <td style="text-align: center">DCT_VAL_CATEGORY5</td>
    </tr>
    <tr>
      <td style="text-align: center">10</td>
      <td style="text-align: center">DCT_VAL_CATEGORY6</td>
    </tr>
  </tbody>
</table>

<p><strong>sign_bit</strong> equal to 0 indicates that the transform coefficient is given by
coef; sign_bit equal to 1 indicates that the transform coefficient is given by
-coef.</p>

<h4 id="coef-semantics">Coef Semantics</h4>

<p><strong>coef_extra_bits</strong> represents a section of the transform coefficient bitstring.</p>

<h4 id="intra-angle-info-semantics">Intra Angle Info Semantics</h4>

<p><strong>angle_delta_y</strong> specifies the offset to be applied to the intra prediction
angle specified by the prediction mode in the luma plane, biased by
MAX_ANGLE_DELTA so as to encode a positive value.</p>

<p><strong>angle_delta_uv</strong> specifies the offset to be applied to the intra prediction
angle specified by the prediction mode in the chroma plane biased by
MAX_ANGLE_DELTA so as to encode a positive value.</p>

<p><strong>AngleDeltaY</strong> is computed from angle_delta_y by removing the MAX_ANGLE_DELTA
offset to produce the final luma angle offset value, which may be positive or
negative.</p>

<p><strong>AngleDeltaUV</strong> is computed from angle_delta_uv by removing the MAX_ANGLE_DELTA
offset to produce the final chroma angle offset value, which may be positive or
negative.</p>

<h4 id="read-cfl-alphas-semantics">Read CFL Alphas Semantics</h4>

<p><strong>cfl_alpha_signs</strong> contains the sign of the alpha values for U and V packed
together into a single syntax element with 8 possible values.  (The combination
of two zero signs is unnecessary.)</p>

<p><strong>signU</strong> contains the sign of the alpha value for the U component:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">signU</th>
      <th style="text-align: center">Name of signU</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">CFL_SIGN_ZERO</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">CFL_SIGN_NEG</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">CFL_SIGN_POS</td>
    </tr>
  </tbody>
</table>

<p><strong>signV</strong> contains the sign of the alpha value for the V component with the same
interpretation as for signU.</p>

<p><strong>cfl_alpha_u</strong> contains the absolute value of alpha minus one for the U
component.</p>

<p><strong>cfl_alpha_v</strong> contains the absolute value of alpha minus one for the V
component.</p>

<p><strong>CflAlphaU</strong> contains the signed value of the alpha component for the U
component.</p>

<p><strong>CflAlphaV</strong> contains the signed value of the alpha component for the V
component.</p>

<h4 id="palette-mode-info-semantics">Palette Mode Info Semantics</h4>

<p><strong>has_palette_y</strong> is a boolean value specifying whether a palette is encoded for
the Y plane.</p>

<p><strong>has_palette_uv</strong> is a boolean value specifying whether a palette is encoded
for the UV plane.</p>

<p><strong>palette_size_y_minus_2</strong> is used to compute PaletteSizeY.</p>

<p><strong>PaletteSizeY</strong> is a variable holding the Y plane palette size.</p>

<p><strong>palette_size_uv_minus_2</strong> is used to compute PaletteSizeUV.</p>

<p><strong>PaletteSizeUV</strong> is a variable holding the UV plane palette size.</p>

<p><strong>use_palette_color_cache_y</strong>, if equal to 1, indicates that for a particular palette
entry in the luma palette, the cached entry should be used.</p>

<p><strong>use_palette_color_cache_u</strong>, if equal to 1, indicates that for a particular palette
entry in the U chroma palette, the cached entry should be used.</p>

<p><strong>palette_colors_y</strong> is an array holding the Y plane palette colors.</p>

<p><strong>palette_colors_u</strong> is an array holding the U plane palette colors.</p>

<p><strong>palette_colors_v</strong> is an array holding the V plane palette colors.</p>

<p><strong>delta_encode_palette_colors_v</strong>, if equal to 1, indicates that the V chroma palette
is encoded using delta encoding.</p>

<p><strong>palette_num_extra_bits_y</strong> is used to calculate the number of bits used to store each
palette delta value for the luma palette.</p>

<p><strong>palette_num_extra_bits_u</strong> is used to calculate the number of bits used to store each
palette delta value for the U chroma palette.</p>

<p><strong>palette_num_extra_bits_v</strong> is used to calculate the number of bits used to store each
palette delta value for the V chroma palette.</p>

<p><strong>palette_delta_y</strong> is a delta value for the luma palette.</p>

<p><strong>palette_delta_u</strong> is a delta value for the U chroma palette.</p>

<p><strong>palette_delta_v</strong> is a delta value for the V chroma palette.</p>

<p class="alert alert-info"><strong>Note:</strong> Luma and U delta values give a positive offset relative
to the previous palette entry in the same plane. V delta values give
a signed offset relative to the U palette entries.</p>

<p><strong>palette_delta_sign_bit_v</strong>, if equal to 1, indicates that the decoded V chroma palette
delta value should be negated.</p>

<h4 id="palette-tokens-semantics">Palette Tokens Semantics</h4>

<p><strong>color_index_map_y</strong> holds the index in palette_colors_y for the block’s
Y plane top left pixel.</p>

<p><strong>color_index_map_uv</strong> holds the index in palette_colors_u and palette_colors_v
for the block’s UV plane top left pixel.</p>

<p><strong>palette_color_idx_y</strong> holds the index in ColorOrder for a pixel in the block’s
Y plane.</p>

<p><strong>palette_color_idx_uv</strong> holds the index in ColorOrder for a pixel in the
block’s UV plane.</p>

<h4 id="palette-color-context-semantics">Palette Color Context Semantics</h4>

<p><strong>ColorOrder</strong> is an array holding the mapping from an encoded index to the
palette. ColorOrder is ranked in order of frequency of occurrence of each color
in the neighbourhood of the current block, weighted by closeness to the current
block.</p>

<p><strong>ColorContextHash</strong> is a variable derived from the distribution of colors in
the neighbourhood of the current block, which is used to determine the
probability context used to decode palette_color_idx_y and palette_color_idx_uv.</p>

<h4 id="read-cdef-semantics">Read CDEF Semantics</h4>

<p><strong>cdef_idx</strong> specifies which CDEF filtering parameters should be used for a
particular 64 by 64 pixel block.  A value of -1 means that CDEF is disabled for
that block.</p>

<h4 id="decode-loop-restoration-unit-semantics">Decode Loop Restoration Unit Semantics</h4>

<p><strong>use_wiener</strong> specifies if the Wiener filter should be used.</p>

<p><strong>use_sgrproj</strong> specifies if the self guided filter should be used.</p>

<p><strong>restoration_type</strong> specifies the restoration filter that should be used with the same interpretation as FrameRestorationType.</p>

<p><strong>lr_sgr_set</strong> specifies which set of parameters to use for the self guided filter.</p>

<p><strong>subexp_more_bools</strong> equal to 0 specifies that the parameter is in the range mk
to mk+a-1.  subexp_more_bools equal to 0 specifies that the parameter is greater
than mk+a-1.</p>

<p><strong>subexp_unif_bools</strong> specifies the value of the parameter minus mk.</p>

<p><strong>subexp_bools</strong> specifies the value of the parameter minus mk.</p>

<h2 id="decoding-process">Decoding Process</h2>

<h3 id="general">General</h3>

<p>Decoders shall produce output frames that are identical in all respects and have the same output order as
those produced by the decoding process specified herein.</p>

<p>The input to this process is a sequence of open bitstream units (OBUs).</p>

<p>The output from this process is a sequence of decoded frames.</p>

<p>For each OBU in turn the syntax elements are extracted as specified in <a href="#obu-syntax">section 5.1</a>.</p>

<p>The syntax tables include function calls indicating when the remaining block decode processes are triggered.</p>

<h3 id="decode-frame-process">Decode Frame Process</h3>

<p>This process is triggered by a call to decode_frame from within the syntax tables.</p>

<p>If show_existing_frame is equal to 0, the process first performs any post processing filtering by the following ordered steps:</p>

<ol>
  <li>
    <p>If loop_filter_level[ 0 ] is not equal to 0 or loop_filter_level[ 1 ] is not equal to 0, the loop
filter process specified in <a href="#loop-filter-process">section 7.10</a> is invoked once the coded frame has been decoded.</p>
  </li>
  <li>
    <p>The CDEF process specified in <a href="#cdef-process">section 7.11</a> is invoked.</p>
  </li>
  <li>
    <p>The loop restoration process specified in <a href="#loop-restoration-process">section 7.13</a> is invoked.</p>
  </li>
  <li>
    <p>The reference frame update process as specified in <a href="#reference-frame-update-process">section 7.15</a> is
     invoked.</p>
  </li>
</ol>

<p>If show_existing_frame is equal to 1 or show_frame is equal to 1, the output process as specified in <a href="#output-process">section 7.14</a> is invoked.</p>

<h3 id="frame-order-constraints">Frame Order Constraints</h3>

<p>This section describes additional constraints on a bitstream that result from
the choice of frame types.</p>

<p>If a sequence starts with a key frame, then the additional constraints are
automatically satisfied.</p>

<p>Otherwise, the sequence can start with a number of non key frames
and extra care has to be taken to ensure that
the decoding process is well defined. It is a requirement of bitstream
conformance that the following applies:</p>

<ul>
  <li>When ref_frame_idx[ i ] is decoded, it must identify an initialized
reference frame, i.e. there must have been an earlier decoded frame which
had (refresh_frame_flags &gt;&gt; ref_frame_idx[ i ])&amp;1 equal to 1.</li>
</ul>

<p class="alert alert-info"><strong>Note:</strong> This constraint means that the first coded frame cannot be an inter
frame.</p>

<h3 id="cdf-update-process">CDF Update Process</h3>

<p>This process is triggered when the function update_cdf is called from
the tile group syntax table.</p>

<p>The frame CDF arrays are set equal to the final tile CDF arrays for the largest tile (measured in bytes) as follows.</p>

<p>A copy is made of the saved CDF values for each of the
CDF arrays mentioned in the semantics for setup_past_independence. 
The name of the destination for the copy is the name of the CDF array
with no prefix.  The name of the source for the copy is the name of the CDF array
prefixed with “Saved”.
For example, the array YModeCdf will be updated with values equal to the contents of SavedYModeCdf.</p>

<h3 id="motion-field-estimation-process">Motion Field Estimation Process</h3>

<p>This process is triggered during the call to load_previous.</p>

<p>A linear projection model is employed to create a motion field estimation that is able
to capture high velocity temporal motion trajectories.</p>

<p>The motion field is estimated based on the saved motion vectors from the reference frames
and the relative frame distances.</p>

<p>As the frame distances depend on the frame being referenced, a separate motion field
is estimated for each reference frame used by the current frame.</p>

<p>A stack of up to three motion vectors (for each reference frame type) is prepared at each location on an 8x8 pixel grid.</p>

<p>The variable w8 (representing the width of the motion field in units of 8x8 pixels) is set equal to MiCols &gt;&gt; 1.</p>

<p>The variable h8 (representing the height of the motion field in units of 8x8 pixels) is set equal to MiRows &gt;&gt; 1.</p>

<p>As the linear projection can create a field with holes, the motion fields are initialized
to an invalid motion vector of -32768, -32768 as follows:</p>

<pre><code class="language-c">for ( ref = LAST_FRAME; ref &lt;= ALTREF_FRAME; ref++ )
    for ( y = 0; y &lt; h8 ; y++ )
        for ( x = 0; x &lt; w8; x++ )
            for ( i = 0; i &lt; MFMV_STACK_SIZE; i++ )
                for ( j = 0; j &lt; 2; j++ )
                    MotionFieldMvs[ ref ][ y ][ x ][ i ][ j ] = -1 &lt;&lt; 15
</code></pre>

<p>The variable curAltDecodeOrder (representing the decode order for ALTREF_FRAME of the current frame) is set equal to DecodeOrders[ ALTREF_FRAME ].</p>

<p>If ( curAltDecodeOrder &lt; DecodeOrder ), then this process terminates immediately.</p>

<p>The variable refStamp (representing where in the stack to place projected motion vectors) is set equal to MFMV_STACK_SIZE - 1.</p>

<p>The variable lastIdx (representing which reference frame is used for LAST_FRAME) is set equal to ref_frame_idx[ 0 ].</p>

<p>The variable curGoldDecodeOrder (representing the decode order for GOLDEN_FRAME of the current frame) is set equal to DecodeOrders[ GOLDEN_FRAME ].</p>

<p>The variable lastAltDecodeOrder ( representing the decode order for ALTREF_FRAME of LAST_FRAME) is set equal to SavedDecodeOrders[ lastIdx ][ ALTREF_FRAME ].</p>

<p>The variable useLast (representing whether to project the motion vectors from LAST_FRAME) is set equal to ( lastAltDecodeOrder != curGoldDecodeOrder ).</p>

<p>If useLast is equal to 1, the forward projection process in <a href="#forward-projection-process">section 7.5.1</a> is invoked with src equal to LAST_FRAME, and refStamp as inputs.</p>

<p>The variable refStamp is set equal to MFMV_STACK_SIZE - 2.</p>

<p class="alert alert-info"><strong>Note:</strong> refStamp is decreased even if the forward projection process is not invoked.</p>

<p>The variable useBwd is set equal to ( DecodeOrders[ BWDREF_FRAME ] &gt; DecodeOrder ).</p>

<p>If useBwd is equal to 1, the backward projection process in <a href="#backward-projection-process">section 7.5.2</a> is invoked with src equal to BWDREF_FRAME, and refStamp as inputs.</p>

<p>If useBwd is equal to 1, refStamp is set equal to refStamp - 1.</p>

<p>The variable useAlt2 is set equal to ( DecodeOrders[ ALTREF2_FRAME ] &gt; DecodeOrder ).</p>

<p>If useAlt2 is equal to 1, the backward projection process in <a href="#backward-projection-process">section 7.5.2</a> is invoked with src equal to ALTREF2_FRAME, and refStamp as inputs.</p>

<p>If useAlt2 is equal to 1, refStamp is set equal to refStamp - 1.</p>

<p>The variable useAlt is set equal to ( DecodeOrders[ ALTREF_FRAME ] &gt; DecodeOrder ).</p>

<p>If useAlt is equal to 1 and (refStamp &gt;= 0), the backward projection process in <a href="#backward-projection-process">section 7.5.2</a> is invoked with src equal to ALTREF_FRAME, and refStamp as inputs.</p>

<h4 id="forward-projection-process">Forward Projection Process</h4>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>a variable src specifying which reference frame’s motion vectors should be projected,</p>
  </li>
  <li>
    <p>a variable refStamp specifying which entry in the stack to store the motion vectors.</p>
  </li>
</ul>

<p>The process projects the motion vectors from a whole reference frame (which will always be LAST_FRAME) and stores the results in MotionFieldMvs.</p>

<p>The variable srcIdx (representing which reference frame is used) is set equal to ref_frame_idx[ src - LAST_FRAME ].</p>

<p>The variable w8 (representing the width of the motion field in units of 8x8 pixels) is set equal to MiCols &gt;&gt; 1.</p>

<p>The variable h8 (representing the height of the motion field in units of 8x8 pixels) is set equal to MiRows &gt;&gt; 1.</p>

<p>The process is specified as follows:</p>

<pre><code class="language-c">for ( y8 = 0; y8 &lt; h8; y8++ ) {
    for ( x8 = 0; x8 &lt; w8; x8++ ) {
        row = 2 * y8 + 1
        col = 2 * x8 + 1
        srcRef = SavedRefFrames[ srcIdx ][ row ][ col ][ 0 ]
        if ( check_forward( srcRef ) ) {
            mv = SavedMvs[ srcIdx ][ row ][ col ][ 0 ]
            projMv = get_mv_projection( mv, srcRef, src, src ) 
            posValid = get_block_position( y8, x8, projMv, 1 )
            if ( posValid ) {
                for ( dst = LAST_FRAME; dst &lt;= GOLDEN_FRAME; dst++ ) {
                    projMv = get_mv_projection( mv, srcRef, src, dst )
                    MotionFieldMvs[ dst ][ PosY8 ][ PosX8 ][ refStamp ] = projMv
                }
            }
        }
        for ( idx = 0; idx &lt; 2; idx++ ) {
            srcRef = SavedRefFrames[ srcIdx ][ row ][ col ][ idx ]
            if ( check_backward( srcRef ) ) {
                mv = SavedMvs[ srcIdx ][ row ][ col ][ idx ]
                projMv = get_mv_projection( mv, srcRef, src, src ) 
                posValid = get_block_position( y8, x8, projMv, 0 )
                if ( posValid ) {
                    for ( dst = BWDREF_FRAME; dst &lt;= ALTREF_FRAME; dst++ ) {
                        projMv = get_mv_projection( mv, srcRef, src, dst )
                        MotionFieldMvs[ dst ][ PosY8 ][ PosX8 ][ refStamp ] = projMv
                    }
                }
            }
        }
    }
}
</code></pre>

<p>When the function get_mv_projection is called, the get mv position process specified in <a href="#get-mv-position-process">section 7.5.3</a> is invoked with mv, src, dst as inputs and the output assigned to projMv.</p>

<p>When the function get_block_position is called, the get block position process specified in <a href="#get-block-position-process">section 7.5.4</a> is invoked and the output assigned to posValid.
This process also sets up the variables PosY8 and PosX8 representing the projected location in the motion field.</p>

<p class="alert alert-info"><strong>Note:</strong> The forward projections from LAST_FRAME can use both list0 and list1 motion vectors.
The backward projections only use list0 motion vectors.</p>

<h4 id="backward-projection-process">Backward Projection Process</h4>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>a variable src specifying which reference frame’s motion vectors should be projected,</p>
  </li>
  <li>
    <p>a variable refStamp specifying which entry in the stack to store the motion vectors.</p>
  </li>
</ul>

<p>The process projects the motion vectors from a whole reference frame (which will always be one of the backward reference types) and stores the results in MotionFieldMvs.</p>

<p>The variable srcIdx (representing which reference frame is used) is set equal to ref_frame_idx[ src - LAST_FRAME ].</p>

<p>The variable w8 (representing the width of the motion field in units of 8x8 pixels) is set equal to MiCols &gt;&gt; 1.</p>

<p>The variable h8 (representing the height of the motion field in units of 8x8 pixels) is set equal to MiRows &gt;&gt; 1.</p>

<p>It is a requirement of bitstream conformance that srcIdx refers to a frame of the same
width and height as the current frame.
In other words, when this process is invoked, both of the following must be true:</p>

<ul>
  <li>
    <p>RefFrameWidth[ srcIdx ] is equal to FrameWidth.</p>
  </li>
  <li>
    <p>RefFrameHeight[ srcIdx ] is equal to FrameHeight.</p>
  </li>
</ul>

<p>The process is specified as follows:</p>

<pre><code class="language-c">for ( y8 = 0; y8 &lt; h8; y8++ ) {
    for ( x8 = 0; x8 &lt; w8; x8++ ) {
        row = 2 * y8 + 1
        col = 2 * x8 + 1
        srcRef = SavedRefFrames[ srcIdx ][ row ][ col ][ 0 ]
        if ( check_forward( srcRef ) ) {
            mv = SavedMvs[ srcIdx ][ row ][ col ][ 0 ]
            projMv = get_mv_projection( mv, srcRef, src, src )
            posValid = get_block_position( y8, x8, projMv, 0 )
            if ( posValid ) {
                for ( dst = LAST_FRAME; dst &lt;= ALTREF_FRAME; dst++ ) {
                    projMv = get_mv_projection( mv, srcRef, src, dst )
                    if ( check_backward( dst ) ) {
                        projMv[ 0 ] = -projMv[ 0 ]
                        projMv[ 1 ] = -projMv[ 1 ]
                    }
                    MotionFieldMvs[ dst ][ PosY8 ][ PosX8 ][ refStamp ] = projMv
                }
            }
        }
    }
}
</code></pre>

<p>When the function get_mv_projection is called, the get mv position process specified in <a href="#get-mv-position-process">section 7.5.3</a> is invoked with mv, src, dst as inputs and the output assigned to projMv.</p>

<p>When the function get_block_position is called, the get block position process specified in <a href="#get-block-position-process">section 7.5.4</a> is invoked and the output assigned to posValid.
This process also sets up the variables PosY8 and PosX8 representing the projected location in the motion field.</p>

<h4 id="get-mv-position-process">Get MV Position Process</h4>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>a length two array mv specifying a motion vector,</p>
  </li>
  <li>
    <p>a variable ref specifying the reference frame associated with the motion vector,</p>
  </li>
  <li>
    <p>a variable src specifying which reference frame’s motion vectors should be projected,</p>
  </li>
  <li>
    <p>a variable dst specifying which reference frame to target when adjusting the motion vector.</p>
  </li>
</ul>

<p>The outputs of this process are:</p>

<ul>
  <li>a length 2 array projMv containing a projected motion vector</li>
</ul>

<p>This process starts with a motion vector mv from a previous frame (src).
This motion vector gives the displacement expected when moving a certain number of frames (between src and ref).
We wish to use the motion vector for predictions using a different reference frame (dst), so we need to scale the length of the motion vector.</p>

<p>The variable srcIdx (representing the reference frame where we obtained the motion vector) is set equal to ref_frame_idx[ src - LAST_FRAME ].</p>

<p>The variable srcDecodeOrder (representing the decode order of the reference frame where we obtained the motion vector) is set equal to DecodeOrders[ src ].</p>

<p>The variable refDecodeOrder (representing the decode order of the frame referenced by the motion vector) is set equal to SavedDecodeOrders[ srcIdx ][ ref ].</p>

<p>The variable refSign is set equal to ( check_backward( ref ) ? -1 : 1 ).</p>

<p>The variable mvOffset (representing the number of frames covered by the motion vector) is set equal to Max( 1, refSign * (srcDecodeOrder - refDecodeOrder) ).</p>

<p>The variable dstDecodeOrder (representing the decode order of the reference frame we wish to use) is set equal to DecodeOrders[ dst ].</p>

<p>The variable dstSign is set equal to ( check_backward( dst ) ? -1 : 1 ).</p>

<p>The variable dstOffset (representing the number of frames that we wish the motion vector to cover) is set equal to dstSign * (DecodeOrder - dstDecodeOrder).</p>

<p>It is a requirement of bitstream conformance that mvOffset and dstOffset are in the range -31 to 31.</p>

<p>The projected motion vector is specified as follows:</p>

<pre><code class="language-c">for ( i = 0; i &lt; 2; i++ )
    projMv[ i ] = Round2Signed( mv[ i ] * dstOffset * Div_Mult[ mvOffset ], 14 )
</code></pre>

<p>where Div_Mult is a constant lookup table specified as:</p>

<pre><code class="language-c">Div_Mult[32] = {
  0,    16384, 8192, 5461, 4096, 3276, 2730, 2340, 2048, 1820, 1638,
  1489, 1365,  1260, 1170, 1092, 1024, 963,  910,  862,  819,  780,
  744,  712,   682,  655,  630,  606,  585,  564,  546,  528
}
</code></pre>

<h4 id="get-block-position-process">Get Block Position Process</h4>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>variables x8 and y8 specifying a location in units of 8x8 pixels,</p>
  </li>
  <li>
    <p>a length two array projMv specifying a projected motion vector,</p>
  </li>
  <li>
    <p>a flag signBias specifying if we should project the block in the direction of the motion vector (signBias equal to 0), or in the reverse direction (signBias equal to 1).</p>
  </li>
</ul>

<p>The process generates global variables PosX8 and PosY8 representing the projected location in units of 8x8 pixels.</p>

<p>The process returns a flag posValid that indicates if the position should be used.</p>

<p class="alert alert-info"><strong>Note:</strong> posValid is specified such that only blocks within a certain distance of the current location
need to be projected.</p>

<p>The variable posValid is set equal to 1.</p>

<p>The variable PosY8 is set equal to project(y8, projMv[ 0 ], MiRows &gt;&gt; 1, MAX_OFFSET_HEIGHT, signBias).</p>

<p>The variable PosX8 is set equal to project(x8, projMv[ 1 ], MiCols &gt;&gt; 1, MAX_OFFSET_WIDTH, signBias).</p>

<p>where the function project is specified as follows:</p>

<pre><code class="language-c">project( v8, delta, max8, maxOff8, signBias ) {
    base8 = (v8 &gt;&gt; 3) &lt;&lt; 3
    if (delta &gt;= 0) {
        offset8 = delta &gt;&gt; ( 3 + 1 + MI_SIZE_LOG2 )
    } else {
        offset8 = -( ( -delta ) &gt;&gt; ( 3 + 1 + MI_SIZE_LOG2 ) )
    }
    if ( signBias )
        v8 -= offset8
    else
        v8 += offset8
    if ( v8 &lt; 0 || 
         v8 &gt;= max8 || 
         v8 &lt;= base8 - maxOff8 ||
         v8 &gt;= base8 + 8 + maxOff8 ) {
        posValid = 0
    }
    return v8
}
</code></pre>

<p>The project function clears posValid if the resulting position is offset too far.</p>

<h3 id="motion-vector-prediction-processes">Motion Vector Prediction Processes</h3>

<p>The following sections define the processes used for predicting the motion vectors.</p>

<p>These processes are triggered at points defined by function calls to find_mv_list, compound_context, and find_mv_stack
in the inter block mode info syntax described in <a href="#inter-block-mode-info-syntax">section 5.8.20</a>.</p>

<h4 id="find-mv-list-process">Find MV List Process</h4>

<p>The input to this process is a variable refList specifying which set of motion vectors to predict.</p>

<p>This process is triggered by a function call to find_mv_list and constructs an array RefListMv[ refList ] containing 2 motion vector candidates.</p>

<p>The setup zero mv process specified in <a href="#setup-zero-mv-process">section 7.6.1.1</a> is invoked with the input refList and the output is assigned to ZeroMvs[ refList ].</p>

<p>The array RefListMv[ refList ] is first initialized to have both entries equal to ZeroMvs[ refList ].</p>

<p>The variable NumMvFound (representing the number of candidates found during this process) is set equal to 0.</p>

<p>The variable bw8 (representing the width of the block in units of 8 pixels) is set equal to Num_8x8_Blocks_Wide[ MiSize ].</p>

<p>The variable bh8 (representing the height of the block in units of 8 pixels) is set equal to Num_8x8_Blocks_High[ MiSize ].</p>

<p>An array offMvs8 (representing offsets in units of 8 pixels to search locations) is defined as:</p>

<pre><code class="language-c">offMvs8[ 9 ][ 2 ] = {
  { bh8 - 1, -1 },
  { -1, bw8 - 1 },
  { -1, (bw8 - 1) &gt;&gt; 1 },
  { (bh8 - 1) &gt;&gt; 1, -1 },
  { -1, -1 },
  { -1, ( bw8 == bh8 ) ? 0 : bw8 },
  { ( bw8 == bh8 ) ? 0 : bh8, -1 },
  { -1, -3 },
  { bh8 - 1, -3 }
}
</code></pre>

<p>The motion vector candidates are constructed by the following ordered steps :</p>

<ol>
  <li>
    <p>For i = 0..8 the spatial motion vector candidate process in <a href="#setup-zero-mv-process">section 7.6.1.1</a> is invoked with mv8 equal to offMvs8[ i ], same equal to 1, and refList as inputs.</p>
  </li>
  <li>
    <p>For i = 0..8 the spatial motion vector candidate process in <a href="#setup-zero-mv-process">section 7.6.1.1</a> is invoked with mv8 equal to offMvs8[ i ], same equal to 0, and refList as inputs.</p>
  </li>
</ol>

<h5 id="setup-zero-mv-process">Setup Zero MV Process</h5>

<p>The input to this process is a variable refList specifying which set of motion vectors to predict.</p>

<p>The output is a motion vector mv representing global motion for this block.</p>

<p>The variable ref (specifying the reference frame) is set equal to RefFrame[ refList ].</p>

<p>The variable typ (specifying the type of global motion) is set equal to gm_type[ ref ].</p>

<p>The variable bw (representing the width of the block in units of pixels) is set equal to Block_Width[ MiSize ].</p>

<p>The variable bh (representing the height of the block in units of pixels) is set equal to Block_Height[ MiSize ].</p>

<p>The output motion vector mv is specified by projecting the central pixel of the block as follows:</p>

<pre><code class="language-c">if (typ == IDENTITY) {
    mv[0] = 0
    mv[1] = 0
} else if (typ == TRANSLATION) {
    mv[0] = gm_params[ref][0] &gt;&gt; (WARPEDMODEL_PREC_BITS - 3)
    mv[1] = gm_params[ref][1] &gt;&gt; (WARPEDMODEL_PREC_BITS - 3)
} else {
    x = MiCol * MI_SIZE + bw / 2 - 1
    y = MiRow * MI_SIZE + bh / 2 - 1
    xc = (gm_params[ref][2] - (1 &lt;&lt; WARPEDMODEL_PREC_BITS)) * x +
          gm_params[ref][3] * y +
          gm_params[ref][0]
    yc =  gm_params[ref][4] * x +
         (gm_params[ref][5] - (1 &lt;&lt; WARPEDMODEL_PREC_BITS)) * y +
          gm_params[ref][1]
    if (allow_high_precision_mv) {
      mv[0] = Round2Signed(xc, WARPEDMODEL_PREC_BITS - 3)
      mv[1] = Round2Signed(yc, WARPEDMODEL_PREC_BITS - 3)
    } else {
      mv[0] = Round2Signed(xc, WARPEDMODEL_PREC_BITS - 2) * 2
      mv[1] = Round2Signed(yc, WARPEDMODEL_PREC_BITS - 2) * 2
    }
}
lower_mv_precision( mv )
</code></pre>

<p>where the call to lower_mv_precision invokes the lower precision process specified in <a href="#lower-precision-process">section 7.6.3.9</a>.</p>

<h5 id="spatial-motion-vector-candidate-process">Spatial Motion Vector Candidate Process</h5>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>a 2 element array mv8 specifying the offset in 8 pixel units to the candidate location,</p>
  </li>
  <li>
    <p>a variable same specifying whether to only look for candidates with matching reference frame,</p>
  </li>
  <li>
    <p>a variable refList specifying which set of motion vectors to predict.</p>
  </li>
</ul>

<p>This process examines the motion vector at a position in the current frame and adds it to the candidate list if certain conditions are met.</p>

<p>The candidate location in 4x4 pixel units is derived as:</p>

<ul>
  <li>
    <p>the variable mvRow is set equal to MiRow + 2 * mv8[0]</p>
  </li>
  <li>
    <p>the variable mvCol is set equal to MiCol + 2 * mv8[1]</p>
  </li>
</ul>

<p>The variable size (representing the size of the superblock in units of 4x4 pixels) is set as follows:</p>

<ul>
  <li>
    <p>If use_128x128_superblock is equal to 1, size is set equal to Num_4x4_Blocks_Wide[ BLOCK_128X128 ].</p>
  </li>
  <li>
    <p>Otherwise (use_128x128_superblock is equal to 0), size is set equal to Num_4x4_Blocks_Wide[ BLOCK_64X64 ].</p>
  </li>
</ul>

<p>This process terminates immediately if any of the following are true:</p>

<ul>
  <li>
    <p>the function is_inside( mvRow, mvCol ) is equal to 0 (this tests if the candidate is in a different tile from which we are not allowed to retrieve motion vectors)</p>
  </li>
  <li>
    <p>(MiRow % size) +  2 * mv8[0] is greater than or equal to size (this tests if the candidate comes from the superblock row below)</p>
  </li>
  <li>
    <p>(MiCol % size) +  2 * mv8[1] is greater than or equal to size (this tests if the candidate comes from the superblock column to the right)</p>
  </li>
  <li>
    <p>RefFrames[ mvRow ][ mvCol ][ 0 ] has not yet been written for this frame (this tests if the candidate location has not been decoded yet)</p>
  </li>
</ul>

<p>For list=0..1 the following ordered steps apply:</p>

<ol>
  <li>The variable candRef is set equal to RefFrames[ mvRow ][ mvCol ][ list ]</li>
  <li>The 2 element array candMv is set to a copy of Mvs[ mvRow ][ mvCol ][ list ]</li>
  <li>Invoke the candidate add process in <a href="#candidate-add-process">section 7.6.1.3</a> with candRef, candMv, same, refList as inputs.</li>
</ol>

<h5 id="candidate-add-process">Candidate Add Process</h5>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>a 2 element array candMv specifying the candidate motion vector,</p>
  </li>
  <li>
    <p>a variable candRef specifying the candidate reference frame,</p>
  </li>
  <li>
    <p>a variable same specifying whether to only look for candidates with matching reference frame,</p>
  </li>
  <li>
    <p>a variable refList specifying which set of motion vectors to predict.</p>
  </li>
</ul>

<p>This process terminates immediately if same is equal to 1 and candRef is not equal to RefFrame[refList].</p>

<p>This process terminates immediately if NumMvFound is equal to 2 (this means we have already found enough motion vector candidates).</p>

<p>If ref_frame_sign_bias[ candRef ] is not equal to ref_frame_sign_bias[ RefFrame[refList] ], then the candidate motion vector is inverted as follows:</p>

<ul>
  <li>candMv[ 0 ] *= -1</li>
  <li>candMv[ 1 ] *= -1</li>
</ul>

<p>The variable bw (representing the width of the block rounded up to be a multiple of 8) is set equal to 8 * Num_8x8_Blocks_Wide[ MiSize ].</p>

<p>The variable bh (representing the height of the block rounded up to be a multiple of 8) is set equal to 8 * Num_8x8_Blocks_High[ MiSize ].</p>

<p>The motion vector is clamped to a legal range as follows:</p>

<ul>
  <li>candMv[ 0 ] is set equal to clamp_mv_row( candMv[ 0 ], MV_BORDER + bh * 8)</li>
  <li>candMv[ 1 ] is set equal to clamp_mv_col( candMv[ 1 ], MV_BORDER + bw * 8)</li>
</ul>

<p>If NumMvFound is equal to 0 or candMv is not equal to RefListMv[ refList ][ 0 ], then the following ordered steps apply:</p>

<ol>
  <li>RefListMv[ refList ][ NumMvFound ] is set equal to candMv</li>
  <li>NumMvFound is set equal to NumMvFound + 1</li>
</ol>

<h4 id="compound-context-process">Compound Context Process</h4>

<p>This process is triggered by a function call to compound_context and constructs a variable CompoundModeContext that is used for decoding the inter_mode syntax element.</p>

<p>The variable bw4 (representing the width of the block in units of 4 pixels) is set equal to Num_4x4_Blocks_Wide[ MiSize ].</p>

<p>The variable bh4 (representing the height of the block in units of 4 pixels) is set equal to Num_4x4_Blocks_High[ MiSize ].</p>

<p>An array offMvs4 (representing offsets in units of 4 pixels to search locations) is defined as:</p>

<pre><code class="language-c">offMvs4[ 2 ][ 2 ] = {
  {bh4 - 1, -1},
  {-1, bw4 - 1}
}
</code></pre>

<p>The CompoundModeContext is constructed by testing the mode of the neighbouring blocks at the top-right and bottom-left corners as follows:</p>

<pre><code class="language-c">counter = 0
for (i = 0; i &lt; 2; i++) {
    mvRow = MiRow + offMvs4[i][0]
    mvCol = MiCol + offMvs4[i][1]
    if (is_inside(mvCol, mvRow)) {
        counter += Mode_To_Counter[ YModes[ mvRow ][ mvCol ] ]
    }
}
CompoundModeContext = Counter_To_Context[counter]
</code></pre>

<p>The Mode_To_Counter table is defined as:</p>

<pre><code class="language-c">Mode_To_Counter[ MB_MODE_COUNT ] = {
9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 0, 0, 3, 1
}
</code></pre>

<p>The Counter_To_Context table is defined as:</p>

<pre><code class="language-c">Counter_To_Context[ 19 ] = {
    BOTH_PREDICTED,
    NEW_PLUS_NON_INTRA,
    BOTH_NEW,
    ZERO_PLUS_PREDICTED,
    NEW_PLUS_NON_INTRA,
    INVALID_CASE,
    BOTH_ZERO,
    INVALID_CASE,
    INVALID_CASE,
    INTRA_PLUS_NON_INTRA,
    INTRA_PLUS_NON_INTRA,
    INVALID_CASE,
    INTRA_PLUS_NON_INTRA,
    INVALID_CASE,
    INVALID_CASE,
    INVALID_CASE,
    INVALID_CASE,
    INVALID_CASE,
    BOTH_INTRA
}
</code></pre>

<h4 id="find-mv-stack-process">Find MV Stack Process</h4>

<p>This process is triggered by a function call to find_mv_stack.</p>

<p>The input to this process is a variable refList specifying which set of motion vectors to predict, or -1 to signal compound prediction.</p>

<p>This process constructs an array RefStackMv containing motion vector candidates.
This is similar to the RefListMv list of motion vectors, except that the stack only contains candidates that exactly match
in their use of reference frames, while RefListMv can also include partial matches.  For single prediction, the candidates in
the stack are used to overwrite entries in RefListMv.</p>

<p>The process also prepares the value of the contexts used
when decoding inter prediction syntax elements.</p>

<p>The variable bw4 specifying the width of the block in 4x4 pixels is set equal to Num_4x4_Blocks_Wide[ MiSize ].</p>

<p>The following ordered steps apply:</p>

<ol>
  <li>
    <p>The variable NumMvFound (representing the number of motion vector candidates in RefStackMv) is set equal to 0.</p>
  </li>
  <li>
    <p>The variable NumNewMvFound (representing the number of candidates in RefStackMv that used NEWMV encoding) is set equal to 0.</p>
  </li>
  <li>
    <p>The scan row process in <a href="#scan-row-process">section 7.6.3.1</a> is invoked with deltaRow equal to -1 and refList as inputs.</p>
  </li>
  <li>
    <p>The scan col process in <a href="#scan-col-process">section 7.6.3.2</a> is invoked with deltaCol equal to -1 and refList as inputs.</p>
  </li>
  <li>
    <p>The scan point process in <a href="#scan-point-process">section 7.6.3.3</a> is invoked with deltaRow equal to -1, deltaCol equal to bw4, and refList as inputs.</p>
  </li>
  <li>
    <p>The variable numNearest (representing the number of motion vectors found in the immediate neighbourhood) is set equal to NumMvFound</p>
  </li>
  <li>
    <p>The variable numNew (representing the number of NEWMV candidates found in the immediate neighbourhood) is set equal to NumNewMvFound</p>
  </li>
  <li>
    <p>If numNearest is greater than 0, WeightStack[ idx ] is incremented by REF_CAT_LEVEL for idx = 0..(numNearest-1).</p>
  </li>
  <li>
    <p>The variable ZeroMvContext is set equal to 0.</p>
  </li>
  <li>
    <p>If refList is greater than or equal to 0 and can_use_previous is equal to 1,
the temporal scan process in <a href="#temporal-scan-process">section 7.6.3.4</a> is invoked with refList as input (the temporal scan process affects ZeroMvContext).</p>
  </li>
  <li>
    <p>The scan point process in <a href="#scan-point-process">section 7.6.3.3</a> is invoked with deltaRow equal to -1, deltaCol equal to -1, and refList as inputs.</p>
  </li>
  <li>
    <p>The scan row process in <a href="#scan-row-process">section 7.6.3.1</a> is invoked with deltaRow equal to -3 and refList as inputs.</p>
  </li>
  <li>
    <p>The scan col process in <a href="#scan-col-process">section 7.6.3.2</a> is invoked with deltaCol equal to -3 and refList as inputs.</p>
  </li>
  <li>
    <p>The scan row process in <a href="#scan-row-process">section 7.6.3.1</a> is invoked with deltaRow equal to -5 and refList as inputs.</p>
  </li>
  <li>
    <p>The scan col process in <a href="#scan-col-process">section 7.6.3.2</a> is invoked with deltaCol equal to -5 and refList as inputs.</p>
  </li>
  <li>
    <p>The scan col process in <a href="#scan-col-process">section 7.6.3.2</a> is invoked with deltaCol equal to -7 and refList as inputs.</p>
  </li>
  <li>
    <p>The sorting process in <a href="#sorting-process">section 7.6.3.10</a> is invoked with start equal to 0 and end equal to numNearest.</p>
  </li>
  <li>
    <p>The sorting process in <a href="#sorting-process">section 7.6.3.10</a> is invoked with start equal to numNearest and end equal to NumMvFound.</p>
  </li>
  <li>
    <p>The context and clamping process in <a href="#context-and-clamping-process">section 7.6.3.11</a> is invoked with refList, numNearest, and numNew as input.</p>
  </li>
</ol>

<h5 id="scan-row-process">Scan Row Process</h5>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>a variable deltaRow specifying (in units of 4x4 pixels) how far above to look for motion vectors,</p>
  </li>
  <li>
    <p>a variable refList specifying which set of motion vectors to predict, or -1 to signal compound prediction.</p>
  </li>
</ul>

<p>The variable bw4 specifying the width of the block in 4x4 pixels is set equal to Num_4x4_Blocks_Wide[ MiSize ].</p>

<p>The variable deltaCol is set equal to 0.</p>

<p>The variable useStep16 is set equal to (bw4 &gt;= 16).</p>

<p class="alert alert-info"><strong>Note:</strong> useStep16 is equal to 1 when the block is 64 pixels wide.  This means
only 4 locations will be searched in this case.  However, a 32 pixel wide block
may still search 8 locations.</p>

<p>If Abs(deltaRow) is greater than 1, the offset is adjusted as follows:</p>

<pre><code class="language-c">deltaRow += MiRow &amp; 1
deltaCol = 1 - (MiCol &amp; 1)
</code></pre>

<p class="alert alert-info"><strong>Note:</strong> These adjustments reduce the number of motion vectors that need to be
kept in memory</p>

<p>A series of motion vector locations is scanned as follows:</p>

<pre><code class="language-c">i = 0
while ( i &lt; bw4 ) {
    mvRow = MiRow + deltaRow
    mvCol = MiCol + deltaCol + i
    if (!is_inside(mvRow,mvCol))
        break
    len = Min(bw4, Num_4x4_Blocks_Wide[ MiSizes[ mvRow ][ mvCol ] ])
    if (Abs(deltaRow) &gt; 1)
        len = Max(2, len)
    if (useStep16)
        len = Max(4, len)
    add_ref_mv_candidate( mvRow, mvCol, refList, len)
    i += len
}
</code></pre>

<p>where the call to add_ref_mv_candidate invokes the process in <a href="#add-reference-motion-vector-process">section 7.6.3.6</a>.</p>

<h5 id="scan-col-process">Scan Col Process</h5>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>a variable deltaCol specifying (in units of 4x4 pixels) how far left to look for motion vectors,</p>
  </li>
  <li>
    <p>a variable refList specifying which set of motion vectors to predict, or -1 to signal compound prediction.</p>
  </li>
</ul>

<p>The variable bh4 specifying the height of the block in 4x4 pixels is set equal to Num_4x4_Blocks_High[ MiSize ].</p>

<p>The variable deltaRow is set equal to 0.</p>

<p>The variable useStep16 is set equal to (bh4 &gt;= 16).</p>

<p>If Abs(deltaCol) is greater than 1, the offset is adjusted as follows:</p>

<pre><code class="language-c">deltaRow = 1 - (MiRow &amp; 1)
deltaCol += MiCol &amp; 1
</code></pre>

<p>A series of motion vector locations is scanned as follows:</p>

<pre><code class="language-c">i = 0
while ( i &lt; bh4 ) {
    mvRow = MiRow + deltaRow + i
    mvCol = MiCol + deltaCol
    if (!is_inside(mvRow,mvCol))
        break
    len = Min(bh4, Num_4x4_Blocks_High[ MiSizes[ mvRow ][ mvCol ] ])
    if (Abs(deltaCol) &gt; 1)
        len = Max(2, len)
    if (useStep16)
        len = Max(4, len)
    add_ref_mv_candidate( mvRow, mvCol, refList, len)
    i += len
}
</code></pre>

<p>where the call to add_ref_mv_candidate invokes the process in <a href="#add-reference-motion-vector-process">section 7.6.3.6</a>.</p>

<h5 id="scan-point-process">Scan Point Process</h5>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>a variable deltaRow specifying (in units of 4x4 pixels) how far above to look for a motion vector,</p>
  </li>
  <li>
    <p>a variable deltaCol specifying (in units of 4x4 pixels) how far left to look for a motion vector,</p>
  </li>
  <li>
    <p>a variable refList specifying which set of motion vectors to predict, or -1 to signal compound prediction.</p>
  </li>
</ul>

<p>The variable mvRow is set equal to MiRow + deltaRow.</p>

<p>The variable mvCol is set equal to MiCol + deltaCol.</p>

<p>The variable len is set equal to 8.</p>

<p>If is_inside( mvRow, mvCol ) is equal to 1
and RefFrames[ mvRow ][ mvCol ][ 0 ] has been written for this frame (this checks that the candidate location has been decoded),
the add reference motion vector process in <a href="#add-reference-motion-vector-process">section 7.6.3.6</a> is invoked with mvRow, mvCol, refList, len as inputs.</p>

<h5 id="temporal-scan-process">Temporal Scan Process</h5>

<p>The input to this process is a variable refList specifying which set of motion vectors to predict.</p>

<p>This process scans the motion vectors in a previous frame looking for candidates which use the same reference frame.</p>

<p>The variable bw4 specifying the width of the block in 4x4 pixels is set equal to Num_4x4_Blocks_Wide[ MiSize ].</p>

<p>The variable bh4 specifying the height of the block in 4x4 pixels is set equal to Num_4x4_Blocks_High[ MiSize ].</p>

<p>The process scans the locations within the block as follows:</p>

<pre><code class="language-c">for ( deltaRow = 0; deltaRow &lt; bh4 ; deltaRow += 2 ) {
    for ( deltaCol = 0; deltaCol &lt; bw4 ; deltaCol += 2 ) {
        add_tpl_ref_mv( deltaRow, deltaCol, refList)
    }
}
</code></pre>

<p>where the call to add_tpl_ref_mv invokes the temporal sample process in <a href="#temporal-sample-process">section 7.6.3.5</a>.</p>

<p>The process then scans positions around the block (but still within the same superblock) as follows:</p>

<pre><code class="language-c">for ( i = 0; i &lt; 9; i++ ) {
    deltaRow = tplSamplePos[ i ][ 0 ]
    deltaCol = tplSamplePos[ i ][ 1 ]
    if ( check_sb_border( deltaRow, deltaCol ) ) { 
        add_tpl_ref_mv( deltaRow, deltaCol, refList)
    }
}
</code></pre>

<p>where tplSamplePos contains the offsets to search (in units of 4x4 pixels) and is specified as:</p>

<pre><code class="language-c">voffset = Max(2, bh4)
hoffset = Max(2, bw4)
tplSamplePos[9][2] = {
    { -2, hoffset }, { 0, hoffset },  { voffset, hoffset },
    { voffset, 0 },  { voffset, -2 }, { voffset, -4 },
    { -4, hoffset }, { voffset, 4 },  { 2, hoffset + 4 },
}
</code></pre>

<p>and check_sb_border checks that the position is within the same superblock as follows:</p>

<pre><code class="language-c">check_sb_border( deltaRow, deltaCol ) {
    sbSize = use_128x128_superblock ? BLOCK_128X128 : BLOCK_64X64
    sbSize4 = Num_4x4_Blocks_Wide[ sbSize ]
    row = (MiRow % sbSize4) + deltaRow 
    col = (MiCol % sbSize4) + deltaCol
    
    return ( row &gt;= 0 &amp;&amp; row &lt; sbSize4 &amp;&amp; col &gt;= 0 &amp;&amp; col &lt; sbSize4 )
}
</code></pre>

<h5 id="temporal-sample-process">Temporal Sample Process</h5>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>variables deltaRow and deltaCol specifying (in units of 4x4 pixels) the offset to the candidate location,</p>
  </li>
  <li>
    <p>a variable refList specifying which set of motion vectors to predict, or -1 to signal compound prediction.</p>
  </li>
</ul>

<p>This process looks up a motion vector from the motion field and adds it into the stack.</p>

<p>The variable mvRow is set equal to (MiRow + deltaRow) | 1.</p>

<p>The variable mvCol is set equal to (MiCol + deltaCol) | 1.</p>

<p>If is_inside( mvRow, mvCol ) is equal to 0, this process terminates immediately.</p>

<p>The variable x8 is set equal to mvCol &gt;&gt; 1.</p>

<p>The variable y8 is set equal to mvRow &gt;&gt; 1.</p>

<p>(x8 and y8 represent the position of the candidate in units of 8x8 pixels.)</p>

<p>The process is specified as follows:</p>

<pre><code class="language-c">foundValidMv = 0
if ( refList &gt;= 0 ) {
    for ( i = 0; i &lt; MFMV_STACK_SIZE; i++ ) {
        candMv = MotionFieldMvs[ RefFrame[ refList ] ][ y8 ][ x8 ][ i ] 
        if ( candMv[ 0 ] == -1 &lt;&lt; 15 )
            continue
        foundValidMv = 1
        lower_mv_precision( candMv )
        if ( deltaRow == 0 &amp;&amp; deltaCol == 0 ) {
            if ( Abs( candMv[ 0 ] ) &gt;= 16 || Abs( candMv[ 1 ] ) &gt;= 16 )
                ZeroMvContext = 1
        }
        for ( idx = 0; idx &lt; NumMvFound; idx++ ) {
            if ( Abs( candMv[ 0 ] - RefStackMv[ idx ][ 0 ][ 0 ] ) &lt; 4 &amp;&amp;
                 Abs( candMv[ 1 ] - RefStackMv[ idx ][ 0 ][ 1 ] ) &lt; 4 )
                 break
        }
        if ( idx &lt; NumMvFound ) {
            WeightStack[ idx ] += 2
        } else if ( NumMvFound &lt; MAX_REF_MV_STACK_SIZE ) {
            RefStackMv[ NumMvFound ][ 0 ] = candMv
            PredStackMv[ NumMvFound ][ 0 ] = candMv
            PredStackMv[ NumMvFound ][ 0 ][ 0 ] += 4
            WeightStack[ NumMvFound ] = 2
            NumMvFound += 1
        }
    }
} else {
    for ( i = 0; i &lt; MFMV_STACK_SIZE; i++ ) {
        candMv0 = MotionFieldMvs[ RefFrame[ 0 ] ][ y8 ][ x8 ][ i ] 
        if ( candMv0[ 0 ] == -1 &lt;&lt; 15 )
            continue
        candMv1 = MotionFieldMvs[ RefFrame[ 1 ] ][ y8 ][ x8 ][ i ] 
        if ( candMv1[ 0 ] == -1 &lt;&lt; 15 )
            continue
        foundValidMv = 1
        lower_mv_precision( candMv0 )
        lower_mv_precision( candMv1 )
        if ( deltaRow == 0 &amp;&amp; deltaCol == 0 ) {
            if ( Abs( candMv0[ 0 ] ) &gt;= 16 || Abs( candMv0[ 1 ] ) &gt;= 16 ||
                 Abs( candMv1[ 0 ] ) &gt;= 16 || Abs( candMv1[ 1 ] ) &gt;= 16 )
                ZeroMvContext = 1
        }
        for ( idx = 0; idx &lt; NumMvFound; idx++ ) {
            if ( Abs( candMv0[ 0 ] - RefStackMv[ idx ][ 0 ][ 0 ] ) &lt; 4 &amp;&amp;
                 Abs( candMv0[ 1 ] - RefStackMv[ idx ][ 0 ][ 1 ] ) &lt; 4 &amp;&amp;
                 Abs( candMv1[ 0 ] - RefStackMv[ idx ][ 1 ][ 0 ] ) &lt; 4 &amp;&amp;
                 Abs( candMv1[ 1 ] - RefStackMv[ idx ][ 1 ][ 1 ] ) &lt; 4)
                 break
        }
        if ( idx &lt; NumMvFound ) {
            WeightStack[ idx ] += 2
        } else if ( NumMvFound &lt; MAX_REF_MV_STACK_SIZE ) {
            RefStackMv[ NumMvFound ][ 0 ] = candMv0
            PredStackMv[ NumMvFound ][ 0 ] = candMv0
            PredStackMv[ NumMvFound ][ 0 ][ 0 ] += 4
            RefStackMv[ NumMvFound ][ 1 ] = candMv1
            PredStackMv[ NumMvFound ][ 1 ] = candMv1
            PredStackMv[ NumMvFound ][ 1 ][ 0 ] += 4
            WeightStack[ NumMvFound ] = 2
            NumMvFound += 1
        }
    }
}
if ( deltaRow == 0 &amp;&amp; deltaCol == 0 ) {
    if ( !foundValidMv )
        ZeroMvContext = 1
}
</code></pre>

<p>where the call to lower_mv_precision invokes the lower precision process specified in <a href="#lower-precision-process">section 7.6.3.9</a>.</p>

<p class="alert alert-info"><strong>Note:</strong> The motion field does not store values for PredMv, so the PredStackMv values
are constructed as a simple offset of the candidate motion vectors.</p>

<h5 id="add-reference-motion-vector-process">Add Reference Motion Vector Process</h5>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>variables mvRow and mvCol specifying (in units of 4x4 pixels) the candidate location,</p>
  </li>
  <li>
    <p>a variable refList specifying which set of motion vectors to predict, or -1 to signal compound prediction,</p>
  </li>
  <li>
    <p>a variable len specifying the weight attached to this motion vector.</p>
  </li>
</ul>

<p>This process examines the candidate to find matching reference frames.</p>

<p>If refList is greater than or equal to 0, the following applies for candList = 0..1:</p>

<ol>
  <li>if RefFrames[ mvRow ][ mvCol ][ candList ] is equal to RefFrame[ refList ], the search stack process in <a href="#search-stack-process">section 7.6.3.7</a> is invoked with mvRow, mvCol, len, candList, refList as inputs</li>
</ol>

<p>Otherwise (refList is equal to -1), the following applies:</p>

<ol>
  <li>if RefFrames[ mvRow ][ mvCol ][ 0 ] is equal to RefFrame[ 0 ] and RefFrames[ mvRow ][ mvCol ][ 1 ] is equal to RefFrame[ 1 ],
the compound search stack process in <a href="#compound-search-stack-process">section 7.6.3.8</a> is invoked with mvRow, mvCol, refList, len as inputs</li>
</ol>

<h5 id="search-stack-process">Search Stack Process</h5>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>variables mvRow and mvCol specifying (in units of 4x4 pixels) the candidate location,</p>
  </li>
  <li>
    <p>a variable candList specifying which list in the candidate matches our reference frame,</p>
  </li>
  <li>
    <p>a variable len specifying the weight attached to this motion vector,</p>
  </li>
  <li>
    <p>a variable refList specifying which set of motion vectors to predict.</p>
  </li>
</ul>

<p>This process adds motion vectors to the stack if they are not already present.</p>

<p>The variable candMode is set equal to YModes[ mvRow ][ mvCol ].</p>

<p>The variable candSize is set equal to MiSizes[ mvRow ][ mvCol ].</p>

<p>The variable large is set equal to ( Min( Block_Width[ candSize ],Block_Height[ candSize ] ) &gt;= 8 ).</p>

<p>The candidate motion vector candMv is set as follows:</p>

<ul>
  <li>
    <p>If ( candMode == GLOBALMV || candMode == GLOBAL_GLOBALMV) and ( gm_type[ RefFrame[ refList ] ] &gt; TRANSLATION ) and ( large == 1 ), candMv is set equal to ZeroMvs[ refList ].</p>
  </li>
  <li>
    <p>Otherwise, candMv is set equal to Mvs[ mvRow ][ mvCol ][ candList ].</p>
  </li>
</ul>

<p>The lower precision process specified in <a href="#lower-precision-process">section 7.6.3.9</a> is invoked with candMv.</p>

<p>The variable weight is set equal to len * 2.</p>

<p>The process depends on whether the candidate motion vector is already in the stack as follows:</p>

<ul>
  <li>
    <p>If candMv is already equal to RefStackMv[ idx ][ 0 ] for some idx less than NumMvFound, then WeightStack[ idx ] is increased by weight</p>
  </li>
  <li>
    <p>Otherwise, if NumMvFound is less than MAX_REF_MV_STACK_SIZE, the following ordered steps apply:</p>

    <p>a. RefStackMv[ NumMvFound ][ 0 ] is set equal to candMv</p>

    <p>b. PredStackMv[ NumMvFound ][ 0 ] is set equal to PredMvs[ mvRow ][ mvCol ][ 0 ]</p>

    <p>c. WeightStack[ NumMvFound ] is set equal to weight</p>

    <p>d. NumMvFound is set equal to NumMvFound + 1.</p>

    <p>e. If candMode is equal to NEWMV, NumNewMvFound is set equal to NumNewMvFound + 1.</p>
  </li>
  <li>
    <p>Otherwise, (NumMvFound is greater than or equal to MAX_REF_MV_STACK_SIZE), the process has no effect.</p>
  </li>
</ul>

<h5 id="compound-search-stack-process">Compound Search Stack Process</h5>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>variables mvRow and mvCol specifying (in units of 4x4 pixels) the candidate location,</p>
  </li>
  <li>
    <p>a variable candList specifying which list in the candidate matches our reference frame,</p>
  </li>
  <li>
    <p>a variable len specifying the weight attached to this motion vector,</p>
  </li>
</ul>

<p>This process adds motion vectors to the stack if they are not already present.</p>

<p>The array candMvs (containing two motion vectors) is set equal to Mvs[ mvRow ][ mvCol ].</p>

<p>The variable candMode is set equal to YModes[ mvRow ][ mvCol ].</p>

<p>The variable candSize is set equal to MiSizes[ mvRow ][ mvCol ].</p>

<p>The variable large is set equal to ( Min( Block_Width[ candSize ],Block_Height[ candSize ] ) &gt;= 8 ).</p>

<p>If candMode is equal to GLOBAL_GLOBALMV and large is equal to 1, for refList = 0..1 the following applies:</p>

<ul>
  <li>If gm_type[ RefFrame[ refList ] ] &gt; TRANSLATION, candMvs[ refList ] is set equal to ZeroMvs[ refList ].</li>
</ul>

<p>For i = 0..1, the lower precision process specified in <a href="#lower-precision-process">section 7.6.3.9</a> is invoked with candMvs[ i ].</p>

<p>The variable weight is set equal to len * 2.</p>

<p>The process depends on whether the candidate motion vector is already in the stack as follows:</p>

<ul>
  <li>
    <p>If candMvs[ 0 ] is equal to RefStackMv[ idx ][ 0 ] and candMvs[ 1 ] is equal to RefStackMv[ idx ][ 1 ] for some idx less than NumMvFound, then WeightStack[ idx ] is increased by weight</p>
  </li>
  <li>
    <p>Otherwise, if NumMvFound is less than MAX_REF_MV_STACK_SIZE, the following ordered steps apply:</p>

    <p>a. RefStackMv[ NumMvFound ][ i ] is set equal to candMvs[ i ] for i = 0..1</p>

    <p>b. PredStackMv[ NumMvFound ][ i ] is set equal to PredMvs[ mvRow ][ mvCol ][ i ] for i = 0..1</p>

    <p>b. WeightStack[ NumMvFound ] is set equal to weight</p>

    <p>c. NumMvFound is set equal to NumMvFound + 1.</p>
  </li>
  <li>
    <p>Otherwise, (NumMvFound is greater than or equal to MAX_REF_MV_STACK_SIZE), the process has no effect.</p>
  </li>
</ul>

<p>NumNewMvFound is incremented by 1 if all of the following are true:</p>

<ul>
  <li>
    <p>NumMvFound is increased during this process</p>
  </li>
  <li>
    <p>YModes[ mvRow ][ mvCol ] is equal to NEW_NEWMV</p>
  </li>
</ul>

<h5 id="lower-precision-process">Lower Precision Process</h5>

<p>The input to this process is a reference candMv to a motion vector array.</p>

<p>This process modifies the contents of the input motion vector to remove the least significant bit when high precision is not allowed,
and all three fractional bits when force_integer_mv is equal to 1.</p>

<p>If allow_high_precision_mv is equal to 1, this process terminates immediately.</p>

<p>For i = 0..1, the following applies:</p>

<pre><code class="language-c">if (force_integer_mv) {
    a = Abs( candMv[ i ] )
    aInt = (a + 3) &gt;&gt; 3
    if (candMv[ i ] &gt; 0)
        candMv[ i ] = aInt &lt;&lt; 3
    else
        candMv[ i ] = -( aInt &lt;&lt; 3 )
} else {
    if (candMv[ i ] &amp; 1) {
        if (candMv[ i ] &gt; 0)
            candMv[ i ]--
        else
            candMv[ i ]++
    }
}
</code></pre>

<h5 id="sorting-process">Sorting Process</h5>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>a variable start representing the first position to be sorted,</p>
  </li>
  <li>
    <p>a variable end representing the length of the array.</p>
  </li>
</ul>

<p>This process performs a stable sort of part of the stack of motion vectors according to the corresponding weight.</p>

<p>Entries in RefStackMv from start (inclusive) to end (exclusive) are sorted.</p>

<p>The sorting process is specified as:</p>

<pre><code class="language-c">while ( end &gt; start ) {
    newEnd = start
    for ( idx = start + 1; idx &lt; end; idx++ ) {
        if ( WeightStack[ idx - 1 ] &lt; WeightStack[ idx ] ) {
            swap(idx - 1, idx)
            newEnd = idx
        }
    }
}
</code></pre>

<p>When the function swap is invoked, the entries at locations idx and idx - 1 should be swapped in each of the following arrays:</p>

<ul>
  <li>WeightStack</li>
  <li>RefStackMv</li>
  <li>PredStackMv</li>
</ul>

<h5 id="context-and-clamping-process">Context and Clamping Process</h5>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>a variable refList specifying which set of motion vectors to predict, or -1 to signal compound prediction,</p>
  </li>
  <li>
    <p>a variable numNearest specifying the number of candidates found in the immediate neighbourhood,</p>
  </li>
  <li>
    <p>a variable numNew specifying the number of NEWMV candidates found in the immediate neighbourhood.</p>
  </li>
</ul>

<p>This process computes contexts to be used when decoding syntax elements, and overwrites the entries in RefListMv with clamped candidates from RefStackMv.</p>

<p>The variable bw (representing the width of the block in units of pixels) is set equal to Block_Width[ MiSize ].</p>

<p>The variable bh (representing the height of the block in units of pixels) is set equal to Block_Height[ MiSize ].</p>

<p>The variable numLists specifying the number of reference frames used for this block is set equal to ( (refList &lt; 0) ? 2 : 1 ).</p>

<p>The arrays DrlCtxStack and MvCtxStack contain one or two contexts (depending on whether we are doing single or compound prediction) for each entry in the stack.</p>

<p>The array MvCtxStack is set as follows:</p>

<pre><code class="language-c">for ( list = 0; list &lt; numLists; list++ ) {
    for ( idx = 0; idx &lt; NumMvFound ; idx++ ) {
        refMv = RefStackMv[ idx ][ list ]
        predMv = PredStackMv[ idx ][ list ]
        v = 0
        if ( WeightStack[ idx ] &gt;= REF_CAT_LEVEL ) {
            v = 2
            for ( j = 0; j &lt; 2; j++ ) {
                if ( Abs( refMv[ j ] - predMv[ j ] ) &gt; 4 )
                    v = 1
            }
        }
        MvCtxStack[ idx ][ list ] = v
    }
}
</code></pre>

<p>The array DrlCtxStack is set as follows:</p>

<pre><code class="language-c">for ( idx = 0; idx &lt; NumMvFound ; idx++ ) {
    z = 0
    if ( idx + 1 &lt; NumMvFound ) {
        w0 = WeightStack[ idx ]
        w1 = WeightStack[ idx + 1 ]
        if (w0 &gt;= REF_CAT_LEVEL) {
            if (w1 &lt; REF_CAT_LEVEL) {
                z = 2
            }
        } else {
            if (w1 &lt; REF_CAT_LEVEL) {
                z = 3
            }
        }
    }      
    DrlCtxStack[ idx ] = z
}
</code></pre>

<p class="alert alert-info"><strong>Note:</strong> It is impossible for DrlCtxStack to contain the value 1.</p>

<p>The motion vectors are clamped and the variable AllZero is set as follows:</p>

<pre><code class="language-c">AllZero = 1
for ( list = 0; list &lt; numLists; list++ ) {
    for ( idx = 0; idx &lt; NumMvFound ; idx++ ) {
        refMv = RefStackMv[ idx ][ list ]
        refMv[ 0 ] = clamp_mv_row( refMv[ 0 ], MV_BORDER + bh * 8)
        refMv[ 1 ] = clamp_mv_col( refMv[ 1 ], MV_BORDER + bw * 8)
        if ( refList &lt; 0 ) {
            RefStackMv[ idx ][ list ] = refMv
        } else if (idx &lt; 2) {
            RefListMv[ refList ][ idx ] = refMv
        }
        if (idx &lt; 3 &amp;&amp; RefStackMv[ idx ][ list ] != ZeroMvs[ list ])
            AllZero = 0
    }
}
if ( NumMvFound &lt; 2 ) {
    for ( list = 0; list &lt; numLists; list++ ) {
        for ( idx = 0; idx &lt; 2; i++ ) {
            if ( RefListMv[ list ][ idx ] != ZeroMvs[ list ] ) {
                AllZero = 0
            }
        }
    }
}
</code></pre>

<p class="alert alert-info"><strong>Note:</strong> The AllZero checks are done against unclamped motion vectors in the
RefStackMv for single prediction, but against clamped motion vectors for
compound prediction.</p>

<p>The variables RefMvContext and NewMvContext are set as follows:</p>

<pre><code class="language-c">if ( numNearest == 0 ) {
    NewMvContext = Min( NumMvFound, 1 )  // 0,1
    RefMvContext = Min( NumMvFound, 2 )  // 0,1,2
} else if ( numNearest == 1 ) {
    NewMvContext = 3 - Min( numNew, 1 ) // 2,3
    RefMvContext = Min( 3 * NumMvFound, 4)  // 0,3,4
} else {
    NewMvContext = 6 - Min( numNew, 2 ) // 4,5,6
    RefMvContext = 5
}
</code></pre>

<p class="alert alert-info"><strong>Note:</strong> It is impossible for RefMvContext to be equal to 6 or 7 or 8+6 or 8+7.</p>

<h4 id="has-overlappable-candidates-process">Has Overlappable Candidates Process</h4>

<p>This process is triggered by a call to has_overlappable_candidates.</p>

<p>It returns 1 to indicate that the block has neighbours
suitable for use by overlapped motion compensation, or 0 otherwise.</p>

<p>The process looks to see if there are any inter blocks to the left or above.</p>

<p>The check is only made at 8x8 granularity.</p>

<p>The process is specified as:</p>

<pre><code class="language-c">has_overlappable_candidates( ) {
  if ( AvailU ) {
    w4 = Num_4x4_Blocks_Wide[ MiSize ]
    for ( x4 = MiCol; x4 &lt; Min( MiCols, MiCol + w4 ); x4 += 2 ) {
        if ( RefFrames[ MiRow - 1 ][ x4 | 1 ][ 0 ] &gt; INTRA_FRAME )
            return 1
    }
  }
  if ( AvailL ) {
    h4 = Num_4x4_Blocks_High[ MiSize ]
    for ( y4 = MiRow; y4 &lt; Min( MiRows, MiRow + h4 ); y4 += 2 ) {
        if ( RefFrames[ y4 | 1 ][ MiCol - 1 ][ 0 ] &gt; INTRA_FRAME )
            return 1
    }
  }
  return 0
}
</code></pre>

<h4 id="find-warp-samples-process">Find Warp Samples Process</h4>

<p>This process is triggered when the find_warp_samples function is invoked.</p>

<p>The process examines the neighbouring inter predicted blocks and estimates a local warp transformation based on the motion vectors.</p>

<p>The process produces a variable NumSamples containing the number of valid candidates found, and an array CandList containing sorted candidates.</p>

<p>The variable NumSamples is set equal to 0.</p>

<p>The variable w4 specifying the width of the block in 4x4 pixels is set equal to Num_4x4_Blocks_Wide[ MiSize ].</p>

<p>The variable h4 specifying the height of the block in 4x4 pixels is set equal to Num_4x4_Blocks_High[ MiSize ].</p>

<p>The following ordered steps apply:</p>

<ol>
  <li>
    <p>The add sample process in <a href="#add-sample-process">section 7.6.5.1</a> is invoked with deltaRow equal to -1, and deltaCol equal to 0..(w4 - 1) (this adds candidates above the current block).</p>
  </li>
  <li>
    <p>The add sample process in <a href="#add-sample-process">section 7.6.5.1</a> is invoked with deltaCol equal to -1, and deltaRow equal to 0..(h4 - 1) (this adds candidates to the left of the current block).</p>
  </li>
  <li>
    <p>The add sample process in <a href="#add-sample-process">section 7.6.5.1</a> is invoked with deltaRow equal to -1, and deltaCol equal to -1 (this adds a candidate to the top left).</p>
  </li>
  <li>
    <p>The add sample process in <a href="#add-sample-process">section 7.6.5.1</a> is invoked with deltaRow equal to -1, and deltaCol equal to w4 (this adds a candidate to the top right).</p>
  </li>
  <li>
    <p>The sort sample process in <a href="#sort-sample-process">section 7.6.5.2</a> is invoked.</p>
  </li>
</ol>

<h5 id="add-sample-process">Add Sample Process</h5>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>a variable deltaRow specifying (in units of 4x4 pixels) how far above to look for a motion vector,</p>
  </li>
  <li>
    <p>a variable deltaCol specifying (in units of 4x4 pixels) how far left to look for a motion vector.</p>
  </li>
</ul>

<p>The output of this process is to add a new sample to the list of candidates if it is a valid candidate and has not been seen before.</p>

<p>The variable mvRow is set equal to MiRow + deltaRow.</p>

<p>The variable mvCol is set equal to MiCol + deltaCol.</p>

<p>If is_inside( mvRow, mvCol ) is equal to 0, then this process immediately returns.</p>

<p>If RefFrames[ mvRow ][ mvCol ][ 0 ] has not been written for this frame, then this process immediately returns.</p>

<p>If RefFrames[ mvRow ][ mvCol ][ 0 ] is not equal to RefFrame[ 0 ], then this process immediately returns.</p>

<p>If RefFrames[ mvRow ][ mvCol ][ 1 ] is not equal to NONE, then this process immediately returns.</p>

<p>The variable candSz  is set equal to MiSizes[ mvRow ][ mvCol ].</p>

<p>The variable candW4 is set equal to Num_4x4_Blocks_Wide[ candSz ].</p>

<p>The variable candH4 is set equal to Num_4x4_Blocks_High[ candSz ].</p>

<p>The variable candRow is set equal to mvRow &amp; (candH4 - 1).</p>

<p>The variable candCol is set equal to mvCol &amp; (candW4 - 1).</p>

<p>The variable midY is set equal to candRow * 4 + candH4 * 2 - 1.</p>

<p>The variable midX is set equal to candCol * 4 + candW4 * 2 - 1.</p>

<p class="alert alert-info"><strong>Note:</strong> candRow and candCol give the top-left position of the candidate block
in units of 4x4 blocks. midX and midY give the central position of the candidate
block in units of pixels.</p>

<p>A candidate array (representing source and destination locations in units of 1/8 pixels, plus a closeness measure) is specified as:</p>

<pre><code class="language-c">cand[ 0 ] = midY * 8
cand[ 1 ] = midX * 8
cand[ 2 ] = midY * 8 + Mvs[ candRow ][ candCol ][ 0 ][ 0 ]
cand[ 3 ] = midY * 8 + Mvs[ candRow ][ candCol ][ 0 ][ 1 ]
cand[ 4 ] = Abs( Mvs[ candRow ][ candCol ][ 0 ][ 0 ] - Mv[ 0 ][ 0 ] ) + 
            Abs( Mvs[ candRow ][ candCol ][ 0 ][ 1 ] - Mv[ 0 ][ 1 ] )
</code></pre>

<p>If this array cand is equal (in all 5 locations) to CandList[ i ] for any i &lt; NumSamples, then this process immediately returns.</p>

<p>Otherwise, the following ordered steps apply:</p>

<ol>
  <li>
    <p>CandList[ NumSamples ][ j ] is set equal to cand[ j ] for j=0..4</p>
  </li>
  <li>
    <p>NumSamples is increased by 1.</p>
  </li>
</ol>

<p class="alert alert-info"><strong>Note:</strong> The test for cand being equal to CandList[i] ensures that each candidate block is only added once to the list.
If the first two entries are equal, all five entries will automatically be equal.
The reference implementation shows how to use additional logic to avoid calling the add sample process more than once per candidate.</p>

<h5 id="sort-sample-process">Sort Sample Process</h5>

<p>This process performs a stable sort of NumSamples candidates in CandList in order of how close the motion vectors are to the current blocks motion vector.</p>

<p>The number of active samples is also reduced if the difference between motion vector closenesses is too large.</p>

<p>The sorting process is specified as:</p>

<pre><code class="language-c">for (i = 1; i &lt; NumSamples; i++) {
    for (j = 0; j &lt; i; j++) {
        if (CandList[j][4] &gt; CandList[i][4]) {
            for ( p = 0; p &lt;= 4; p++ )
                temp[p] = CandList[i][p]
            for (k = i; k &gt; j; k--) {
                for ( p = 0; p &lt;= 4; p++ )
                    CandList[k][p] = CandList[k-1][p]
            }
            for ( p = 0; p &lt;= 4; p++ )
                CandList[j][p] = temp[p]
            break
        }
    }
}
ret = NumSamples
for (i = NumSamples - 1; i &gt;= 1; i--) {
    low = (i == 1) ? 1 : Max((CandList[i - 1][4] - CandList[0][4]) / (i - 1), 1)
    if ((CandList[i][4] - CandList[i - 1][4]) &gt;= TRIM_THR * low) ret = i
}
NumSamples = Min( LEAST_SQUARES_SAMPLES_MAX, ret )
</code></pre>

<h3 id="prediction-processes">Prediction Processes</h3>

<p>The following sections define the processes used for predicting the sample
values.</p>

<p>These processes are triggered at points defined by function calls to
predict_intra, predict_inter, predict_chroma_from_luma, and predict_palette in the residual syntax table described in
<a href="#residual-syntax">section 5.8.29</a>.</p>

<h4 id="intra-prediction-process">Intra Prediction Process</h4>

<p>The intra prediction process is invoked for intra coded blocks to predict a
part of the block corresponding to a transform block. When the transform size
is smaller than the block size, this process can be invoked multiple times
within a single block for the same plane, and the invocations are in raster
order within the block.</p>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>the already reconstructed samples in the current frame CurrFrame,</p>
  </li>
  <li>
    <p>a variable plane specifying which plane is being predicted,</p>
  </li>
  <li>
    <p>variables x and y specifying the location of the top left sample in the
CurrFrame[ plane ] array of the current transform block,</p>
  </li>
  <li>
    <p>a variable haveLeft that is equal to 1 if there are valid samples to the
left of this transform block,</p>
  </li>
  <li>
    <p>a variable haveAbove that is equal to 1 if there are valid samples above
this transform block,</p>
  </li>
  <li>
    <p>a variable haveAboveRight that is equal to 1 if there are valid samples above
the transform block to the right of this transform block,</p>
  </li>
  <li>
    <p>a variable haveBelowLeft that is equal to 1 if there are valid samples to the
left of the transform block below this transform block,</p>
  </li>
  <li>
    <p>a variable mode specifying the type of intra prediction to apply,</p>
  </li>
  <li>
    <p>variable log2W specifying the base 2 logarithm of the width of the region to be predicted,</p>
  </li>
  <li>
    <p>variable log2H specifying the base 2 logarithm of the height of the region to be predicted.</p>
  </li>
</ul>

<p>The outputs of this process are intra predicted samples in the current frame
CurrFrame.</p>

<p>The variable w is set equal to 1 &lt;&lt; log2W.</p>

<p>The variable h is set equal to 1 &lt;&lt; log2H.</p>

<p>The variable maxX is set equal to ( MiCols * MI_SIZE ) - 1.</p>

<p>The variable maxY is set equal to ( MiRows * MI_SIZE ) - 1.</p>

<p>If plane is greater than 0, then:</p>

<ul>
  <li>
    <p>maxX is set equal to ( ( MiCols * MI_SIZE ) &gt;&gt; subsampling_x ) - 1.</p>
  </li>
  <li>
    <p>maxY is set equal to ( ( MiRows * MI_SIZE ) &gt;&gt; subsampling_y ) - 1.</p>
  </li>
</ul>

<p>The array AboveRow[ i ] for i = 0..w + h - 1 is derived as follows:</p>

<ul>
  <li>
    <p>If haveAbove is equal to 0 and haveLeft is equal to 1, AboveRow[ i ] is set equal to 
CurrFrame[ plane ][ y ][ x - 1 ].</p>
  </li>
  <li>
    <p>Otherwise, if haveAbove is equal to 0 and haveLeft is equal to 0, AboveRow[ i ] is set
equal to ( 1 &lt;&lt; ( BitDepth - 1 ) ) - 1.</p>
  </li>
  <li>
    <p>Otherwise, the following applies:</p>

    <ul>
      <li>
        <p>The variable aboveLimit is set equal to Min( maxX, x + ( haveAboveRight ? 2 * w : w ) - 1 ).</p>
      </li>
      <li>
        <p>AboveRow[ i ] is set equal to CurrFrame[ plane ][ y-1 ][ Min(aboveLimit, x+i) ].</p>
      </li>
    </ul>
  </li>
</ul>

<p>The array LeftCol[ i ] for i = 0..w + h - 1 is derived as follows:</p>

<ul>
  <li>
    <p>If haveLeft is equal to 0 and haveAbove is equal to 1, LeftCol[ i ] is set equal to 
CurrFrame[ plane ][ y - 1 ][ x ].</p>
  </li>
  <li>
    <p>Otherwise, if haveLeft is equal to 0 and haveAbove is equal to 0, LeftCol[ i ] is set
equal to ( 1 &lt;&lt; ( BitDepth - 1 ) ) + 1.</p>
  </li>
  <li>
    <p>Otherwise, the following applies:</p>

    <ul>
      <li>
        <p>The variable leftLimit is set equal to Min( maxY, y + ( haveBelowLeft ? 2 * h : h ) - 1 ).</p>
      </li>
      <li>
        <p>LeftCol[ i ] is set equal to CurrFrame[ plane ][ Min(leftLimit, y+i) ][ x-1 ].</p>
      </li>
    </ul>
  </li>
</ul>

<p>The array AboveRow[ i ] for i = -1 is specified by:</p>

<ul>
  <li>
    <p>If haveAbove is equal to 1 and haveLeft is equal to 1, AboveRow[ -1 ] is
set equal to CurrFrame[ plane ][ y-1 ][ x-1 ].</p>
  </li>
  <li>
    <p>Otherwise if haveAbove is equal to 1, AboveRow[ -1 ] is set equal to
CurrFrame [ plane ][ y - 1 ][ x ].</p>
  </li>
  <li>
    <p>Otherwise if haveLeft is equal to 1, AboveRow[ -1 ] is set equal to
CurrFrame [ plane ][ y ][ x - 1 ].</p>
  </li>
  <li>
    <p>Otherwise, AboveRow[ -1 ] is set equal to 1 &lt;&lt; ( BitDepth - 1 ).</p>
  </li>
</ul>

<p>The array LeftCol[ i ] for i = -1 is set equal to AboveRow[ -1 ].</p>

<p>A 2D array named pred containing the intra predicted samples is constructed as follows:</p>

<ul>
  <li>
    <p>If is_directional_mode( mode ) is true, the following ordered steps apply:</p>

    <ol>
      <li>
        <p>The variable angleDelta is derived as follows:</p>

        <ul>
          <li>
            <p>If plane is equal to 0, angleDelta is set equal to AngleDeltaY.</p>
          </li>
          <li>
            <p>Otherwise (plane is not equal to 0), angleDelta is set equal to AngleDeltaUV.</p>
          </li>
        </ul>
      </li>
      <li>
        <p>The variable pAngle is set equal to ( Mode_To_Angle[ mode ] + angleDelta * ANGLE_STEP ).</p>
      </li>
      <li>
        <p>If pAngle is not equal to 90 and pAngle is not equal to 180, the following applies:</p>

        <ul>
          <li>
            <p>If (pAngle &gt; 90) and (pAngle &lt; 180) and (w + h) &gt;= 24), the
filter corner process specified in <a href="#filter-corner-process">section 7.7.1.1</a> is invoked and the output assigned to both LeftCol[ -1 ] and AboveRow[ -1 ].</p>
          </li>
          <li>
            <p>The intra filter type process specified in <a href="#intra-filter-type-process">section 7.7.1.2</a> is invoked and the output assigned to filterType.</p>
          </li>
          <li>
            <p>If haveAbove is equal to 1, the following steps apply:</p>

            <ul>
              <li>
                <p>The intra edge filter strength selection process specified in <a href="#intra-edge-filter-strength-selection-process">section 7.7.1.3</a> is invoked
with w, h, filterType, and pAngle - 90 as inputs, and the output assigned to the variable strength.</p>
              </li>
              <li>
                <p>The variable numPx is set equal to Min( ( ( pAngle &lt; 90 ) &amp;&amp; haveAboveRight ) ? 2 * w : w, 
maxX - x + 1 ) + 1.</p>
              </li>
              <li>
                <p>The intra edge filter process specified in <a href="#intra-edge-filter-process">section 7.7.1.6</a> is invoked with the parameters
numPx, strength, and 0 as inputs.</p>
              </li>
            </ul>
          </li>
          <li>
            <p>If haveLeft is equal to 1, the following steps apply:</p>

            <ul>
              <li>
                <p>The intra edge filter strength selection process specified in <a href="#intra-edge-filter-strength-selection-process">section 7.7.1.3</a> is invoked
with w, h, filterType, and pAngle - 180 as inputs, and the output assigned to the variable strength.</p>
              </li>
              <li>
                <p>The variable numPx is set equal to Min( ( ( pAngle &gt; 180 ) &amp;&amp; haveBelowLeft ) ? 2 * h : h, 
maxY - y + 1 ) + 1.</p>
              </li>
              <li>
                <p>The intra edge filter process specified in <a href="#intra-edge-filter-process">section 7.7.1.6</a> is invoked with the parameters
numPx, strength, and 1 as inputs.</p>
              </li>
            </ul>
          </li>
          <li>
            <p>The intra edge upsample selection process specified in <a href="#intra-edge-upsample-selection-process">section 7.7.1.4</a> is invoked with w, h, filterType, and pAngle - 90 as inputs,
and the output assigned to the variable upsampleAbove.</p>
          </li>
          <li>
            <p>The variable numPx is set equal to ( w + (pAngle &lt; 90 ? h : 0) ).</p>
          </li>
          <li>
            <p>If upsampleAbove is equal to 1, the intra edge upsample process specified in <a href="#intra-edge-upsample-process">section 7.7.1.5</a> is invoked with the parameters numPx and 0 as inputs.</p>
          </li>
          <li>
            <p>The intra edge upsample selection process specified in <a href="#intra-edge-upsample-selection-process">section 7.7.1.4</a> is invoked with w, h, filterType, and pAngle - 180 as inputs,
and the output assigned to the variable upsampleLeft.</p>
          </li>
          <li>
            <p>The variable numPx is set equal to ( h + (pAngle &lt; 180 ? w : 0) ).</p>
          </li>
          <li>
            <p>If upsampleLeft is equal to 1, the intra edge upsample process specified in <a href="#intra-edge-upsample-process">section 7.7.1.5</a> is invoked with the parameters numPx and 1 as inputs.</p>
          </li>
        </ul>
      </li>
      <li>
        <p>The variable dx is derived as follows:</p>

        <ul>
          <li>
            <p>If pAngle is greater than 0 and less than 90, dx is set equal to Dr_Intra_Derivative[ pAngle ].</p>
          </li>
          <li>
            <p>Otherwise, if pAngle is greater than 90 and less than 180, dx is set equal to Dr_Intra_Derivative[ 180 - pAngle ].</p>
          </li>
          <li>
            <p>Otherwise, dx is undefined.</p>
          </li>
        </ul>
      </li>
      <li>
        <p>The variable dy is derived as follows:</p>

        <ul>
          <li>
            <p>If pAngle is greater than 90 and less than 180, dy is set equal to Dr_Intra_Derivative[ pAngle - 90 ].</p>
          </li>
          <li>
            <p>Otherwise, if pAngle is greater than 180 and less than 270, dy is set equal to Dr_Intra_Derivative[ 270 - pAngle ].</p>
          </li>
          <li>
            <p>Otherwise, dy is undefined.</p>
          </li>
        </ul>
      </li>
      <li>
        <p>If pAngle is greater than 0 and less than 90, the following steps apply for i = 0..h-1, for j = 0..w-1:</p>

        <ul>
          <li>
            <p>The variable idx is set equal to ( i + 1 ) * dx.</p>
          </li>
          <li>
            <p>The variable base is set equal to (idx &gt;&gt; ( 8 - upsampleAbove ) ) + (j &lt;&lt; upsampleAbove).</p>
          </li>
          <li>
            <p>The variable shift is set equal to (idx &lt;&lt; upsampleAbove) &amp; 0xFF.</p>
          </li>
          <li>
            <p>The variable maxBaseX is set equal to (w + h - 1) &lt;&lt; upsampleAbove.</p>
          </li>
          <li>
            <p>If base is less than maxBaseX, pred[ i ][ j ] is set equal to Clip1( Round2( AboveRow[ base ] * ( 256 - shift ) + AboveRow[ base + 1 ] * shift, 8 ) ).</p>
          </li>
          <li>
            <p>Otherwise (base is greater than or equal to maxBaseX), pred[ i ][ j ] is set equal to AboveRow[ maxBaseX ].</p>
          </li>
        </ul>
      </li>
      <li>
        <p>Otherwise, if pAngle is greater than 90 and pAngle is less than 180, the following steps apply for i = 0..h-1, for j = 0..w-1:</p>

        <ul>
          <li>
            <p>The variable idx is set equal to ( j &lt;&lt; 8 ) - ( i + 1 ) * dx.</p>
          </li>
          <li>
            <p>The variable base is set equal to idx &gt;&gt; ( 8 - upsampleAbove ).</p>
          </li>
          <li>
            <p>If base is greater than or equal to -(1 &lt;&lt; upsampleAbove), the following steps apply:</p>

            <ul>
              <li>
                <p>The variable shift is set equal to (idx &lt;&lt; upsampleAbove) &amp; 0xFF.</p>
              </li>
              <li>
                <p>pred[ i ][ j ] is set equal to Clip1( Round2( AboveRow[ base ] * ( 256 - shift ) + AboveRow[ base + 1 ] * shift, 8 ) ).</p>
              </li>
            </ul>
          </li>
          <li>
            <p>Otherwise (base is less than -(1 &lt;&lt; upsampleAbove), the following steps apply:</p>

            <ul>
              <li>
                <p>The variable idx is set equal to ( i &lt;&lt; 8 ) - ( j + 1 ) * dy.</p>
              </li>
              <li>
                <p>The variable base is set equal to idx &gt;&gt; ( 8 - upsampleLeft ).</p>
              </li>
              <li>
                <p>The variable shift is set equal to ( idx &lt;&lt; upsampleLeft ) &amp; 0xFF.</p>
              </li>
              <li>
                <p>pred[ i ][ j ] is set equal to Clip1( Round2( LeftCol[ base ] * ( 256 - shift ) + LeftCol[ base + 1 ] * shift, 8 ) ).</p>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Otherwise, if pAngle is greater than 180 and pAngle is less than 270, the following steps apply for i = 0..h-1, for j = 0..w-1:</p>

        <ul>
          <li>
            <p>The variable idx is set equal to ( j + 1 ) * dy.</p>
          </li>
          <li>
            <p>The variable base is set equal to ( idx &gt;&gt; ( 8 - upsampleLeft ) ) + ( i &lt;&lt; upsampleLeft ).</p>
          </li>
          <li>
            <p>The variable shift is set equal to idx &amp; 0xFF.</p>
          </li>
          <li>
            <p>The variable MaxBaseY is set equal to ( w + h - 1 ) &lt;&lt; upsampleLeft.</p>
          </li>
          <li>
            <p>If base is less than MaxBaseY, pred[ i ][ j ] is set equal to Clip1( Round2( LeftCol[ base ] * ( 256 - shift ) + LeftCol[ base + 1 ] * shift, 8 ) ).</p>
          </li>
          <li>
            <p>Otherwise (base is greater than or equal to MaxBaseY), pred[ i ][ j ] is set equal to LeftCol[ MaxBaseY ].</p>
          </li>
        </ul>
      </li>
      <li>
        <p>Otherwise, if pAngle is equal to 90, pred[ i ][ j ] is set equal to AboveRow[ j ] with j = 0..w-1 and i = 0..h-1 (each row of the block is filled with
a copy of AboveRow).</p>
      </li>
      <li>
        <p>Otherwise, if pAngle is equal to 180, pred[ i ][ j ] is set equal to LeftCol[ i ] with j = 0..w-1 and i = 0..h-1 (each column of the block is filled with
a copy of LeftCol).</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Otherwise if mode is equal to V_PRED, pred[ i ][ j ] is set equal to AboveRow[ j ]
with j = 0..w-1 and i = 0..h-1 (each row of the block is filled with
a copy of AboveRow).</p>
  </li>
  <li>
    <p>Otherwise if mode is equal to H_PRED, pred[ i ][ j ] is set equal to
LeftCol[ i ] with j = 0..w-1 and i = 0..h-1 (each column of the
block is filled with a copy of LeftCol).</p>
  </li>
  <li>
    <p>Otherwise if mode is equal to D207_PRED, the following applies for i = 0..h-1:</p>

    <ol>
      <li>
        <p>pred[ i ][ j ] = Round2( LeftCol[ i + j/2 ] +
LeftCol[ i + 1 + j/2 ], 1 ) for even values of j in the
range 0..w-2</p>
      </li>
      <li>
        <p>pred[ i ][ j ] = Round2( LeftCol[ i + j/2 ] + 2 *
LeftCol[ i + 1 + j/2 ] + LeftCol[ i + 2 + j/2 ], 2 ) for odd values
of j in the range 0..w-1</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Otherwise if mode is equal to D45_PRED, the following applies for i = 0..h-1, for j = 0..w-1:</p>

    <ol>
      <li>
        <p>pred[ i ][ j ] = Round2( AboveRow[ i + j ] + 2 *
AboveRow[ i + j + 1 ] + AboveRow[ i + j + 1 ], 2 )
if (i + j + 2 &gt;= w + h)</p>
      </li>
      <li>
        <p>pred[ i ][ j ] = Round2( AboveRow[ i + j ] + 2 *
AboveRow[ i + j + 1 ] + AboveRow[ i + j + 2 ], 2 )
if (i + j + 2 &lt; w + h)</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Otherwise if mode is equal to D63_PRED, the following applies for i = 0..h-1, for j = 0..w-1:</p>

    <ol>
      <li>
        <p>pred[ i ][ j ] = Round2( AboveRow[ i/2 + j ] +
AboveRow[ i/2 + j + 1 ], 1 ) for even values of i in the
range 0..h-2</p>
      </li>
      <li>
        <p>pred[ i ][ j ] = Round2( AboveRow[ i/2 + j ] + 2 *
AboveRow[ i/2 + j + 1 ] + AboveRow[ i/2 + j + 2 ], 2 )
for odd values of i in the range 0..h-1.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Otherwise if mode is equal to D117_PRED, the following applies:</p>

    <ol>
      <li>
        <p>pred[ 0 ][ j ] = Round2( AboveRow[ j - 1 ] + AboveRow[ j ], 1 )
for j = 0..w-1</p>
      </li>
      <li>
        <p>pred[ 1 ][ 0 ] = Round2( LeftCol[ 0 ] + 2 * AboveRow[ -1 ] +
AboveRow[ 0 ], 2 )</p>
      </li>
      <li>
        <p>pred[ 1 ][ j ] = Round2( AboveRow[ j - 2 ] + 2 * AboveRow[ j - 1 ] +
AboveRow[ j ], 2 ) for j = 1..w-1</p>
      </li>
      <li>
        <p>pred[ 2 ][ 0 ] = Round2( AboveRow[ -1 ] + 2 * LeftCol[ 0 ] +
LeftCol[ 1 ], 2 )</p>
      </li>
      <li>
        <p>pred[ i ][ 0 ] = Round2( LeftCol[ i - 3 ] + 2 * LeftCol[ i - 2 ] +
LeftCol[ i - 1 ], 2 ) for i = 3..h-1</p>
      </li>
      <li>
        <p>pred[ i ][ j ] = pred[ i - 2 ][ j - 1 ] for i = 2..h-1,
for j = 1..w-1</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Otherwise if mode is equal to D135_PRED, the following applies:</p>

    <ol>
      <li>
        <p>pred[ 0 ][ 0 ] = Round2( LeftCol[ 0 ] + 2 * AboveRow[ -1 ] +
AboveRow[ 0 ], 2 )</p>
      </li>
      <li>
        <p>pred[ 0 ][ j ] = Round2( AboveRow[ j - 2 ] + 2 * AboveRow[ j - 1 ] +
AboveRow[ j ], 2 ) for j = 1..w-1</p>
      </li>
      <li>
        <p>pred[ 1 ][ 0 ] = Round2( AboveRow[ -1 ] + 2 * LeftCol[ 0 ] +
LeftCol[ 1 ], 2 )</p>
      </li>
      <li>
        <p>pred[ i ][ 0 ] = Round2( LeftCol[ i - 2 ] + 2 * LeftCol[ i - 1 ] +
LeftCol[ i ], 2 ) for i = 2..h-1</p>
      </li>
      <li>
        <p>pred[ i ][ j ] = pred[ i - 1 ][ j - 1 ] for i = 1..h-1,
for j = 1..w-1</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Otherwise if mode is equal to D153_PRED, the following applies:</p>

    <ol>
      <li>
        <p>pred[ 0 ][ 0 ] = Round2( LeftCol[ 0 ] + AboveRow[ -1 ], 1 )</p>
      </li>
      <li>
        <p>pred[ i ][ 0 ] = Round2( LeftCol[ i - 1 ] + LeftCol[ i ], 1 )
for i = 1..h-1</p>
      </li>
      <li>
        <p>pred[ 0 ][ 1 ] = Round2( LeftCol[ 0 ] + 2 * AboveRow[ -1 ] +
AboveRow[ 0 ], 2 )</p>
      </li>
      <li>
        <p>pred[ 1 ][ 1 ] = Round2( AboveRow[ -1 ] + 2 * LeftCol[ 0 ] +
LeftCol[ 1 ], 2 )</p>
      </li>
      <li>
        <p>pred[ i ][ 1 ] = Round2( LeftCol[ i - 2 ] + 2 * LeftCol[ i - 1 ] +
LeftCol[ i ], 2 ) for i = 2..h-1</p>
      </li>
      <li>
        <p>pred[ 0 ][ j ] = Round2( AboveRow[ j - 3 ] + 2 * AboveRow[ j - 2 ] +
AboveRow[ j - 1 ], 2 ) for j = 2..w-1</p>
      </li>
      <li>
        <p>pred[ i ][ j ] = pred[ i - 1 ][ j - 2 ] for i = 1..h-1,
for j = 2..w-1</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Otherwise if mode is equal to TM_PRED, the following ordered steps apply
for i = 0..h-1, for j = 0..w-1:</p>

    <ol>
      <li>
        <p>The variable base is set equal to AboveRow[ j ] + LeftCol[ i ] - 
AboveRow[ -1 ].</p>
      </li>
      <li>
        <p>The variable pLeft is set equal to Abs( base - LeftCol[ i ]).</p>
      </li>
      <li>
        <p>The variable pTop is set equal to Abs( base - AboveRow[ j ]).</p>
      </li>
      <li>
        <p>The variable pTopLeft is set equal to Abs( base - AboveRow[ -1 ] ).</p>
      </li>
      <li>
        <p>If pLeft &lt;= pTop and pLeft &lt;= pTopLeft, pred[ i ][ j ] is set equal to
LeftCol[ i ].</p>
      </li>
      <li>
        <p>Otherwise, if pTop &lt;= pTopLeft, pred[ i ][ j ] is set equal to AboveRow[ j ].</p>
      </li>
      <li>
        <p>Otherwise, pred[ i ][ j ] is set equal to AboveRow[ -1 ].</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Otherwise if mode is equal to SMOOTH_PRED, the following ordered steps
apply for i = 0..h-1, for j = 0..w-1:</p>

    <ol>
      <li>
        <p>The array smWeightsX is set dependent on the value of log2W according to the
following table:</p>

        <table class="table table-sm table-bordered">
          <thead>
            <tr>
              <th style="text-align: center">log2W</th>
              <th style="text-align: center">smWeightsX</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td style="text-align: center">2</td>
              <td style="text-align: center">Sm_Weights_Tx_4x4</td>
            </tr>
            <tr>
              <td style="text-align: center">3</td>
              <td style="text-align: center">Sm_Weights_Tx_8x8</td>
            </tr>
            <tr>
              <td style="text-align: center">4</td>
              <td style="text-align: center">Sm_Weights_Tx_16x16</td>
            </tr>
            <tr>
              <td style="text-align: center">5</td>
              <td style="text-align: center">Sm_Weights_Tx_32x32</td>
            </tr>
            <tr>
              <td style="text-align: center">6</td>
              <td style="text-align: center">Sm_Weights_Tx_64x64</td>
            </tr>
          </tbody>
        </table>
      </li>
      <li>
        <p>The array smWeightsY is set dependent on the value of log2H according to the
following table:</p>

        <table class="table table-sm table-bordered">
          <thead>
            <tr>
              <th style="text-align: center">log2H</th>
              <th style="text-align: center">smWeightsY</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td style="text-align: center">2</td>
              <td style="text-align: center">Sm_Weights_Tx_4x4</td>
            </tr>
            <tr>
              <td style="text-align: center">3</td>
              <td style="text-align: center">Sm_Weights_Tx_8x8</td>
            </tr>
            <tr>
              <td style="text-align: center">4</td>
              <td style="text-align: center">Sm_Weights_Tx_16x16</td>
            </tr>
            <tr>
              <td style="text-align: center">5</td>
              <td style="text-align: center">Sm_Weights_Tx_32x32</td>
            </tr>
            <tr>
              <td style="text-align: center">6</td>
              <td style="text-align: center">Sm_Weights_Tx_64x64</td>
            </tr>
          </tbody>
        </table>
      </li>
      <li>
        <p>The variable smoothPred is set as follows:</p>

        <pre><code class="language-c">smoothPred =   smWeightsY[ i ] * AboveRow[ j ] +
            ( 256 - smWeightsY[ i ] ) * LeftCol[ h - 1 ] +
              smWeightsX[ j ] * LeftCol[ i ] +
            ( 256 - smWeightsX[ j ] ) * AboveRow[ w - 1 ]
</code></pre>
      </li>
      <li>
        <p>pred[ i ][ j ] is set equal to Clip1( Round2( smoothPred, 9 ) ).</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Otherwise if mode is equal to SMOOTH_V_PRED, the following ordered steps
apply for i = 0..h-1, for j = 0..w-1:</p>

    <ol>
      <li>
        <p>The array smWeights is set dependent on the value of log2H according to the
following table:</p>

        <table class="table table-sm table-bordered">
          <thead>
            <tr>
              <th style="text-align: center">log2H</th>
              <th style="text-align: center">smWeights</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td style="text-align: center">2</td>
              <td style="text-align: center">Sm_Weights_Tx_4x4</td>
            </tr>
            <tr>
              <td style="text-align: center">3</td>
              <td style="text-align: center">Sm_Weights_Tx_8x8</td>
            </tr>
            <tr>
              <td style="text-align: center">4</td>
              <td style="text-align: center">Sm_Weights_Tx_16x16</td>
            </tr>
            <tr>
              <td style="text-align: center">5</td>
              <td style="text-align: center">Sm_Weights_Tx_32x32</td>
            </tr>
            <tr>
              <td style="text-align: center">6</td>
              <td style="text-align: center">Sm_Weights_Tx_64x64</td>
            </tr>
          </tbody>
        </table>
      </li>
      <li>
        <p>The variable smoothPred is set as follows:</p>

        <pre><code class="language-c">smoothPred =   smWeights[ i ] * AboveRow[ j ] +
            ( 256 - smWeights[ i ] ) * LeftCol[ h - 1 ]
</code></pre>
      </li>
      <li>
        <p>pred[ i ][ j ] is set equal to Clip1( Round2( smoothPred, 8 ) ).</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Otherwise if mode is equal to SMOOTH_H_PRED, the following ordered steps
apply for i = 0..h-1, for j = 0..w-1:</p>

    <ol>
      <li>
        <p>The array smWeights is set dependent on the value of log2W according to the
following table:</p>

        <table class="table table-sm table-bordered">
          <thead>
            <tr>
              <th style="text-align: center">log2W</th>
              <th style="text-align: center">smWeights</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td style="text-align: center">2</td>
              <td style="text-align: center">Sm_Weights_Tx_4x4</td>
            </tr>
            <tr>
              <td style="text-align: center">3</td>
              <td style="text-align: center">Sm_Weights_Tx_8x8</td>
            </tr>
            <tr>
              <td style="text-align: center">4</td>
              <td style="text-align: center">Sm_Weights_Tx_16x16</td>
            </tr>
            <tr>
              <td style="text-align: center">5</td>
              <td style="text-align: center">Sm_Weights_Tx_32x32</td>
            </tr>
            <tr>
              <td style="text-align: center">6</td>
              <td style="text-align: center">Sm_Weights_Tx_64x64</td>
            </tr>
          </tbody>
        </table>
      </li>
      <li>
        <p>The variable smoothPred is set as follows:</p>

        <pre><code class="language-c">smoothPred =   smWeights[ j ] * LeftCol[ i ] +
            ( 256 - smWeights[ j ] ) * AboveRow[ w - 1 ]
</code></pre>
      </li>
      <li>
        <p>pred[ i ][ j ] is set equal to Clip1( Round2( smoothPred, 8 ) ).</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Otherwise if mode is equal to DC_PRED and haveLeft is equal to 1 and
haveAbove is equal to 1, pred[ i ][ j ] is set equal to avg with
i = 0..h-1 and j = 0..w-1. The variable avg (the average of the
samples in union of AboveRow and LeftCol) is specified as follows:</p>

    <pre><code class="language-c">sum = 0
for ( k = 0; k &lt; h; k++ )
    sum += LeftCol[ k ]
for ( k = 0; k &lt; w; k++ )
    sum += AboveRow[ k ]
avg = (sum + ( ( w + h ) &gt;&gt; 1 ) ) / ( w + h )
</code></pre>
  </li>
  <li>
    <p>Otherwise if mode is equal to DC_PRED and haveLeft is equal to 1 and
haveAbove is equal to 0, pred[ i ][ j ] is set equal to leftAvg with
i = 0..h-1 and j = 0..w-1. The variable leftAvg is specified as
follows:</p>

    <pre><code class="language-c">sum = 0
for ( k = 0; k &lt; h; k++ ) {
    sum += LeftCol[ k ]
}
leftAvg = (sum + (1 &lt;&lt; (log2H - 1) ) ) &gt;&gt; log2H
</code></pre>
  </li>
  <li>
    <p>Otherwise if mode is equal to DC_PRED and haveLeft is equal to 0 and
haveAbove is equal to 1, pred[ i ][ j ] is set equal to aboveAvg with
i = 0..h-1 and j = 0..w-1. The variable aboveAvg is specified
as follows:</p>

    <pre><code class="language-c">sum = 0
for ( k = 0; k &lt; w; k++ ) {
    sum += AboveRow[ k ]
}
aboveAvg = (sum + (1 &lt;&lt; (log2W - 1) ) ) &gt;&gt; log2W
</code></pre>
  </li>
  <li>
    <p>Otherwise (mode is DC_PRED), pred[ i ][ j ] is set equal
to 1 &lt;&lt; ( BitDepth - 1 ) with i = 0..h-1 and j = 0..w-1.</p>
  </li>
</ul>

<p>The current frame is updated as follows:</p>

<ul>
  <li>CurrFrame[ plane ][ y + i ][ x + j ] is set equal to pred[ i ][ j ]
for i = 0..h-1 and j = 0..w-1.</li>
</ul>

<h5 id="filter-corner-process">Filter Corner Process</h5>

<p>This process uses a three tap filter to compute the value to be used for the top-left corner.</p>

<p>The variable s is set equal to LeftCol[ 0 ] * 5 + AboveRow[ -1 ] * 6 + AboveRow[ 0 ] * 5.</p>

<p>The output of this process is Round2(s, 4).</p>

<h5 id="intra-filter-type-process">Intra Filter Type Process</h5>

<p>The output of this process is a variable filterType that is set to 1 if either
the block above or to the left uses a smooth prediction mode.</p>

<p>The process is specified as follows:</p>

<pre><code class="language-c">get_filter_type( ) {
  aboveSmooth = 0
  leftSmooth = 0
  if (AvailU) {
    aboveSmooth = is_smooth( YModes[ MiRow - 1 ][ MiCol ] )
  }
  if (AvailL) {
    leftSmooth = is_smooth( YModes[ MiRow ][ MiCol - 1 ] )
  }
  return aboveSmooth || leftSmooth
}
</code></pre>

<p>where the function is_smooth indicates if a prediction mode is one of the smooth intra modes and is specified as:</p>

<pre><code class="language-c">is_smooth( mode ) {
  return (mode == SMOOTH_PRED || mode == SMOOTH_V_PRED || mode == SMOOTH_H_PRED)
}
</code></pre>

<h5 id="intra-edge-filter-strength-selection-process">Intra Edge Filter Strength Selection Process</h5>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>a variable w containing the width of the transform in samples,</p>
  </li>
  <li>
    <p>a variable h containing the height of the transform in samples,</p>
  </li>
  <li>
    <p>a variable filterType that is 0 or 1 that controls the strength of filtering,</p>
  </li>
  <li>
    <p>a variable delta containing an angle difference in degrees.</p>
  </li>
</ul>

<p>The output is an intra edge filter strength from 0 to 3 inclusive.</p>

<p>The variable d is set equal to Abs( delta ).</p>

<p>The variable blkWh (containing the sum of the dimensions) is set equal to w + h.</p>

<p>The output variable strength is specified as follows:</p>

<pre><code class="language-c">strength = 0
if (filterType == 0) {
    if (blkWh &lt;= 8) {
        if (d &gt;= 56) strength = 1
    } else if (blkWh &lt;= 12) {
        if (d &gt;= 40) strength = 1
    } else if (blkWh &lt;= 16) {
        if (d &gt;= 40) strength = 1
    } else if (blkWh &lt;= 24) {
        if (d &gt;= 8) strength = 1
        if (d &gt;= 16) strength = 2
        if (d &gt;= 32) strength = 3
    } else if (blkWh &lt;= 32) {
        if (d &gt;= 1) strength = 1
        if (d &gt;= 4) strength = 2
        if (d &gt;= 32) strength = 3
    } else {
      if (d &gt;= 1) strength = 3
    }
} else {
    if (blkWh &lt;= 8) {
        if (d &gt;= 40) strength = 1
        if (d &gt;= 64) strength = 2
    } else if (blkWh &lt;= 16) {
        if (d &gt;= 20) strength = 1
        if (d &gt;= 48) strength = 2
    } else if (blkWh &lt;= 24) {
        if (d &gt;= 4) strength = 3
    } else {
        if (d &gt;= 1) strength = 3
    }
}
</code></pre>

<h5 id="intra-edge-upsample-selection-process">Intra Edge Upsample Selection Process</h5>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>a variable w containing the width of the transform in samples,</p>
  </li>
  <li>
    <p>a variable h containing the height of the transform in samples,</p>
  </li>
  <li>
    <p>a variable filterType that is 0 or 1 that controls the strength of filtering,</p>
  </li>
  <li>
    <p>a variable delta containing an angle difference in degrees.</p>
  </li>
</ul>

<p>The output is a flag useUpsample that is true if upsampling should be applied to the edge.</p>

<p>The variable d is set equal to Abs( delta ).</p>

<p>The variable blkWh (containing the sum of the dimensions) is set equal to w + h.</p>

<p>The output variable useUpsample is specified as follows:</p>

<pre><code class="language-c">if (d &lt;= 0 || d &gt;= 40) {
    useUpsample = 0
} else if ( filterType == 0 ) {
    useUpsample = (blkWh &lt;= 16)
} else {
    useUpsample = (blkWh &lt;= 8)
}
</code></pre>

<h5 id="intra-edge-upsample-process">Intra Edge Upsample Process</h5>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>a variable numPx specifying the number of samples to filter,</p>
  </li>
  <li>
    <p>a variable dir containing 0 when filtering the above samples, and 1 when filtering the left samples.</p>
  </li>
</ul>

<p>The output of this process are upsampled samples in the AboveRow and LeftCol arrays.</p>

<p>The variable buf is set depending on dir:</p>

<ul>
  <li>
    <p>If dir is equal to 0, buf is set equal to a reference to AboveRow.</p>
  </li>
  <li>
    <p>Otherwise (dir is equal to 1), buf is set equal to a reference to LeftCol.</p>
  </li>
</ul>

<p class="alert alert-info"><strong>Note:</strong> buf is a reference to either AboveRow or LeftCol.
“reference” indicates that modifying values in buf modifies values in the original array.</p>

<p>When the process starts, entries -1 to numPx-1 are valid in buf and contain the original values.
When the process completes, entries -2 to 2*numPx-2 are valid in buf and contain the upsampled values.</p>

<p>An array dup of length numPx+3 is generated by extending buf by one sample at the start and end as follows:</p>

<pre><code class="language-c">dup[ 0 ] = buf[ -1 ]
for (i = -1; i &lt; numPx; i++) {
    dup[ i + 1 ] = buf[ i ]
}
dup[ numPx + 2 ] = buf[ numPx - 1 ]
</code></pre>

<p>The upsampling process (modifying values in buf) is specified as follows:</p>

<pre><code class="language-c">buf[-2] = dup[0]
for (i = 0; i &lt; numPx; i++) {
    s = -dup[i] + (9 * dup[i + 1]) + (9 * dup[i + 2]) - dup[i + 3]
    s = Clip1( Round2(s, 4) )
    buf[ 2 * i - 1 ] = s
    buf[ 2 * i ] = dup[i + 2]
}
</code></pre>

<h5 id="intra-edge-filter-process">Intra Edge Filter Process</h5>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>a size sz,</p>
  </li>
  <li>
    <p>a filter strength strength between 0 and 3 inclusive,</p>
  </li>
  <li>
    <p>an edge direction left (when equal to 1, it specifies a vertical edge; when equal to 0, it specifies
a horizontal edge.</p>
  </li>
</ul>

<p>The process filters the LeftCol (if left is equal to 1) or AboveRow (if left is equal to 0) arrays.</p>

<p>If strength is equal to 0, the process returns without doing anything.</p>

<p>Otherwise (strength is not equal to 0), the following ordered steps apply for i = 1..sz-2:</p>

<ol>
  <li>
    <p>The variable s is set equal to 0.</p>
  </li>
  <li>
    <p>The following steps now apply for j = 0..INTRA_EDGE_TAPS-1.</p>

    <p>a. The variable k is set equal to Clip3( 0, sz - 1, i - 2 + j ).</p>

    <p>b. The variable s is incremented by Intra_Edge_Kernel[ strength - 1 ][ j ] * ( left ? 
    LeftCol[ k - 1 ] : AboveRow[ k - 1 ] ).</p>
  </li>
  <li>
    <p>If left is equal to 1, LeftCol[ i - 1 ] is set equal to ( s + 8 ) &gt;&gt; 4.</p>
  </li>
  <li>
    <p>If left is equal to 0, AboveRow[ i - 1 ] is set equal to ( s + 8 ) &gt;&gt; 4.</p>
  </li>
</ol>

<p>The array Intra_Edge_Kernel is specified as follows:</p>

<pre><code class="language-c">Intra_Edge_Kernel[INTRA_EDGE_KERNELS][INTRA_EDGE_TAPS] = {
  { 0, 4, 8, 4, 0 },
  { 0, 5, 6, 5, 0 },
  { 2, 4, 4, 4, 2 }
}
</code></pre>

<h4 id="inter-prediction-process">Inter Prediction Process</h4>

<p>The inter prediction process is invoked for inter coded blocks and interintra blocks.  The inputs
to this process are:</p>

<ul>
  <li>
    <p>a variable plane specifying which plane is being predicted,</p>
  </li>
  <li>
    <p>variables x and y specifying the location of the top left sample in the
CurrFrame[ plane ] array of the region to be predicted,</p>
  </li>
  <li>
    <p>variables w and h specifying the width and height of the region to be
predicted,</p>
  </li>
  <li>
    <p>variables candRow and candCol specifying the location (in units of 4x4 blocks) of the motion vector information to be used.</p>
  </li>
</ul>

<p>The outputs of this process are
predicted samples in the current frame CurrFrame.</p>

<p>This process is triggered by a function call to predict_inter.</p>

<p>The variable isInterInter
is set equal to RefFrames[ candRow ][ candCol ][ 1 ] &gt; INTRA_FRAME.</p>

<p>The variable isCompound is set equal to RefFrames[ candRow ][ candCol ][ 1 ] &gt;= INTRA_FRAME.</p>

<p>The prediction arrays are formed by
the following ordered steps:</p>

<ol>
  <li>
    <p>The variable refList is set equal to 0.</p>
  </li>
  <li>
    <p>The variable useWarp is derived as follows:</p>

    <ul>
      <li>
        <p>If w &lt; 8 or h &lt; 8, useWarp is set equal to 0.</p>
      </li>
      <li>
        <p>Otherwise, if force_integer_mv is equal to 1, useWarp is set equal to 0.</p>
      </li>
      <li>
        <p>Otherwise, if motion_mode is equal to LOCALWARP, useWarp is set equal to 1.</p>
      </li>
      <li>
        <p>Otherwise, if (YMode == GLOBALMV || YMode == GLOBAL_GLOBALMV) and gm_type[ RefFrame[ refList ] ] &gt; TRANSLATION, useWarp is set equal to 1.</p>
      </li>
      <li>
        <p>Otherwise, useWarp is set equal to 0.</p>
      </li>
    </ul>
  </li>
  <li>
    <p>If setting useWarp equal to 1 would result in the bitstream not being conformant
    (due to either the requirement in the warp estimation process in <a href="#warp-estimation-process">section 7.7.2.6</a> about the determinant being non-zero,
or the requirement in the setup shear process in <a href="#setup-shear-process">section 7.7.2.4</a> about the size of the shear) then useWarp is set equal to 0.</p>
  </li>
  <li>
    <p>If plane is equal to 0 and motion_mode is equal to LOCALWARP and useWarp is equal to 1, the warp estimation process in <a href="#warp-estimation-process">section 7.7.2.6</a> is invoked.</p>
  </li>
  <li>
    <p>The motion vector array mv is set equal to Mvs[ candRow ][ candCol ][ refList ].</p>
  </li>
  <li>
    <p>The variable refIdx specifying which reference frame is being used is set equal to ref_frame_idx[ RefFrame[ refList ] - LAST_FRAME ].</p>
  </li>
  <li>
    <p>The motion vector scaling process in <a href="#motion-vector-scaling-process">section 7.7.2.1</a> is invoked with
plane, refIdx, x, y, mv as inputs and the output being the
initial location startX, startY, and the step sizes stepX, stepY.</p>
  </li>
  <li>
    <p>If useWarp is equal to 1, the block warp process in <a href="#block-warp-process">section 7.7.2.3</a> is invoked with
plane, refList, x, y, i8, j8, w, h as inputs and the
output is merged into the 2D array preds[ refList ] for i8 = 0..((h-1) &gt;&gt; 3) and for j8 = 0..((w-1) &gt;&gt; 3).
(Each invocation fills in a block of output of size w by h at x offset j8 * 8 and y offset i8 * 8.)</p>
  </li>
  <li>
    <p>If useWarp is equal to 0, the block inter prediction process in <a href="#block-inter-prediction-process">section 7.7.2.2</a> is invoked with
plane, refIdx, startX, startY, stepX, stepY, w, h, candRow, candCol as inputs and the
output is assigned to the 2D array preds[ refList ].</p>
  </li>
  <li>
    <p>If isInterInter is equal to 1, then the variable refList is set equal
     to 1 and steps 4 to 9 are repeated to form the prediction for
     the second reference.</p>
  </li>
</ol>

<p>If IsInterIntra is equal to 1, the following ordered steps apply:</p>

<ol>
  <li>
    <p>The variable mode is set as follows:</p>

    <ul>
      <li>
        <p>If interintra_mode is equal to II_DC_PRED, mode is set equal to DC_PRED.</p>
      </li>
      <li>
        <p>Otherwise if interintra_mode is equal to II_V_PRED, mode is set equal to V_PRED,</p>
      </li>
      <li>
        <p>Otherwise if interintra_mode is equal to II_H_PRED, mode is set equal to H_PRED,</p>
      </li>
      <li>
        <p>Otherwise (interintra_mode is equal to II_SMOOTH_PRED), mode is set equal to SMOOTH_PRED.</p>
      </li>
    </ul>
  </li>
  <li>
    <p>The variable haveLeft is set equal to AvailL</p>
  </li>
  <li>
    <p>The variable haveAbove is set equal to AvailU</p>
  </li>
  <li>
    <p>The variable haveAboveRight is set equal to 0</p>
  </li>
  <li>
    <p>The variable haveBelowLeft is set equal to 0</p>
  </li>
  <li>
    <p>The variable log2W is set equal to log2( w )</p>
  </li>
  <li>
    <p>The variable log2H is set equal to log2( h )</p>
  </li>
  <li>
    <p>The intra prediction process specified in <a href="#intra-prediction-process">section 7.7.1</a> is invoked with plane, x, y, haveLeft, haveAbove, haveAboveRight, haveBelowLeft, mode, log2W, log2H as inputs.  (This will write intra predicted samples into CurrFrame.)</p>
  </li>
</ol>

<p>An array named Mask is prepared as follows:</p>

<ul>
  <li>
    <p>If compound_type is equal to COMPOUND_WEDGE and plane is equal to 0, the wedge mask process in <a href="#wedge-mask-process">section 7.7.2.9</a> is invoked with w, h as inputs.</p>
  </li>
  <li>
    <p>Otherwise if compound_type is equal to COMPOUND_INTRA, the inter intra mask process in <a href="#inter-intra-mask-process">section 7.7.2.11</a> is invoked with preds, plane, x, y, w, h as inputs.</p>
  </li>
  <li>
    <p>Otherwise if compound_type is equal to COMPOUND_SEG and plane is equal to 0, the segment mask process in <a href="#segment-mask-process">section 7.7.2.10</a> is invoked with preds, w, h as inputs.</p>
  </li>
  <li>
    <p>Otherwise, no mask array is needed.</p>
  </li>
</ul>

<p>The inter predicted samples are then derived as
follows:</p>

<ul>
  <li>
    <p>If isCompound is equal to 0, CurrFrame[ plane ][ y + i ][ x + j ]
   is set equal to Clip1( Round2( preds[ 0 ][ i ][ j ], 9) ) for i = 0..h-1 and j = 0..w-1.</p>
  </li>
  <li>
    <p>Otherwise if compound_type is equal to COMPOUND_AVERAGE, CurrFrame[ plane ][ y + i ][ x + j ] is set equal to
   Clip1( Round2( preds[ 0 ][ i ][ j ] + preds[ 1 ][ i ][ j ], 10 ) )
   for i = 0..h-1 and j = 0..w-1.</p>
  </li>
  <li>
    <p>Otherwise, the mask blend process in <a href="#mask-blend-process">section 7.7.2.12</a> is invoked with preds, plane, x, y, w, h as inputs.</p>
  </li>
</ul>

<p>If motion_mode is equal to OBMC, the overlapped motion compensation in <a href="#overlapped-motion-compensation-process">section 7.7.2.7</a> is invoked with plane, x, y, w, h as inputs.</p>

<h5 id="motion-vector-scaling-process">Motion Vector Scaling Process</h5>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>a variable plane specifying which plane is being predicted,</p>
  </li>
  <li>
    <p>a variable refIdx specifying which reference frame is being used,</p>
  </li>
  <li>
    <p>variables x and y specifying the location of the top left sample in the
CurrFrame[ plane ] array of the region to be predicted,</p>
  </li>
  <li>
    <p>a variable mv specifying the clamped motion vector (in units of 1/8 th of a luma pixel, i.e. with 3 fractional bits).</p>
  </li>
</ul>

<p>The outputs of this process are the variables startX and startY giving the
reference block location in units of 1/1024 th of a sample, and variables xStep
and yStep giving the step size in units of 1/1024 th of a sample.</p>

<p>This process is responsible for computing the sampling locations in the
reference frame based on the motion vector. The sampling locations are also
adjusted to compensate for any difference in the size of the reference frame
compared to the current frame.</p>

<p>It is a requirement of bitstream conformance that all the following conditions
are satisfied:</p>

<ul>
  <li>
    <p>2 * FrameWidth &gt;= RefFrameWidth[ refIdx ]</p>
  </li>
  <li>
    <p>2 * FrameHeight &gt;= RefFrameHeight[ refIdx ]</p>
  </li>
  <li>
    <p>FrameWidth &lt;= 16 * RefFrameWidth[ refIdx ]</p>
  </li>
  <li>
    <p>FrameHeight &lt;= 16 * RefFrameHeight[ refIdx ]</p>
  </li>
</ul>

<p>A variable xScale is set equal to (RefFrameWidth[ refIdx ] &lt;&lt;
REF_SCALE_SHIFT + ( FrameWidth / 2 ) ) / FrameWidth.</p>

<p>A variable yScale is set equal to (RefFrameHeight[ refIdx ] &lt;&lt;
REF_SCALE_SHIFT + ( FrameHeight / 2 ) ) / FrameHeight.</p>

<p>(xScale and yScale specify the size of the reference frame relative to the
current frame in units where (1 &lt;&lt; 14) is equivalent to both frames having
the same size.)</p>

<p>The variables subX and subY are set equal to the subsampling for the current
plane as follows:</p>

<ul>
  <li>
    <p>If plane is equal to 0, subX is set equal to 0 and subY is set equal to 0.</p>
  </li>
  <li>
    <p>Otherwise, subX is set equal to subsampling_x and subY is set equal to
   subsampling_y.</p>
  </li>
</ul>

<p>The variable halfSample (representing half the size of a sample in units of 1/16 th of a sample) is set equal to ( 1 &lt;&lt; ( SUBPEL_BITS - 1 ) ).</p>

<p>The variable origY is set equal to ( (y &lt;&lt; SUBPEL_BITS) + ( ( 2 * mv[0] ) &gt;&gt; subY ) + halfSample ).</p>

<p>The variable origX is set equal to ( (x &lt;&lt; SUBPEL_BITS) + ( ( 2 * mv[1] ) &gt;&gt; subX ) + halfSample ).</p>

<p>(origX and origY specify the location of the centre of the sample at the top-left corner of the
reference block in the current frame’s coordinate system in units of 1/16 th of a sample, i.e. with SUBPEL_BITS=4 fractional bits.)</p>

<p>The variable baseX is set equal to (x * xScale - ( halfSample &lt;&lt; REF_SCALE_SHIFT ) ).</p>

<p>The variable baseY is set equal to (y * yScale - ( halfSample &lt;&lt; REF_SCALE_SHIFT ) ).</p>

<p>(baseX and baseY specify the location of the top-left corner of the block in the
reference frame in the reference frame’s coordinate system with 18 fractional bits.)</p>

<p>The variable off (containing a rounding offset for the filter tap selection) is set equal to ( ( 1 &lt;&lt; (SCALE_SUBPEL_BITS - SUBPEL_BITS) ) / 2 ).</p>

<p>The output variable startX is set equal to (Round2Signed( baseX, REF_SCALE_SHIFT + SUBPEL_BITS - SCALE_SUBPEL_BITS) + off).</p>

<p>The output variable startY is set equal to (Round2Signed( baseY, REF_SCALE_SHIFT + SUBPEL_BITS - SCALE_SUBPEL_BITS) + off).</p>

<p>(startX and startY specify the location of the top-left corner of the block in the
reference frame in the reference frame’s coordinate system with SCALE_SUBPEL_BITS=10 fractional bits.)</p>

<p>The output variable stepX is set equal to Round2Signed( xScale, REF_SCALE_SHIFT - SCALE_SUBPEL_BITS).</p>

<p>The output variable stepY is set equal to Round2Signed( yScale, REF_SCALE_SHIFT - SCALE_SUBPEL_BITS).</p>

<p>(stepX and stepY are the size of one current frame sample in the reference frame’s coordinate system with 10 fractional bits.)</p>

<h5 id="block-inter-prediction-process">Block Inter Prediction Process</h5>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>a variable plane,</p>
  </li>
  <li>
    <p>a variable refIdx specifying which reference frame is being used,</p>
  </li>
  <li>
    <p>variables x and y giving the block location with in units of 1/1024 th of a
sample,</p>
  </li>
  <li>
    <p>variables xStep and yStep giving the step size in units of 1/1024 th of a
sample,</p>
  </li>
  <li>
    <p>variables w and h giving the width and height of the block in units of
samples,</p>
  </li>
  <li>
    <p>variables candRow and candCol specifying the location (in units of 4x4 blocks) of the motion vector information to be used.</p>
  </li>
</ul>

<p>The output from this process is the 2D array named pred containing inter
predicted samples.</p>

<p>A variable ref specifying the reference frame contents is set equal to
FrameStore[ refIdx ].</p>

<p>The variables subX and subY are set equal to the subsampling for the current
plane as follows:</p>

<ul>
  <li>
    <p>If plane is equal to 0, subX is set equal to 0 and subY is set equal to 0.</p>
  </li>
  <li>
    <p>Otherwise, subX is set equal to subsampling_x and subY is set equal to
   subsampling_y.</p>
  </li>
</ul>

<p>The variable lastX is set equal to ( (RefFrameWidth[ refIdx ] + subX) &gt;&gt;
subX) - 1.</p>

<p>The variable lastY is set equal to ( (RefFrameHeight[ refIdx ] + subY) &gt;&gt;
subY) - 1.</p>

<p>(lastX and lastY specify the coordinates of the bottom right sample of the reference plane.)</p>

<p>The variable intermediateHeight specifying the height required for the
intermediate array is set equal to (((h - 1) * yStep + (1 &lt;&lt; SCALE_SUBPEL_BITS) - 1) &gt;&gt; SCALE_SUBPEL_BITS) + 8.</p>

<p>The sub-sample interpolation is effected via two one-dimensional convolutions.
First a horizontal filter is used to build up a temporary array, and then this
array is vertically filtered to obtain the final prediction. The fractional
parts of the motion vectors determine the filtering process. If the fractional
part is zero, then the filtering is equivalent to a straight sample copy.</p>

<p>The filtering is applied as follows:</p>

<ul>
  <li>
    <p>The array intermediate is specified as follows:</p>

    <pre><code class="language-c">interpFilter = InterpFilters[ candRow ][ candCol ][ 1 ]
if ( w &lt;= 4 ) {
    if (interpFilter == EIGHTTAP || interpFilter == EIGHTTAP_SHARP) {
        interpFilter = 4
    } else if (interpFilter == EIGHTTAP_SMOOTH) {
        interpFilter = 5
    }
}
for ( r = 0; r &lt; intermediateHeight; r++ ) {
    for ( c = 0; c &lt; w; c++ ) {
        s = 0
        p = x + xStep * c
        for ( t = 0; t &lt; 8; t++ )
            s += Subpel_Filters[ interpFilter ][ (p &gt;&gt; 6) &amp; 15 ][ t ] *
              ref[ plane ] [ Clip3( 0, lastY, (y &gt;&gt; 10) + r - 3 ) ]
                           [ Clip3( 0, lastX, (p &gt;&gt; 10) + t - 3 ) ]
        intermediate[ r ][ c ] = Round2(s, 5)
    }
}
</code></pre>
  </li>
  <li>
    <p>The array pred is specified as follows:</p>

    <pre><code class="language-c">interpFilter = InterpFilters[ candRow ][ candCol ][ 0 ]
if ( h &lt;= 4 ) {
    if (interpFilter == EIGHTTAP || interpFilter == EIGHTTAP_SHARP) {
        interpFilter = 4
    } else if (interpFilter == EIGHTTAP_SMOOTH) {
        interpFilter = 5
    }
}
for ( r = 0; r &lt; h; r++ ) {
    for ( c = 0; c &lt; w; c++ ) {
        s = 0
        p = (y &amp; 1023) + yStep * r
        for ( t = 0; t &lt; 8; t++ )
            s += Subpel_Filters[ interpFilter ][ (p &gt;&gt; 6) &amp; 15 ][ t ] *
              intermediate[ (p &gt;&gt; 10) + t ][ c ]
        pred[ r ][ c ] = s
    }
}
</code></pre>

    <p>where the constant array Subpel_Filters is specified as:</p>

    <pre><code class="language-c">Subpel_Filters[ 6 ][ 16 ][ 8 ] = {
  {
    { 0, 0, 0, 128, 0, 0, 0, 0 },
    { 0, 2, -6, 126, 8, -2, 0, 0 },
    { 0, 2, -10, 122, 18, -4, 0, 0 },
    { 0, 2, -12, 116, 28, -8, 2, 0 },
    { 0, 2, -14, 110, 38, -10, 2, 0 },
    { 0, 2, -14, 102, 48, -12, 2, 0 },
    { 0, 2, -16, 94, 58, -12, 2, 0 },
    { 0, 2, -14, 84, 66, -12, 2, 0 },
    { 0, 2, -14, 76, 76, -14, 2, 0 },
    { 0, 2, -12, 66, 84, -14, 2, 0 },
    { 0, 2, -12, 58, 94, -16, 2, 0 },
    { 0, 2, -12, 48, 102, -14, 2, 0 },
    { 0, 2, -10, 38, 110, -14, 2, 0 },
    { 0, 2, -8, 28, 116, -12, 2, 0 },
    { 0, 0, -4, 18, 122, -10, 2, 0 },
    { 0, 0, -2, 8, 126, -6, 2, 0 }
  },
  {
    { 0, 0, 0, 128, 0, 0, 0, 0 },
    { 0, 2, 28, 62, 34, 2, 0, 0 },
    { 0, 0, 26, 62, 36, 4, 0, 0 },
    { 0, 0, 22, 62, 40, 4, 0, 0 },
    { 0, 0, 20, 60, 42, 6, 0, 0 },
    { 0, 0, 18, 58, 44, 8, 0, 0 },
    { 0, 0, 16, 56, 46, 10, 0, 0 },
    { 0, -2, 16, 54, 48, 12, 0, 0 },
    { 0, -2, 14, 52, 52, 14, -2, 0 },
    { 0, 0, 12, 48, 54, 16, -2, 0 },
    { 0, 0, 10, 46, 56, 16, 0, 0 },
    { 0, 0, 8, 44, 58, 18, 0, 0 },
    { 0, 0, 6, 42, 60, 20, 0, 0 },
    { 0, 0, 4, 40, 62, 22, 0, 0 },
    { 0, 0, 4, 36, 62, 26, 0, 0 },
    { 0, 0, 2, 34, 62, 28, 2, 0 }
  },
  {
    { 0, 0, 0, 128, 0, 0, 0, 0 },
    { -2, 2, -6, 126, 8, -2, 2, 0 },
    { -2, 6, -12, 124, 16, -6, 4, -2 },
    { -2, 8, -18, 120, 26, -10, 6, -2 },
    { -4, 10, -22, 116, 38, -14, 6, -2 },
    { -4, 10, -22, 108, 48, -18, 8, -2 },
    { -4, 10, -24, 100, 60, -20, 8, -2 },
    { -4, 10, -24, 90, 70, -22, 10, -2 },
    { -4, 12, -24, 80, 80, -24, 12, -4 },
    { -2, 10, -22, 70, 90, -24, 10, -4 },
    { -2, 8, -20, 60, 100, -24, 10, -4 },
    { -2, 8, -18, 48, 108, -22, 10, -4 },
    { -2, 6, -14, 38, 116, -22, 10, -4 },
    { -2, 6, -10, 26, 120, -18, 8, -2 },
    { -2, 4, -6, 16, 124, -12, 6, -2 },
    { 0, 2, -2, 8, 126, -6, 2, -2 }
  },
  {
    { 0, 0, 0, 128, 0, 0, 0, 0 },
    { 0, 0, 0, 120, 8, 0, 0, 0 },
    { 0, 0, 0, 112, 16, 0, 0, 0 },
    { 0, 0, 0, 104, 24, 0, 0, 0 },
    { 0, 0, 0, 96, 32, 0, 0, 0 },
    { 0, 0, 0, 88, 40, 0, 0, 0 },
    { 0, 0, 0, 80, 48, 0, 0, 0 },
    { 0, 0, 0, 72, 56, 0, 0, 0 },
    { 0, 0, 0, 64, 64, 0, 0, 0 },
    { 0, 0, 0, 56, 72, 0, 0, 0 },
    { 0, 0, 0, 48, 80, 0, 0, 0 },
    { 0, 0, 0, 40, 88, 0, 0, 0 },
    { 0, 0, 0, 32, 96, 0, 0, 0 },
    { 0, 0, 0, 24, 104, 0, 0, 0 },
    { 0, 0, 0, 16, 112, 0, 0, 0 },
    { 0, 0, 0, 8, 120, 0, 0, 0 }
  },
  {
    { 0, 0, 0, 128, 0, 0, 0, 0 },
    { 0, 0, -4, 126, 8, -2, 0, 0 },
    { 0, 0, -8, 122, 18, -4, 0, 0 },
    { 0, 0, -10, 116, 28, -6, 0, 0 },
    { 0, 0, -12, 110, 38, -8, 0, 0 },
    { 0, 0, -12, 102, 48, -10, 0, 0 },
    { 0, 0, -14, 94, 58, -10, 0, 0 },
    { 0, 0, -12, 84, 66, -10, 0, 0 },
    { 0, 0, -12, 76, 76, -12, 0, 0 },
    { 0, 0, -10, 66, 84, -12, 0, 0 },
    { 0, 0, -10, 58, 94, -14, 0, 0 },
    { 0, 0, -10, 48, 102, -12, 0, 0 },
    { 0, 0, -8, 38, 110, -12, 0, 0 },
    { 0, 0, -6, 28, 116, -10, 0, 0 },
    { 0, 0, -4, 18, 122, -8, 0, 0 },
    { 0, 0, -2, 8, 126, -4, 0, 0 }
  },
  {
    { 0, 0, 0, 128, 0, 0, 0, 0 },
    { 0, 0, 30, 62, 34, 2, 0, 0 },
    { 0, 0, 26, 62, 36, 4, 0, 0 },
    { 0, 0, 22, 62, 40, 4, 0, 0 },
    { 0, 0, 20, 60, 42, 6, 0, 0 },
    { 0, 0, 18, 58, 44, 8, 0, 0 },
    { 0, 0, 16, 56, 46, 10, 0, 0 },
    { 0, 0, 14, 54, 48, 12, 0, 0 },
    { 0, 0, 12, 52, 52, 12, 0, 0 },
    { 0, 0, 12, 48, 54, 14, 0, 0 },
    { 0, 0, 10, 46, 56, 16, 0, 0 },
    { 0, 0, 8, 44, 58, 18, 0, 0 },
    { 0, 0, 6, 42, 60, 20, 0, 0 },
    { 0, 0, 4, 40, 62, 22, 0, 0 },
    { 0, 0, 4, 36, 62, 26, 0, 0 },
    { 0, 0, 2, 34, 62, 30, 0, 0 }
  }
}
</code></pre>
  </li>
</ul>

<p class="alert alert-info"><strong>Note:</strong> All the values in Subpel_Filters are even.
The last two filter types are used for small blocks and only have four filter taps.
The filter at index 4 has a four tap version of the EIGHTTAP filter.
The filter at index 5 has a four tap version of the EIGHTAP_SMOOTH filter.</p>

<h5 id="block-warp-process">Block Warp Process</h5>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>a variable plane,</p>
  </li>
  <li>
    <p>a variable refList specifying that we should predict from
RefFrame[ refList ],</p>
  </li>
  <li>
    <p>variables x and y specifying the location of the top left sample in the
CurrFrame[ plane ] array of the region to be predicted,</p>
  </li>
  <li>
    <p>variables i8 and j8 specifying the offset (in units of 8 samples) relative to the top left sample,</p>
  </li>
  <li>
    <p>variables w and h giving the width and height of the block in units of
samples.</p>
  </li>
</ul>

<p>The output from this process is the 2D array named pred containing warped inter
predicted samples.</p>

<p>The process only updates a section of the pred array.  The size of the updated section is 8x8 samples, clipped to the size of the block.
Variables i8 and j8 give the location of the section to update.</p>

<p>A variable refIdx specifying which reference frame is being used is set equal
to ref_frame_idx[ RefFrame[ refList ] - LAST_FRAME ].</p>

<p>A variable ref specifying the reference frame contents is set equal to
FrameStore[ refIdx ].</p>

<p>The variables subX and subY are set equal to the subsampling for the current
plane as follows:</p>

<ul>
  <li>
    <p>If plane is equal to 0, subX is set equal to 0 and subY is set equal to 0.</p>
  </li>
  <li>
    <p>Otherwise, subX is set equal to subsampling_x and subY is set equal to
   subsampling_y.</p>
  </li>
</ul>

<p>The variable lastX is set equal to ( (RefFrameWidth[ refIdx ] + subX) &gt;&gt;
subX) - 1.</p>

<p>The variable lastY is set equal to ( (RefFrameHeight[ refIdx ] + subY) &gt;&gt;
subY) - 1.</p>

<p>(lastX and lastY specify the coordinates of the bottom right sample of the reference plane.)</p>

<p>The variable srcX is set equal to (j8 * 8 + 4) &lt;&lt; subX.</p>

<p>The variable srcY is set equal to (i8 * 8 + 4) &lt;&lt; subY.</p>

<p>(srcX and srcY specify a location in the luma plane that will be projected using the warp parameters.)</p>

<p>The array warpParams is specified as follows:</p>

<ul>
  <li>
    <p>If motion_mode is equal to LOCALWARP, warpParams is set equal to LocalWarpParams.</p>
  </li>
  <li>
    <p>Otherwise (motion_mode is not equal to LOCALWARP), warpParams is set equal to gm_params[ RefFrame[ refList ] ].</p>
  </li>
</ul>

<p>The variable dstX is set equal to warpParams[2] * srcX + warpParams[3] * srcY + warpParams[0].</p>

<p>The variable dstY is set equal to warpParams[4] * srcX + warpParams[5] * srcY + warpParams[1].</p>

<p>(dstX and dstY specify the destination location in the luma plane using WARPEDMODEL_PREC_BITS bits of precision).</p>

<p>The setup shear process specified in <a href="#setup-shear-process">section 7.7.2.4</a> is invoked with warpParams as input, and the outputs are assigned to alpha, beta, gamma, and delta.</p>

<p>The sub-sample interpolation is effected via two one-dimensional convolutions.
First a horizontal filter is used to build up a temporary array, and then this
array is vertically filtered to obtain the final prediction.</p>

<p>The filtering is applied as follows:</p>

<ul>
  <li>
    <p>The array intermediate is specified as follows:</p>

    <pre><code class="language-c">x4 = dstX &gt;&gt; subX
y4 = dstY &gt;&gt; subY
ix4 = x4 &gt;&gt; WARPEDMODEL_PREC_BITS
sx4 = x4 &amp; ((1 &lt;&lt; WARPEDMODEL_PREC_BITS) - 1)
iy4 = y4 &gt;&gt; WARPEDMODEL_PREC_BITS
sy4 = y4 &amp; ((1 &lt;&lt; WARPEDMODEL_PREC_BITS) - 1)
    
for (k = -7; k &lt; 8; k++) {
    for (l = -4; l &lt; 4; l++) {
        sx = sx4 + alpha * l + beta * k
        offs = Round2(sx, WARPEDDIFF_PREC_BITS) + WARPEDPIXEL_PREC_SHIFTS
        s = 0
        for (m = 0; m &lt; 8; m++) {
            s += Warped_Filters[ offs ][ m ] * 
              ref[ plane ][ Clip3( 0, lastY, iy4 + k ) ]
                          [ Clip3( 0, lastX, ix4 + l - 3 + m ) ]
        }
        intermediate[(k + 7)][(l + 4)] = Round2(s, 7)
    }
}
</code></pre>
  </li>
  <li>
    <p>The array pred is specified as follows:</p>

    <pre><code class="language-c">for (k = -4; k &lt; Min(4, h - i8 * 8 - 4); k++) {
    for (l = -4; l &lt; Min(4, w - j8 * 8 - 4); l++) {
        sy = sy4 + gamma * l + delta * k
        offs = Round2(sy, WARPEDDIFF_PREC_BITS) + WARPEDPIXEL_PREC_SHIFTS
        s = 0
        for (m = 0; m &lt; 8; m++) {
            s += Warped_Filters[offs][m] * 
                 intermediate[(k + m + 4)][(l + 4)]
        }
        pred[ i8 * 8 + k + 4 ][ j8 * 8 + l + 4 ] = s
    }
}
</code></pre>

    <p>where the constant array Warped_Filters is specified as:</p>

    <pre><code class="language-c">Warped_Filters[WARPEDPIXEL_PREC_SHIFTS * 3 + 1][8] = {
    { 0,   0, 127,   1,   0, 0, 0, 0 }, { 0, - 1, 127,   2,   0, 0, 0, 0 },
    { 1, - 3, 127,   4, - 1, 0, 0, 0 }, { 1, - 4, 126,   6, - 2, 1, 0, 0 },
    { 1, - 5, 126,   8, - 3, 1, 0, 0 }, { 1, - 6, 125,  11, - 4, 1, 0, 0 },
    { 1, - 7, 124,  13, - 4, 1, 0, 0 }, { 2, - 8, 123,  15, - 5, 1, 0, 0 },
    { 2, - 9, 122,  18, - 6, 1, 0, 0 }, { 2, -10, 121,  20, - 6, 1, 0, 0 },
    { 2, -11, 120,  22, - 7, 2, 0, 0 }, { 2, -12, 119,  25, - 8, 2, 0, 0 },
    { 3, -13, 117,  27, - 8, 2, 0, 0 }, { 3, -13, 116,  29, - 9, 2, 0, 0 },
    { 3, -14, 114,  32, -10, 3, 0, 0 }, { 3, -15, 113,  35, -10, 2, 0, 0 },
    { 3, -15, 111,  37, -11, 3, 0, 0 }, { 3, -16, 109,  40, -11, 3, 0, 0 },
    { 3, -16, 108,  42, -12, 3, 0, 0 }, { 4, -17, 106,  45, -13, 3, 0, 0 },
    { 4, -17, 104,  47, -13, 3, 0, 0 }, { 4, -17, 102,  50, -14, 3, 0, 0 },
    { 4, -17, 100,  52, -14, 3, 0, 0 }, { 4, -18,  98,  55, -15, 4, 0, 0 },
    { 4, -18,  96,  58, -15, 3, 0, 0 }, { 4, -18,  94,  60, -16, 4, 0, 0 },
    { 4, -18,  91,  63, -16, 4, 0, 0 }, { 4, -18,  89,  65, -16, 4, 0, 0 },
    { 4, -18,  87,  68, -17, 4, 0, 0 }, { 4, -18,  85,  70, -17, 4, 0, 0 },
    { 4, -18,  82,  73, -17, 4, 0, 0 }, { 4, -18,  80,  75, -17, 4, 0, 0 },
    { 4, -18,  78,  78, -18, 4, 0, 0 }, { 4, -17,  75,  80, -18, 4, 0, 0 },
    { 4, -17,  73,  82, -18, 4, 0, 0 }, { 4, -17,  70,  85, -18, 4, 0, 0 },
    { 4, -17,  68,  87, -18, 4, 0, 0 }, { 4, -16,  65,  89, -18, 4, 0, 0 },
    { 4, -16,  63,  91, -18, 4, 0, 0 }, { 4, -16,  60,  94, -18, 4, 0, 0 },
    { 3, -15,  58,  96, -18, 4, 0, 0 }, { 4, -15,  55,  98, -18, 4, 0, 0 },
    { 3, -14,  52, 100, -17, 4, 0, 0 }, { 3, -14,  50, 102, -17, 4, 0, 0 },
    { 3, -13,  47, 104, -17, 4, 0, 0 }, { 3, -13,  45, 106, -17, 4, 0, 0 },
    { 3, -12,  42, 108, -16, 3, 0, 0 }, { 3, -11,  40, 109, -16, 3, 0, 0 },
    { 3, -11,  37, 111, -15, 3, 0, 0 }, { 2, -10,  35, 113, -15, 3, 0, 0 },
    { 3, -10,  32, 114, -14, 3, 0, 0 }, { 2, - 9,  29, 116, -13, 3, 0, 0 },
    { 2, - 8,  27, 117, -13, 3, 0, 0 }, { 2, - 8,  25, 119, -12, 2, 0, 0 },
    { 2, - 7,  22, 120, -11, 2, 0, 0 }, { 1, - 6,  20, 121, -10, 2, 0, 0 },
    { 1, - 6,  18, 122, - 9, 2, 0, 0 }, { 1, - 5,  15, 123, - 8, 2, 0, 0 },
    { 1, - 4,  13, 124, - 7, 1, 0, 0 }, { 1, - 4,  11, 125, - 6, 1, 0, 0 },
    { 1, - 3,   8, 126, - 5, 1, 0, 0 }, { 1, - 2,   6, 126, - 4, 1, 0, 0 },
    { 0, - 1,   4, 127, - 3, 1, 0, 0 }, { 0,   0,   2, 127, - 1, 0, 0, 0 },

    { 0,  0,   0, 127,   1,   0,  0,  0}, { 0,  0,  -1, 127,   2,   0,  0,  0},
    { 0,  1,  -3, 127,   4,  -2,  1,  0}, { 0,  1,  -5, 127,   6,  -2,  1,  0},
    { 0,  2,  -6, 126,   8,  -3,  1,  0}, {-1,  2,  -7, 126,  11,  -4,  2, -1},
    {-1,  3,  -8, 125,  13,  -5,  2, -1}, {-1,  3, -10, 124,  16,  -6,  3, -1},
    {-1,  4, -11, 123,  18,  -7,  3, -1}, {-1,  4, -12, 122,  20,  -7,  3, -1},
    {-1,  4, -13, 121,  23,  -8,  3, -1}, {-2,  5, -14, 120,  25,  -9,  4, -1},
    {-1,  5, -15, 119,  27, -10,  4, -1}, {-1,  5, -16, 118,  30, -11,  4, -1},
    {-2,  6, -17, 116,  33, -12,  5, -1}, {-2,  6, -17, 114,  35, -12,  5, -1},
    {-2,  6, -18, 113,  38, -13,  5, -1}, {-2,  7, -19, 111,  41, -14,  6, -2},
    {-2,  7, -19, 110,  43, -15,  6, -2}, {-2,  7, -20, 108,  46, -15,  6, -2},
    {-2,  7, -20, 106,  49, -16,  6, -2}, {-2,  7, -21, 104,  51, -16,  7, -2},
    {-2,  7, -21, 102,  54, -17,  7, -2}, {-2,  8, -21, 100,  56, -18,  7, -2},
    {-2,  8, -22,  98,  59, -18,  7, -2}, {-2,  8, -22,  96,  62, -19,  7, -2},
    {-2,  8, -22,  94,  64, -19,  7, -2}, {-2,  8, -22,  91,  67, -20,  8, -2},
    {-2,  8, -22,  89,  69, -20,  8, -2}, {-2,  8, -22,  87,  72, -21,  8, -2},
    {-2,  8, -21,  84,  74, -21,  8, -2}, {-2,  8, -22,  82,  77, -21,  8, -2},
    {-2,  8, -21,  79,  79, -21,  8, -2}, {-2,  8, -21,  77,  82, -22,  8, -2},
    {-2,  8, -21,  74,  84, -21,  8, -2}, {-2,  8, -21,  72,  87, -22,  8, -2},
    {-2,  8, -20,  69,  89, -22,  8, -2}, {-2,  8, -20,  67,  91, -22,  8, -2},
    {-2,  7, -19,  64,  94, -22,  8, -2}, {-2,  7, -19,  62,  96, -22,  8, -2},
    {-2,  7, -18,  59,  98, -22,  8, -2}, {-2,  7, -18,  56, 100, -21,  8, -2},
    {-2,  7, -17,  54, 102, -21,  7, -2}, {-2,  7, -16,  51, 104, -21,  7, -2},
    {-2,  6, -16,  49, 106, -20,  7, -2}, {-2,  6, -15,  46, 108, -20,  7, -2},
    {-2,  6, -15,  43, 110, -19,  7, -2}, {-2,  6, -14,  41, 111, -19,  7, -2},
    {-1,  5, -13,  38, 113, -18,  6, -2}, {-1,  5, -12,  35, 114, -17,  6, -2},
    {-1,  5, -12,  33, 116, -17,  6, -2}, {-1,  4, -11,  30, 118, -16,  5, -1},
    {-1,  4, -10,  27, 119, -15,  5, -1}, {-1,  4,  -9,  25, 120, -14,  5, -2},
    {-1,  3,  -8,  23, 121, -13,  4, -1}, {-1,  3,  -7,  20, 122, -12,  4, -1},
    {-1,  3,  -7,  18, 123, -11,  4, -1}, {-1,  3,  -6,  16, 124, -10,  3, -1},
    {-1,  2,  -5,  13, 125,  -8,  3, -1}, {-1,  2,  -4,  11, 126,  -7,  2, -1},
    { 0,  1,  -3,   8, 126,  -6,  2,  0}, { 0,  1,  -2,   6, 127,  -5,  1,  0},
    { 0,  1,  -2,   4, 127,  -3,  1,  0}, { 0,  0,   0,   2, 127,  -1,  0,  0},

    { 0, 0, 0,   1, 127,   0,   0, 0 }, { 0, 0, 0, - 1, 127,   2,   0, 0 },
    { 0, 0, 1, - 3, 127,   4, - 1, 0 }, { 0, 0, 1, - 4, 126,   6, - 2, 1 },
    { 0, 0, 1, - 5, 126,   8, - 3, 1 }, { 0, 0, 1, - 6, 125,  11, - 4, 1 },
    { 0, 0, 1, - 7, 124,  13, - 4, 1 }, { 0, 0, 2, - 8, 123,  15, - 5, 1 },
    { 0, 0, 2, - 9, 122,  18, - 6, 1 }, { 0, 0, 2, -10, 121,  20, - 6, 1 },
    { 0, 0, 2, -11, 120,  22, - 7, 2 }, { 0, 0, 2, -12, 119,  25, - 8, 2 },
    { 0, 0, 3, -13, 117,  27, - 8, 2 }, { 0, 0, 3, -13, 116,  29, - 9, 2 },
    { 0, 0, 3, -14, 114,  32, -10, 3 }, { 0, 0, 3, -15, 113,  35, -10, 2 },
    { 0, 0, 3, -15, 111,  37, -11, 3 }, { 0, 0, 3, -16, 109,  40, -11, 3 },
    { 0, 0, 3, -16, 108,  42, -12, 3 }, { 0, 0, 4, -17, 106,  45, -13, 3 },
    { 0, 0, 4, -17, 104,  47, -13, 3 }, { 0, 0, 4, -17, 102,  50, -14, 3 },
    { 0, 0, 4, -17, 100,  52, -14, 3 }, { 0, 0, 4, -18,  98,  55, -15, 4 },
    { 0, 0, 4, -18,  96,  58, -15, 3 }, { 0, 0, 4, -18,  94,  60, -16, 4 },
    { 0, 0, 4, -18,  91,  63, -16, 4 }, { 0, 0, 4, -18,  89,  65, -16, 4 },
    { 0, 0, 4, -18,  87,  68, -17, 4 }, { 0, 0, 4, -18,  85,  70, -17, 4 },
    { 0, 0, 4, -18,  82,  73, -17, 4 }, { 0, 0, 4, -18,  80,  75, -17, 4 },
    { 0, 0, 4, -18,  78,  78, -18, 4 }, { 0, 0, 4, -17,  75,  80, -18, 4 },
    { 0, 0, 4, -17,  73,  82, -18, 4 }, { 0, 0, 4, -17,  70,  85, -18, 4 },
    { 0, 0, 4, -17,  68,  87, -18, 4 }, { 0, 0, 4, -16,  65,  89, -18, 4 },
    { 0, 0, 4, -16,  63,  91, -18, 4 }, { 0, 0, 4, -16,  60,  94, -18, 4 },
    { 0, 0, 3, -15,  58,  96, -18, 4 }, { 0, 0, 4, -15,  55,  98, -18, 4 },
    { 0, 0, 3, -14,  52, 100, -17, 4 }, { 0, 0, 3, -14,  50, 102, -17, 4 },
    { 0, 0, 3, -13,  47, 104, -17, 4 }, { 0, 0, 3, -13,  45, 106, -17, 4 },
    { 0, 0, 3, -12,  42, 108, -16, 3 }, { 0, 0, 3, -11,  40, 109, -16, 3 },
    { 0, 0, 3, -11,  37, 111, -15, 3 }, { 0, 0, 2, -10,  35, 113, -15, 3 },
    { 0, 0, 3, -10,  32, 114, -14, 3 }, { 0, 0, 2, - 9,  29, 116, -13, 3 },
    { 0, 0, 2, - 8,  27, 117, -13, 3 }, { 0, 0, 2, - 8,  25, 119, -12, 2 },
    { 0, 0, 2, - 7,  22, 120, -11, 2 }, { 0, 0, 1, - 6,  20, 121, -10, 2 },
    { 0, 0, 1, - 6,  18, 122, - 9, 2 }, { 0, 0, 1, - 5,  15, 123, - 8, 2 },
    { 0, 0, 1, - 4,  13, 124, - 7, 1 }, { 0, 0, 1, - 4,  11, 125, - 6, 1 },
    { 0, 0, 1, - 3,   8, 126, - 5, 1 }, { 0, 0, 1, - 2,   6, 126, - 4, 1 },
    { 0, 0, 0, - 1,   4, 127, - 3, 1 }, { 0, 0, 0,   0,   2, 127, - 1, 0 },
        
    { 0, 0, 0,   0,   2, 127, - 1, 0 }
}
</code></pre>
  </li>
</ul>

<h5 id="setup-shear-process">Setup Shear Process</h5>

<p>The input for this process is an array warpParams representing an affine transformation.</p>

<p>The outputs from this process are variables alpha, beta, gamma, delta representing two shearing operations that combine to make the full affine transformation.</p>

<p>The variable alpha0 is set equal to Clip3( -32768, 32767, warpParams[ 2 ] - (1 &lt;&lt; WARPEDMODEL_PREC_BITS) ).</p>

<p>The variable beta0 is set equal to Clip3( -32768, 32767, warpParams[ 3 ] ).</p>

<p>The resolve divisor process specified in <a href="#resolve-divisor-process">section 7.7.2.5</a> is invoked with warpParams[ 2 ] as input, and the outputs assigned to divShift and divFactor.</p>

<p>The variable v is set equal to ( warpParams[ 4 ] &lt;&lt; WARPEDMODEL_PREC_BITS ).</p>

<p>The variable gamma0 is set equal to Clip3( -32768, 32767, Round2Signed( v * divFactor, divShift ) ).</p>

<p>The variable w is set equal to ( warpParams[ 3 ] * warpParams[ 4 ] ).</p>

<p>The variable delta0 is set equal to Clip3( -32768, 32767, warpParams[ 5 ] - Round2Signed( w * divFactor, divShift ) - (1 &lt;&lt; WARPEDMODEL_PREC_BITS) ).</p>

<p>It is a requirement of bitstream conformance that 4 * Abs( alpha0 ) + 7 * Abs( beta0 ) is less than (1 &lt;&lt; WARPEDMODEL_PREC_BITS).</p>

<p>It is a requirement of bitstream conformance that 4 * Abs( gamma0 ) + 4 * Abs( delta0 ) is less than (1 &lt;&lt; WARPEDMODEL_PREC_BITS).</p>

<p>The output variables are set as follows:</p>

<pre><code class="language-c">alpha = Round2Signed( alpha0, WARP_PARAM_REDUCE_BITS ) &lt;&lt; WARP_PARAM_REDUCE_BITS
beta = Round2Signed( beta0, WARP_PARAM_REDUCE_BITS ) &lt;&lt; WARP_PARAM_REDUCE_BITS
gamma = Round2Signed( gamma0, WARP_PARAM_REDUCE_BITS ) &lt;&lt; WARP_PARAM_REDUCE_BITS
delta = Round2Signed( delta0, WARP_PARAM_REDUCE_BITS ) &lt;&lt; WARP_PARAM_REDUCE_BITS
</code></pre>

<h5 id="resolve-divisor-process">Resolve Divisor Process</h5>

<p>The input for this process is a variable d.</p>

<p>The outputs for this process are variables divShift and divFactor that can be used to perform an approximate division by d via multiplying by divFactor and shifting right by divShift.</p>

<p>The variable n (representing the location of the most signficant bit in Abs(d) ) is set equal to floor( log2( Abs(d) ) ).</p>

<p>The variable e is set equal to Abs( d ) - ( 1 &lt;&lt; n ).</p>

<p>The variable f is set as follows:</p>

<ul>
  <li>
    <p>If n &gt; DIV_LUT_BITS, f is set equal to Round2( e, n - DIV_LUT_BITS ).</p>
  </li>
  <li>
    <p>Otherwise, f is set equal to e &lt;&lt; ( DIV_LUT_BITS - n ).</p>
  </li>
</ul>

<p>The output variable divShift is set equal to ( n + DIV_LUT_PREC_BITS ).</p>

<p>The output variable divFactor is set as follows:</p>

<ul>
  <li>
    <p>If d is less than 0, divFactor is set equal to -Div_Lut[ f ].</p>
  </li>
  <li>
    <p>Otherwise, divFactor is set equal to Div_Lut[ f ].</p>
  </li>
</ul>

<p>The lookup table Div_Lut is specified as:</p>

<pre><code class="language-c">Div_Lut[DIV_LUT_NUM] = {
  16384, 16320, 16257, 16194, 16132, 16070, 16009, 15948, 15888, 15828, 15768,
  15709, 15650, 15592, 15534, 15477, 15420, 15364, 15308, 15252, 15197, 15142,
  15087, 15033, 14980, 14926, 14873, 14821, 14769, 14717, 14665, 14614, 14564,
  14513, 14463, 14413, 14364, 14315, 14266, 14218, 14170, 14122, 14075, 14028,
  13981, 13935, 13888, 13843, 13797, 13752, 13707, 13662, 13618, 13574, 13530,
  13487, 13443, 13400, 13358, 13315, 13273, 13231, 13190, 13148, 13107, 13066,
  13026, 12985, 12945, 12906, 12866, 12827, 12788, 12749, 12710, 12672, 12633,
  12596, 12558, 12520, 12483, 12446, 12409, 12373, 12336, 12300, 12264, 12228,
  12193, 12157, 12122, 12087, 12053, 12018, 11984, 11950, 11916, 11882, 11848,
  11815, 11782, 11749, 11716, 11683, 11651, 11619, 11586, 11555, 11523, 11491,
  11460, 11429, 11398, 11367, 11336, 11305, 11275, 11245, 11215, 11185, 11155,
  11125, 11096, 11067, 11038, 11009, 10980, 10951, 10923, 10894, 10866, 10838,
  10810, 10782, 10755, 10727, 10700, 10673, 10645, 10618, 10592, 10565, 10538,
  10512, 10486, 10460, 10434, 10408, 10382, 10356, 10331, 10305, 10280, 10255,
  10230, 10205, 10180, 10156, 10131, 10107, 10082, 10058, 10034, 10010, 9986,
  9963,  9939,  9916,  9892,  9869,  9846,  9823,  9800,  9777,  9754,  9732,
  9709,  9687,  9664,  9642,  9620,  9598,  9576,  9554,  9533,  9511,  9489,
  9468,  9447,  9425,  9404,  9383,  9362,  9341,  9321,  9300,  9279,  9259,
  9239,  9218,  9198,  9178,  9158,  9138,  9118,  9098,  9079,  9059,  9039,
  9020,  9001,  8981,  8962,  8943,  8924,  8905,  8886,  8867,  8849,  8830,
  8812,  8793,  8775,  8756,  8738,  8720,  8702,  8684,  8666,  8648,  8630,
  8613,  8595,  8577,  8560,  8542,  8525,  8508,  8490,  8473,  8456,  8439,
  8422,  8405,  8389,  8372,  8355,  8339,  8322,  8306,  8289,  8273,  8257,
  8240,  8224,  8208,  8192
}
</code></pre>

<h5 id="warp-estimation-process">Warp Estimation Process</h5>

<p>This process produces the array LocalWarpParams based on NumSamples candidates in CandList by performing a least squares fit.</p>

<p>A 2x2 matrix A, and two length 2 arrays Bx and By are constructed as follows:</p>

<pre><code class="language-c">for (i = 0; i &lt; 2; i++) {
    for (j = 0; j &lt; 2; j++) {
        A[i][j] = 0
    }
    Bx[i] = 0
    By[i] = 0
}
w4 = Num_4x4_Blocks_Wide[MiSize]
h4 = Num_4x4_Blocks_High[MiSize]
midY = MiRow * 4 + h4 * 2 - 1
midX = MiCol * 4 + w4 * 2 - 1
suy = midY * 8
sux = midX * 8
duy = suy + Mv[0][0]
dux = sux + Mv[0][1]
n = 0
for (i = 0; i &lt; NumSamples; i++) {
    sy = CandList[i][0] - suy + 1
    sx = CandList[i][1] - sux + 1
    dy = CandList[i][2] - duy + 1
    dx = CandList[i][3] - dux + 1
    if (Abs(sx - dx) &lt; LS_MV_MAX &amp;&amp; Abs(sy - dy) &lt; LS_MV_MAX) {
        A[0][0] += sx * sx + 1
        A[0][1] += sx * sy
        A[1][1] += sy * sy + 1
        Bx[0] += sx * dx + 1
        Bx[1] += sy * dx
        By[0] += sx * dy
        By[1] += sy * dy + 1
        n += 1
    }
}
if (n &gt;= 4)
    downshift = LS_MAT_DOWN_BITS
else if (n &gt;= 2)
    downshift = LS_MAT_DOWN_BITS - 1
else
    downshift = LS_MAT_DOWN_BITS - 2
for (i = 0; i &lt; 2; i++) {
    for (j = 0; j &lt; 2; j++) {
        A[i][j] = Clip3(LS_MAT_MIN, LS_MAT_MAX, Round2Signed(A[i][j], downshift))
    }
    Bx[i] = Clip3(LS_MAT_MIN, LS_MAT_MAX, Round2Signed(Bx[i], downshift))
    By[i] = Clip3(LS_MAT_MIN, LS_MAT_MAX, Round2Signed(By[i], downshift))
}
</code></pre>

<p class="alert alert-info"><strong>Note:</strong> The matrix A is symmetric so entry A[1][0] is omitted.</p>

<p class="alert alert-info"><strong>Note:</strong> The addition of 1 in certain places in this code has the effect of
treating each candidate as providing four closely samples. This helps to
regularize the solution.</p>

<p>The variable det (containing the determinant of the matrix A) is set equal to A[0][0] * A[1][1] - A[0][1] * A[0][1].</p>

<p>It is a requirement of bitstream conformance that det is not equal to 0.</p>

<p>The resolve divisor process specified in <a href="#resolve-divisor-process">section 7.7.2.5</a> is invoked with det as input, and the outputs assigned to divShift and divFactor.</p>

<p>The local warp parameters in LocalWarpParams are derived as follows:</p>

<pre><code class="language-c">    divShift -= WARPEDMODEL_PREC_BITS
    if (divShift &lt; 0) {
        divFactor = divFactor &lt;&lt; (-divShift)
        divShift = 0
    }
    LocalWarpParams[2] = diag(     A[1][1] * Bx[0] - A[0][1] * Bx[1])
    LocalWarpParams[3] = nondiag( -A[0][1] * Bx[0] + A[0][0] * Bx[1])
    LocalWarpParams[4] = nondiag(  A[1][1] * By[0] - A[0][1] * By[1])
    LocalWarpParams[5] = diag(    -A[0][1] * By[0] + A[0][0] * By[1])

    mvx = Mv[ 0 ][ 1 ]
    mvy = Mv[ 0 ][ 0 ]
    vx = mvx * (1 &lt;&lt; (WARPEDMODEL_PREC_BITS - 3)) -
         (midX * (LocalWarpParams[2] - (1 &lt;&lt; WARPEDMODEL_PREC_BITS)) + midY * LocalWarpParams[3])
    vy = mvy * (1 &lt;&lt; (WARPEDMODEL_PREC_BITS - 3)) -
         (midX * LocalWarpParams[4] + midY * (LocalWarpParams[5] - (1 &lt;&lt; WARPEDMODEL_PREC_BITS)))
    LocalWarpParams[0] = Clip3(-WARPEDMODEL_TRANS_CLAMP, WARPEDMODEL_TRANS_CLAMP - 1, vx)
    LocalWarpParams[1] = Clip3(-WARPEDMODEL_TRANS_CLAMP, WARPEDMODEL_TRANS_CLAMP - 1, vy)
</code></pre>

<p>where diag and nondiag are specified to divide and clamp using divFactor and divShift as follows:</p>

<pre><code class="language-c">nondiag(v) {
    return Clip3(-WARPEDMODEL_NONDIAGAFFINE_CLAMP + 1,
                  WARPEDMODEL_NONDIAGAFFINE_CLAMP - 1,
                  Round2Signed(v * divFactor, divShift))
}

diag(v) {
    return Clip3((1 &lt;&lt; WARPEDMODEL_PREC_BITS) - WARPEDMODEL_NONDIAGAFFINE_CLAMP + 1,
                 (1 &lt;&lt; WARPEDMODEL_PREC_BITS) + WARPEDMODEL_NONDIAGAFFINE_CLAMP - 1,
                 Round2Signed(v * divFactor, divShift))
}
</code></pre>

<h5 id="overlapped-motion-compensation-process">Overlapped Motion Compensation Process</h5>

<p>The inputs
to this process are:</p>

<ul>
  <li>
    <p>a variable plane specifying which plane is being predicted,</p>
  </li>
  <li>
    <p>variables x and y specifying the location of the top left sample in the
CurrFrame[ plane ] array of the region to be predicted,</p>
  </li>
  <li>
    <p>variables w and h specifying the width and height of the region to be
predicted.</p>
  </li>
</ul>

<p>The outputs of this process are modified inter
predicted samples in the current frame CurrFrame.</p>

<p>This process blends the inter predicted samples for the current block with inter predicted samples
based on motion vectors from the above and left blocks.</p>

<p>The maximum number of overlapped predictions is limited based on the size of the block.</p>

<p>For small blocks, only the left neighbour will be used to form the prediction.</p>

<p>The variables subX and subY describing the subsampling of the current plane
are derived as follows:</p>

<ul>
  <li>
    <p>If plane is equal to 0, subX and subY are set equal to 0.</p>
  </li>
  <li>
    <p>Otherwise (plane is not equal to 0), subX is set equal to subsampling_x
and subY is set equal to subsampling_y.</p>
  </li>
</ul>

<p>The process is specified as:</p>

<pre><code class="language-c">if ( AvailU ) {
    if ( get_plane_residual_size( MiSize, plane ) &gt;= BLOCK_8X8 ) {
        pass = 0
        w4 = Num_4x4_Blocks_Wide[ MiSize ]
        x4 = MiCol
        y4 = MiRow
        nCount = 0
        nLimit = Min(4, Mi_Width_Log2[ MiSize ])
        while ( nCount &lt; nLimit &amp;&amp; x4 &lt; Min( MiCols, MiCol + w4 ) ) {
            candRow = MiRow - 1
            candCol = x4 | 1
            candSz = MiSizes[ candRow ][ candCol ]
            step4 = Max(2, Num_4x4_Blocks_Wide[ candSz ])
            if ( RefFrames[ candRow ][ candCol ][ 0 ] &gt; INTRA_FRAME ) {
                nCount += 1
                predW = Min( w, ( step4 * MI_SIZE ) &gt;&gt; subX )
                predH = Min( h &gt;&gt; 1, 32 &gt;&gt; subY )
                mask = get_obmc_mask( predH )
                predict_overlap( )
            }
            x4 += step4
        }
    }
}
if ( AvailL ) {
    pass = 1
    h4 = Num_4x4_Blocks_High[ MiSize ]
    x4 = MiCol
    y4 = MiRow
    nCount = 0
    nLimit = Min(4, Mi_Height_Log2[ MiSize ])
    while ( nCount &lt; nLimit &amp;&amp; y4 &lt; Min( MiRows, MiRow + h4 ) ) {
        candCol = MiCol - 1
        candRow = y4 | 1
        candSz = MiSizes[ candRow ][ candCol ]
        step4 = Max(2, Num_4x4_Blocks_High[ candSz ])
        if ( RefFrames[ candRow ][ candCol ][ 0 ] &gt; INTRA_FRAME ) {
            nCount += 1
            predW = Min( w &gt;&gt; 1, 32 &gt;&gt; subX )
            predH = Min( h, ( step4 * MI_SIZE ) &gt;&gt; subY )
            mask = get_obmc_mask( predW )
            predict_overlap( )
        }
        y4 += step4
    }
}
</code></pre>

<p>When the function predict_overlap is invoked, the following ordered steps apply to form the overlap prediction for a region of size predW by predH based on the candidate motion vector:</p>

<ol>
  <li>
    <p>The motion vector mv is set equal to Mvs[ candRow ][ candCol ][ 0 ].</p>
  </li>
  <li>
    <p>The variable refIdx is set equal to ref_frame_idx[ RefFrames[ candRow ][ candCol ][ 0 ] - LAST_FRAME ].</p>
  </li>
  <li>
    <p>The variable predX is set equal to (x4 * 4) &gt;&gt; subX.</p>
  </li>
  <li>
    <p>The variable predY is set equal to (y4 * 4) &gt;&gt; subY.</p>
  </li>
  <li>
    <p>The motion vector scaling process in <a href="#motion-vector-scaling-process">section 7.7.2.1</a> is invoked with
plane, refIdx, predX, predY, mv as inputs and the output being the
initial location startX, startY, and the step sizes stepX, stepY.</p>
  </li>
  <li>
    <p>The block inter prediction process in <a href="#block-inter-prediction-process">section 7.7.2.2</a> is invoked with
plane, refIdx, startX, startY, stepX, stepY, predW, predH, candRow, candCol as inputs and the
output is assigned to the 2D array obmcPred.</p>
  </li>
  <li>
    <p>obmcPred[ i ][ j ] is set equal to Clip1( Round2( obmcPred[ i ][ j ], 9) ) for i = 0..predH-1 and j = 0..predW-1.</p>
  </li>
  <li>
    <p>The blending process in <a href="#overlap-blending-process">section 7.7.2.8</a> is invoked with plane, predX, predY, predW, predH, pass, obmcPred, and mask as inputs.</p>
  </li>
</ol>

<p>The function get_obmc_mask returns a blending mask as follows:</p>

<pre><code class="language-c">get_obmc_mask( length ) {
    if (length == 1) {
        return Obmc_Mask_1
    } else if (length == 2) {
        return Obmc_Mask_2
    } else if (length == 4) {
        return Obmc_Mask_4
    } else if (length == 8) {
        return Obmc_Mask_8
    } else if (length == 16) {
        return Obmc_Mask_16
    } else if (length == 32) {
        return Obmc_Mask_32
    }
}
</code></pre>

<p>The blending masks are defined as follows:</p>

<pre><code class="language-c">Obmc_Mask_1[1] = { 64 }

Obmc_Mask_2[2] = { 45, 64 }

Obmc_Mask_4[4] = { 39, 50, 59, 64 }

Obmc_Mask_8[8] = { 36, 42, 48, 53, 57, 61, 64, 64 }

Obmc_Mask_16[16] = { 34, 37, 40, 43, 46, 49, 52, 54,
                     56, 58, 60, 61, 64, 64, 64, 64 }

Obmc_Mask_32[32] = { 33, 35, 36, 38, 40, 41, 43, 44,
                     45, 47, 48, 50, 51, 52, 53, 55,
                     56, 57, 58, 59, 60, 60, 61, 62,
                     64, 64, 64, 64, 64, 64, 64, 64 }
</code></pre>

<h5 id="overlap-blending-process">Overlap Blending Process</h5>

<p>The inputs
to this process are:</p>

<ul>
  <li>
    <p>a variable plane specifying which plane is being predicted,</p>
  </li>
  <li>
    <p>variables predX and predY specifying the location of the top left sample in the
CurrFrame[ plane ] array of the region to be predicted,</p>
  </li>
  <li>
    <p>variables predW and predH specifying the width and height of the region to be
predicted,</p>
  </li>
  <li>
    <p>a variable pass equal to 0 if blending above samples, or equal to 1 if blending left samples,</p>
  </li>
  <li>
    <p>a 2d array obmcPred containing the samples predicted from a neighbouring motion vector,</p>
  </li>
  <li>
    <p>an array mask containing the blending weights.</p>
  </li>
</ul>

<p>The outputs of this process are modified inter
predicted samples in the current frame CurrFrame.</p>

<p>For i = 0..(predH - 1) and j = 0..(predW - 1), the following ordered steps apply:</p>

<ol>
  <li>
    <p>The variable m specifying the blending factor is specifed as follows:</p>

    <ul>
      <li>
        <p>If pass is equal to 0 (blend from above), m is set equal to mask[ i ].</p>
      </li>
      <li>
        <p>Otherwise (pass is equal to 0 meaning blend from left), m is set equal to mask[ j ].</p>
      </li>
    </ul>
  </li>
  <li>
    <p>CurrFrame[ plane ][ predY + i ][ predX + j ] is set equal to
    Round2( m * CurrFrame[ plane ][ predY + i ][ predX + j ] + (64 - m) * obmcPred[ i ][ j ], 6)</p>
  </li>
</ol>

<h5 id="wedge-mask-process">Wedge Mask Process</h5>

<p>The input to this process is:</p>

<ul>
  <li>variables w and h specifying the width and height of the region to be
  predicted.</li>
</ul>

<p>This process sets up a mask array for the luma samples.</p>

<p>The mask is specified as:</p>

<pre><code class="language-c">for (i = 0; i &lt; h; i++) {
    for (j = 0; j &lt; w; j++) {
        Mask[ i ][ j ] = WedgeMasks[ MiSize ][ wedge_sign ][ wedge_index ][ i ][ j ]
    }
}
</code></pre>

<p>where WedgeMasks is a fixed lookup table that is specified as:</p>

<pre><code class="language-c">w = MASK_MASTER_SIZE
h = MASK_MASTER_SIZE
for (j = 0; j &lt; w; j ++) {
    shift = MASK_MASTER_SIZE / 4
    for (i = 0; i &lt; h; i += 2) {
        MasterMask[ WEDGE_OBLIQUE63 ][ i ][ j ] = Wedge_Master_Oblique_Even[ Clip3( 0, MASK_MASTER_SIZE - 1, j - shift ) ]
        shift -= 1
        MasterMask[ WEDGE_OBLIQUE63 ][ i + 1][ j ] = Wedge_Master_Oblique_Even[ Clip3( 0, MASK_MASTER_SIZE - 1, j - shift ) ]
        MasterMask[ WEDGE_VERTICAL ][ i ][ j ] = Wedge_Master_Vertical[ j ]
        MasterMask[ WEDGE_VERTICAL ][ i + 1 ][ j ] = Wedge_Master_Vertical[ j ]
    }
}
for (i = 0; i &lt; h; i++) {
    for (j = 0; j &lt; w; j++) {
      msk = MasterMask[WEDGE_OBLIQUE63][ i ][ j ]
      MasterMask[WEDGE_OBLIQUE27][j  ][ i ] = msk
      MasterMask[WEDGE_OBLIQUE117][ i ][ w - 1 - j ] = 64 - msk
      MasterMask[WEDGE_OBLIQUE153][ w - 1 - j ][ i ] = 64 - msk
      MasterMask[WEDGE_HORIZONTAL][ j ][ i ] = MasterMask[WEDGE_VERTICAL][ i ][ j ]
    }
}
for (bsize = BLOCK_8X8; bsize &lt; BLOCK_SIZES; bsize++) {
    if ( Wedge_Bits[ bsize ] &gt; 0 ) {
        w = Block_Width[ MiSize ]
        h = Block_Height[ MiSize ]
        for (wedge = 0; wedge &lt; WEDGE_TYPES; wedge++) {
            dir = get_wedge_direction(bsize, wedge)
            xoff = MASK_MASTER_SIZE / 2 - ((get_wedge_xoff(bsize, wedge) * w) &gt;&gt; 3)
            yoff = MASK_MASTER_SIZE / 2 - ((get_wedge_yoff(bsize, wedge) * h) &gt;&gt; 3)
            sum = 0
            for (i = 0; i &lt; w; i++)
              sum += MasterMask[dir][ yoff ][ xoff+i ]
            for (i = 1; i &lt; h; i++)
              sum += MasterMask[dir][ yoff+i ][ xoff ]
            avg = (sum + (w + h - 1) / 2) / (w + h - 1)
            flipSign = (avg &lt; 32)
            for (i = 0; i &lt; h; i++) {
                for (j = 0; j &lt; w; j++) {
                  WedgeMasks[bsize][flipSign][wedge][ i ][ j ] = MasterMask[ dir ][ yoff+i ][ xoff+j ]
                  WedgeMasks[bsize][!flipSign][wedge][ i ][ j ] = 64 - MasterMask[ dir ][ yoff+i ][ xoff+j ]
                }
            }
        }
    }
}
</code></pre>

<p>The 1d lookup tables are defined as:</p>

<pre><code class="language-c">Wedge_Master_Oblique_Odd[MASK_MASTER_SIZE] = {
  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  1,  2,  6,  18,
  37, 53, 60, 63, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64,
  64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64
}

Wedge_Master_Oblique_Even[MASK_MASTER_SIZE] = {
  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  1,  4,  11, 27,
  46, 58, 62, 63, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64,
  64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64
}

Wedge_Master_Vertical[MASK_MASTER_SIZE] = {
  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  2,  7,  21,
  43, 57, 62, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64,
  64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64
}
</code></pre>

<p>The get_wedge functions are defined as:</p>

<pre><code class="language-c">block_shape(bsize) {
  w4 = Num_4x4_Blocks_Wide[bsize]
  h4 = Num_4x4_Blocks_High[bsize]
  if (h4 &gt; w4)
      return 0
  else if (h4 &lt; w4)
      return 1
  else
      return 2
}

get_wedge_direction(bsize, index) {
  return Wedge_Codebook[block_shape(bsize)][index][0]
}

get_wedge_xoff(bsize, index) {
  return Wedge_Codebook[block_shape(bsize)][index][1]
}

get_wedge_yoff(bsize, index) {
  return Wedge_Codebook[block_shape(bsize)][index][2]
}

Wedge_Codebook[3][16][3] = {
    {
        { WEDGE_OBLIQUE27, 4, 4 },  { WEDGE_OBLIQUE63, 4, 4 },
        { WEDGE_OBLIQUE117, 4, 4 }, { WEDGE_OBLIQUE153, 4, 4 },
        { WEDGE_HORIZONTAL, 4, 2 }, { WEDGE_HORIZONTAL, 4, 4 },
        { WEDGE_HORIZONTAL, 4, 6 }, { WEDGE_VERTICAL, 4, 4 },
        { WEDGE_OBLIQUE27, 4, 2 },  { WEDGE_OBLIQUE27, 4, 6 },
        { WEDGE_OBLIQUE153, 4, 2 }, { WEDGE_OBLIQUE153, 4, 6 },
        { WEDGE_OBLIQUE63, 2, 4 },  { WEDGE_OBLIQUE63, 6, 4 },
        { WEDGE_OBLIQUE117, 2, 4 }, { WEDGE_OBLIQUE117, 6, 4 },
    },
    {
        { WEDGE_OBLIQUE27, 4, 4 },  { WEDGE_OBLIQUE63, 4, 4 },
        { WEDGE_OBLIQUE117, 4, 4 }, { WEDGE_OBLIQUE153, 4, 4 },
        { WEDGE_VERTICAL, 2, 4 },   { WEDGE_VERTICAL, 4, 4 },
        { WEDGE_VERTICAL, 6, 4 },   { WEDGE_HORIZONTAL, 4, 4 },
        { WEDGE_OBLIQUE27, 4, 2 },  { WEDGE_OBLIQUE27, 4, 6 },
        { WEDGE_OBLIQUE153, 4, 2 }, { WEDGE_OBLIQUE153, 4, 6 },
        { WEDGE_OBLIQUE63, 2, 4 },  { WEDGE_OBLIQUE63, 6, 4 },
        { WEDGE_OBLIQUE117, 2, 4 }, { WEDGE_OBLIQUE117, 6, 4 },
    },
    {
        { WEDGE_OBLIQUE27, 4, 4 },  { WEDGE_OBLIQUE63, 4, 4 },
        { WEDGE_OBLIQUE117, 4, 4 }, { WEDGE_OBLIQUE153, 4, 4 },
        { WEDGE_HORIZONTAL, 4, 2 }, { WEDGE_HORIZONTAL, 4, 6 },
        { WEDGE_VERTICAL, 2, 4 },   { WEDGE_VERTICAL, 6, 4 },
        { WEDGE_OBLIQUE27, 4, 2 },  { WEDGE_OBLIQUE27, 4, 6 },
        { WEDGE_OBLIQUE153, 4, 2 }, { WEDGE_OBLIQUE153, 4, 6 },
        { WEDGE_OBLIQUE63, 2, 4 },  { WEDGE_OBLIQUE63, 6, 4 },
        { WEDGE_OBLIQUE117, 2, 4 }, { WEDGE_OBLIQUE117, 6, 4 },
    }
}
</code></pre>

<h5 id="segment-mask-process">Segment Mask Process</h5>

<p>The input to this process is:</p>

<ul>
  <li>
    <p>an array preds containing the predicted samples,</p>
  </li>
  <li>
    <p>variables w and h specifying the width and height of the region to be
  predicted.</p>
  </li>
</ul>

<p>This process prepares an array Mask containing the blending weights for the luma samples.</p>

<p>The process sets the array based on the difference between the two predictions as follows:</p>

<pre><code class="language-c">for (i = 0; i &lt; h; i++) {
    for (j = 0; j &lt; w; j++) {
        diff = Abs(preds[ 0 ][ i ][ j ] - preds[ 1 ][ i ][ j ])
        diff = Round2(diff, (BitDepth - 8) + 9)
        m = Clip3(0, 64, 38 + diff / 16)
        if (mask_type)
            Mask[ i ][ j ] = 64 - m
        else
            Mask[ i ][ j ] = m

    }
}
</code></pre>

<h5 id="inter-intra-mask-process">Inter Intra Mask Process</h5>

<p>The input to this process is:</p>

<ul>
  <li>
    <p>a variable plane specifying which plane is being predicted,</p>
  </li>
  <li>
    <p>variables x and y specifying the location of the top left sample in the
CurrFrame[ plane ] array of the region to be predicted,</p>
  </li>
  <li>
    <p>variables w and h specifying the width and height of the region to be
predicted.</p>
  </li>
</ul>

<p>This process prepares an array Mask containing the blending weights for the luma samples.</p>

<p>The process sets the array based on the mode used for intra prediction as follows:</p>

<pre><code class="language-c">sizeScale = MAX_SB_SIZE / Max( h, w )
for (i = 0; i &lt; h; i++) {
    for (j = 0; j &lt; w; j++) {
        if (interintra_mode == II_V_PRED) {
            Mask[ i ][ j ] = Ii_Weights_1d[ i * sizeScale ]
        } else if (interintra_mode == II_H_PRED) {
            Mask[ i ][ j ] = Ii_Weights_1d[ j * sizeScale ]
        } else if (interintra_mode == II_SMOOTH_PRED) {
            Mask[ i ][ j ] = Ii_Weights_1d[ Min(i, j) * sizeScale ]
        } else {
            Mask[ i ][ j ] = 32
        }
    }
}
</code></pre>

<p>where the table Ii_Weights_1d is defined as:</p>

<pre><code class="language-c">Ii_Weights_1d[MAX_SB_SIZE] = {
  60, 58, 56, 54, 52, 50, 48, 47, 45, 44, 42, 41, 39, 38, 37, 35, 34, 33, 32,
  31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 22, 21, 20, 19, 19, 18, 18, 17, 16,
  16, 15, 15, 14, 14, 13, 13, 12, 12, 12, 11, 11, 10, 10, 10,  9,  9,  9,  8,
  8,  8,  8,  7,  7,  7,  7,  6,  6,  6,  6,  6,  5,  5,  5,  5,  5,  4,  4,
  4,  4,  4,  4,  4,  4,  3,  3,  3,  3,  3,  3,  3,  3,  3,  2,  2,  2,  2,
  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  2,  1,  1,  1,  1,  1,  1,  1,  1,
  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1
}
</code></pre>

<h5 id="mask-blend-process">Mask Blend Process</h5>

<p>The inputs to this process are</p>

<ul>
  <li>
    <p>an array preds containing the predicted samples,</p>
  </li>
  <li>
    <p>a variable plane specifying which plane is being predicted,</p>
  </li>
  <li>
    <p>variables dstX and dstY specifying the location of the top left sample in the
CurrFrame[ plane ] array of the region to be predicted,</p>
  </li>
  <li>
    <p>variables w and h specifying the width and height of the region to be
predicted.</p>
  </li>
</ul>

<p>The process combines two predictions according to the mask.<br />
It makes use of an array Mask containing the blending weights to apply (the weights are defined for the current plane samples if compound_type is equal to COMPOUND_INTRA, or the luma plane otherwise).</p>

<p>The variables subX and subY describing the subsampling of the current plane
are derived as follows:</p>

<ul>
  <li>
    <p>If plane is equal to 0, subX and subY are set equal to 0.</p>
  </li>
  <li>
    <p>Otherwise (plane is not equal to 0), subX is set equal to subsampling_x
and subY is set equal to subsampling_y.</p>
  </li>
</ul>

<p>The process is specified as follows:</p>

<pre><code class="language-c">for (y = 0; y &lt; h; y++) {
    for (x = 0; x &lt; w; x++) {
        if (!subX &amp;&amp; !subY) {
            m = Mask[ y ][ x ]
        } else if (subX &amp;&amp; !subY) {
            m = Round2(Mask[ y ][ 2*x ] + Mask[ y ][ 2*x+1 ], 1)
        } else if (!subX &amp;&amp; subY) {
            m = Round2(Mask[ 2*y ][ x ] + Mask[ 2*y+1 ][ x ], 1)
        } else {
            m = Round2(Mask[ 2*y ][ 2*x ] + Mask[ 2*y ][ 2*x+1 ] +
                       Mask[ 2*y+1 ][ 2*x ] + Mask[ 2*y+1 ][ 2*x+1 ], 2)
        }
        if (interintra) {
            pred0 = Clip1(Round2(preds[ 0 ][ y ][ x ], 9))
            pred1 = CurrFrame[plane][x+dstX][y+dstY]
            CurrFrame[plane][x+dstX][y+dstY] = Round2( m * pred1 + (64 - m) * pred0, 6 )
        } else {
            pred0 = preds[ 0 ][ y ][ x ]
            pred1 = preds[ 1 ][ y ][ x ]
            CurrFrame[plane][x+dstX][y+dstY] = Clip1( Round2( Round2(m * pred0 + (64 - m) * pred1, 6), 9 ) )
        }
    }
}
</code></pre>

<h4 id="palette-prediction-process">Palette Prediction Process</h4>

<p>The palette prediction process is invoked for palette coded intra blocks to predict
a part of the block using the limited palette.</p>

<p>The inputs to this process are:</p>

<ul>
  <li>a variable plane specifying which plane is being predicted,</li>
  <li>variables startX and startY specifying the location of the top left
sample in the CurrFrame[ plane ] array of the current transform block,</li>
  <li>variables x and y specifying the location in 4x4 units relative to the
top left sample of the current transform block,</li>
  <li>a variable txSz, specifying the size of the current transform block.</li>
</ul>

<p>The outputs of this process are palette predicted samples in the current
frame CurrFrame.</p>

<p>The variable w specifying the width of the transform block is set equal
to Tx_Width[ txSz ].</p>

<p>The variable h specifying the height of the transform block is set equal
to Tx_Height[ txSz ].</p>

<p>The variable palette is specified as follows:</p>

<ul>
  <li>If plane is 0, palette is set to palette_colors_y.</li>
  <li>Otherwise, if plane is 1, palette is set to palette_colors_u.</li>
  <li>Otherwise (plane is 2), palette is set to palette_colors_v.</li>
</ul>

<p>The variable map is specified as follows:</p>

<ul>
  <li>If plane is 0, map is set to ColorMapY.</li>
  <li>Otherwise (plane is not 0), map is set to ColorMapUV.</li>
</ul>

<p>The current frame is updated as follows:</p>

<ul>
  <li>CurrFrame[ plane ][ startY + i ][ startX + j ] is set equal to palette[ map[ y * 4 + i ][ x * 4 + j ] ] for
i = 0..h-1 and j = 0..w-1.</li>
</ul>

<h4 id="predict-chroma-from-luma-process">Predict Chroma From Luma Process</h4>

<p>The chroma from luma process uses luma predicted samples to form a prediction for the chroma samples.
The high frequencies are taken from the luma prediction and combined with DC predicted chroma samples.</p>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>a variable plane (greater than zero) specifying which plane is being predicted,</p>
  </li>
  <li>
    <p>variables startX and startY specifying the location of the top left
sample in the CurrFrame[ plane ] array of the current transform block,</p>
  </li>
  <li>
    <p>a variable txSz, specifying the size of the current transform block.</p>
  </li>
</ul>

<p>The outputs of this process are modified chroma predicted samples in the current
frame CurrFrame.</p>

<p>The variable w specifying the width of the transform block is set equal
to Tx_Width[ txSz ].</p>

<p>The variable h specifying the height of the transform block is set equal
to Tx_Height[ txSz ].</p>

<p>The variable subX is set equal to subsampling_x.</p>

<p>The variable subY is set equal to subsampling_y.</p>

<p>The variable alpha depends on the plane as follows:</p>

<ul>
  <li>
    <p>If plane is equal to 1, alpha is set equal to CflAlphaU.</p>
  </li>
  <li>
    <p>Otherwise (plane is equal to 2), alpha is set equal to CflAlphaV.</p>
  </li>
</ul>

<p>An array L (containing subsampled luma pixels with 3 fractional bits of precision) and lumaAvg (representing the average luma intensity with 3 fractional bits of precision) is specified as:</p>

<pre><code class="language-c">lumaAvg = 0
for ( i = 0; i &lt; h; i++ ) {
    for ( j = 0; j &lt; w; j++ ) {
        lumaX = (startX + j) &lt;&lt; subX  
        lumaY = (startY + i) &lt;&lt; subY
        t = 0
        for ( dy = 0; dy &lt;= subY; dy += 1 ) 
            for ( dx = 0; dx &lt;= subY; dx += 1 ) 
                t += CurrFrame[ 0 ][ Min( MaxLumaH - 1, lumaY + dy ) ]
                                   [ Min( MaxLumaW - 1, lumaX + dx ) ]
        v = t &lt;&lt; ( 3 - subX - subY )
        L[ i ][ j ] = v
        lumaAvg += v
    }
}
lumaAvg &gt;&gt;= Tx_Width_Log2[ txSz ] + Tx_Height_Log2[ txSz ]
</code></pre>

<p>The predicted chroma pixels are specified as:</p>

<pre><code class="language-c">for ( i = 0; i &lt; h; i++ ) {
    for ( j = 0; j &lt; w; j++ ) {
        dc = CurrFrame[ plane ][ startY + i ][ startX + j ]
        scaledLuma = Round2Signed( alpha * ( L[ i ][ j ] - lumaAvg ), 6 )
        CurrFrame[ plane ][ startY + i ][ startX + j ] = Clip1( dc + scaledLuma )
    }
}
</code></pre>

<h3 id="reconstruction-and-dequantization">Reconstruction and Dequantization</h3>

<p>This section details the process of reconstructing a block of coefficients
using dequantization and inverse transforms.</p>

<h4 id="dequantization-functions">Dequantization Functions</h4>

<p>This section defines the functions get_dc_quant and get_ac_quant that are
needed by the dequantization process.</p>

<p>The quantization parameters are derived from lookup tables.</p>

<p>The function dc_q( b ) is specified as
Dc_Qlookup[ (BitDepth-8) &gt;&gt; 1 ][ Clip3( 0, 255, b ) ] where Dc_Qlookup is
defined as follows:</p>

<pre><code class="language-c">Dc_Qlookup[ 3 ][ 256 ] = {
  {
    4, 8, 8, 9, 10, 11, 12, 12, 13, 14, 15, 16,
    17, 18, 19, 19, 20, 21, 22, 23, 24, 25, 26, 26,
    27, 28, 29, 30, 31, 32, 32, 33, 34, 35, 36, 37,
    38, 38, 39, 40, 41, 42, 43, 43, 44, 45, 46, 47,
    48, 48, 49, 50, 51, 52, 53, 53, 54, 55, 56, 57,
    57, 58, 59, 60, 61, 62, 62, 63, 64, 65, 66, 66,
    67, 68, 69, 70, 70, 71, 72, 73, 74, 74, 75, 76,
    77, 78, 78, 79, 80, 81, 81, 82, 83, 84, 85, 85,
    87, 88, 90, 92, 93, 95, 96, 98, 99, 101, 102, 104,
    105, 107, 108, 110, 111, 113, 114, 116, 117, 118, 120, 121,
    123, 125, 127, 129, 131, 134, 136, 138, 140, 142, 144, 146,
    148, 150, 152, 154, 156, 158, 161, 164, 166, 169, 172, 174,
    177, 180, 182, 185, 187, 190, 192, 195, 199, 202, 205, 208,
    211, 214, 217, 220, 223, 226, 230, 233, 237, 240, 243, 247,
    250, 253, 257, 261, 265, 269, 272, 276, 280, 284, 288, 292,
    296, 300, 304, 309, 313, 317, 322, 326, 330, 335, 340, 344,
    349, 354, 359, 364, 369, 374, 379, 384, 389, 395, 400, 406,
    411, 417, 423, 429, 435, 441, 447, 454, 461, 467, 475, 482,
    489, 497, 505, 513, 522, 530, 539, 549, 559, 569, 579, 590,
    602, 614, 626, 640, 654, 668, 684, 700, 717, 736, 755, 775,
    796, 819, 843, 869, 896, 925, 955, 988, 1022, 1058, 1098, 1139,
    1184, 1232, 1282, 1336
  },
  {
    4, 9, 10, 13, 15, 17, 20, 22, 25, 28, 31, 34,
    37, 40, 43, 47, 50, 53, 57, 60, 64, 68, 71, 75,
    78, 82, 86, 90, 93, 97, 101, 105, 109, 113, 116, 120,
    124, 128, 132, 136, 140, 143, 147, 151, 155, 159, 163, 166,
    170, 174, 178, 182, 185, 189, 193, 197, 200, 204, 208, 212,
    215, 219, 223, 226, 230, 233, 237, 241, 244, 248, 251, 255,
    259, 262, 266, 269, 273, 276, 280, 283, 287, 290, 293, 297,
    300, 304, 307, 310, 314, 317, 321, 324, 327, 331, 334, 337,
    343, 350, 356, 362, 369, 375, 381, 387, 394, 400, 406, 412,
    418, 424, 430, 436, 442, 448, 454, 460, 466, 472, 478, 484,
    490, 499, 507, 516, 525, 533, 542, 550, 559, 567, 576, 584,
    592, 601, 609, 617, 625, 634, 644, 655, 666, 676, 687, 698,
    708, 718, 729, 739, 749, 759, 770, 782, 795, 807, 819, 831,
    844, 856, 868, 880, 891, 906, 920, 933, 947, 961, 975, 988,
    1001, 1015, 1030, 1045, 1061, 1076, 1090, 1105, 1120, 1137, 1153, 1170,
    1186, 1202, 1218, 1236, 1253, 1271, 1288, 1306, 1323, 1342, 1361, 1379,
    1398, 1416, 1436, 1456, 1476, 1496, 1516, 1537, 1559, 1580, 1601, 1624,
    1647, 1670, 1692, 1717, 1741, 1766, 1791, 1817, 1844, 1871, 1900, 1929,
    1958, 1990, 2021, 2054, 2088, 2123, 2159, 2197, 2236, 2276, 2319, 2363,
    2410, 2458, 2508, 2561, 2616, 2675, 2737, 2802, 2871, 2944, 3020, 3102,
    3188, 3280, 3375, 3478, 3586, 3702, 3823, 3953, 4089, 4236, 4394, 4559,
    4737, 4929, 5130, 5347
  },
  {
    4, 12, 18, 25, 33, 41, 50, 60,
    70, 80, 91, 103, 115, 127, 140, 153,
    166, 180, 194, 208, 222, 237, 251, 266,
    281, 296, 312, 327, 343, 358, 374, 390,
    405, 421, 437, 453, 469, 484, 500, 516,
    532, 548, 564, 580, 596, 611, 627, 643,
    659, 674, 690, 706, 721, 737, 752, 768,
    783, 798, 814, 829, 844, 859, 874, 889,
    904, 919, 934, 949, 964, 978, 993, 1008,
    1022, 1037, 1051, 1065, 1080, 1094, 1108, 1122,
    1136, 1151, 1165, 1179, 1192, 1206, 1220, 1234,
    1248, 1261, 1275, 1288, 1302, 1315, 1329, 1342,
    1368, 1393, 1419, 1444, 1469, 1494, 1519, 1544,
    1569, 1594, 1618, 1643, 1668, 1692, 1717, 1741,
    1765, 1789, 1814, 1838, 1862, 1885, 1909, 1933,
    1957, 1992, 2027, 2061, 2096, 2130, 2165, 2199,
    2233, 2267, 2300, 2334, 2367, 2400, 2434, 2467,
    2499, 2532, 2575, 2618, 2661, 2704, 2746, 2788,
    2830, 2872, 2913, 2954, 2995, 3036, 3076, 3127,
    3177, 3226, 3275, 3324, 3373, 3421, 3469, 3517,
    3565, 3621, 3677, 3733, 3788, 3843, 3897, 3951,
    4005, 4058, 4119, 4181, 4241, 4301, 4361, 4420,
    4479, 4546, 4612, 4677, 4742, 4807, 4871, 4942,
    5013, 5083, 5153, 5222, 5291, 5367, 5442, 5517,
    5591, 5665, 5745, 5825, 5905, 5984, 6063, 6149,
    6234, 6319, 6404, 6495, 6587, 6678, 6769, 6867,
    6966, 7064, 7163, 7269, 7376, 7483, 7599, 7715,
    7832, 7958, 8085, 8214, 8352, 8492, 8635, 8788,
    8945, 9104, 9275, 9450, 9639, 9832, 10031, 10245,
    10465, 10702, 10946, 11210, 11482, 11776, 12081, 12409,
    12750, 13118, 13501, 13913, 14343, 14807, 15290, 15812,
    16356, 16943, 17575, 18237, 18949, 19718, 20521, 21387
  }
}
</code></pre>

<p>The function ac_q( b ) is specified as Ac_Qlookup[
(BitDepth-8) &gt;&gt; 1 ][ Clip3( 0, 255, b ) ] where Ac_Qlookup is defined as follows:</p>

<pre><code class="language-c">Ac_Qlookup[ 3 ][ 256 ] = {
  {
    4, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18,
    19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30,
    31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42,
    43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54,
    55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66,
    67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78,
    79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90,
    91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102,
    104, 106, 108, 110, 112, 114, 116, 118, 120, 122, 124, 126,
    128, 130, 132, 134, 136, 138, 140, 142, 144, 146, 148, 150,
    152, 155, 158, 161, 164, 167, 170, 173, 176, 179, 182, 185,
    188, 191, 194, 197, 200, 203, 207, 211, 215, 219, 223, 227,
    231, 235, 239, 243, 247, 251, 255, 260, 265, 270, 275, 280,
    285, 290, 295, 300, 305, 311, 317, 323, 329, 335, 341, 347,
    353, 359, 366, 373, 380, 387, 394, 401, 408, 416, 424, 432,
    440, 448, 456, 465, 474, 483, 492, 501, 510, 520, 530, 540,
    550, 560, 571, 582, 593, 604, 615, 627, 639, 651, 663, 676,
    689, 702, 715, 729, 743, 757, 771, 786, 801, 816, 832, 848,
    864, 881, 898, 915, 933, 951, 969, 988, 1007, 1026, 1046, 1066,
    1087, 1108, 1129, 1151, 1173, 1196, 1219, 1243, 1267, 1292, 1317, 1343,
    1369, 1396, 1423, 1451, 1479, 1508, 1537, 1567, 1597, 1628, 1660, 1692,
    1725, 1759, 1793, 1828
  },
  {
    4, 9, 11, 13, 16, 18, 21, 24, 27, 30, 33, 37,
    40, 44, 48, 51, 55, 59, 63, 67, 71, 75, 79, 83,
    88, 92, 96, 100, 105, 109, 114, 118, 122, 127, 131, 136,
    140, 145, 149, 154, 158, 163, 168, 172, 177, 181, 186, 190,
    195, 199, 204, 208, 213, 217, 222, 226, 231, 235, 240, 244,
    249, 253, 258, 262, 267, 271, 275, 280, 284, 289, 293, 297,
    302, 306, 311, 315, 319, 324, 328, 332, 337, 341, 345, 349,
    354, 358, 362, 367, 371, 375, 379, 384, 388, 392, 396, 401,
    409, 417, 425, 433, 441, 449, 458, 466, 474, 482, 490, 498,
    506, 514, 523, 531, 539, 547, 555, 563, 571, 579, 588, 596,
    604, 616, 628, 640, 652, 664, 676, 688, 700, 713, 725, 737,
    749, 761, 773, 785, 797, 809, 825, 841, 857, 873, 889, 905,
    922, 938, 954, 970, 986, 1002, 1018, 1038, 1058, 1078, 1098, 1118,
    1138, 1158, 1178, 1198, 1218, 1242, 1266, 1290, 1314, 1338, 1362, 1386,
    1411, 1435, 1463, 1491, 1519, 1547, 1575, 1603, 1631, 1663, 1695, 1727,
    1759, 1791, 1823, 1859, 1895, 1931, 1967, 2003, 2039, 2079, 2119, 2159,
    2199, 2239, 2283, 2327, 2371, 2415, 2459, 2507, 2555, 2603, 2651, 2703,
    2755, 2807, 2859, 2915, 2971, 3027, 3083, 3143, 3203, 3263, 3327, 3391,
    3455, 3523, 3591, 3659, 3731, 3803, 3876, 3952, 4028, 4104, 4184, 4264,
    4348, 4432, 4516, 4604, 4692, 4784, 4876, 4972, 5068, 5168, 5268, 5372,
    5476, 5584, 5692, 5804, 5916, 6032, 6148, 6268, 6388, 6512, 6640, 6768,
    6900, 7036, 7172, 7312
  },
  {
    4, 13, 19, 27, 35, 44, 54, 64,
    75, 87, 99, 112, 126, 139, 154, 168,
    183, 199, 214, 230, 247, 263, 280, 297,
    314, 331, 349, 366, 384, 402, 420, 438,
    456, 475, 493, 511, 530, 548, 567, 586,
    604, 623, 642, 660, 679, 698, 716, 735,
    753, 772, 791, 809, 828, 846, 865, 884,
    902, 920, 939, 957, 976, 994, 1012, 1030,
    1049, 1067, 1085, 1103, 1121, 1139, 1157, 1175,
    1193, 1211, 1229, 1246, 1264, 1282, 1299, 1317,
    1335, 1352, 1370, 1387, 1405, 1422, 1440, 1457,
    1474, 1491, 1509, 1526, 1543, 1560, 1577, 1595,
    1627, 1660, 1693, 1725, 1758, 1791, 1824, 1856,
    1889, 1922, 1954, 1987, 2020, 2052, 2085, 2118,
    2150, 2183, 2216, 2248, 2281, 2313, 2346, 2378,
    2411, 2459, 2508, 2556, 2605, 2653, 2701, 2750,
    2798, 2847, 2895, 2943, 2992, 3040, 3088, 3137,
    3185, 3234, 3298, 3362, 3426, 3491, 3555, 3619,
    3684, 3748, 3812, 3876, 3941, 4005, 4069, 4149,
    4230, 4310, 4390, 4470, 4550, 4631, 4711, 4791,
    4871, 4967, 5064, 5160, 5256, 5352, 5448, 5544,
    5641, 5737, 5849, 5961, 6073, 6185, 6297, 6410,
    6522, 6650, 6778, 6906, 7034, 7162, 7290, 7435,
    7579, 7723, 7867, 8011, 8155, 8315, 8475, 8635,
    8795, 8956, 9132, 9308, 9484, 9660, 9836, 10028,
    10220, 10412, 10604, 10812, 11020, 11228, 11437, 11661,
    11885, 12109, 12333, 12573, 12813, 13053, 13309, 13565,
    13821, 14093, 14365, 14637, 14925, 15213, 15502, 15806,
    16110, 16414, 16734, 17054, 17390, 17726, 18062, 18414,
    18766, 19134, 19502, 19886, 20270, 20670, 21070, 21486,
    21902, 22334, 22766, 23214, 23662, 24126, 24590, 25070,
    25551, 26047, 26559, 27071, 27599, 28143, 28687, 29247
  }
}
</code></pre>

<p>The function get_qindex( ignoreDeltaQ, segmentId ) returns the quantizer index for the current block and is specified by the following:</p>

<ul>
  <li>
    <p>If seg_feature_active( SEG_LVL_ALT_Q ) is equal to 1 the following ordered steps apply:</p>

    <ol>
      <li>
        <p>Set the variable data equal to FeatureData[ segmentId ][ SEG_LVL_ALT_Q ].</p>
      </li>
      <li>
        <p>Set data equal to base_q_idx + data</p>
      </li>
      <li>
        <p>Return Clip3( 0, 255, data ).</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Otherwise, if ignoreDeltaQ is equal to 0 and delta_q_present is equal to 1, return CurrentQIndex.</p>
  </li>
  <li>
    <p>Otherwise, return base_q_idx.</p>
  </li>
</ul>

<p>The function get_dc_quant( plane ) returns the quantizer value for the dc
coefficient for a particular plane and is derived as follows:</p>

<ul>
  <li>
    <p>If plane is equal to 0, return dc_q( get_qindex( 0, segment_id ) + deltaQYDc ).</p>
  </li>
  <li>
    <p>Otherwise, return dc_q( get_qindex( 0, segment_id ) + deltaQUVDc ).</p>
  </li>
</ul>

<p>The function get_ac_quant( plane ) returns the quantizer value for the ac
coefficient for a particular plane and is derived as follows:</p>

<ul>
  <li>
    <p>If plane is equal to 0, return ac_q( get_qindex( 0, segment_id ) ).</p>
  </li>
  <li>
    <p>Otherwise, return ac_q( get_qindex( 0, segment_id ) + deltaQUVAc ).</p>
  </li>
</ul>

<h4 id="reconstruct-process">Reconstruct Process</h4>

<p>The reconstruct process is invoked to perform dequantization, inverse
transform and reconstruction. This process is triggered at a point defined by
a function call to reconstruct in the residual syntax table described in
<a href="#residual-syntax">section 5.8.29</a>.</p>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>a variable plane specifying which plane is being reconstructed,</p>
  </li>
  <li>
    <p>variables x and y specifying the location of the top left sample in the
CurrFrame[ plane ] array of the current transform block,</p>
  </li>
  <li>
    <p>a variable txSz, specifying the size of the transform block.</p>
  </li>
</ul>

<p>The outputs of this process are reconstructed samples in the current frame
CurrFrame.</p>

<p>The reconstruction and dequantization process is defined as follows:</p>

<p>The variable transpose is set equal to ( Tx_Width_Log2[ txSz ] - Tx_Height_Log2[ txSz ] ) == 1.</p>

<p>The variable txSize is derived as follows:</p>

<ul>
  <li>
    <p>If transpose is equal to 1, txSize is set equal to Transpose_Tx_Size[ txSz ].</p>
  </li>
  <li>
    <p>Otherwise (transpose is equal to 0), txSize is set equal to txSz.</p>
  </li>
</ul>

<p>The variable txType is derived as follows:</p>

<ul>
  <li>
    <p>If transpose is equal to 1, txType is set equal to Transpose_Tx_Type[ PlaneTxType ].</p>
  </li>
  <li>
    <p>Otherwise (transpose is equal to 0), txType is set equal to PlaneTxType.</p>
  </li>
</ul>

<p>The variable dqDenom is derived as follows:</p>

<ul>
  <li>
    <p>If txSize is equal to TX_32X32, TX_16X32, or TX_32X16, dqDenom is set equal to 2.</p>
  </li>
  <li>
    <p>Otherwise, if txSize is equal to TX_64X64, TX_32X64, or TX_64X32, dqDenom is set equal to 4.</p>
  </li>
  <li>
    <p>Otherwise, dqDenom is set equal to 1.</p>
  </li>
</ul>

<p>The variable log2W (specifying the base 2 logarithm of the width of the transform
block) is set equal to Tx_Width_Log2[ txSize ].</p>

<p>The variable log2H (specifying the base 2 logarithm of the height of the transform
block) is set equal to Tx_Height_Log2[ txSize ].</p>

<p>The variable w (specifying the width of the transform block) is set equal
to 1 &lt;&lt; log2W.</p>

<p>The variable h (specifying the height of the transform block) is set equal
to 1 &lt;&lt; log2H.</p>

<p>The variable is2To1Rect is set equal to Abs( log2H - log2W ) == 1.</p>

<p>The variable flipUD is derived as follows. If txType is equal to one of FLIPADST_DCT, 
FLIPADST_ADST, V_FLIPADST, or FLIPADST_FLIPADST, flipUD is set equal to 1. Otherwise, 
flipUD is set equal to 0.</p>

<p>The variable flipLR is derived as follows. If txType is equal to one of DCT_FLIPADST, 
ADST_FLIPADST, H_FLIPADST, or FLIPADST_FLIPADST, flipLR is set equal to 1. Otherwise, 
flipLR is set equal to 0.</p>

<p>The following ordered steps apply:</p>

<ol>
  <li>
    <p>For i = 0..(h-1), for j = 0..(w-1), the following ordered steps apply:</p>

    <p>a. The variable q is derived as follows:</p>

    <ul>
      <li>
        <p>If i is equal to 0 and j is equal to 0, the variable q is set equal to get_dc_quant( plane ).</p>
      </li>
      <li>
        <p>Otherwise (i, j or both are not equal to 0), the variable q is set equal to get_ac_quant( plane ).</p>
      </li>
    </ul>

    <p>b. The variable q2 is derived as follows:</p>

    <ul>
      <li>
        <p>If using_qmatrix is equal to 1, txType is less than IDTX, and SegQMLevel[ segment_id ] is less than 15, q2 is set
    equal to Round2( q * Quantizer_Matrix[ SegQMLevel[ segment_id ] ][ plane &gt; 0 ][ Qm_Offset[ txSize ] + i * w + j ], 4 ).</p>
      </li>
      <li>
        <p>Otherwise, q2 is set equal to q.</p>
      </li>
    </ul>

    <p>c. Dequant[ i ][ j ] is set equal to ( Quant[ i * w + j ] *
    q2 ) / dqDenom.</p>
  </li>
  <li>
    <p>Invoke the 2D inverse transform block process defined in <a href="#2d-inverse-transform">section 7.9.2</a>
with the variables txSize, txType and transpose as input. The inverse transform outputs are stored
back to the Dequant buffer.</p>
  </li>
  <li>
    <p>For i = 0..(h-1), for j = 0..(w-1), the following applies:</p>

    <ul>
      <li>
        <p>The variable xx is set equal to flipLR ? ( w - j - 1 ) : j.</p>
      </li>
      <li>
        <p>The variable yy is set equal to flipUD ? ( h - i - 1 ) : i.</p>
      </li>
      <li>
        <p>If transpose is equal to 1, the values of the variables xx and yy are swapped.</p>
      </li>
      <li>
        <p>CurrFrame[ plane ][ y + yy ][ x + xx ] is set equal to
Clip1( CurrFrame[ plane ][ y + yy ][ x + xx ] + Dequant[ i ][ j ] ).</p>
      </li>
    </ul>
  </li>
</ol>

<p>It is a requirement of bitstream conformance that the values written into the
Dequant array in steps 1 and 2 are representable by a signed integer with 8 +
BitDepth bits.</p>

<h3 id="inverse-transform-process">Inverse Transform Process</h3>

<p>This section details the inverse transforms used during the reconstruction
processes detailed in <a href="#reconstruction-and-dequantization">section 7.8</a>.</p>

<h4 id="1d-transforms">1D Transforms</h4>

<h5 id="butterfly-functions">Butterfly Functions</h5>

<p>This section defines the butterfly functions B, H, SB, SH used by the 1D
transform processes.</p>

<p>The inverse transform process works by writing values into an array T. It is a
requirement of bitstream conformance that the values saved into the array T
are representable by a signed integer using 8 + BitDepth bits of precision.</p>

<p class="alert alert-info"><strong>Note:</strong> The inverse asymmetric discrete sine transforms also make use of an
intermediate array named S. The values in this array require higher precision
to avoid overflow. Using signed integers with 24 + BitDepth bits of precision
is enough to avoid overflow.</p>

<p>The function brev(numBits, x) returns the bit-reversal of numBits of x and is
specified as follows:</p>

<pre><code class="language-c">brev( numBits, x ) {
    t = 0
    for ( i = 0; i &lt; numBits; i++ ) {
        bit = (x &gt;&gt; i) &amp; 1
        t += bit &lt;&lt; (numBits - 1 - i)
    }
    return t
}
</code></pre>

<p>The function B( a, b, angle, highPrecision, 0 ) performs a butterfly rotation specified by
the following ordered steps:</p>

<ol>
  <li>
    <p>The variable x is set equal to T[ a ] * cos128( highPrecision, angle ) - T[ b ] *
sin128( highPrecision, angle ).</p>
  </li>
  <li>
    <p>The variable y is set equal to T[ a ] * sin128( highPrecision, angle ) + T[ b ] *
cos128( highPrecision, angle ).</p>
  </li>
  <li>
    <p>T[ a ] is set equal to Round2( x, highPrecision ? 13 : 12 ).</p>
  </li>
  <li>
    <p>T[ b ] is set equal to Round2( y, highPrecision ? 13 : 12 ).</p>
  </li>
</ol>

<p>It is a requirement of bitstream conformance that the values saved into the
array T by this function are representable by a signed integer using 8 +
BitDepth bits of precision.</p>

<p>The function cos128( highPrecision, angle ) is specified for integer values of the input angle
by the following ordered steps:</p>

<ol>
  <li>
    <p>Set a variable angle2 equal to angle &amp; 255.</p>
  </li>
  <li>
    <p>If angle2 is greater than or equal to 0 and less than or equal to 64,
return Cos128_Lookup[ highPrecision ][ angle2 ].</p>
  </li>
  <li>
    <p>If angle2 is greater than 64 and less than or equal to 128, return
Cos128_Lookup[ highPrecision ][ 128 - angle2 ] * -1.</p>
  </li>
  <li>
    <p>If angle2 is greater than 128 and less than or equal to 192, return
Cos128_Lookup[ highPrecision ][ angle2 - 128 ] * -1.</p>
  </li>
  <li>
    <p>Otherwise (if angle2 is greater than 192 and less than 256), return
Cos128_Lookup[ highPrecision ][ 256 - angle2 ].</p>
  </li>
</ol>

<p>Where Cos128_Lookup is a constant lookup table defined as:</p>

<pre><code class="language-c">Cos128_Lookup[ 2 ][ 65 ] = {
    { 4096, 4095, 4091, 4085, 4076, 4065, 4052, 4036,
      4017, 3996, 3973, 3948, 3920, 3889, 3857, 3822,
      3784, 3745, 3703, 3659, 3612, 3564, 3513, 3461,
      3406, 3349, 3290, 3229, 3166, 3102, 3035, 2967,
      2896, 2824, 2751, 2675, 2598, 2520, 2440, 2359,
      2276, 2191, 2106, 2019, 1931, 1842, 1751, 1660,
      1567, 1474, 1380, 1285, 1189, 1092, 995, 897,
      799, 700, 601, 501, 401, 301, 201, 101, 0 },
     
    { 8192, 8190, 8182, 8170, 8153, 8130, 8103, 8071,
      8035, 7993, 7946, 7895, 7839, 7779, 7713, 7643,
      7568, 7489, 7405, 7317, 7225, 7128, 7027, 6921,
      6811, 6698, 6580, 6458, 6333, 6203, 6070, 5933,
      5793, 5649, 5501, 5351, 5197, 5040, 4880, 4717,
      4551, 4383, 4212, 4038, 3862, 3683, 3503, 3320,
      3135, 2948, 2760, 2570, 2378, 2185, 1990, 1795,
      1598, 1401, 1202, 1003, 803, 603, 402, 201, 0 },
}
</code></pre>

<p>The function sin128( highPrecision, angle ) is defined to be cos128( highPrecision, angle - 64 ).</p>

<p class="alert alert-info"><strong>Note:</strong> The cos128 function implements the expression round( ( highPrecision ?
8192 : 4096 ) * cos( angle * pi / 128 ) ). The sin128 function implements the expression
round( ( highPrecision ? 8192 : 4096 ) * sin( angle * pi / 128 ) ).</p>

<p>When the angle is equal to 32 + 64 * k for integer k the butterfly rotation can
be equivalently performed with two fewer multiplications (because the
magnitude of cos128(highPrecision, 32 + 64 * k) is always equal to that of sin128(highPrecision, 32 + 64 * k))
by the following process:</p>

<ol>
  <li>
    <p>The variable v is set equal to (angle &amp; 64) ? T[ a ] +
T[ b ] : T[ a ] - T[ b ].</p>
  </li>
  <li>
    <p>The variable w is set equal to (angle &amp; 64) ? -T[ a ] +
T[ b ] : T[ a ] + T[ b ].</p>
  </li>
  <li>
    <p>The variable x is set equal to v * cos128( highPrecision, angle ).</p>
  </li>
  <li>
    <p>The variable y is set equal to w * cos128( highPrecision, angle ).</p>
  </li>
  <li>
    <p>T[ a ] is set equal to Round2( x, highPrecision ? 13 : 12 ).</p>
  </li>
  <li>
    <p>T[ b ] is set equal to Round2( y, highPrecision ? 13 : 12 ).</p>
  </li>
</ol>

<p>It is a requirement of bitstream conformance that the angle is equal to 16 +
32 * k for integer k, the variables v and w are representable by a signed
integer using 8 + BitDepth bits of precision.</p>

<p>The function B( a ,b, angle, highPrecision, 1 ) performs a butterfly rotation and flip
specified by the following ordered steps:</p>

<ol>
  <li>
    <p>The function B( a, b, angle, 0 ) is invoked.</p>
  </li>
  <li>
    <p>The contents of T[ a ] and T[ b ] are exchanged.</p>
  </li>
</ol>

<p>The function H( a, b, 0 ) performs a Hadamard rotation specified by the
following ordered steps:</p>

<ol>
  <li>
    <p>The variable x is set equal to T[ a ].</p>
  </li>
  <li>
    <p>The variable y is set equal to T[ b ].</p>
  </li>
  <li>
    <p>T[ a ] is set equal to x + y.</p>
  </li>
  <li>
    <p>T[ b ] is set equal to x - y.</p>
  </li>
</ol>

<p>It is a requirement of bitstream conformance that the values saved into the
array T by this function are representable by a signed integer using 8 +
BitDepth bits of precision.</p>

<p>The function H( a, b, 1 ) performs a Hadamard rotation with flipped indices
and is specified as follows:</p>

<ol>
  <li>The function H( b, a, 0 ) is invoked.</li>
</ol>

<h5 id="inverse-dct-array-permutation-process">Inverse DCT Array Permutation Process</h5>

<p>This process performs an in-place permutation of the array T of length 2<sup>n</sup>
for 2 ≤ n ≤ 5 which is required before execution of the inverse DCT process.</p>

<p>The input to this process is a variable n that specifies the base 2 logarithm
of the length of the input array.</p>

<p>A temporary array named copyT is set equal to T.</p>

<p>T[ i ] is set equal to copyT[ brev( n, i ) ] for i = 0..((1 &lt;&lt; n) - 1).</p>

<h5 id="inverse-dct-process">Inverse DCT Process</h5>

<p>This process performs an in-place inverse discrete cosine transform of the
permuted array T which is of length 2<sup>n</sup> for 2 ≤ n ≤ 6.</p>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>a variable n that specifies the base 2 logarithm of the length of the input array.</p>
  </li>
  <li>
    <p>a variable highPrecision, specifying whether high or low precision sine and cosine
values should be used.</p>
  </li>
</ul>

<p>The variable n0 is set equal to 1 &lt;&lt; n.</p>

<p>The variable n1 is set equal to 1 &lt;&lt; (n - 1).</p>

<p>The variable n2 is set equal to 1 &lt;&lt; (n - 2).</p>

<p>The variable n3 is set equal to 1 &lt;&lt; (n - 3).</p>

<p>The following ordered steps apply:</p>

<ol>
  <li>
    <p>If n is equal to 6, invoke B(32 + i, 63 - i, 63 - 4*brev(4, i), 0) for i = 0..15.</p>
  </li>
  <li>
    <p>If n is greater than or equal to 5, invoke B( 16 + i, 31 - i, 6 + ( brev( 3, 7-i ) &lt;&lt; 3 ), highPrecision, 0 )
for i = 0..7.</p>
  </li>
  <li>
    <p>If n is equal to 6, invoke H(32 + i<em>2, 33 + i</em>2, i&amp;1) for i = 0..15.</p>
  </li>
  <li>
    <p>If n is greater than or equal to 4, invoke B( 8 + i, 15 - i, 12 + ( brev( 2, 3 - i ) &lt;&lt; 7 ) ),
highPrecision, 0) for i = 0..4.</p>
  </li>
  <li>
    <p>If n is greater than or equal to 5, invoke H( 16 + 2 * i, 17 + 2 * i, i &amp; 1 ) for i = 0..7.</p>
  </li>
  <li>
    <p>If n is equal to 6, invoke B(62 - i<em>4 - j, 33 + i</em>4 + j, 60 - 16<em>brev(2, i) + 64</em>j, 1) for i = 0..3,
for j = 0..1.</p>
  </li>
  <li>
    <p>If n is greater than or equal to 3, invoke B( 4 + i, 7 - i, 56 - 32 * i, highPrecision, 0 )
for i = 0..1.</p>
  </li>
  <li>
    <p>If n is greater than or equal to 4, invoke H( 8 + 2 * i, 9 + 2 * i, i &amp; 1 ) for i = 0..3.</p>
  </li>
  <li>
    <p>If n is greater than or equal to 5, invoke B( 30 - 4 * i - j, 17 + 4 * i + j, 24 + (j &lt;&lt; 6) + ( ( 1 - i ) &lt;&lt; 5 ),
highPrecision, 1 ) for i = 0..1, for j=0..1.</p>
  </li>
  <li>
    <p>If n is equal to 6, invoke H(32 + i<em>4 + j, 35 + i</em>4 - j, i&amp;1) for i = 0..7, for j = 0..1.</p>
  </li>
  <li>
    <p>Invoke B( 2 * i, 2 * i + 1, 32 + 16 * i, highPrecision, 1 - i ) for i = 0..1.</p>
  </li>
  <li>
    <p>If n is greater than or equal to 3, invoke H( 4 + 2 * i, 5 + 2 * i, i ) for i = 0..1.</p>
  </li>
  <li>
    <p>If n is greater than or equal to 4, invoke B( 14 - i, 9 + i, 48 + 64 * i, highPrecision, 1 ) for
     i = 0..1.</p>
  </li>
  <li>
    <p>If n is greater than or equal to 5, invoke H( 16 + 4 * i + j, 19 + 4 * i - j, i &amp; 1 ) for i = 0..3, for j = 0..1.</p>
  </li>
  <li>
    <p>If n is equal to 6, invoke B(61 - i<em>8 - j, 34 + i</em>8 + j, 56 - i<em>32 + (j»1)</em>64, 1) for i = 0..1, for
j = 0..3.</p>
  </li>
  <li>
    <p>Invoke H( i, 3 - i, 0 ) for i = 0..1.</p>
  </li>
  <li>
    <p>If n is greater than or equal to 3, invoke B( 6, 5, 32, highPrecision, 1 ).</p>
  </li>
  <li>
    <p>If n is greater than or equal to 4, invoke H( 8 + 4 * i + j, 11 + 4 * i - j, i ) for i = 0..1,
for j = 0..1.</p>
  </li>
  <li>
    <p>If n is greater than or equal to 5, invoke B( 29 - i, 18 + i, 48 + ( i &gt;&gt; 1 ) * 64, highPrecision, 1 ) for i = 0..3.</p>
  </li>
  <li>
    <p>If n is equal to 6, invoke H(32 + 8<em>i + j, 39 + 8</em>i - j, i&amp;1) for i = 0..3, for j = 0..3.</p>
  </li>
  <li>
    <p>If n is greater than or equal to 3, invoke H( i, 7 - i, 0 ) for i = 0..3.</p>
  </li>
  <li>
    <p>If n is greater than or equal to 4, invoke B( 13 - i, 10 + i, 32, highPrecision, 1 ) for i = 0..1.</p>
  </li>
  <li>
    <p>If n is greater than or equal to 5, invoke H( 16 + i * 8 + j, 23 + i * 8 - j, i ) for i = 0..1, for j = 0..3.</p>
  </li>
  <li>
    <p>If n is equal to 5, invoke B(59-i, 36+i, i&lt;4 ? 48 : 112, 1) for i = 0..7.</p>
  </li>
  <li>
    <p>If n is greater than or equal to 4, invoke H( i, 15 - i, 0 ) for i = 0..7.</p>
  </li>
  <li>
    <p>If n is greater than or equal to 5, invoke B( 27 - i, 20 + i, 32, highPrecision, 1 ) for i = 0..3.</p>
  </li>
  <li>
    <p>If n is equal to 6, the following steps apply for i = 0..7:</p>

    <ul>
      <li>
        <p>Invoke H(32+i, 47-i, 0).</p>
      </li>
      <li>
        <p>Invoke H(48+i, 63-i, 1).</p>
      </li>
    </ul>
  </li>
  <li>
    <p>If n is greater than or equal to 5, invoke H( 0, 31 - i, 0 ) for i = 0..15.</p>
  </li>
  <li>
    <p>If n is equal to 6, invoke B(55-i, 40+i, 32, 1) for i = 0..7.</p>
  </li>
  <li>
    <p>If n is equal to 6, invoke H(i, 63-i, 0) for i = 0..31.</p>
  </li>
</ol>

<h5 id="inverse-adst-input-array-permutation-process">Inverse ADST Input Array Permutation Process</h5>

<p>This process performs the in-place permutation of the array T of length 2<sup>n</sup>
which is required as the first step of the inverse ADST.</p>

<p>The input to this process is a variable n that specifies the base 2 logarithm
of the length of the input array.</p>

<p>The variable n0 is set equal to 1 &lt;&lt; n.</p>

<p>A temporary array named copyT is set equal to T.</p>

<p>The following steps apply for i = 0..(n0-1):</p>

<ul>
  <li>
    <p>The variable a is set equal to i &amp; 1.</p>
  </li>
  <li>
    <p>The variable b is set equal to a ^ ( ( i &gt;&gt; 1 ) &amp; 1 ).</p>
  </li>
  <li>
    <p>The variable c is set equal to b ^ ( ( i &gt;&gt; 2 ) &amp; 1 ).</p>
  </li>
  <li>
    <p>The variable d is set equal to c ^ ( ( i &gt;&gt; 3 ) &amp; 1 ).</p>
  </li>
  <li>
    <p>The variable e is set equal to d ^ ( ( i &gt;&gt; 4 ) &amp; 1 ).</p>
  </li>
  <li>
    <p>The variable idx is set equal to ( ( a &lt;&lt; 4 ) | ( b &lt;&lt; 3 ) | ( c &lt;&lt; 2 ) | ( d &lt;&lt; 1 ) | e ) &gt;&gt; ( 5 - n ).</p>
  </li>
  <li>
    <p>The variable T[ i ] is set equal to e ? ( - copyT[ idx ] ) : copyT[ idx ].</p>
  </li>
</ul>

<h5 id="inverse-adst-output-array-permutation-process">Inverse ADST Output Array Permutation Process</h5>

<p>This process performs the in-place permutation of the array T of length 2<sup>n</sup>
which is required before the final step of the inverse ADST.</p>

<p>The input to this process is a variable n that specifies the base 2 logarithm
of the length of the input array.</p>

<p>The variable n0 is set equal to 1 &lt;&lt; n.</p>

<p>A temporary array named copyT is set equal to T.</p>

<p>T[ i ] is set equal to ( i &amp; 1 ) ? copyT[ n0 - 2 * i ] : copyT[ i + 1 ] for i = 0..(n0-1).</p>

<h5 id="inverse-adst-process">Inverse ADST Process</h5>

<p>This process performs an in-place inverse ADST process on the array T of size
2<sup>n</sup> for 2 ≤ n ≤ 5.</p>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>a variable n that specifies the base 2 logarithm of the length of the input array.</p>
  </li>
  <li>
    <p>a variable highPrecision, specifying whether high or low precision sine and cosine
values should be used.</p>
  </li>
</ul>

<p>The variable n1 is set equal to 1 &lt;&lt; ( n - 1 ).</p>

<p>The variable n2 is set equal to 1 &lt;&lt; ( n - 2 ).</p>

<p>The variable n3 is set equal to 1 &lt;&lt; ( n - 3 ).</p>

<p>The variable n4 is set equal to 1 &lt;&lt; ( n - 4 ).</p>

<p>The following ordered steps apply:</p>

<ol>
  <li>
    <p>Invoke the ADST input array permutation process specified in <a href="#inverse-adst-input-array-permutation-process">section 7.9.1.4</a> with the 
input variable n.</p>
  </li>
  <li>
    <p>Invoke B( 2 + 4 * i, 3 + 4 * i, 32, highPrecision, 1 ) for i = 0..(n2-1).</p>
  </li>
  <li>
    <p>Invoke H( 4 * i + j, 2 + 4 * i + j, 0 ) for i = 0..(n2-1), for j = 0..1.</p>
  </li>
  <li>
    <p>If n is greater than or equal to 3, invoke B( 4 + 8 * i + 3 * j, 5 + 8 * i + j,
48 - 32 * j, highPrecision, 1) for i = 0..(n3-1), for j = 0..1.</p>
  </li>
  <li>
    <p>If n is greater than or equal to 3, invoke H( 8 * i + j, 4 + 8 * i + j, 0 ) for
i = 0..(n3-1), for j = 0..3.</p>
  </li>
  <li>
    <p>If n is greater than or equal to 4, invoke B( 8 + 16 * i + 5 * j + 2 * k, 9 + 16 * i +
3 * j + 2 * k, 8 + ( ( 1 - j ) &lt;&lt; 4 ) + ( ( 1 - ( i ^ j ) ) &lt;&lt; 5 ), highPrecision, 1 )
for i = 0..(n4-1), for j = 0..1, for k = 0..1.</p>
  </li>
  <li>
    <p>If n is greater than or equal to 4, invoke H( 16 * i + j, 8 + 16 * i + j, 0 ), for i =
0..(n4-1), for j = 0..7.</p>
  </li>
  <li>
    <p>If n is equal to 5, for i = 0..3, the following steps apply:</p>

    <ul>
      <li>
        <p>Invoke B( 16 + 2 * j, 17 + 2 * j, 60 - 16 * i, highPrecision, 1 ).</p>
      </li>
      <li>
        <p>Invoke B( 16 + 9 + 2 * j, 17 + 7 + 2 * j, 4 + 16 * i, highPrecision, 1 ).</p>
      </li>
    </ul>
  </li>
  <li>
    <p>If n is equal to 5, invoke H( i, 16 + i, 0 ) for i = 0..15.</p>
  </li>
  <li>
    <p>Invoke B( 2 * i, 2 * i + 1, ( ( 504 &gt;&gt; ( n - 2 ) ) &amp; 63 ) - i * ( 1 &lt;&lt; ( 7 - n ) ), highPrecision,
     1 ) for i = 0..(n1-1).</p>
  </li>
  <li>
    <p>Invoke the ADST output array permutation process specified in <a href="#inverse-adst-output-array-permutation-process">section 7.9.1.5</a> with the 
     input variable n.</p>
  </li>
</ol>

<h5 id="inverse-walsh-hadamard-transform-process">Inverse Walsh-Hadamard Transform Process</h5>

<p>The input to this process is a variable shift that specifies the amount of
pre-scaling.</p>

<p>This process does an in-place transform of the array T (of length 4) by the
following ordered steps:</p>

<pre><code class="language-c">a = T[ 0 ] &gt;&gt; shift
c = T[ 1 ] &gt;&gt; shift
d = T[ 2 ] &gt;&gt; shift
b = T[ 3 ] &gt;&gt; shift
a += c
d -= b
e = (a - d) &gt;&gt; 1
b = e - b
c = e - c
a -= b
d += c
T[ 0 ] = a
T[ 1 ] = b
T[ 2 ] = c
T[ 3 ] = d
</code></pre>

<h5 id="inverse-identity-transform-4-process">Inverse Identity Transform 4 Process</h5>

<p>The process does an in-place transform of the array T (of length 4) by
the following calculation for i = 0..3:</p>

<pre><code class="language-c">T[ i ] = Round2( T[ i ] * 23170, 14 )
</code></pre>

<h5 id="inverse-identity-transform-8-process">Inverse Identity Transform 8 Process</h5>

<p>The process does an in-place transform of the array T (of length 8) by
the following calculation for i = 0..7:</p>

<pre><code class="language-c">T[ i ] = T[ i ] * 2
</code></pre>

<h5 id="inverse-identity-transform-16-process">Inverse Identity Transform 16 Process</h5>

<p>The process does an in-place transform of the array T (of length 16) by
the following calculation for i = 0..15:</p>

<pre><code class="language-c">T[ i ] = Round2( T[ i ] * 46340, 14 )
</code></pre>

<h5 id="inverse-identity-transform-32-process">Inverse Identity Transform 32 Process</h5>

<p>The process does an in-place transform of the array T (of length 32) by
the following calculation for i = 0..31:</p>

<pre><code class="language-c">T[ i ] = T[ i ] * 4
</code></pre>

<h5 id="inverse-identity-transform-64-process">Inverse Identity Transform 64 Process</h5>

<p>The process does an in-place transform of the array T (of length 32) by
the following calculation for i = 0..31:</p>

<pre><code class="language-c">T[ i ] = Round2( T[ i ] * 92680, 14 )
</code></pre>

<h5 id="inverse-identity-transform-process">Inverse Identity Transform Process</h5>

<p>This process performs an in-place identity transform process (with a size-dependent
scaling factor) on the array T of size 2<sup>n</sup> for 2 ≤ n ≤ 6.</p>

<p>The input to this process is a variable n that specifies the base 2 logarithm
of the length of the input array.</p>

<p>The process to invoke depends on n as follows:</p>

<ul>
  <li>
    <p>If n is equal to 2, invoke the inverse identity transform 4 process in
<a href="#inverse-identity-transform-4-process">section 7.9.1.8</a>.</p>
  </li>
  <li>
    <p>Otherwise, if n is equal to 3, invoke the inverse identity transform 8 process in
<a href="#inverse-identity-transform-8-process">section 7.9.1.9</a>.</p>
  </li>
  <li>
    <p>Otherwise, if n is equal to 4, invoke the inverse identity transform 16 process in
<a href="#inverse-identity-transform-16-process">section 7.9.1.10</a>.</p>
  </li>
  <li>
    <p>Otherwise if n is equal to 5, invoke the inverse identity transform 32 process in
<a href="#inverse-identity-transform-32-process">section 7.9.1.11</a>.</p>
  </li>
  <li>
    <p>Otherwise (n is equal to 6), invoke the inverse identity transform 64 process in
<a href="#inverse-identity-transform-64-process">section 7.9.1.12</a>.</p>
  </li>
</ul>

<h4 id="2d-inverse-transform">2D Inverse Transform</h4>

<p>This process performs a 2D inverse transform for an array stored in the 2D array Dequant.</p>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>a variable txSz that specifies the transform size,</p>
  </li>
  <li>
    <p>a variable txType that specifies the transform type,</p>
  </li>
  <li>
    <p>a variable transpose, which, if equal to 1, signifies that the transform should be transposed.</p>
  </li>
</ul>

<p>Set the variable log2W equal to Tx_Width_Log2[ txSz ].</p>

<p>Set the variable log2H equal to Tx_Height_Log2[ txSz ].</p>

<p>Set the variable w equal to 1 &lt;&lt; log2W.</p>

<p>Set the variable h equal to 1 &lt;&lt; log2H.</p>

<p>The row transforms with i = 0..(h-1) are applied as follows:</p>

<ul>
  <li>
    <p>Set T[ j ] equal to transpose ? Dequant[ j ][ i ] : Dequant[ i ][ j ] for j = 0..(w-1).</p>
  </li>
  <li>
    <p>If Lossless is equal to 1, invoke the Inverse WHT process as specified in
<a href="#inverse-walsh-hadamard-transform-process">section 7.9.1.7</a> with shift equal to 2.</p>
  </li>
  <li>
    <p>Otherwise, if txType is equal to one of DCT_DCT, ADST_DCT, FLIPADST_DCT or H_DCT,
apply an inverse DCT as follows:</p>

    <ol>
      <li>
        <p>Invoke the inverse DCT permutation process as specified in <a href="#inverse-dct-array-permutation-process">section 7.9.1.2</a> with the input
variable n equal to log2W.</p>
      </li>
      <li>
        <p>Invoke the inverse DCT process as specified in <a href="#inverse-dct-process">section 7.9.1.3</a> with the
input variable n equal to log2W and the input variable highPrecision set equal to ( log2W &lt; 4 ).</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Otherwise if txType is equal to one of DCT_ADST, ADST_ADST, DCT_FLIPADST, FLIPADST_FLIPADST, 
ADST_FLIPADST, FLIPADST_ADST, H_ADST, or H_FLIPADST, invoke the inverse ADST process as 
specified in <a href="#inverse-adst-process">section 7.9.1.6</a> with input variable n equal to log2W and the input variable
highPrecision set equal to ( log2W &lt; 4 ).</p>
  </li>
  <li>
    <p>Otherwise, invoke the inverse identity transform process specified in <a href="#inverse-identity-transform-process">section 7.9.1.13</a> with the
input variable n equal to log2W.</p>
  </li>
  <li>
    <p>The array Dequant is then updated as follows:</p>

    <ul>
      <li>
        <p>If Abs( log2W - log2H ) is equal to 1, set Dequant[ i ][ j ] equal to Round2( T[ j ] * 23170, 14 ) for
j = 0..(w-1).</p>
      </li>
      <li>
        <p>Otherwise (Abs( log2W - log2H ) is not equal to 1), set Dequant[ i ][ j ] equal to T[ j ] for
j = 0..(w-1).</p>
      </li>
    </ul>
  </li>
</ul>

<p>The column transforms with j = 0..(w-1) are applied as follows:</p>

<ul>
  <li>
    <p>Set T[ i ] equal to Dequant[ i ][ j ] for i = 0..(h-1).</p>
  </li>
  <li>
    <p>If Lossless is equal to 1, invoke the Inverse WHT process as specified in
<a href="#inverse-walsh-hadamard-transform-process">section 7.9.1.7</a> with shift equal to 0.</p>
  </li>
  <li>
    <p>Otherwise, if txType is equal to one of DCT_DCT, DCT_ADST, DCT_FLIPADST or
V_DCT, apply an inverse DCT as follows:</p>

    <ol>
      <li>
        <p>Invoke the inverse DCT permutation process as specified in
<a href="#inverse-dct-array-permutation-process">section 7.9.1.2</a> with the input variable n equal to log2H.</p>
      </li>
      <li>
        <p>Invoke the inverse DCT process as specified in <a href="#inverse-dct-process">section 7.9.1.3</a>
with the input variable n equal to log2H and the input variable
highPrecision equal to 1.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Otherwise, if txType is equal to one of ADST_DCT, ADST_ADST, FLIPADST_DCT, 
FLIPADST_FLIPADST, ADST_FLIPADST, FLIPADST_ADST, V_ADST, or V_FLIPADST,
invoke the inverse ADST process as specified in <a href="#inverse-adst-process">section 7.9.1.6</a> with input
variable n equal to log2H and the input variable highPrecision equal to 1.</p>
  </li>
  <li>
    <p>Otherwise, invoke the inverse identity transform process specified in <a href="#inverse-identity-transform-process">section 7.9.1.13</a> with the
input variable n equal to log2H.</p>
  </li>
  <li>
    <p>Dequant[ i ][ j ] is set equal to T[ i ] for i = 0..(h-1).</p>
  </li>
</ul>

<h3 id="loop-filter-process">Loop Filter Process</h3>

<p>Input to this process is the array CurrFrame of reconstructed samples.</p>

<p>Output from this process is a modified array CurrFrame containing deblocked
samples.</p>

<p>The purpose of the loop filter is to eliminate (or at least reduce) visually
objectionable artifacts associated with the semi-independence of the coding of
super blocks and their constituent sub-blocks.</p>

<p>The loop filter is applied on all vertical boundaries followed by all horizontal boundaries as
follows:</p>

<pre><code class="language-c">for ( plane = 0; plane &lt; 3; plane++ ) {
    if ( ( plane == 0 &amp;&amp; ( loop_filter_level[ 0 ] || loop_filter_level[ 1 ] ) ) ||
         ( plane &gt; 0 &amp;&amp; loop_filter_level[ 1 + plane ] ) ) {
        for ( pass = 0; pass &lt; 2; pass++ ) {
            rowStep = ( plane &gt; 0 ) ? 1 : ( 1 &lt;&lt; subsampling_y )
            colStep = ( plane &gt; 0 ) ? 1 : ( 1 &lt;&lt; subsampling_x )
            for ( row = 0; row &lt; MiRows; row += rowStep )
                for ( col = 0; col &lt; MiCols; col += colStep )
                    loop_filter_edge( plane, pass, row, col )
        }
    }
}
</code></pre>

<p>When the function loop_filter_edge is called, the edge loop filter process specified
in <a href="#edge-loop-filter-process">section 7.10.1</a> is invoked with the variables plane, pass, row, and col as inputs.</p>

<p class="alert alert-info"><strong>Note:</strong> The loop filter is an integral part of the decoding process, in that
the results of loop filtering are used in the prediction of subsequent frames.</p>

<p class="alert alert-info"><strong>Note:</strong> The loop filtering is designed so that any order of filtering for the edges
will give identical results, provided that the vertical boundaries are filtered before
the horizontal boundaries.</p>

<p class="alert alert-info"><strong>Note:</strong> The loop filter applies after the macroblocks have been
“reconstructed” (i.e., had their prediction summed with their residual);
correct decoding is predicated on the fact that already-constructed portions
of the current frame referenced via intra prediction are not yet filtered.</p>

<h4 id="edge-loop-filter-process">Edge Loop Filter Process</h4>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>a variable plane specifying whether we are filtering Y, U, or V samples,</p>
  </li>
  <li>
    <p>a variable pass specifying the direction of the edges. pass equal to 0
means we are filtering vertical block boundaries, and pass equal to 1
means we are filtering horizontal block boundaries,</p>
  </li>
  <li>
    <p>variables row and col specifying the location of the edge in units
of 4x4 blocks in the luma plane.</p>
  </li>
</ul>

<p>The outputs of this process are modified values in the array CurrFrame.</p>

<p>The variables subX and subY describing the subsampling of the current plane
are derived as follows:</p>

<ul>
  <li>
    <p>If plane is equal to 0, subX and subY are set equal to 0.</p>
  </li>
  <li>
    <p>Otherwise (plane is not equal to 0), subX is set equal to subsampling_x
and subY is set equal to subsampling_y.</p>
  </li>
</ul>

<p>The variables dx and dy are derived as follows:</p>

<ul>
  <li>
    <p>If pass is equal to 0, then dx is set equal to 1, dy is set equal to 0.</p>
  </li>
  <li>
    <p>Otherwise (pass is equal to 1), dy is set equal to 1, dx is set equal
to 0.</p>
  </li>
</ul>

<p>dx and dy specify the offset between the samples to be filtered.</p>

<p>The variable x is set equal to col * MI_SIZE.</p>

<p>The variable y is set equal to row * MI_SIZE.</p>

<p>x and y contain the location in luma coordinates.</p>

<p>The variable onScreen (equal to 1 if the samples on both sides of the
boundary lie in the visible area) is derived as follows:</p>

<ul>
  <li>
    <p>If x is greater than or equal to FrameWidth, onScreen is set equal
to 0.</p>
  </li>
  <li>
    <p>Otherwise, if y is greater than or equal to FrameHeight, onScreen is
set equal to 0.</p>
  </li>
  <li>
    <p>Otherwise, if pass is equal to 0 and x is equal to 0, onScreen is set
equal to 0.</p>
  </li>
  <li>
    <p>Otherwise, if pass is equal to 1 and y is equal to 0, onScreen is set
equal to 0.</p>
  </li>
  <li>
    <p>Otherwise, onScreen is set equal to 1.</p>
  </li>
</ul>

<p>If onScreen is equal to 0, then this process immediately returns and no filtering is applied to this edge.</p>

<p>The variables xP and yP (containing the location in the current plane) are derived as follows:</p>

<ul>
  <li>
    <p>Set xP equal to x &gt;&gt; subX</p>
  </li>
  <li>
    <p>Set yP equal to y &gt;&gt; subY</p>
  </li>
</ul>

<p>The variables prevRow and prevCol (containing the location of the mode info block on the other side of the boundary) are derived as follows:</p>

<ul>
  <li>
    <p>Set prevRow equal to row - ( dy &lt;&lt; subY )</p>
  </li>
  <li>
    <p>Set prevCol equal to col - ( dx &lt;&lt; subX )</p>
  </li>
</ul>

<p>Set the variable MiSize equal to MiSizes[ row ][ col ].</p>

<p>Set the variable txSz equal to LoopfilterTxSizes[ plane ][ row ][ col ].</p>

<p>Set the variable planeSize equal to get_plane_residual_size( MiSize, plane )</p>

<p>Set the variable skip equal to Skips[ row ][ col ].</p>

<p>Set the variable isIntra equal to
     RefFrames[ row ][ col ][ 0 ] &lt;= INTRA_FRAME.</p>

<p>Set the variable prevTxSz equal to get_tx_size( plane, TxSizes[ prevRow ][ prevCol ] ).</p>

<p>Set the variable prevSkip equal to Skips[ prevRow ][ prevCol ].</p>

<p>Set the variable prevIsIntra equal to
     RefFrames[ prevRow ][ prevCol ][ 0 ] &lt;= INTRA_FRAME.</p>

<p>The variable isBlockEdge (equal to 1 if the samples cross a prediction
block edge) is derived as follows:</p>

<ul>
  <li>
    <p>If pass is equal to 0 and xP is an exact multiple
of Block_Width[ planeSize ], isBlockEdge is set equal to 1.</p>
  </li>
  <li>
    <p>Otherwise, if pass is equal to 1 and yP is an exact multiple
of Block_Height[ planeSize ], isBlockEdge is set equal to 1.</p>
  </li>
  <li>
    <p>Otherwise, isBlockEdge is set equal to 0.</p>
  </li>
</ul>

<p>The variable isTxEdge (equal to 1 if the samples cross a transform block
edge) is derived as follows:</p>

<ul>
  <li>
    <p>If pass is equal to 0 and xP is an exact multiple of Tx_Width[ txSz ], isTxEdge is set
equal to 1.</p>
  </li>
  <li>
    <p>Otherwise, if pass is equal to 1 and yP is an exact multiple of Tx_Height[ txSz ], isTxEdge is set
equal to 1.</p>
  </li>
  <li>
    <p>Otherwise, isTxEdge is set equal to 0.</p>
  </li>
</ul>

<p>The variable isTileEdge (equal to 1 if the samples come from different tiles) is derived as follows:</p>

<ul>
  <li>
    <p>If TileNums[ prevRow ][ prevCol ] is equal to TileNums[ row ][ col ], isTileEdge is set equal to 0.</p>
  </li>
  <li>
    <p>Otherwise, isTileEdge is set equal to 1</p>
  </li>
</ul>

<p>The variable isTileGroupEdge (equal to 1 if the samples come from different tile groups) is derived as follows:</p>

<ul>
  <li>
    <p>If TileStarts[ prevRow ][ prevCol ] is equal to TileStarts[ row ][ col ], isTileGroupEdge is set equal to 0.</p>
  </li>
  <li>
    <p>Otherwise, isTileGroupEdge is set equal to 1</p>
  </li>
</ul>

<p>The variable applyFilter (equal to 1 if the samples are filtered) is
derived as follows:</p>

<ul>
  <li>
    <p>If isTxEdge is equal to 0, applyFilter is set equal to 0.</p>
  </li>
  <li>
    <p>Otherwise, if pass is equal to 0 and loop_filter_across_tiles is equal to 0 and isTileEdge is equal to 1, applyFilter is set equal to 0</p>
  </li>
  <li>
    <p>Otherwise, if pass is equal to 1 and loop_filter_across_tiles is equal to 0
and dependent_tiles is equal to 0 and isTileEdge is equal to 1, applyFilter is set equal to 0</p>
  </li>
  <li>
    <p>Otherwise, if pass is equal to 1 and loop_filter_across_tiles is equal to 0
and dependent_tiles is equal to 1 and isTileGroupEdge is equal to 1, applyFilter is set equal to 0</p>
  </li>
  <li>
    <p>Otherwise, if isBlockEdge is equal to 1 or skip is equal to 0 or isIntra is equal to 1 or prevSkip is equal to 0 or prevIsIntra is equal to 1, applyFilter is set equal
to 1.</p>
  </li>
  <li>
    <p>Otherwise applyFilter is set equal to 0.</p>
  </li>
</ul>

<p>The filter size process specified in <a href="#filter-size-process">section 7.10.2</a> is invoked with the inputs
txSz, prevTxSz, pass, subX, subY, and plane, and the output assigned to
the variable filterSize (containing the maximum filter size that can be
used).</p>

<p>The adaptive filter strength process specified in <a href="#adaptive-filter-strength-process">section 7.10.3</a> is invoked with
the inputs row, col, plane, and pass, and the output assigned to the variables
lvl, limit, blimit, and thresh.</p>

<p>If lvl is equal to 0, the adaptive filter strength process specified in <a href="#adaptive-filter-strength-process">section 7.10.3</a> is invoked with
the inputs prevRow, prevCol, plane, and pass, and the output assigned to the variables
lvl, limit, blimit, and thresh.</p>

<p>For the variable i taking values from 0 to MI_SIZE - 1, the following applies:</p>

<ul>
  <li>If applyFilter is equal to 1 and lvl is greater than zero, the sample
  filtering process specified in <a href="#sample-filtering-process">section 7.10.5</a> is invoked with the input variable
  x set equal to xP + dy * i, the input variable y set equal to yP + dx * i,
  and the variables plane, limit, blimit, thresh, dx, dy,
  and filterSize supplied as inputs.</li>
</ul>

<p class="alert alert-info"><strong>Note:</strong> the vector (dx,dy) represents the direction of the filter, while
(dy,dx) represents the direction of the boundary.</p>

<h4 id="filter-size-process">Filter Size Process</h4>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>a variable txSz specifying the size of the transform block,</p>
  </li>
  <li>
    <p>a variable prevTxSz specifying the size of the transform block on the other side of the boundary,</p>
  </li>
  <li>
    <p>a variable pass specifying the direction of the edges,</p>
  </li>
  <li>
    <p>variables subX and subY describing the subsampling of the current plane,</p>
  </li>
  <li>
    <p>a variable plane specifying whether we are filtering Y, U, or V samples.</p>
  </li>
</ul>

<p>The output of this process is the variable filterSize containing the maximum
filter size that can be used.</p>

<p>The purpose of this process is to reduce the width of the chroma filters and to ensure
that different boundaries can be filtered in parallel.</p>

<p>The variable baseSize is set equal to Min(prevTxSz, txSz).</p>

<p>The output variable filterSize is derived as follows:</p>

<ul>
  <li>
    <p>If plane is equal to 0, filterSize is set equal to Min( TX_16X16, baseSize ),</p>
  </li>
  <li>
    <p>Otherwise, (plane is greater than 0), filterSize is set
equal to Min( TX_8X8, baseSize ).</p>
  </li>
</ul>

<h4 id="adaptive-filter-strength-process">Adaptive Filter Strength Process</h4>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>the variables row and col specifying the luma location in units of 4x4 blocks,</p>
  </li>
  <li>
    <p>the variable plane specifying whether we are filtering Y, U or V samples,</p>
  </li>
  <li>
    <p>the variable pass specifying the direction of the edge being filtered. pass equal to 0 means we are
  filtering vertical block boundaries, and pass equal to 1 means we are filtering horizontal block
  boundaries.</p>
  </li>
</ul>

<p>The outputs of this process are the variables lvl, limit, blimit, and thresh.</p>

<p>The output variable lvl is derived as follows:</p>

<ul>
  <li>
    <p>The variable segment is set equal to SegmentIds[ row ][ col ].</p>
  </li>
  <li>
    <p>The variable ref is set equal to RefFrames[ row ][ col ][ 0 ].</p>
  </li>
  <li>
    <p>The variable mode is set equal to YModes[ row ][ col ].</p>
  </li>
  <li>
    <p>The variable modeType is derived as follows:</p>

    <ol>
      <li>
        <p>If mode is equal to NEARESTMV or NEARMV or NEWMV, modeType is set equal
to 1.</p>
      </li>
      <li>
        <p>Otherwise (if mode is an intra type or GLOBALMV or GLOBAL_GLOBALMV), modeType is set equal
to 0.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>The variable deltaLF is derived as follows:</p>

    <ol>
      <li>
        <p>If delta_lf_multi is equal to 0, deltaLF is set equal to DeltaLFs[ row ][ col ][ 0 ].</p>
      </li>
      <li>
        <p>Otherwise (delta_lf_multi is equal to 1), deltaLF is set equal to
DeltaLFs[ row ][ col ][ ( plane == 0 ) ? pass : ( plane + 1 ) ].</p>
      </li>
    </ol>
  </li>
  <li>
    <p>The adaptive filter strength selection process specified in <a href="#adaptive-filter-strength-selection-process">section 7.10.4</a> is invoked, with segment,
ref, modeType, deltaLF, plane, and pass as inputs, and the output being the output variable
lvl.</p>
  </li>
</ul>

<p>The variable shift is derived as follows:</p>

<ul>
  <li>
    <p>If loop_filter_sharpness is greater than 4, shift is set equal to 2.</p>
  </li>
  <li>
    <p>Otherwise, if loop_filter_sharpness is greater than 0, shift is set equal
to 1.</p>
  </li>
  <li>
    <p>Otherwise, shift is set equal to 0.</p>
  </li>
</ul>

<p>The output variable limit is derived as follows:</p>

<ul>
  <li>
    <p>If loop_filter_sharpness is greater than 0, limit is set equal to
Clip3( 1, 9 - loop_filter_sharpness, lvl &gt;&gt; shift ).</p>
  </li>
  <li>
    <p>Otherwise, limit is set equal to Max( 1, lvl &gt;&gt; shift ).</p>
  </li>
</ul>

<p>The output variable blimit is set equal to 2 * (lvl + 2) + limit.</p>

<p>The output variable thresh is set equal to lvl &gt;&gt; 4.</p>

<h4 id="adaptive-filter-strength-selection-process">Adaptive Filter Strength Selection Process</h4>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>The variable segment, specifying the current segment id,</p>
  </li>
  <li>
    <p>The variable ref, specifying the reference frame type (INTRA_FRAME, LAST_FRAME, etc.),</p>
  </li>
  <li>
    <p>The variable modeType, specifying the loop filter mode type,</p>
  </li>
  <li>
    <p>The variable deltaLF, specifying the loop filter delta value,</p>
  </li>
  <li>
    <p>The variable plane, specifying whether we are filtering Y, U or V samples,</p>
  </li>
  <li>
    <p>The variable pass, specifying the direction of the edge being filtered. pass equal to 0 means we are
filtering vertical block boundaries, and pass equal to 1 means we are filtering horizontal block
boundaries.</p>
  </li>
</ul>

<p>The output of this process is a filter strength level.</p>

<p>This process is invoked to select a loop filter strength level.</p>

<p>The variable i is set equal to ( plane == 0 ) ? pass : ( plane + 1 ).</p>

<p>The variable baseFilterLevel is set equal to Clip3( 0, MAX_LOOP_FILTER, deltaLF +
    loop_filter_level[ i ] ).</p>

<p>The following ordered steps apply:</p>

<ol>
  <li>
    <p>The variable nShift is set equal to baseFilterLevel &gt;&gt; 5.</p>
  </li>
  <li>
    <p>The variable lvlSeg is set equal to baseFilterLevel.</p>
  </li>
  <li>
    <p>The variable feature is set equal to SEG_LVL_ALT_LF_Y_V + i.</p>
  </li>
  <li>
    <p>If seg_feature_active_idx( segment, feature ) is equal to 1 the following
ordered steps apply:</p>

    <p>a. lvlSeg is set equal to FeatureData[ segment ][ feature ] + lvlSeg.</p>

    <p>b. lvlSeg is set equal to Clip3( 0, MAX_LOOP_FILTER, lvlSeg ).</p>
  </li>
  <li>
    <p>If loop_filter_delta_enabled is equal to 1, then the following ordered steps apply:</p>

    <p>a. If ref is equal to INTRA_FRAME, then lvlSeg is set equal to lvlSeg +
   ( loop_filter_ref_deltas[ INTRA_FRAME ] &lt;&lt; nShift ).</p>

    <p>b. Otherwise, if ref is not equal to INTRA_FRAME, then lvlSeg is set equal to
   lvlSeg +
   ( loop_filter_ref_deltas[ ref ] &lt;&lt; nShift ) +
   ( loop_filter_mode_deltas[ modeType ] &lt;&lt; nShift ).</p>

    <p>c. lvlSeg is set equal to Clip3(0, MAX_LOOP_FILTER, lvlSeg).</p>
  </li>
  <li>
    <p>Return lvlSeg.</p>
  </li>
</ol>

<h4 id="sample-filtering-process">Sample Filtering Process</h4>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>variables x and y specifying the location within CurrFrame[ plane ],</p>
  </li>
  <li>
    <p>a variable plane specifying whether the block is the Y, U or V plane,</p>
  </li>
  <li>
    <p>variables limit, blimit, thresh that specify the strength of the filtering
operation,</p>
  </li>
  <li>
    <p>variables dx and dy specifying the direction perpendicular to the edge
being filtered,</p>
  </li>
  <li>
    <p>a variable filterSize of specifying the maximum size of filter allowed.</p>
  </li>
</ul>

<p>The outputs of this process are modified values in the array CurrFrame.</p>

<p>First the filter mask process specified in <a href="#filter-mask-process">section 7.10.5.1</a> is invoked with the
inputs x, y, plane, limit, blimit, thresh, dx, dy, and filterSize, and the
output is assigned to the variables hevMask, filterMask, flatMask, and
flatMask2.</p>

<p>Then the appropriate filter process is invoked with the inputs x, y, plane,
dx, dy as follows:</p>

<ul>
  <li>
    <p>If filterMask is equal to 0, no filter is invoked.</p>
  </li>
  <li>
    <p>Otherwise, if filterSize is equal to TX_4X4 or flatMask is equal to 0, the
narrow filter process specified in <a href="#narrow-filter-process">section 7.10.5.2</a> is invoked with the
additional input variable hevMask.</p>
  </li>
  <li>
    <p>Otherwise, if filterSize is equal to TX_8X8 or flatMask2 is equal to 0,
the wide filter process specified in <a href="#wide-filter-process">section 7.10.5.3</a> is invoked with the
additional input variable log2Size set to 3.</p>
  </li>
  <li>
    <p>Otherwise, the wide filter process specified in <a href="#wide-filter-process">section 7.10.5.3</a> is invoked
with the additional input variable log2Size set to 4.</p>
  </li>
</ul>

<h5 id="filter-mask-process">Filter Mask Process</h5>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>variables x and y specifying the location within CurrFrame[ plane ],</p>
  </li>
  <li>
    <p>a variable plane specifying whether the block is the Y, U or V plane,</p>
  </li>
  <li>
    <p>variables limit, blimit, thresh that specify the strength of the filtering
operation,</p>
  </li>
  <li>
    <p>variables dx and dy specifying the direction perpendicular to the edge
being filtered,</p>
  </li>
  <li>
    <p>a variable filterSize of specifying the maximum size of filter allowed.</p>
  </li>
</ul>

<p>The outputs from this process are the variables:</p>

<ul>
  <li>
    <p>hevMask,</p>
  </li>
  <li>
    <p>filterMask,</p>
  </li>
  <li>
    <p>flatMask, (only used if filterSize &gt;= TX_8X8),</p>
  </li>
  <li>
    <p>flatMask2 (only used if filterSize &gt;= TX_16X16).</p>
  </li>
</ul>

<p>The values output for these masks depend on the differences between samples on
either side of the specified boundary. These samples are specified as follows:</p>

<pre><code class="language-c">q0 = CurrFrame[ plane ][ y ][ x ]
q1 = CurrFrame[ plane ][ y + dy     ][ x + dx     ]
q2 = CurrFrame[ plane ][ y + dy * 2 ][ x + dx * 2 ]
q3 = CurrFrame[ plane ][ y + dy * 3 ][ x + dx * 3 ]
q4 = CurrFrame[ plane ][ y + dy * 4 ][ x + dx * 4 ]
q5 = CurrFrame[ plane ][ y + dy * 5 ][ x + dx * 5 ]
q6 = CurrFrame[ plane ][ y + dy * 6 ][ x + dx * 6 ]
p0 = CurrFrame[ plane ][ y - dy     ][ x - dx     ]
p1 = CurrFrame[ plane ][ y - dy * 2 ][ x - dx * 2 ]
p2 = CurrFrame[ plane ][ y - dy * 3 ][ x - dx * 3 ]
p3 = CurrFrame[ plane ][ y - dy * 4 ][ x - dx * 4 ]
p4 = CurrFrame[ plane ][ y - dy * 5 ][ x - dx * 5 ]
p5 = CurrFrame[ plane ][ y - dy * 6 ][ x - dx * 6 ]
p6 = CurrFrame[ plane ][ y - dy * 7 ][ x - dx * 7 ]
</code></pre>

<p class="alert alert-info"><strong>Note:</strong> Samples q4, q5, q6, p4, p5, and p6 are only used if
filterSize is equal to TX_16X16.</p>

<p>The value of hevMask indicates whether the sample has high edge variance. It
is calculated as follows:</p>

<pre><code class="language-c">hevMask = 0
threshBd = thresh &lt;&lt; (BitDepth - 8)
hevMask |= (Abs( p1 - p0 ) &gt; threshBd)
hevMask |= (Abs( q1 - q0 ) &gt; threshBd)
</code></pre>

<p>The value of filterMask indicates whether adjacent samples close to the
edge (within four samples either side of the specified boundary) vary by less
than the limits given by limit and blimit. It is used to determine if any
filtering should occur and is calculated as follows:</p>

<pre><code class="language-c">limitBd = limit &lt;&lt; (BitDepth - 8)
blimitBd = blimit &lt;&lt; (BitDepth - 8)
mask = 0
mask |= (Abs( p3 - p2 ) &gt; limitBd)
mask |= (Abs( p2 - p1 ) &gt; limitBd)
mask |= (Abs( p1 - p0 ) &gt; limitBd)
mask |= (Abs( q1 - q0 ) &gt; limitBd)
mask |= (Abs( q2 - q1 ) &gt; limitBd)
mask |= (Abs( q3 - q2 ) &gt; limitBd)
mask |= (Abs( p0 - q0 ) * 2 + Abs( p1 - q1 ) / 2 &gt; blimitBd)
filterMask = (mask == 0)
</code></pre>

<p>The value of flatMask is only required when filterSize &gt;= TX_8X8. It measures
whether samples from each side of the specified boundary are in
a flat region. That is whether those samples are at most (1 &lt;&lt; (BitDepth - 8))
different from the sample on the boundary. It is calculated as follows:</p>

<pre><code class="language-c">thresholdBd = 1 &lt;&lt; (BitDepth - 8)
if ( filterSize &gt;= TX_8X8 ) {
    mask = 0
    mask |= (Abs( p1 - p0 ) &gt; thresholdBd)
    mask |= (Abs( q1 - q0 ) &gt; thresholdBd)
    mask |= (Abs( p2 - p0 ) &gt; thresholdBd)
    mask |= (Abs( q2 - q0 ) &gt; thresholdBd)
    if ( plane == 0 ) {
        mask |= (Abs( p3 - p0 ) &gt; thresholdBd)
        mask |= (Abs( q3 - q0 ) &gt; thresholdBd)
    }
    flatMask = (mask == 0)
}
</code></pre>

<p>The value of flatMask2 is only required when filterSize &gt;= TX_16X16. It
measures whether at least seven samples from each side of the specified
boundary are in a flat region assuming the first four on each side are
(so the full region is flat if flatMask &amp; flatMask2 == 0). The value of
flatMask2 is calculated as follows:</p>

<pre><code class="language-c">thresholdBd = 1 &lt;&lt; (BitDepth - 8)
if ( filterSize &gt;= TX_16X16 ) {
    mask = 0
    mask |= (Abs( p6 - p0 ) &gt; thresholdBd)
    mask |= (Abs( q6 - q0 ) &gt; thresholdBd)
    mask |= (Abs( p5 - p0 ) &gt; thresholdBd)
    mask |= (Abs( q5 - q0 ) &gt; thresholdBd)
    mask |= (Abs( p4 - p0 ) &gt; thresholdBd)
    mask |= (Abs( q4 - q0 ) &gt; thresholdBd)
    flatMask2 = (mask == 0)
}
</code></pre>

<h5 id="narrow-filter-process">Narrow Filter Process</h5>

<p>The inputs to this filter are:</p>

<ul>
  <li>
    <p>a variable hevMask specifying whether this is a high edge variance case,</p>
  </li>
  <li>
    <p>variables x, y specifying the the location within CurrFrame[ plane ],</p>
  </li>
  <li>
    <p>a variable plane specifying whether the block is the Y, U or V plane,</p>
  </li>
  <li>
    <p>variables limit, blimit, thresh that specify the strength of the filtering
operation,</p>
  </li>
  <li>
    <p>variables dx and dy specifying the direction perpendicular to the edge
being filtered.</p>
  </li>
</ul>

<p>This process modifies up to two samples on each side of the specified boundary
depending on the value of hevMask as follows:</p>

<ul>
  <li>
    <p>If hevMask is equal to 0 (i.e. the samples do not have high edge
variance), this process modifies two samples on each side of the specified
boundary, using a filter constructed from just the inner two (one from
each side of the specified boundary).</p>
  </li>
  <li>
    <p>Otherwise (the samples do have high edge variance), this process only
modifies the one value on each side of the specified boundary, using a
filter constructed from four input samples (two from each side of the
specified boundary).</p>
  </li>
</ul>

<p>The process subtracts 0x80 &lt;&lt; (BitDepth - 8) from the input sample values so
that they are in the range -(1 &lt;&lt; (BitDepth - 1))
to (1 &lt;&lt; (BitDepth - 1)) - 1 inclusive. Intermediate values are made to be in
this range by the following function:</p>

<pre><code class="language-c">filter4_clamp( value ) {
    return Clip3( -(1 &lt;&lt; (BitDepth - 1)), (1 &lt;&lt; (BitDepth - 1)) - 1, value )
}
</code></pre>

<p>The process is specified as follows:</p>

<pre><code class="language-c">q0 = CurrFrame[ plane ][ y ][ x ]
q1 = CurrFrame[ plane ][ y + dy ][ x + dx ]
p0 = CurrFrame[ plane ][ y - dy ][ x - dx ]
p1 = CurrFrame[ plane ][ y - dy * 2 ][ x - dx * 2 ]
ps1 = p1 - (0x80 &lt;&lt; (BitDepth - 8))
ps0 = p0 - (0x80 &lt;&lt; (BitDepth - 8))
qs0 = q0 - (0x80 &lt;&lt; (BitDepth - 8))
qs1 = q1 - (0x80 &lt;&lt; (BitDepth - 8))
filter = hevMask ? filter4_clamp( ps1 - qs1 ) : 0
filter = filter4_clamp( filter + 3 * (qs0 - ps0) )
filter1 = filter4_clamp( filter + 4 ) &gt;&gt; 3
filter2 = filter4_clamp( filter + 3 ) &gt;&gt; 3
oq0 = filter4_clamp( qs0 - filter1 ) + (0x80 &lt;&lt; (BitDepth - 8))
op0 = filter4_clamp( ps0 + filter2 ) + (0x80 &lt;&lt; (BitDepth - 8))
CurrFrame[ plane ][ y ][ x ] = oq0
CurrFrame[ plane ][ y - dy ][ x - dx ] = op0
if ( !hevMask ) {
    filter = Round2( filter1, 1 )
    oq1 = filter4_clamp( qs1 - filter ) + (0x80 &lt;&lt; (BitDepth - 8))
    op1 = filter4_clamp( ps1 + filter ) + (0x80 &lt;&lt; (BitDepth - 8))
    CurrFrame[ plane ][ y + dy ][ x + dx ] = oq1
    CurrFrame[ plane ][ y - dy * 2 ][ x - dx * 2 ] = op1
}
</code></pre>

<h5 id="wide-filter-process">Wide Filter Process</h5>

<p>The inputs to this filter are:</p>

<ul>
  <li>
    <p>variables x, y specifying the the location within CurrFrame[ plane ],</p>
  </li>
  <li>
    <p>a variable plane specifying whether the block is the Y, U or V plane,</p>
  </li>
  <li>
    <p>variables dx and dy specifying the direction perpendicular to the edge
being filtered,</p>
  </li>
  <li>
    <p>a variable log2Size specifying the base 2 logarithm of the number of taps.</p>
  </li>
</ul>

<p>This filter is only applied when samples from each side of the boundary are
detected to be in a flat region.</p>

<p>The variable n (specifying the number of filter taps on each side of the
central sample) is set as follows:</p>

<ul>
  <li>
    <p>If log2Size is equal to 4, n is set equal to 6.</p>
  </li>
  <li>
    <p>Otherwise if plane is equal to 0, n is set equal to 3.</p>
  </li>
  <li>
    <p>Otherwise (log2Size is equal to 3 and plane is greater than 0), n is set equal to 2.</p>
  </li>
</ul>

<p>The variable n2 (specifying the number of filter taps equal to 2 on each side of the central sample needed to give a unity DC gain) is set as follows:</p>

<ul>
  <li>
    <p>If log2Size is equal to 3 and plane is equal to 0, n2 is set equal to 0.</p>
  </li>
  <li>
    <p>Otherwise (log2Size is equal to 4 or plane is greater than 0), n2 is set equal to 1.</p>
  </li>
</ul>

<p>This process modifies the samples on each side of the specified boundary by
applying a low pass filter as follows:</p>

<pre><code class="language-c">for( i = -n; i &lt; n; i++ ) {
    t = 0
    for( j = -n; j &lt;= n; j++ ) {
        p = Clip3( -( n + 1 ), n, i + j )
        tap = ( Abs( j ) &lt;= n2 ) ? 2 : 1
        t += CurrFrame[ plane ][ y + p * dy ][ x + p * dx ] * tap
    }
    F[ i ] = Round2( t, log2Size )
}
for( i = -n; i &lt; n; i++ )
    CurrFrame[ plane ][ y+i * dy ][ x+i * dx ] = F[ i ]
</code></pre>

<p>where F is an array with indices from -n to n - 1 used to store the filtered
results.</p>

<h3 id="cdef-process">CDEF Process</h3>

<p>Input to this process is the array CurrFrame of reconstructed samples.</p>

<p>Output from this process is the array CdefFrame containing deringed
samples.</p>

<p>The purpose of CDEF is to perform deringing based on the detected direction of blocks.</p>

<p>CDEF parameters are stored for each 64 by 64 block of pixels.</p>

<p>The CDEF filter is applied on each 8 by 8 block of pixels as follows:</p>

<pre><code class="language-c">step4 = Num_4x4_Blocks_Wide[ BLOCK_8X8 ]
cdefSize4 = Num_4x4_Blocks_Wide[ BLOCK_64X64 ]
cdefMask4 = ~(cdefSize4 - 1)
for (r = 0; r &lt; MiRows; r += step4) {
    for (c = 0; c &lt; MiCols; c += step4) {
          baseR = r &amp; cdefMask4
          baseC = c &amp; cdefMask4
          idx = cdef_idx[ baseR ][ baseC ]
          cdef_block(r, c, idx)
    }
}
</code></pre>

<p>When the cdef_block function is called, the CDEF block process specified in <a href="#cdef-block-process">section 7.11.1</a> is invoked with r, c, and idx as inputs.</p>

<h4 id="cdef-block-process">CDEF Block Process</h4>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>variables r and c specifying the location of an 8x8 block in units
    of 4x4 blocks in the luma plane,</p>
  </li>
  <li>
    <p>a variable idx specifying which set of CDEF parameters to use, or -1 to signal that no filtering should be applied.</p>
  </li>
</ul>

<p>The block is first copied to the CdefFrame as follows:</p>

<pre><code class="language-c">startY = r * MI_SIZE
endY = startY + MI_SIZE * 2
startX = c * MI_SIZE
endX = startX + MI_SIZE * 2
for( y = startY; y &lt; endY; y++ ) {
    for( x = startX; x &lt; endX; x++ ) {
        CdefFrame[ 0 ][ y ][ x ] = CurrFrame[ 0 ][ y ][ x ]
    }
}
startY &gt;&gt;= subsampling_y
endY &gt;&gt;= subsampling_y
startX &gt;&gt;= subsampling_x
endX &gt;&gt;= subsampling_x
for( y = startY; y &lt; endY; y++ ) {
    for( x = startX; x &lt; endX; x++ ) {
        CdefFrame[ 1 ][ y ][ x ] = CurrFrame[ 1 ][ y ][ x ]
        CdefFrame[ 2 ][ y ][ x ] = CurrFrame[ 2 ][ y ][ x ]
    }
}
</code></pre>

<p class="alert alert-info"><strong>Note</strong> If CDEF filtering turns out to be needed, then the contents of
CdefFrame will be overwritten later in this process.</p>

<p>If idx is equal to -1, then the process returns immediately after performing this copy.</p>

<p>The variable coeffShift is set equal to BitDepth - 8.</p>

<p>The variable skip is set equal to Skips[ r ][ c ].</p>

<p>The variable filterY (that says if the filter should be applied to the luma samples) is set equal to ( !skip ).</p>

<p>The variable filterUV (that says if the filter should be applied to the chroma samples) is set equal to ( !skip ).</p>

<p>If filterY is equal to 1 or filterUV is equal to 1, the CDEF direction process specified in <a href="#cdef-direction-process">section 7.11.2</a> is invoked with r and c as inputs, and the outputs assigned to variables yDir and var.</p>

<p>If filterY is equal to 1, the following ordered steps apply:</p>

<ol>
  <li>
    <p>The variable priStr is set equal to cdef_y_pri_strength[ idx ] &lt;&lt; coeffShift.</p>
  </li>
  <li>
    <p>The variable secStr is set equal to cdef_y_sec_strength[ idx ] &lt;&lt; coeffShift.</p>
  </li>
  <li>
    <p>The variable dir is set equal to ( priStr == 0 ) ? 0 : yDir.</p>
  </li>
  <li>
    <p>The variable varStr is set equal to ( var &gt;&gt; 6 ) ? Min( floor( log2( var &gt;&gt; 6 ) ), 12) : 0.</p>
  </li>
  <li>
    <p>The variable priStr is set equal to ( var ? ( priStr * ( 4 + varStr ) + 8 ) &gt;&gt; 4 : 0 ).</p>
  </li>
  <li>
    <p>The variable damping is set equal to CdefDamping + coeffShift.</p>
  </li>
  <li>
    <p>The CDEF filter process specified in <a href="#cdef-filter-process">section 7.11.3</a> is invoked with plane equal to 0, r, c, priStr, secStr, damping, and dir as input.</p>
  </li>
</ol>

<p>If filterUV is equal to 1, the following ordered steps apply:</p>

<ol>
  <li>
    <p>The variable priStr is set equal to cdef_uv_pri_strength[ idx ] &lt;&lt; coeffShift.</p>
  </li>
  <li>
    <p>The variable secStr is set equal to cdef_uv_sec_strength[ idx ] &lt;&lt; coeffShift.</p>
  </li>
  <li>
    <p>The variable dir is set equal to ( priStr == 0 ) ? 0 : yDir.</p>
  </li>
  <li>
    <p>The variable damping is set equal to CdefDamping + coeffShift.</p>
  </li>
  <li>
    <p>The CDEF filter process specified in <a href="#cdef-filter-process">section 7.11.3</a> is invoked with plane equal to 1, r, c, priStr, secStr, damping, and dir as input.</p>
  </li>
  <li>
    <p>The CDEF filter process specified in <a href="#cdef-filter-process">section 7.11.3</a> is invoked with plane equal to 2, r, c, priStr, secStr, damping, and dir as input.</p>
  </li>
</ol>

<h4 id="cdef-direction-process">CDEF Direction Process</h4>

<p>The inputs to this process are variables r and c specifying the location of an 8x8 block in units of 4x4 blocks in the luma plane.</p>

<p>The outputs of this process are:</p>

<ul>
  <li>
    <p>a variable yDir containing the direction of this block,</p>
  </li>
  <li>
    <p>a variable var containing the variance for this block.</p>
  </li>
</ul>

<p>This block uses luma samples to measure the direction and variance of a block.</p>

<p>The process is specified as:</p>

<pre><code class="language-c">for (i = 0; i &lt; 8; i++) {
    cost[i] = 0
    for (j = 0; j &lt; 15; j++)
        partial[i][j] = 0
}
bestCost = 0
yDir = 0
x0 = c &lt;&lt; MI_SIZE_LOG2
y0 = r &lt;&lt; MI_SIZE_LOG2
for (i = 0; i &lt; 8; i++) {
    for (j = 0; j &lt; 8; j++) {
        x = (CurrFrame[ 0 ][y0 + i][x0 + j] &gt;&gt; (BitDepth - 8)) - 128
        partial[0][i + j] += x
        partial[1][i + j / 2] += x
        partial[2][i] += x
        partial[3][3 + i - j / 2] += x
        partial[4][7 + i - j] += x
        partial[5][3 - i / 2 + j] += x
        partial[6][j] += x
        partial[7][i / 2 + j] += x
    }
}
for (i = 0; i &lt; 8; i++) {
    cost[2] += partial[2][i] * partial[2][i]
    cost[6] += partial[6][i] * partial[6][i]
}
cost[2] *= Div_Table[8]
cost[6] *= Div_Table[8]
for (i = 0; i &lt; 7; i++) {
    cost[0] += (partial[0][i] * partial[0][i] +
                partial[0][14 - i] * partial[0][14 - i]) *
               Div_Table[i + 1]
    cost[4] += (partial[4][i] * partial[4][i] +
                partial[4][14 - i] * partial[4][14 - i]) *
               Div_Table[i + 1]
}
cost[0] += partial[0][7] * partial[0][7] * Div_Table[8]
cost[4] += partial[4][7] * partial[4][7] * Div_Table[8]
for (i = 1; i &lt; 8; i += 2) {
    for (j = 0; j &lt; 4 + 1; j++) {
      cost[i] += partial[i][3 + j] * partial[i][3 + j]
    }
    cost[i] *= Div_Table[8]
    for (j = 0; j &lt; 4 - 1; j++) {
        cost[i] += (partial[i][j] * partial[i][j] +
                  partial[i][10 - j] * partial[i][10 - j]) *
                  Div_Table[2 * j + 2]
    }
}
for (i = 0; i &lt; 8; i++) {
    if (cost[i] &gt; bestCost) {
      bestCost = cost[i]
      yDir = i
    }
}
var = (bestCost - cost[(yDir + 4) &amp; 7]) &gt;&gt; 10
</code></pre>

<p>where the Div_Table is a constant lookup table specified as:</p>

<pre><code class="language-c">Div_Table[9] = { 
    0, 840, 420, 280, 210, 168, 140, 120, 105
}
</code></pre>

<h4 id="cdef-filter-process">CDEF Filter Process</h4>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>a variable plane specifying which plane is being predicted,</p>
  </li>
  <li>
    <p>variables r and c specifying the location of an 8x8 block in units of 4x4 blocks in the luma plane,</p>
  </li>
  <li>
    <p>a variable priStr specifying the primary filter strength,</p>
  </li>
  <li>
    <p>a variable secStr specifying the secondary filter strength,</p>
  </li>
  <li>
    <p>a variable damping specifying a shift used for damping,</p>
  </li>
  <li>
    <p>a variable dir specifying the detected direction of the block.</p>
  </li>
</ul>

<p>The process modifies samples in CdefFrame based on filtering samples from CurrFrame.</p>

<p>The extent of the space allowed for filtering is configured depending on loop_filter_across_tiles as follows:</p>

<ul>
  <li>
    <p>If loop_filter_across_tiles is equal to 1, the following applies:</p>

    <ul>
      <li>
        <p>MiColStart is set equal to 0</p>
      </li>
      <li>
        <p>MiRowStart is set equal to 0</p>
      </li>
      <li>
        <p>MiColEnd is set equal to MiCols</p>
      </li>
      <li>
        <p>MiRowEnd is set equal to MiRows</p>
      </li>
      <li>
        <p>AboveSameTileGroup is set equal to 1</p>
      </li>
    </ul>
  </li>
  <li>
    <p>Otherwise, MiColStart, MiRowStart, MiColEnd, MiRowEnd, AboveSameTileGroup are set equal to the values they had when the syntax element MiSizes[ r ][ c ] was written.</p>
  </li>
</ul>

<p class="alert alert-info"><strong>Note:</strong> These variables are used by the is_inside function to determine which
samples are available for use in filtering. If loop_filter_across_tiles is equal
to 1, the variables are set to indicate the whole frame is available. If
loop_filter_across_tiles is equal to 0, the variables are set according to the
tile that includes the current block.</p>

<p>The variable coeffShift is set equal to BitDepth - 8.</p>

<p>The filtering is applied as follows:</p>

<pre><code class="language-c">x0 = (c * MI_SIZE ) &gt;&gt; subX
y0 = (r * MI_SIZE ) &gt;&gt; subY
w = 8 &gt;&gt; subX
h = 8 &gt;&gt; subY
for ( i = 0; i &lt; h; i++ ) {
    for (j = 0; j &lt; w; j++) {
        sum = 0
        x = CurrFrame[plane][y0 + i][x0 + j]
        max = x
        min = x
        for (k = 0; k &lt; 2; k++) {
            for (sign = -1; sign &lt;= 1; sign += 2) {
                p = cdef_get_at(plane, x0, y0, i, j, dir, k, sign, subX, subY)
                sum += Cdef_Pri_Taps[(priStr &gt;&gt; coeffShift) &amp; 1][k] * constrain(p - x, priStr, damping)
                if (p != CDEF_VERY_LARGE) {
                    max = Max(p, max)
                    min = Min(p, min)
                }
                for ( dirOff = -2; dirOff &lt;= 2; dirOff += 4) {
                    s = cdef_get_at(plane, x0, y0, i, j, (dir + dirOff) &amp; 7, k, sign, subX, subY)
                    sum += Cdef_Sec_Taps[(priStr &gt;&gt; coeffShift) &amp; 1][k] * constrain(s - x, secStr, damping)
                    if (s != CDEF_VERY_LARGE) {
                        max = Max(s, max)
                        min = Min(s, min)
                    }
                }
            } 
        }
        CdefFrame[plane][y0 + i][x0 + j] = Clip3(min, max, x + ((8 + sum - (sum &lt; 0)) &gt;&gt; 4) )
    }
}
</code></pre>

<p>where Cdef_Pri_Taps and Cdef_Sec_Taps are constant lookup tables specified as:</p>

<pre><code class="language-c">Cdef_Pri_Taps[2][2] = { 
    { 4, 2 }, { 3, 3 } 
}

Cdef_Sec_Taps[2][2] = { 
    { 2, 1 }, { 2, 1 } 
}
</code></pre>

<p>constrain is specified as:</p>

<pre><code class="language-c">constrain(diff, threshold, damping) {
    if ( !threshold )
      return 0
    dampingAdj = Max(0, damping - floor( log2( threshold ) ) )
    sign = (diff &lt; 0) ? -1 : 1
    return sign * Clip3(0, Abs(diff), threshold - (Abs(diff) &gt;&gt; dampingAdj) )
}
</code></pre>

<p>and cdef_get_at fetches a pixel from CurrFrame if it is available, or returns CDEF_VERY_LARGE otherwise, and is defined as:</p>

<pre><code class="language-c">cdef_get_at(plane, x0, y0, i, j, dir, k, sign, subX, subY) {
    if ( subX != subY )
       dir = subX ? Cdef_422Directions[ dir ] : Cdef_440Directions[ dir ]
    y = y0 + i + sign * Cdef_Directions[dir][k][0]
    x = x0 + j + sign * Cdef_Directions[dir][k][1]
    candidateR = (y &lt;&lt; subY) &gt;&gt; MI_SIZE_LOG2
    candidateC = (x &lt;&lt; subX) &gt;&gt; MI_SIZE_LOG2
    if ( is_inside( candidateR, candidateC ) )
        return CurrFrame[ plane ][ y ][ x ]
    else
        return CDEF_VERY_LARGE
}
</code></pre>

<p>where Cdef_Directions, Cdef_422Directions and Cdef_440Directions are constant lookup tables defined as:</p>

<pre><code class="language-c">Cdef_Directions[8][2][2] = {
  { { -1, 1 }, { -2,  2 } },
  { {  0, 1 }, { -1,  2 } },
  { {  0, 1 }, {  0,  2 } },
  { {  0, 1 }, {  1,  2 } },
  { {  1, 1 }, {  2,  2 } },
  { {  1, 0 }, {  2,  1 } },
  { {  1, 0 }, {  2,  0 } },
  { {  1, 0 }, {  2, -1 } }
}

Cdef_422Directions[8] = { 7, 0, 2, 4, 5, 6, 6, 6 }

Cdef_440Directions[8] = { 1, 2, 2, 2, 3, 4, 6, 0 }

</code></pre>

<h3 id="upscaling-process">Upscaling Process</h3>

<p>Input to this process is an array inputFrame of width FrameWidth and height FrameHeight.</p>

<p>The variable UpscaledWidth is set equal to (FrameWidth * SUPERRES_NUM + (superres_denom / 2)) / superres_denom.</p>

<p>The output of this process is a horizontally upscaled frame of width UpscaledWidth and height FrameHeight.</p>

<p>If use_superres is equal to 0, no upscaling is required and this process returns inputFrame.</p>

<p>The variables subX and subY are set equal to the subsampling for the current
plane as follows:</p>

<ul>
  <li>
    <p>If plane is equal to 0, subX is set equal to 0 and subY is set equal to 0.</p>
  </li>
  <li>
    <p>Otherwise, subX is set equal to subsampling_x and subY is set equal to
   subsampling_y.</p>
  </li>
</ul>

<p>This process is specified as:</p>

<pre><code class="language-c">for (plane = 0; plane &lt; 3; plane++) {
    if ( plane &gt; 0 ) {
        subX = subsampling_x
        subY = subsampling_y
    } else {
        subX = 0
        subY = 0
    }
    downscaledPlaneW = Round2(FrameWidth, subX)
    upscaledPlaneW = Round2(UpscaledWidth, subX)
    planeH = Round2(upscaled_height, subY)
    stepX = ((downscaledPlaneW &lt;&lt; SUPERRES_SCALE_BITS) + (upscaledPlaneW / 2)) / upscaledPlaneW
    err = (upscaledPlaneW * stepX) - (downscaledPlaneW &lt;&lt; SUPERRES_SCALE_BITS)
    initialSubpelX =
      (-((upscaledPlaneW - downscaledPlaneW) &lt;&lt; (SUPERRES_SCALE_BITS - 1)) + upscaledPlaneW / 2) / upscaledPlaneW +
      (1 &lt;&lt; (SUPERRES_EXTRA_BITS - 1)) - err / 2
    initialSubpelX &amp;= SUPERRES_SCALE_MASK
    for (i = 0; i &lt; TileCols; i++) {
        downscaledX0 = MiColStarts[i] &lt;&lt; (MI_SIZE_LOG2 - subX)
        upscaledX0 = (downscaledX0 * superres_denom) / SUPERRES_NUM
        if (i == TileCols - 1) {
            upscaledX1 = upscaledPlaneW
        } else {
            fullTileX1 = MiColStarts[i+1] &lt;&lt; (MI_SIZE_LOG2 - subX)
            upscaledX1 = (fullTileX1 * superres_denom) / SUPERRES_NUM
        }
        for (y = 0; y &lt; planeH; y++) {
            for (x = upscaledX0; x &lt; upscaledX1; x++) {
                srcX = -(1 &lt;&lt; SUPERRES_SCALE_BITS) + initialSubpelX + x*stepX
                srcXPx = (srcX &gt;&gt; SUPERRES_SCALE_BITS)
                srcXSubpel = (srcX &amp; SUPERRES_SCALE_MASK) &gt;&gt; SUPERRES_EXTRA_BITS
                sum = 0
                for (k = 0; k &lt; SUPERRES_FILTER_TAPS; k++) {
                    sampleX = Clip3(0, downscaledPlaneW-1, srcXPx + (k - SUPERRES_FILTER_OFFSET))
                    px = frame[plane][sampleX][y]
                    sum += px * Upscale_Filter[srcXSubpel][k]
                }
                outputFrame[plane][x][y] = Clip1(Round2(sum, SUPERRES_FILTER_BITS))
            }
        }
      }
    }
}
</code></pre>

<p>where Upscale_Filter is specified as:</p>

<pre><code class="language-c">Upscale_Filter[SUPERRES_FILTER_SHIFTS][SUPERRES_FILTER_TAPS] = {
  { 0, 0, 0, 128, 0, 0, 0, 0 },        { 0, 0, -1, 128, 2, -1, 0, 0 },
  { 0, 1, -3, 127, 4, -2, 1, 0 },      { 0, 1, -4, 127, 6, -3, 1, 0 },
  { 0, 2, -6, 126, 8, -3, 1, 0 },      { 0, 2, -7, 125, 11, -4, 1, 0 },
  { -1, 2, -8, 125, 13, -5, 2, 0 },    { -1, 3, -9, 124, 15, -6, 2, 0 },
  { -1, 3, -10, 123, 18, -6, 2, -1 },  { -1, 3, -11, 122, 20, -7, 3, -1 },
  { -1, 4, -12, 121, 22, -8, 3, -1 },  { -1, 4, -13, 120, 25, -9, 3, -1 },
  { -1, 4, -14, 118, 28, -9, 3, -1 },  { -1, 4, -15, 117, 30, -10, 4, -1 },
  { -1, 5, -16, 116, 32, -11, 4, -1 }, { -1, 5, -16, 114, 35, -12, 4, -1 },
  { -1, 5, -17, 112, 38, -12, 4, -1 }, { -1, 5, -18, 111, 40, -13, 5, -1 },
  { -1, 5, -18, 109, 43, -14, 5, -1 }, { -1, 6, -19, 107, 45, -14, 5, -1 },
  { -1, 6, -19, 105, 48, -15, 5, -1 }, { -1, 6, -19, 103, 51, -16, 5, -1 },
  { -1, 6, -20, 101, 53, -16, 6, -1 }, { -1, 6, -20, 99, 56, -17, 6, -1 },
  { -1, 6, -20, 97, 58, -17, 6, -1 },  { -1, 6, -20, 95, 61, -18, 6, -1 },
  { -2, 7, -20, 93, 64, -18, 6, -2 },  { -2, 7, -20, 91, 66, -19, 6, -1 },
  { -2, 7, -20, 88, 69, -19, 6, -1 },  { -2, 7, -20, 86, 71, -19, 6, -1 },
  { -2, 7, -20, 84, 74, -20, 7, -2 },  { -2, 7, -20, 81, 76, -20, 7, -1 },
  { -2, 7, -20, 79, 79, -20, 7, -2 },  { -1, 7, -20, 76, 81, -20, 7, -2 },
  { -2, 7, -20, 74, 84, -20, 7, -2 },  { -1, 6, -19, 71, 86, -20, 7, -2 },
  { -1, 6, -19, 69, 88, -20, 7, -2 },  { -1, 6, -19, 66, 91, -20, 7, -2 },
  { -2, 6, -18, 64, 93, -20, 7, -2 },  { -1, 6, -18, 61, 95, -20, 6, -1 },
  { -1, 6, -17, 58, 97, -20, 6, -1 },  { -1, 6, -17, 56, 99, -20, 6, -1 },
  { -1, 6, -16, 53, 101, -20, 6, -1 }, { -1, 5, -16, 51, 103, -19, 6, -1 },
  { -1, 5, -15, 48, 105, -19, 6, -1 }, { -1, 5, -14, 45, 107, -19, 6, -1 },
  { -1, 5, -14, 43, 109, -18, 5, -1 }, { -1, 5, -13, 40, 111, -18, 5, -1 },
  { -1, 4, -12, 38, 112, -17, 5, -1 }, { -1, 4, -12, 35, 114, -16, 5, -1 },
  { -1, 4, -11, 32, 116, -16, 5, -1 }, { -1, 4, -10, 30, 117, -15, 4, -1 },
  { -1, 3, -9, 28, 118, -14, 4, -1 },  { -1, 3, -9, 25, 120, -13, 4, -1 },
  { -1, 3, -8, 22, 121, -12, 4, -1 },  { -1, 3, -7, 20, 122, -11, 3, -1 },
  { -1, 2, -6, 18, 123, -10, 3, -1 },  { 0, 2, -6, 15, 124, -9, 3, -1 },
  { 0, 2, -5, 13, 125, -8, 2, -1 },    { 0, 1, -4, 11, 125, -7, 2, 0 },
  { 0, 1, -3, 8, 126, -6, 2, 0 },      { 0, 1, -3, 6, 127, -4, 1, 0 },
  { 0, 1, -2, 4, 127, -3, 1, 0 },      { 0, 0, -1, 2, 128, -1, 0, 0 },
}
</code></pre>

<p>The output of this process is equal to outputFrame.</p>

<h3 id="loop-restoration-process">Loop Restoration Process</h3>

<p>Input to this process are the arrays CurrFrame (of reconstructed samples) and CdefFrame (of deringed samples).</p>

<p>Output from this process is the array LrFrame of loop restored samples.</p>

<p class="alert alert-info"><strong>Note:</strong>
Although in this process we loop over 4x4 blocks,
loop restoration is designed to work in stripes 64 luma pixels high without needing additional line buffers.
Samples within the current stripe are fetched from CdefFrame. 
Samples outside the current stripe are fetched from CurrFrame (these samples will be deblocked, but will not have CDEF filtering applied).</p>

<p>The array LrFrame is set equal to a copy CdefFrame.  (The contents of LrFrame will later be overwritten for blocks that require restoration filtering.)</p>

<p>Next, loop restoration is applied for each 4x4 block of each plane as follows:</p>

<pre><code class="language-c">for ( row = 0; row &lt; MiRows; row++ ) {
    for ( col = 0; col &lt; MiCols; col++ ) {
        for ( plane = 0; plane &lt; 3; plane++ ) {
            loop_restore_block( plane, row, col)
        }
    }
}
</code></pre>

<p>When loop_restore_block is called, the loop restore block process in <a href="#loop-restore-block-process">section 7.13.1</a> is invoked with plane, row, and col as inputs.</p>

<h4 id="loop-restore-block-process">Loop Restore Block Process</h4>

<p>The inputs to this block are:</p>

<ul>
  <li>
    <p>a variable plane specifying whether we are filtering Y, U, or V samples,</p>
  </li>
  <li>
    <p>variables row and col specifying the location of the block in units
of 4x4 blocks in the luma plane.</p>
  </li>
</ul>

<p>The output of this process are samples in LrFrame[ plane ].</p>

<p>The variables TileNum, MiColStart, MiRowStart, MiColEnd, MiRowEnd are set equal to the values they had when the syntax element MiSizes[ row ][ col ] was written.</p>

<p>The variable lumaY is set equal to row * MI_SIZE.</p>

<p>The variable stripeNum (specifying the zero-based index of the current stripe) is set equal to (lumaY + 8) / 64.</p>

<p class="alert alert-info"><strong>Note:</strong> The stripes are offset upwards by 8 luma pixels to make pipelined implementations more efficient.
When a row of superblocks has been received, enough rows of deblocked output can be produced to allow loop restoration of the corresponding stripes.</p>

<p>The variables subX and subY are set equal to the subsampling for the current
plane as follows:</p>

<ul>
  <li>
    <p>If plane is equal to 0, subX is set equal to 0 and subY is set equal to 0.</p>
  </li>
  <li>
    <p>Otherwise, subX is set equal to subsampling_x and subY is set equal to
   subsampling_y.</p>
  </li>
</ul>

<p>The variable StripeStartY (specifying the start of the stripe in units of samples in the current plane) is set equal to ( (-8 + stripeNum * 64) &gt;&gt; subY ).</p>

<p>The variable StripeEndY (specifying the end of the stripe in units of samples in the current plane) is set equal to StripeStartY + (64 &gt;&gt; subY) - 1.</p>

<p class="alert alert-info"><strong>Note:</strong> StripeStartY and StripeEndY are used by the get source sample process to decide whether to fetch from CurrFrame or CdefFrame.</p>

<p>The variable unitSize (specifying the size of restoration units in units of samples in the current plane) is set equal to LoopRestorationSize[ plane ].</p>

<p>The variable unitRows (specifying the number of restoration units down the tile) is set equal to count_units_in_tile( unitSize, (MiRowEnd - MiRowStart) * MI_SIZE &gt;&gt; subY ).</p>

<p>The variable unitCols (specifying the number of restoration units across the tile) is set equal to count_units_in_tile( unitSize, (MiColEnd - MiColStart) * MI_SIZE &gt;&gt; subX ).</p>

<p class="alert alert-info"><strong>Note:</strong> The number of restoration units in a tile can be different for chroma and luma.</p>

<p>The variable unitRow (specifying the vertical index of the current loop restoration unit) is set equal to Min( unitRows - 1, (row - MiRowStart) / unitSize).</p>

<p>The variable unitCol (specifying the horizontal index of the current loop restoration unit) is set equal to Min( unitCols - 1, (col - MiColStart) / unitSize).</p>

<p>The extent of the space allowed for filtering is configured depending on loop_filter_across_tiles as follows:</p>

<ul>
  <li>
    <p>If loop_filter_across_tiles is equal to 1, the following applies:</p>

    <ul>
      <li>
        <p>TileStartX is set equal to 0</p>
      </li>
      <li>
        <p>TileStartY is set equal to 0</p>
      </li>
      <li>
        <p>TileEndX is set equal to (MiCols * MI_SIZE &gt;&gt; subX) - 1</p>
      </li>
      <li>
        <p>TileEndY is set equal to (MiRows * MI_SIZE &gt;&gt; subY) - 1</p>
      </li>
    </ul>
  </li>
  <li>
    <p>Otherwise (loop_filter_across_tiles is equal to 0), the following applies:</p>

    <ul>
      <li>
        <p>TileStartX is set equal to (MiColStart * MI_SIZE &gt;&gt; subX)</p>
      </li>
      <li>
        <p>TileStartY is set equal to (MiRowStart * MI_SIZE &gt;&gt; subY)</p>
      </li>
      <li>
        <p>TileEndX is set equal to (MiColEnd * MI_SIZE &gt;&gt; subX) - 1</p>
      </li>
      <li>
        <p>TileEndY is set equal to (MiRowEnd * MI_SIZE &gt;&gt; subY) - 1</p>
      </li>
    </ul>
  </li>
</ul>

<p>The variable x is set equal to ( col * MI_SIZE &gt;&gt; subX ).</p>

<p>The variable y is set equal to ( row * MI_SIZE &gt;&gt; subY ).</p>

<p>The variable w is set equal to ( MI_SIZE &gt;&gt; subX ).</p>

<p>The variable h is set equal to ( MI_SIZE &gt;&gt; subY ).</p>

<p>(Variables x and y represent the position of the block in samples relative to the top-left corner of the current plane.
Variables w and h represent the size of the block in samples.)</p>

<p class="alert alert-info"><strong>Note:</strong> Although we describe the filter as operating on small blocks, the output will be the same
if larger blocks are used - provided all contained samples belong to the same loop restoration unit.</p>

<p>The variable rType (specifying the loop restoration type) is set equal to LrType[ TileNum ][ plane ][ unitRow ][ unitCol ].</p>

<p>The filter to used depends on rType as follows:</p>

<ul>
  <li>
    <p>If rType is equal to RESTORE_WIENER, the Wiener filter process specified in <a href="#wiener-filter-process">section 7.13.4</a> is invoked with plane, unitRow, unitCol, x, y, w, and h as inputs.</p>
  </li>
  <li>
    <p>Otherwise, if rType is equal to RESTORE_SGRPROJ, the self guided filter process specified in <a href="#self-guided-filter-process">section 7.13.2</a> is invoked with plane, unitRow, unitCol, x, y, w, and h as inputs.</p>
  </li>
  <li>
    <p>Otherwise (rType is equal to RESTORE_NONE), no filtering is applied.</p>
  </li>
</ul>

<h4 id="self-guided-filter-process">Self Guided Filter Process</h4>

<p>The inputs to this block are:</p>

<ul>
  <li>
    <p>a variable plane specifying whether we are filtering Y, U, or V samples,</p>
  </li>
  <li>
    <p>variables unitRow and unitCol specifying the offset of the loop restoration unit with the current tile,</p>
  </li>
  <li>
    <p>variables x and y specifying the position of the block in samples relative to the top-left corner of the current plane,</p>
  </li>
  <li>
    <p>variables w and h specifying the size of the block in samples.</p>
  </li>
</ul>

<p>The arrays flt1 and flt2 are prepared by the following ordered steps:</p>

<ol>
  <li>
    <p>The variable set is set equal to LrSgrSet[ TileNum ][ plane ][ unitRow ][ unitCol ].</p>
  </li>
  <li>
    <p>The variable pass is set equal to 0.</p>
  </li>
  <li>
    <p>The box filter process specified in <a href="#box-filter-process">section 7.13.3</a> is invoked with plane, x, y, w, h, set, and pass as inputs, and the output assigned to flt1.</p>
  </li>
  <li>
    <p>The variable pass is set equal to 1.</p>
  </li>
  <li>
    <p>The box filter process specified in <a href="#box-filter-process">section 7.13.3</a> is invoked with plane, x, y, w, h, set, and pass as inputs, and the output assigned to flt2.</p>
  </li>
</ol>

<p>The restoration process is then applied for each sample as follows:</p>

<pre><code class="language-c">xqd0 = LrSgrXqd[ TileNum ][ plane ][ unitRow ][ unitCol ][ 0 ]
xqd1 = LrSgrXqd[ TileNum ][ plane ][ unitRow ][ unitCol ][ 1 ]
xq0 = xqd0
xq1 = (1 &lt;&lt; SGRPROJ_PRJ_BITS) - xq0 - xqd1
for ( i = 0; i &lt; h; i++ ) {
    for ( j = 0; j &lt; w; j++ ) {
        u = CdefFrame[ plane ][ y + i ][ x + j ] &lt;&lt; SGRPROJ_RST_BITS
        f1 = flt1[ i ][ j ] - u
        f2 = flt2[ i ][ j ] - u
        v = xq0 * f1 + xq1 * f2 + (u &lt;&lt; SGRPROJ_PRJ_BITS)
        w = Round2( v, SGRPROJ_RST_BITS + SGRPROJ_PRJ_BITS )
        LrFrame[ plane ][ y + i ][ x + j ] = Clip1( w )
    }
}
</code></pre>

<h4 id="box-filter-process">Box Filter Process</h4>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>a variable plane specifying whether we are filtering Y, U, or V samples,</p>
  </li>
  <li>
    <p>variables x and y specifying the position of the block in samples relative to the top-left corner of the current plane,</p>
  </li>
  <li>
    <p>variables w and h specifying the size of the block in samples,</p>
  </li>
  <li>
    <p>a variable set specifying the strength of the filtering,</p>
  </li>
  <li>
    <p>a variable pass (equal to 0 or 1), specifying if we are generating the first or second filterred output.</p>
  </li>
</ul>

<p>The output of this process is a 2d array F.</p>

<p>The variable r (specifying that the box filters have side length 2*r+1) is set equal to Sgr_Params[ set ][ pass * 2 + 0 ].</p>

<p>The variable eps (specifying a scaling for the output) is set equal to Sgr_Params[ set ][ pass * 2 + 1 ].</p>

<p>The 2d arrays A and B (note these arrays are valid for coordinates including an extra sample around the boundary) are prepared as follows:</p>

<pre><code class="language-c">n = ( 2 * r + 1 ) * ( 2 * r + 1 )
n2e = n * n * eps
s = (((1 &lt;&lt; SGRPROJ_MTABLE_BITS) + n2e / 2) / n2e)
for ( i = -1; i &lt; h + 1; i++ ) {
    for ( j = -1; j &lt; w + 1; j++ ) {
        a = 0
        b = 0
        for ( dy = -r ; dy &lt;= r; dy++ ) {
            for ( dx = -r; dx &lt;= r; dx++ ) {
                c = get_source_sample( plane, x + j + dx, y + i + dy )
                a += c * c
                b += c
            }
        }
        a = Round2( a, 2 * (BitDepth - 8) )
        b = Round2( b, BitDepth - 8 )
        p = Max( 0, a * n - b * b )
        z = Round2( p * s, SGRPROJ_MTABLE_BITS )
        if ( z &gt;= 255 )
            a2 = 256
        else
            a2 = ((z &lt;&lt; SGRPROJ_SGR_BITS) + (z/2)) / (z + 1)
        oneOverN = ((1 &lt;&lt; SGRPROJ_RECIP_BITS) + (n/2)) / n
        b2 = ( (1 &lt;&lt; SGRPROJ_SGR_BITS) - a2 ) * b * oneOverN
        A[ i ][ j ] = a2
        B[ i ][ j ] = Round2( b2, SGRPROJ_RECIP_BITS )
    }
}
</code></pre>

<p>where the call to get_source_sample specifies that the get source sample process specified in <a href="#get-source-sample-process">section 7.13.6</a> should be invoked
and the output assigned to variable c.</p>

<p>After A and B are prepared, the output array F is generated as follows:</p>

<pre><code class="language-c">for ( i = 0; i &lt; h; i++ ) {
    for ( j = 0; j &lt; w; j++ ) {
        a = 0
        b = 0
        for ( dy = -1 ; dy &lt;= 1; dy++ ) {
            for ( dx = -1; dx &lt;= 1; dx++ ) {
                weight = (dx == 0 || dy == 0) ? 4 : 3
                a += weight * A[ i + dy ][ j + dx ]
                b += weight * B[ i + dy ][ j + dx ]
            }
        }
        v = a * CdefFrame[ plane ][ y + i ][ x + j ] + b
        F[ i ][ j ] = Round2( v, SGRPROJ_SGR_BITS + 5 - SGRPROJ_RST_BITS)
    }   
}
</code></pre>

<p>The constant lookup table Sgr_Params is specified as:</p>

<pre><code class="language-c">Sgr_Params[ (1 &lt;&lt; SGRPROJ_PARAMS_BITS) ][ 4 ] = {
  { 2, 12, 1, 4 },  { 2, 15, 1, 6 },  { 2, 18, 1, 8 },  { 2, 20, 1, 9 },
  { 2, 22, 1, 10 }, { 2, 25, 1, 11 }, { 2, 35, 1, 12 }, { 2, 45, 1, 13 },
  { 2, 55, 1, 14 }, { 2, 65, 1, 15 }, { 2, 75, 1, 16 }, { 2, 30, 1, 6 },
  { 2, 50, 1, 12 }, { 2, 60, 1, 13 }, { 2, 70, 1, 14 }, { 2, 80, 1, 15 }
}
</code></pre>

<h4 id="wiener-filter-process">Wiener Filter Process</h4>

<p>The inputs to this block are:</p>

<ul>
  <li>
    <p>a variable plane specifying whether we are filtering Y, U, or V samples,</p>
  </li>
  <li>
    <p>variables unitRow and unitCol specifying the offset of the loop restoration unit with the current tile,</p>
  </li>
  <li>
    <p>variables x and y specifying the position of the block in samples relative to the top-left corner of the current plane,</p>
  </li>
  <li>
    <p>variables w and h specifying the size of the block in samples.</p>
  </li>
</ul>

<p>The output from this process are modified pixels in LrFrame.</p>

<p>The sub-sample interpolation is effected via two one-dimensional convolutions.
First a horizontal filter is used to build up a temporary array, and then this
array is vertically filtered to obtain the final prediction.</p>

<p>The Wiener coefficient process specified in <a href="#wiener-coefficient-process">section 7.13.5</a> is invoked with an input of LrWiener[ TileNum ][ plane ][ unitRow ][ unitCol ][ 0 ] and the output assigned to vfilter.</p>

<p>The Wiener coefficient process specified in <a href="#wiener-coefficient-process">section 7.13.5</a> is invoked with an input of LrWiener[ TileNum ][ plane ][ unitRow ][ unitCol ][ 1 ] and the output assigned to hfilter.</p>

<p class="alert alert-info"><strong>Note:</strong> The horizontal filter needs to be applied before the vertical filter, but the horizontal coefficients are sent after the vertical coefficients.</p>

<p>The filtering is applied as follows:</p>

<ul>
  <li>
    <p>The array intermediate is specified as follows:</p>

    <pre><code class="language-c">offset = (1 &lt;&lt; (BitDepth + EXTRAPREC_BITS - 1))
limit = (1 &lt;&lt; (BitDepth + 1 + EXTRAPREC_BITS)) - 1
for ( r = 0; r &lt; h + 7; r++ ) {
    for ( c = 0; c &lt; w; c++ ) {
        s = 0
        for ( t = 0; t &lt; 7; t++ )
            s += hfilter[ t ] * get_source_sample( plane, x + c + t - 3, y + r - 3 )
        v = Round2(s, FILTER_BITS - EXTRAPREC_BITS)
        intermediate[ r ][ c ] = Clip3( -offset, limit - offset, v)
    }
}
</code></pre>

    <p>Where the call to get_source_sample specifies that the get source sample process specified in <a href="#get-source-sample-process">section 7.13.6</a> should be invoked.</p>

    <p class="alert alert-info"><strong>Note:</strong> The intermediate result is clipped so that ( intermediate[ r ][ c ] + offset ) fits in an unsigned variable with (BitDepth + 3) bits.</p>
  </li>
  <li>
    <p>The output samples are written as follows:</p>

    <pre><code class="language-c">for ( r = 0; r &lt; h; r++ ) {
    for ( c = 0; c &lt; w; c++ ) {
        s = 0
        for ( t = 0; t &lt; 7; t++ )
            s += vfilter[ t ] * intermediate[ r + t ][ c ]
        v = Round2( s, FILTER_BITS + EXTRAPREC_BITS )
        LrFrame[ plane ][ y + r ][ x + c ] = Clip1( v )
    }
}
</code></pre>
  </li>
</ul>

<h4 id="wiener-coefficient-process">Wiener Coefficient Process</h4>

<p>The input to this process is an array coeff containing 3 coefficients.</p>

<p>The output from this process is an an array containing 7 coefficients.</p>

<p>The Wiener filter is always symmetrical and has a unit DC gain, so there are only three coefficients that need to be explicitly coded.</p>

<p>This process computes the full set of coefficients as follows:</p>

<pre><code class="language-c">filter[ 3 ] = 128
for ( i = 0; i &lt; 3; i++ ) {
    c = coeff[ i ]
    filter[ i ] = c
    filter[ 6 - i ] = c
    filter[ 3 ] -= 2 * c
}
</code></pre>

<p>The output of the process is the array filter.</p>

<p class="alert alert-info"><strong>Note:</strong> When chroma is being filtered, coeff[ 0 ] will always be equal to 0, therefore filter[ 0 ] and filter[ 6 ] will always be equal to 0.
In other words, luma uses a 7-tap filter, while chroma uses a 5-tap filter.</p>

<h4 id="get-source-sample-process">Get Source Sample Process</h4>

<p>The inputs to this process are:</p>

<ul>
  <li>
    <p>a variable plane specifying whether we are filtering Y, U, or V samples,</p>
  </li>
  <li>
    <p>variables x and y specifying the location in the current plane in units of samples.</p>
  </li>
</ul>

<p>This process makes sure samples are taken from within the allowed extent for loop restoration filtering.</p>

<p>Samples within the current stripe are taken after Cdef filtering has been applied, samples outside the current stripe
are taken before Cdef filtering.</p>

<p>The sample to return is specified as follows:</p>

<pre><code class="language-c">x = Min(TileEndX, x)
x = Max(TileStartX, x)
y = Min(TileEndY, y)
y = Max(TileStartY, y)
if (y &lt; StripeStartY) {
    y = Max(StripeStartY - 2,y)
    return CurrFrame[ plane ][ y ][ x ]
} else if (y &gt; StripeEndY) {
    y = Min(StripeEndY + 2,y)
    return CurrFrame[ plane ][ y ][ x ]
} else {
    return CdefFrame[ plane ][ y ][ x ]
}
</code></pre>

<p class="alert alert-info"><strong>Note:</strong> This process can be called for samples on the three lines above and three lines below the current stripe.
However, the coordinates are cropped such that only two lines above and below the stripe need to be fetched.
In other words, requests for the third line (above or below) are given a copy of the second line.</p>

<h3 id="output-process">Output Process</h3>

<p>This process is invoked to optionally display a frame.</p>

<p>If show_existing_frame is equal to 1, then the decoder should output a previously decoded frame as follows:</p>

<ul>
  <li>
    <p>The variable w is set equal to RefFrameWidth[ frame_to_show_map_idx ].</p>
  </li>
  <li>
    <p>The variable h is set equal to RefFrameHeight[ frame_to_show_map_idx ].</p>
  </li>
  <li>
    <p>The variable subX is set equal to RefSubsamplingX[ frame_to_show_map_idx ].</p>
  </li>
  <li>
    <p>The variable subY is set equal to RefSubsamplingY[ frame_to_show_map_idx ].</p>
  </li>
  <li>
    <p>The Y plane is w samples across by h samples down and the sample at
location x samples across and y samples down is given by
FrameStore[ frame_to_show_map_idx ][ 0 ][ y ][ x ] with x = 0..w - 1
and y = 0..h - 1.</p>
  </li>
  <li>
    <p>The U plane is (w + subX) &gt;&gt; subX samples across by (h + subY) &gt;&gt; subY
samples down and the sample at location x samples across and y samples
down is given by FrameStore[ frame_to_show_map_idx ][ 1 ][ y ][ x ]
with x = 0..((w + subX) &gt;&gt; subX) - 1 and y = 0..((h + subY) &gt;&gt; subY) - 1.</p>
  </li>
  <li>
    <p>The V plane is (w + subX) &gt;&gt; subX samples across by (h + subY) &gt;&gt; subY
samples down and the sample at location x samples across and y samples
down is given by FrameStore[ frame_to_show_map_idx ][ 2 ][ x ][ y ]
with x = 0..((w + subX) &gt;&gt; subX) - 1 and y = 0..((h + subY) &gt;&gt; subY) - 1.</p>
  </li>
  <li>
    <p>The bit depth for each sample is RefBitDepth[ frame_to_show_map_idx ].</p>
  </li>
</ul>

<p>Otherwise, if show_frame is equal to 1, then the decoder should output the
    current frame as follows:</p>

<ul>
  <li>
    <p>The variable w is set equal to FrameWidth.</p>
  </li>
  <li>
    <p>The variable h is set equal to FrameHeight.</p>
  </li>
  <li>
    <p>The variable subX is set equal to subsampling_x.</p>
  </li>
  <li>
    <p>The variable subY is set equal to subsampling_y.</p>
  </li>
  <li>
    <p>The Y plane is w samples across by h samples down and the sample at
location x samples across and y samples down is given by
CdefFrame[ 0 ][ y ][ x ] with x = 0..w - 1 and y = 0..h - 1.</p>
  </li>
  <li>
    <p>The U plane is (w + subX) &gt;&gt; subX samples across by (h + subY) &gt;&gt; subY
samples down and the sample at location x samples across and y samples
down is given by CdefFrame[ 1 ][ y ][ x ]
with x = 0..((w + subX) &gt;&gt; subX) - 1 and y = 0..((h + subY) &gt;&gt; subY) - 1.</p>
  </li>
  <li>
    <p>The V plane is (w + subX) &gt;&gt; subX samples across by (h + subY) &gt;&gt; subY
samples down and the sample at location x samples across and y samples
down is given by CdefFrame[ 2 ][ x ][ y ]
with x = 0..((w + subX) &gt;&gt; subX) - 1 and y = 0..((h + subY) &gt;&gt; subY) - 1.</p>
  </li>
  <li>
    <p>The bit depth for each sample is BitDepth.</p>
  </li>
</ul>

<h3 id="reference-frame-update-process">Reference Frame Update Process</h3>

<p>This process is invoked as the final step in decoding a frame.</p>

<p>The inputs to this process are the decoded samples for the current frame
LrFrame[ plane ][ x ][ y ].</p>

<p>The output from this process is an updated set of reference frames and
previous motion vectors.</p>

<p>For each value of i from 0 to NUM_REF_FRAMES - 1, the following applies
if bit i of refresh_frame_flags is equal to 1 (i.e.
if (refresh_frame_flags &gt;&gt; i) &amp; 1 is equal to 1):</p>

<ul>
  <li>
    <p>RefFrameWidth[ i ] is set equal to FrameWidth.</p>
  </li>
  <li>
    <p>RefFrameHeight[ i ] is set equal to FrameHeight.</p>
  </li>
  <li>
    <p>RefSubsamplingX[ i ] is set equal to subsampling_x.</p>
  </li>
  <li>
    <p>RefSubsamplingY[ i ] is set equal to subsampling_y.</p>
  </li>
  <li>
    <p>RefBitDepth[ i ] is set equal to BitDepth.</p>
  </li>
  <li>
    <p>RefDecodeOrder[ i ] is set equal to DecodeOrder.</p>
  </li>
  <li>
    <p>FrameStore[ i ][ 0 ][ y ][ x ] is set equal to LrFrame[ 0 ][ y ][ x ]
for x = 0..FrameWidth-1, for y = 0..FrameHeight-1.</p>
  </li>
  <li>
    <p>FrameStore[ i ][ plane ][ y ][ x ] is set equal to
LrFrame[ plane ][ y ][ x ] for plane = 1..2,
for x = 0..((FrameWidth + subsampling_x) &gt;&gt; subsampling_x) - 1,
for y = 0..((FrameHeight + subsampling_y) &gt;&gt; subsampling_y) - 1.</p>
  </li>
  <li>
    <p>SavedMvs[ i ][ row ][ col ][ list ][ comp ] is set equal to
Mvs[ row ][ col ][ list ][ comp ] for row = 0..MiRows-1,
for col = 0..MiCols-1, for list = 0..1, for comp = 0..1.</p>
  </li>
  <li>
    <p>SavedGmParams[ i ][ ref ][ j ] is set equal to gm_params[ ref ][ j ]
for ref = LAST_FRAME..ALTREF_FRAME,
for j = 0..5.</p>
  </li>
  <li>
    <p>SavedSegmentIds[ i ][ row ][ col ] is set equal to
SegmentIds[ row ][ col ] for row = 0..MiRows-1,
for col = 0..MiCols-1.</p>
  </li>
  <li>
    <p>The function save_cdfs( i ) is invoked (see below).</p>
  </li>
</ul>

<p>save_cdfs( ctx ) is a function call that indicates that all the CDF arrays are saved into frame context number ctx in the range 0 to (NUM_REF_FRAMES - 1).
When this function is invoked the following takes place:</p>

<ul>
  <li>A copy of each CDF array mentioned in the semantics for setup_past_independence is saved in an area of memory indexed by ctx.</li>
</ul>

<p class="alert alert-info"><strong>Note:</strong> Although this process stores all the motion vectors, only the values where row and col are both odd will be used again.</p>

<h2 id="parsing-process">Parsing Process</h2>

<h3 id="parsing-process-for-fn">Parsing Process for f(n)</h3>

<p>This process is invoked when the descriptor of a syntax element in the syntax
tables is equal to f(n).</p>

<p>The next n bits are read from the bit stream.</p>

<p>This process is specified as follows:</p>

<pre><code class="language-c">x = 0
for ( i = 0; i &lt; n; i++ ) {
    x = 2 * x + read_bit( )
}
</code></pre>

<p>read_bit( ) reads the next bit from the bitstream and advances the bitstream
pointer by 1. If the bitstream is provided as a series of bytes, then the
first bit is given by the most significant bit of the first byte.</p>

<p>The value for the syntax element is given by x.</p>

<h3 id="parsing-process-for-boolean-decoder">Parsing Process for Boolean Decoder</h3>

<p>Aside from the uncompressed header and the partition sizes, the entire
bitstream is entropy coded. The entropy decoder is referred to as the “Boolean
decoder” and the function init_bool( sz ), exit_bool( ), and read_bool( p )
are used in this Specification to indicate the entropy decoding operation.</p>

<h4 id="initialization-process-for-boolean-decoder">Initialization Process for Boolean Decoder</h4>

<p>The input to this process is a variable sz specifying the number of bytes to be
read by the Boolean decoder.</p>

<p>This process is invoked when the function init_bool( sz ) is called from the
syntax structure.</p>

<p class="alert alert-info"><strong>Note:</strong> The bit position will always be byte aligned when init_bool is invoked
because the uncompressed header and the data partitions are always a whole
number of bytes long.</p>

<p>The variable UpdateCdfs (representing if this is the biggest tile seen so far) is set equal to (sz &gt; MaxTileSize).</p>

<p>The variable MaxTileSize (that tracks the largest tile size seen so far) is set equal to Max( MaxTileSize, sz ).</p>

<p>The variable buf is read using the f(15) parsing process.</p>

<p>The variable BoolValue is set to ((1 &lt;&lt; 15) - 1) ^ buf.</p>

<p>The variable BoolRange is set to 1 &lt;&lt; 15.</p>

<p>The variable BoolMaxBits is set to 8 * sz - 15.</p>

<p>A copy is made of each of the CDF arrays mentioned in the semantics for
setup_past_independence. The name of the copy is the name of the CDF array
prefixed with “Tile”.  This copying produces the following arrays:</p>

<ul>
  <li>
    <p>TileYModeCdf</p>
  </li>
  <li>
    <p>TileUVModeCdf</p>
  </li>
  <li>
    <p>TileAngleDeltaCdf</p>
  </li>
  <li>
    <p>TilePartitionW8Cdf</p>
  </li>
  <li>
    <p>TilePartitionCdf</p>
  </li>
  <li>
    <p>TileSegmentIdCdf</p>
  </li>
  <li>
    <p>TileSegmentIdPredictedCdf</p>
  </li>
  <li>
    <p>TileTx8x8Cdf</p>
  </li>
  <li>
    <p>TileTx16x16Cdf</p>
  </li>
  <li>
    <p>TileTx32x32Cdf</p>
  </li>
  <li>
    <p>TileTx64x64Cdf</p>
  </li>
  <li>
    <p>TileTxfmSplitCdf</p>
  </li>
  <li>
    <p>TileInterpFilterCdf</p>
  </li>
  <li>
    <p>TileMotionModeCdf</p>
  </li>
  <li>
    <p>TileNewMvCdf</p>
  </li>
  <li>
    <p>TileZeroMvCdf</p>
  </li>
  <li>
    <p>TileRefMvCdf</p>
  </li>
  <li>
    <p>TileCompoundModeCdf</p>
  </li>
  <li>
    <p>TileDrlModeCdf</p>
  </li>
  <li>
    <p>TileIsInterCdf</p>
  </li>
  <li>
    <p>TileCompModeCdf</p>
  </li>
  <li>
    <p>TileSkipCdf</p>
  </li>
  <li>
    <p>TileCompRefCdf</p>
  </li>
  <li>
    <p>TileCompBwdRefCdf</p>
  </li>
  <li>
    <p>TileSingleRefCdf</p>
  </li>
  <li>
    <p>TileMvJointCdf</p>
  </li>
  <li>
    <p>TileMvSignCdf</p>
  </li>
  <li>
    <p>TileMvClassCdf</p>
  </li>
  <li>
    <p>TileMvClass0BitCdf</p>
  </li>
  <li>
    <p>TileMvFrCdf</p>
  </li>
  <li>
    <p>TileMvClass0FrCdf</p>
  </li>
  <li>
    <p>TileMvClass0HpCdf</p>
  </li>
  <li>
    <p>TileMvBitCdf</p>
  </li>
  <li>
    <p>TileMvHpCdf</p>
  </li>
  <li>
    <p>TilePaletteYModeCdf</p>
  </li>
  <li>
    <p>TilePaletteUVModeCdf</p>
  </li>
  <li>
    <p>TilePaletteYSizeCdf</p>
  </li>
  <li>
    <p>TilePaletteUVSizeCdf</p>
  </li>
  <li>
    <p>TilePaletteSize2YColorCdf</p>
  </li>
  <li>
    <p>TilePaletteSize2UVColorCdf</p>
  </li>
  <li>
    <p>TilePaletteSize3YColorCdf</p>
  </li>
  <li>
    <p>TilePaletteSize3UVColorCdf</p>
  </li>
  <li>
    <p>TilePaletteSize4YColorCdf</p>
  </li>
  <li>
    <p>TilePaletteSize4UVColorCdf</p>
  </li>
  <li>
    <p>TilePaletteSize5YColorCdf</p>
  </li>
  <li>
    <p>TilePaletteSize5UVColorCdf</p>
  </li>
  <li>
    <p>TilePaletteSize6YColorCdf</p>
  </li>
  <li>
    <p>TilePaletteSize6UVColorCdf</p>
  </li>
  <li>
    <p>TilePaletteSize7YColorCdf</p>
  </li>
  <li>
    <p>TilePaletteSize7UVColorCdf</p>
  </li>
  <li>
    <p>TilePaletteSize8YColorCdf</p>
  </li>
  <li>
    <p>TilePaletteSize8UVColorCdf</p>
  </li>
  <li>
    <p>TileDeltaQCdf</p>
  </li>
  <li>
    <p>TileDeltaLFCdf</p>
  </li>
  <li>
    <p>TileDeltaLFMultiCdf[ i ] for i = 0..FRAME_LF_COUNT-1</p>
  </li>
  <li>
    <p>TileIntraTxTypeSet1Cdf</p>
  </li>
  <li>
    <p>TileIntraTxTypeSet2Cdf</p>
  </li>
  <li>
    <p>TileInterTxTypeSet1Cdf</p>
  </li>
  <li>
    <p>TileInterTxTypeSet2Cdf</p>
  </li>
  <li>
    <p>TileInterTxTypeSet3Cdf</p>
  </li>
  <li>
    <p>TileUseObmcCdf</p>
  </li>
  <li>
    <p>TileInterIntraCdf</p>
  </li>
  <li>
    <p>TileCompRefTypeCdf</p>
  </li>
  <li>
    <p>TileCflSignCdf</p>
  </li>
  <li>
    <p>TileUniCompRefCdf</p>
  </li>
  <li>
    <p>TileWedgeInterIntraCdf</p>
  </li>
  <li>
    <p>TileCompoundTypeCdf</p>
  </li>
  <li>
    <p>TileInterIntraModeCdf</p>
  </li>
  <li>
    <p>TileCflAlphaCdf</p>
  </li>
  <li>
    <p>TileUseWienerCdf</p>
  </li>
  <li>
    <p>TileUseSgrprojCdf</p>
  </li>
  <li>
    <p>TileRestorationTypeCdf</p>
  </li>
  <li>
    <p>TileTxbSkipCdf</p>
  </li>
  <li>
    <p>TileEobFlagCdf</p>
  </li>
  <li>
    <p>TileEobExtraCdf</p>
  </li>
  <li>
    <p>TileDcSignCdf</p>
  </li>
  <li>
    <p>TileCoeffBaseEobCdf</p>
  </li>
  <li>
    <p>TileCoeffBaseCdf</p>
  </li>
  <li>
    <p>TileCoeffBrCdf</p>
  </li>
</ul>

<h4 id="boolean-decoding-process">Boolean Decoding Process</h4>

<p>The input to this process is a variable p which specifies the probability (in
the range 0 to 255) to use during bool decode.</p>

<p>The output of this process is the variable bool, containing a decoded bool.</p>

<p>This process is invoked when the function read_bool( p ) is called from the
syntax structure.</p>

<p>An array cdf of length 3 is constructed as follows:</p>

<pre><code class="language-c">cdf[ 0 ] = ( ( p &lt;&lt; 15 ) + 256 – p ) &gt;&gt; 8
cdf[ 1 ] = 1 &lt;&lt; 15
cdf[ 2 ] = 0
</code></pre>

<p>The return value for the function is given by read_symbol( cdf ).</p>

<h4 id="exit-process-for-boolean-decoder">Exit Process for Boolean Decoder</h4>

<p>This process is invoked when the function exit_bool( ) is called from the syntax
structure.</p>

<p>The padding syntax element is read using the f(BoolMaxBits) parsing process.</p>

<p>It is a requirement of bitstream conformance that BoolMaxBits is greater than or
equal to 0 whenever this process is invoked.</p>

<p>It is a requirement of bitstream conformance that padding is equal to 0.</p>

<p class="alert alert-info"><strong>Note:</strong> The padding is required to make the bit position byte aligned.
It is legal for frames to end with more than one byte of padding.</p>

<p>If UpdateCdfs is equal to 1, a copy is made of the final CDF values for each of the
CDF arrays mentioned in the semantics for setup_past_independence. 
The name of the destination for the copy is the name of the CDF array
prefixed with “Saved”.  The name of the source for the copy is the name of the CDF array
prefixed with “Tile”.
For example, an array SavedYModeCdf will be created with values equal to TileYModeCdf.</p>

<h4 id="parsing-process-for-read_literal">Parsing Process for read_literal</h4>

<p>This process is invoked when the function read_literal( n ) is invoked.</p>

<p>This process is specified as follows:</p>

<pre><code class="language-c">x = 0
for ( i = 0 ; i &lt; n; i++ ) {
    x = 2 * x + read_bool( 128 )
}
</code></pre>

<p>The return value for the function is given by x.</p>

<h4 id="symbol-decoding-process">Symbol Decoding Process</h4>

<p>The input to this process is an array cdf of length N + 1 which specifies the
cumulative distribution for a symbol with N possible values.</p>

<p>The output of this process is the variable symbol, containing a decoded syntax
element. The process also modifies the input array cdf to adapt the
probabilities to the content of the stream.</p>

<p>This process is invoked when the function read_symbol( cdf ) is called.</p>

<p class="alert alert-info"><strong>Note:</strong> When this process is invoked, N will be greater than 1 and cdf[ N-1 ]
will be equal to 1 &lt;&lt; 15.</p>

<p>The variables cur, prev, and symbol are calculated as follows:</p>

<pre><code class="language-c">cur = BoolRange
symbol = -1
do {
  symbol++
  prev = cur
  f = ( 1 &lt;&lt; 15 ) - cdf[ symbol ]
  cur = ((BoolRange &gt;&gt; 8) * (f &gt;&gt; EC_PROB_SHIFT)) &gt;&gt; (7 - EC_PROB_SHIFT)
  cur += EC_MIN_PROB * (N - symbol - 1)
} while ( BoolValue &lt; cur )
</code></pre>

<p class="alert alert-info"><strong>Note:</strong> Implementations may prefer to store the inverse cdf to move the
subtraction out of this loop.</p>

<p>The variable BoolRange is set to prev - cur.</p>

<p>The variable BoolValue is set equal to BoolValue - cur.</p>

<p>The range and value are renormalized by the following ordered steps:</p>

<ol>
  <li>
    <p>The variable bits is set to 15 – floor( log2( BoolRange ) ).
This represents the number of new bits to be read from the bitstream.</p>
  </li>
  <li>
    <p>The variable BoolRange is set to BoolRange &lt;&lt; bits.</p>
  </li>
  <li>
    <p>The variable newData is read using the f(bits) parsing process.</p>
  </li>
  <li>
    <p>The variable BoolValue is set to
newData ^ ( ( ( BoolValue + 1 ) &lt;&lt; bits ) - 1 ).</p>
  </li>
  <li>
    <p>The variable BoolMaxBits is set to BoolMaxBits - bits.</p>
  </li>
</ol>

<p class="alert alert-info"><strong>Note:</strong> bits may be equal to 0, in which case these ordered steps have no
effect.</p>

<p>The cumulative distribution is updated as follows:</p>

<pre><code class="language-c">if (N == 2) {
    rate = 4 + (cdf[2] &gt; 7) + (cdf[2] &gt; 15) + 1
} else {
    rate = 4 + ( cdf[N] &gt; 31 ) + floor ( log2 ( N ) )
}
rate2 = 5
tmp0 = 1 &lt;&lt; rate2
tmp = tmp0
diff = (((1&lt;&lt;15) - (N &lt;&lt; rate2)) &gt;&gt; rate) &lt;&lt; rate
for (i = 0; i &lt; N - 1; i++) {
  tmp += (i == symbol ? diff : 0)
  cdf[i] -= ((cdf[i] - tmp) &gt;&gt; rate)
  tmp += tmp0
}
cdf[N] += (cdf[N] &lt; 32)
</code></pre>

<p class="alert alert-info"><strong>Note:</strong> The last entry of the cdf array is used to keep a count of the number
of times the symbol has been decoded (up to a maximum of 32).  This allows the
cdf to change faster for the first 32 times the symbol is decoded.
Symbols with only 2 entries adapt fast for the first 8 times, then at a medium rate, then at a slow rate</p>

<p>The return value from the function is given by symbol.</p>

<h3 id="parsing-process-for-cdf-encoded-syntax-elements">Parsing process for CDF encoded syntax elements</h3>

<p>This process is invoked when the descriptor of a syntax element in the syntax
tables is equal to S.</p>

<p>The input to this process is the name of a syntax element.</p>

<p><a href="#cdf-selection-process">Section 8.3.1</a> specifies how a CDF array is chosen for the syntax element.
The variable cdf is set equal to a reference to this CDF array.</p>

<p class="alert alert-info"><strong>Note:</strong> The array must be passed by reference because read_symbol will adjust
the array contents.</p>

<p>The output of this process is the result of calling the function read_symbol( cdf ).</p>

<h4 id="cdf-selection-process">CDF Selection Process</h4>

<p>The input to this process is the name of a syntax element.</p>

<p>The output of this process is a reference to a CDF array.</p>

<p>When the description in this section uses variables, these variables are
taken to have the values defined by the syntax tables at the point that the
syntax element is being decoded.</p>

<p>The probabilities depend on the syntax element as follows:</p>

<p><strong>intra_frame_y_mode</strong>: The cdf for intra_frame_y_mode is given by
Default_Intra_Frame_Y_Mode_Cdf[ abovemode ][ leftmode ] where abovemode and leftmode are
the intra modes used for the blocks immediately above and to the left of this
block and are computed as:</p>

<pre><code class="language-c">abovemode = Intra_Mode_Context[ AvailU ? YModes[ MiRow - 1 ][ MiCol ] : DC_PRED ]
leftmode = Intra_Mode_Context[ AvailL ? YModes[ MiRow ][ MiCol - 1] : DC_PRED ]
</code></pre>

<p>where Intra_Mode_Context is defined as follows:</p>

<pre><code class="language-c">Intra_Mode_Context[ INTRA_MODES ] = {
  0, 1, 2, 3, 4, 4, 4, 4, 3, 0, 1, 2, 0
}
</code></pre>

<p class="alert alert-info"><strong>Note:</strong> We are using a 2D array to store the YModes for clarity. It is
possible to reduce memory consumption by only storing one intra mode for
each 4x4 horizontal and vertical position, i.e. to use two 1D arrays instead.</p>

<p><strong>y_mode</strong>: The cdf for y_mode is given by TileYModeCdf[ ctx ] where the
variable ctx is computed as Size_Group[ MiSize ].</p>

<p><strong>uv_mode</strong>: The cdf for uv_mode is given by TileUVModeCdf[ ctx ] where the
variable ctx is set equal to YMode.</p>

<p><strong>angle_delta_y</strong>: The cdf for angle_delta_y is given by TileAngleDeltaCdf[YMode - V_PRED].</p>

<p><strong>angle_delta_uv</strong>: The cdf for angle_delta_uv is given by TileAngleDeltaCdf[UVMode - V_PRED].</p>

<p><strong>partition</strong>: The variable ctx is computed as follows:</p>

<pre><code class="language-c">bsl = Mi_Width_Log2[ bSize ]
above = AvailU &amp;&amp; ( Mi_Width_Log2[ MiSizes[ r - 1 ][ c ] ] &lt; bsl )
left = AvailL &amp;&amp; ( Mi_Height_Log2[ MiSizes[ r ][ c - 1 ] ] &lt; bsl )
ctx = bsl * 4 + left * 2 + above
</code></pre>

<p>The cdf is derived as follows:</p>

<ul>
  <li>
    <p>If ctx is less than PARTITION_CONTEXTS_W8, the cdf is given by TilePartitionW8Cdf[ ctx ].</p>
  </li>
  <li>
    <p>Otherwise (ctx is greater than or equal to PARTITION_CONTEXTS_W8), the cdf is given by
TilePartitionCdf[ ctx - PARTITION_CONTEXTS_W8 ].</p>
  </li>
</ul>

<p><strong>split_or_horz</strong>: split_or_horz uses the same derivation for the variable ctx
as for the syntax element partition.</p>

<p>The cdf to return is given by an array of length 3 which is constructed as
follows:</p>

<pre><code class="language-c">partitionCdf = TilePartitionCdf[ ctx - PARTITION_CONTEXTS_W8 ]
psum = ( partitionCdf[ PARTITION_VERT ] - partitionCdf[ PARTITION_VERT - 1 ] +
         partitionCdf[ PARTITION_SPLIT ] - partitionCdf[ PARTITION_SPLIT - 1 ] +
         partitionCdf[ PARTITION_HORZ_A ] - partitionCdf[ PARTITION_HORZ_A - 1 ] +
         partitionCdf[ PARTITION_VERT_A ] - partitionCdf[ PARTITION_VERT_A - 1 ] +
         partitionCdf[ PARTITION_VERT_B ] - partitionCdf[ PARTITION_VERT_B - 1 ] +
         partitionCdf[ PARTITION_VERT_4 ] - partitionCdf[ PARTITION_VERT_4 - 1 ] )
cdf[0] = ( 1 &lt;&lt; 15 ) - psum
cdf[1] = 1 &lt;&lt; 15
cdf[2] = 0
</code></pre>

<p class="alert alert-info"><strong>Note:</strong> The syntax element split_or_horz is not allowed to return a
PARTITION_VERT, so the probability for a vertical partition is assigned to the
probability for the split partition.</p>

<p><strong>split_or_vert</strong>: split_or_vert uses the same derivation for the variable ctx
as for the syntax element partition.</p>

<p>The cdf to return is given by an array of length 3 which is constructed as follows:</p>

<pre><code class="language-c">partitionCdf = TilePartitionCdf[ ctx - PARTITION_CONTEXTS_W8 ]
psum = ( partitionCdf[ PARTITION_HORZ ] - partitionCdf[ PARTITION_HORZ - 1 ] +
         partitionCdf[ PARTITION_SPLIT ] - partitionCdf[ PARTITION_SPLIT - 1 ] +
         partitionCdf[ PARTITION_HORZ_A ] - partitionCdf[ PARTITION_HORZ_A - 1 ] +
         partitionCdf[ PARTITION_HORZ_B ] - partitionCdf[ PARTITION_HORZ_B - 1 ] +
         partitionCdf[ PARTITION_VERT_A ] - partitionCdf[ PARTITION_VERT_A - 1 ] +
         partitionCdf[ PARTITION_HORZ_4 ] - partitionCdf[ PARTITION_HORZ_4 - 1 ] )
cdf[0] = ( 1 &lt;&lt; 15 ) - psum
cdf[1] = 1 &lt;&lt; 15
cdf[2] = 0
</code></pre>

<p><strong>tx_size</strong>: the cdf depends on the value of maxTxSize and ctx,
where ctx is computed by:</p>

<pre><code class="language-c">    above = maxTxSize
    left = maxTxSize
    if ( AvailU &amp;&amp; !Skips[ MiRow - 1 ][ MiCol ] )
        above = TxSizes[ MiRow - 1][ MiCol ]
    if ( AvailL &amp;&amp; !Skips[ MiRow ][ MiCol - 1 ] )
        left = TxSizes[ MiRow ][ MiCol - 1 ]
    if ( !AvailL )
        left = above
    if ( !AvailU )
        above = left
    ctx = (above+left) &gt; maxTxSize
</code></pre>

<p>The cdf to return is given by:</p>

<ul>
  <li>
    <p>TileTx64x64Cdf[ ctx ] if maxTxSize is equal to TX_64X64.</p>
  </li>
  <li>
    <p>TileTx32x32Cdf[ ctx ] if maxTxSize is equal to TX_32X32.</p>
  </li>
  <li>
    <p>TileTx16x16Cdf[ ctx ] if maxTxSize is equal to TX_16X16.</p>
  </li>
  <li>
    <p>TileTx8x8Cdf[ ctx ] otherwise.</p>
  </li>
</ul>

<p><strong>txfm_split</strong>: the cdf is given by TileTxfmSplitCdf[ ctx ], where ctx is computed by:</p>

<pre><code class="language-c">if ( !AvailU ) {
    aboveW = 4
} else {
    if ( Skips[ row - 1][ col ] )
        aboveW = Block_Width[ MiSizes[ row - 1 ][ col ] ]
    else
        aboveW = Tx_Width[ InterTxSizes[ row - 1 ][ col ] ]
}
if ( !AvailL ) {
    leftH = 4
} else {
    if ( Skips[ row - 1][ col ] )
        leftH = Block_Height[ MiSizes[ row  ][ col - 1 ] ]
    else
        leftH = Tx_Height[ InterTxSizes[ row  ][ col - 1] ]
}
txW = Tx_Width[txSz]
txH = Tx_Height[txSz]
above = aboveW &lt; txW
left = leftH &lt; txH
ctx = TXFM_PARTITION_CONTEXTS - 1
size = Max( Block_Width[ MiSize ], Block_Height[ MiSize ] )
size = Min( 32, size )
maxTxSz = find_tx_size( size, size )
if (maxTxSz &gt;= TX_8X8) {
    ctx = (txSz != maxTxSz &amp;&amp; maxTxSz &gt; TX_8X8) +
               (TX_SIZES - 1 - maxTxSz) * 2
}
if (ctx != TXFM_PARTITION_CONTEXTS - 1) {
    ctx = ctx * 3 + above + left
}
</code></pre>

<p><strong>segment_id</strong>: the cdf is given by TileSegmentIdCdf.</p>

<p><strong>seg_id_predicted</strong>: the cdf is given by TileSegmentIdPredictedCdf[ ctx ],
where ctx is computed by:</p>

<pre><code class="language-c">ctx = LeftSegPredContext[ MiRow ] + AboveSegPredContext[ MiCol ]
</code></pre>

<p><strong>new_mv</strong>: the cdf is given by TileNewMvCdf[ NewMvContext ].</p>

<p><strong>zero_mv</strong>: the cdf is given by TileZeroMvCdf[ ZeroMvContext ].</p>

<p><strong>ref_mv</strong>: the cdf is given by TileRefMvCdf[ RefMvContext ].</p>

<p><strong>drl_mode</strong>: the cdf is given by TileDrlModeCdf[ DrlCtxStack[ idx ] ].</p>

<p><strong>is_inter</strong>: the cdf is given by TileIsInterCdf[ ctx ] where ctx is
computed by:</p>

<pre><code class="language-c">if ( AvailU &amp;&amp; AvailL )
    ctx = (LeftIntra &amp;&amp; AboveIntra) ? 3 : LeftIntra || AboveIntra
else if ( AvailU || AvailL )
    ctx = 2 * (AvailU ? AboveIntra : LeftIntra)
else
    ctx = 0
</code></pre>

<p><strong>comp_mode</strong>: the cdf is given by TileCompModeCdf[ ctx ] where ctx is
computed by:</p>

<pre><code class="language-c">if ( AvailU &amp;&amp; AvailL ) {
    if ( AboveSingle &amp;&amp; LeftSingle )
    ctx = (AboveRefFrame[ 0 ] == CompFixedRef)
        ^ (LeftRefFrame[ 0 ] == CompFixedRef)
    else if ( AboveSingle )
        ctx = 2 + (AboveRefFrame[ 0 ] == CompFixedRef || AboveIntra)
    else if ( LeftSingle )
        ctx = 2 + (LeftRefFrame[ 0 ] == CompFixedRef || LeftIntra)
    else
        ctx = 4
} else if ( AvailU ) {
    if ( AboveSingle )
        ctx = AboveRefFrame[ 0 ] == CompFixedRef
    else
        ctx = 3
} else if ( AvailL ) {
    if ( LeftSingle )
        ctx= LeftRefFrame[ 0 ] == CompFixedRef
    else
        ctx = 3
} else {
    ctx = 1
}
</code></pre>

<p><strong>skip</strong>: the cdf is given by TileSkipCdf[ ctx ] where ctx is computed
by:</p>

<pre><code class="language-c">    ctx = 0
    if ( AvailU )
        ctx += Skips[ MiRow - 1 ][ MiCol ]
    if ( AvailL )
        ctx += Skips[ MiRow ][ MiCol - 1 ]
</code></pre>

<p><strong>comp_ref</strong>: the cdf is given by TileCompRefCdf[ ctx ][ 0 ] where ctx is
computed by:</p>

<pre><code class="language-c">above0 = AboveRefFrame[ 0 ]
left0 = LeftRefFrame[ 0 ]
if ( AvailU &amp;&amp; AvailL ) {
    if ( AboveIntra &amp;&amp; LeftIntra ) {
        ctx = 2
    } else if ( LeftIntra ) {
        ctx = 1 + 2 * (!check_golden_or_last3(above0))
    } else if ( AboveIntra ) {
        ctx = 1 + 2 * (!check_golden_or_last3(left0))
    } else {
        frfa = above0
        frfl = left0
        if ( frfa == frfl &amp;&amp; check_golden_or_last3(frfa) ) {
            ctx = 0
        } else if ( LeftSingle &amp;&amp; AboveSingle ) {
            if ((check_backward(frfa) &amp;&amp; check_last_or_last2(frfl)) ||
                (check_backward(frfl) &amp;&amp; check_last_or_last2(frfa)))
                ctx = 4
            else if ( check_golden_or_last3(frfa) || check_golden_or_last3(frfl) )
                ctx = 1
            else
                ctx = 3
        } else if ( LeftSingle || AboveSingle ) {
            frfc = LeftSingle ? frfa : frfl
            rfs = AboveSingle ? frfa : frfl
            if ( check_golden_or_last3(frfc) &amp;&amp; !check_golden_or_last3(rfs) )
                ctx = 1
            else if ( check_golden_or_last3(rfs) &amp;&amp; !check_golden_or_last3(frfc) )
                ctx = 2
            else
                ctx = 4
        } else if ( check_last_or_last2(frfa) &amp;&amp; check_last_or_last2(frfl) ) {
            ctx = 4
        } else {
            ctx = 2
        }
    }
} else if ( AvailU ) {
    if ( AboveIntra ) {
        ctx = 2
    } else {
        if ( AboveSingle )
            ctx = 3 * ( !check_golden_or_last3(above0) )
        else
            ctx = 4 * ( !check_golden_or_last3(above0) )
    }
} else if ( AvailL ) {
    if ( LeftIntra ) {
        ctx = 2
    } else {
        if ( LeftSingle )
            ctx = 3 * ( !check_golden_or_last3(left0) )
        else
            ctx = 4 * ( !check_golden_or_last3(left0) )
    }
} else {
    ctx = 2
}
</code></pre>

<p><strong>comp_ref_p1</strong>: the cdf is given by TileCompRefCdf[ ctx ][ 1 ] where ctx is
computed by:</p>

<pre><code class="language-c">above0 = AboveRefFrame[ 0 ]
left0 = LeftRefFrame[ 0 ]
if ( AvailU &amp;&amp; AvailL ) {
    if ( AboveIntra &amp;&amp; LeftIntra ) {
        ctx = 2
    } else if ( LeftIntra ) {
        ctx = 1 + 2 * (!check_last(above0))
    } else if ( AboveIntra ) {
        ctx = 1 + 2 * (!check_last(left0))
    } else {
        frfa = above0
        frfl = left0
        if ( frfa == frfl &amp;&amp; check_last(frfa) ) {
            ctx = 0
        } else if ( LeftSingle &amp;&amp; AboveSingle ) {
            if ( check_last(frfa) || check_last(frfl) )
                ctx = 1
            else if ( check_golden_or_last3(frfa) || check_golden_or_last3(frfl) )
                ctx = 2 + (frfa != frfl)
            else if ( frfa==frfl ||
                     (check_backward(frfa) &amp;&amp; check_backward(frfl)))
                ctx = 3
            else
                ctx = 4
        } else if ( LeftSingle || AboveSingle ) {
            frfc = LeftSingle ? frfa : frfl
            rfs = AboveSingle ? frfa : frfl
            if (check_last(frfc) &amp;&amp; !check_last(rfs))
                ctx= 1
            else if (check_last(rfs) &amp;&amp; !check_last(frfc))
                ctx = 2
              else
                ctx = 3 + (frfc == LAST2_FRAME || check_golden_or_last3(rfs))
        } else if ( check_last(frfa) &amp;&amp; check_last(frfl) ) {
            ctx = 2
        } else {
            ctx = 3 + (check_golden_or_last3(frfa) || check_golden_or_last3(frfl))
        }
    }
} else if ( AvailU ) {
    if ( AboveIntra ) {
        ctx = 2
    } else {
        if ( !AboveSingle )
            ctx = 4 * (!check_last(above0))
        else if (check_last(above0))
            ctx = 0
        else
            ctx = 2 + check_golden_or_last3(above0)
    }
} else if ( AvailL ) {
    if ( LeftIntra ) {
        ctx = 2
    } else {
        if ( !LeftSingle )
            ctx = 4 * (!check_last(LeftRefFrame[ ref_frame_sign_bias[ BWDREF_FRAME ] ]))
        else if (check_last(left0))
            ctx = 0
        else
            ctx = 2 + check_golden_or_last3(left0)
    }
} else {
    ctx = 2
}
</code></pre>

<p><strong>comp_ref_p2</strong>: the cdf is given by TileCompRefCdf[ ctx ][ 2 ] where ctx is
computed by:</p>

<pre><code class="language-c">above0 = AboveRefFrame[ 0 ]
left0 = LeftRefFrame[ 0 ]
if ( AvailU &amp;&amp; AvailL ) {
    if ( AboveIntra &amp;&amp; LeftIntra ) {
        ctx = 2
    } else if ( LeftIntra ) {
        ctx = 1 + 2 * (!check_golden(above0))
    } else if ( AboveIntra ) {
        ctx = 1 + 2 * (!check_golden(left0))
    } else {
        frfa = above0
        frfl = left0
        if ( frfa == frfl &amp;&amp; check_golden(frfa) ) {
            ctx = 0
        } else if ( LeftSingle &amp;&amp; AboveSingle ) {
            if ( check_golden(frfa) || check_golden(frfl) )
                ctx = 1
            else if ( check_last_or_last2(frfa) || check_last_or_last2(frfl) )
                ctx = 2 + (frfa != frfl)
            else if ( frfa==frfl ||
                     (check_backward(frfa) &amp;&amp; check_backward(frfl)))
                ctx = 3
            else
                ctx = 4
        } else if ( LeftSingle || AboveSingle ) {
            frfc = LeftSingle ? frfa : frfl
            rfs = AboveSingle ? frfa : frfl
            if (check_golden(frfc) &amp;&amp; !check_golden(rfs))
                ctx= 1
            else if (check_golden(rfs) &amp;&amp; !check_golden(frfc))
                ctx = 2
              else
                ctx = 3 + (frfc == LAST3_FRAME || check_last_or_last2(rfs))
        } else if ( check_golden(frfa) &amp;&amp; check_golden(frfl) ) {
            ctx = 2
        } else {
            ctx = 3 + (check_last_or_last2(frfa) || check_last_or_last2(frfl))
        }
    }
} else if ( AvailU ) {
    if ( AboveIntra ) {
        ctx = 2
    } else {
        if ( !AboveSingle )
            ctx = 4 * (!check_golden(above0))
        else if (check_golden(above0))
            ctx = 0
        else
            ctx = 2 + check_last_or_last2(above0)
    }
} else if ( AvailL ) {
    if ( LeftIntra ) {
        ctx = 2
    } else {
        if ( !LeftSingle )
            ctx = 4 * (!check_golden(LeftRefFrame[ ref_frame_sign_bias[ BWDREF_FRAME ] ]))
        else if (check_golden(left0))
            ctx = 0
        else
            ctx = 2 + check_last_or_last2(left0)
    }
} else {
    ctx = 2
}
</code></pre>

<p><strong>comp_bwdref</strong>: the cdf is given by TileCompBwdRefCdf[ ctx ][ 0 ] where ctx is
computed by:</p>

<pre><code class="language-c">brfarf2Count = count_refs( BWDREF_FRAME ) + count_refs( ALTREF2_FRAME )
arfCount = count_refs( ALTREF_FRAME )
ctx = ref_count_ctx( brfarf2Count, arfCount )
</code></pre>

<p>where count_refs is defined as:</p>

<pre><code class="language-c">count_refs(frameType) {
    c = 0
    if ( AvailU ) {
        if ( AboveRefFrame[ 0 ] == frameType ) c++
        if ( AboveRefFrame[ 1 ] == frameType ) c++
    }
    if ( AvailL ) {
        if ( LeftRefFrame[ 0 ] == frameType ) c++
        if ( LeftRefFrame[ 1 ] == frameType ) c++
    }
    return c
}
</code></pre>

<p>and ref_count_ctx is defined as:</p>

<pre><code class="language-c">ref_count_ctx(counts0, counts1) {
  if (counts0 &lt; counts1)
    return 0
  else if (counts0 == counts1)
    return 1
  else
    return 2
}
</code></pre>

<p><strong>comp_bwdref_p1</strong>: the cdf is given by TileCompBwdRefCdf[ ctx ][ 1 ] where ctx is
computed by:</p>

<pre><code class="language-c">brfCount = count_refs( BWDREF_FRAME )
arf2Count = count_refs( ALTREF2_FRAME )
ctx = ref_count_ctx( brfCount, arf2Count )
</code></pre>

<p>where count_refs and ref_count_ctx are the same as given in the CDF selection process for comp_bwdref.</p>

<p><strong>single_ref_p1</strong>: the cdf is given by TileSingleRefCdf[ ctx ][ 0 ] where
ctx is computed by:</p>

<pre><code class="language-c">above0 = AboveRefFrame[ 0 ]
left0 = LeftRefFrame[ 0 ]
if ( AvailU &amp;&amp; AvailL ) {
    if ( AboveIntra &amp;&amp; LeftIntra ) {
        ctx = 2
    } else if ( LeftIntra ) {
        if ( AboveSingle )
            ctx = 4 * (!check_backward(above0))
        else
            ctx = 2
    } else if ( AboveIntra ) {
        if ( LeftSingle )
            ctx = 4 * (!check_backward(left0))
        else
            ctx = 2
    } else {
        if ( AboveSingle &amp;&amp; LeftSingle ) {
            ctx = 2 * (!check_backward(above0)) +
                  2 * (!check_backward(left0))
        } else if ( !AboveSingle &amp;&amp; !LeftSingle ) {
            ctx = 2
        } else {
            rfs = AboveSingle ? above0 : left0
            ctx = (!check_backward(rfs)) ? 4 : 1
        }
    }
} else if ( AvailU ) {
    if ( AboveIntra ) {
        ctx = 2
    } else {
        if ( AboveSingle )
            ctx = 4 * (!check_backward(above0))
        else
            ctx = 2
    }
} else if ( AvailL ) {
    if ( LeftIntra ) {
        ctx = 2
    } else {
        if ( LeftSingle )
            ctx = 4 * (!check_backward(left0))
        else
            ctx = 2
    }
} else {
    ctx = 2
}
</code></pre>

<p><strong>single_ref_p2</strong>: the cdf is given by TileSingleRefCdf[ ctx ][ 1 ] where
ctx is computed by:</p>

<pre><code class="language-c">brfarf2Count = count_refs( BWDREF_FRAME ) + count_refs( ALTREF2_FRAME )
arfCount = count_refs( ALTREF_FRAME )
ctx = ref_count_ctx( brfarf2Count, arfCount )
</code></pre>

<p>where count_refs and ref_count_ctx are the same as given in the CDF selection process for comp_bwdref.</p>

<p class="alert alert-info"><strong>Note:</strong> The context calculation for single_ref_p2 is the same as for
comp_bwdref. ctx can only equal 0, 1, or 2 for single_ref_p2.</p>

<p><strong>single_ref_p3</strong>: the cdf is given by TileSingleRefCdf[ ctx ][ 2 ] where
ctx is computed by:</p>

<pre><code class="language-c">above0 = AboveRefFrame[ 0 ]
above1 = AboveRefFrame[ 1 ]
left0 = LeftRefFrame[ 0 ]
left1 = LeftRefFrame[ 1 ]
if ( AvailU &amp;&amp; AvailL ) {
    if ( AboveIntra &amp;&amp; LeftIntra ) {
        ctx = 2
    } else if ( LeftIntra ) {
        if ( AboveSingle ) {
            if ( check_backward(above0) )
                ctx = 3
            else
                ctx = 4 * check_last_or_last2(above0)
        } else {
            ctx = 1 + 2 * (check_last_or_last2(above0) ||
                           check_last_or_last2(above1))
        }
    } else if ( AboveIntra ) {
        if ( LeftSingle ) {
            if ( check_backward(left0) )
                ctx = 3
            else
                ctx = 4 * check_last_or_last2(left0)
        } else {
                ctx = 1 + 2 * (check_last_or_last2(left0) ||
                               check_last_or_last2(left1))
        }
    } else {
        if ( AboveSingle &amp;&amp; LeftSingle ) {
            if (check_backward(above0) &amp;&amp; check_backward(left0)) {
                ctx = 2 + (above0 == left0)
            } else if (check_backward(above0) ||
                       check_backward(left0)) {
                edge0 = check_backward(above0) ? left0 : above0
                ctx = 4 * check_last_or_last2(edge0)
            } else {
                ctx = 2 * check_last_or_last2(above0) + 2 * check_last_or_last2(left0)
            }
        } else if ( !AboveSingle &amp;&amp; !LeftSingle ) {
            if (above0 == left0 &amp;&amp; above1 == left1)
                ctx = 3 * (check_last_or_last2(above0) ||
                           check_last_or_last2(above1) ||
                           check_last_or_last2(left0) ||
                           check_last_or_last2(left1))
            else
                ctx = 2
        } else {
            rfs = AboveSingle ? above0 : left0
            crf1 = AboveSingle ? left0 : above0
            crf2 = AboveSingle ? left1 : above1
            if (check_last_or_last2(rfs))
                ctx = 3 + (check_last_or_last2(crf1) || check_last_or_last2(crf2))
            else if (check_golden_or_last3(rfs))
                ctx = (check_last_or_last2(crf1) || check_last_or_last2(crf2))
            else
                ctx = 1 + 2 * (check_last_or_last2(crf1) || check_last_or_last2(crf2))
        }
    }
} else if ( AvailU ) {
    if ( AboveIntra || (check_backward(above0) &amp;&amp; AboveSingle) )
        ctx= 2
    else if ( AboveSingle )
        ctx= 4 * check_last_or_last2(above0)
    else
        ctx= 3 * ( check_last_or_last2(above0) ||
                   check_last_or_last2(above1) )
} else if ( AvailL ) {
    if ( LeftIntra || (check_backward(left0) &amp;&amp; LeftSingle) )
        ctx = 2
    else if ( LeftSingle )
        ctx = 4 * check_last_or_last2(left0)
    else
        ctx = 3 * ( check_last_or_last2(left0) ||
                    check_last_or_last2(left1) )
} else
    ctx = 2
</code></pre>

<p><strong>single_ref_p4</strong>: the cdf is given by TileSingleRefCdf[ ctx ][ 3 ] where
ctx is computed by:</p>

<pre><code class="language-c">above0 = AboveRefFrame[ 0 ]
above1 = AboveRefFrame[ 1 ]
left0 = LeftRefFrame[ 0 ]
left1 = LeftRefFrame[ 1 ]
if ( AvailU &amp;&amp; AvailL ) {
    if ( AboveIntra &amp;&amp; LeftIntra ) {
        ctx = 2
    } else if ( LeftIntra ) {
        if ( AboveSingle ) {
            if ( !check_last_or_last2(above0) )
                ctx = 3
            else
                ctx = 4 * check_last(above0)
        } else {
            ctx = 1 + 2 * (check_last(above0) ||
                           check_last(above1))
        }
    } else if ( AboveIntra ) {
        if ( LeftSingle ) {
            if ( !check_last_or_last2(left0) )
                ctx = 3
            else
                ctx = 4 * check_last(left0)
        } else {
                ctx = 1 + 2 * (check_last(left0) ||
                               check_last(left1))
        }
    } else {
        if ( AboveSingle &amp;&amp; LeftSingle ) {
            if (!check_last_or_last2(above0) &amp;&amp; !check_last_or_last2(left0)) {
                ctx = 2 + (above0 == left0)
            } else if (!check_last_or_last2(above0) ||
                       !check_last_or_last2(left0)) {
                edge0 = !check_last_or_last2(above0) ? left0 : above0
                ctx = 4 * check_last(edge0)
            } else {
                ctx = 2 * check_last(above0) + 2 * check_last(left0)
            }
        } else if ( !AboveSingle &amp;&amp; !LeftSingle ) {
            if (above0 == left0 &amp;&amp; above1 == left1)
                ctx = 3 * (check_last(above0) ||
                           check_last(above1) ||
                           check_last(left0) ||
                           check_last(left1))
            else
                ctx = 2
        } else {
            rfs = AboveSingle ? above0 : left0
            crf1 = AboveSingle ? left0 : above0
            crf2 = AboveSingle ? left1 : above1
            if (check_last(rfs))
                ctx = 3 + (check_last(crf1) || check_last(crf2))
            else if (check_last2(rfs))
                ctx = (check_last(crf1) || check_last(crf2))
            else
                ctx = 1 + 2 * (check_last(crf1) || check_last(crf2))
        }
    }
} else if ( AvailU ) {
    if ( AboveIntra || (!check_last_or_last2(above0) &amp;&amp; AboveSingle) )
        ctx= 2
    else if ( AboveSingle )
        ctx= 4 * check_last(above0)
    else
        ctx= 3 * ( check_last(above0) ||
                   check_last(above1) )
} else if ( AvailL ) {
    if ( LeftIntra || (!check_last_or_last2(left0) &amp;&amp; LeftSingle) )
        ctx = 2
    else if ( LeftSingle )
        ctx = 4 * check_last(left0)
    else
        ctx = 3 * ( check_last(left0) ||
                    check_last(left1) )
} else
    ctx = 2
</code></pre>

<p><strong>single_ref_p5</strong>: the cdf is given by TileSingleRefCdf[ ctx ][ 4 ] where
ctx is computed by:</p>

<pre><code class="language-c">above0 = AboveRefFrame[ 0 ]
above1 = AboveRefFrame[ 1 ]
left0 = LeftRefFrame[ 0 ]
left1 = LeftRefFrame[ 1 ]
if ( AvailU &amp;&amp; AvailL ) {
    if ( AboveIntra &amp;&amp; LeftIntra ) {
        ctx = 2
    } else if ( LeftIntra ) {
        if ( AboveSingle ) {
            if ( !check_golden_or_last3(above0) )
                ctx = 3
            else
                ctx = 4 * check_last3(above0)
        } else {
            ctx = 1 + 2 * (check_last3(above0) ||
                           check_last3(above1))
        }
    } else if ( AboveIntra ) {
        if ( LeftSingle ) {
            if ( !check_golden_or_last3(left0) )
                ctx = 3
            else
                ctx = 4 * check_last3(left0)
        } else {
                ctx = 1 + 2 * (check_last3(left0) ||
                               check_last3(left1))
        }
    } else {
        if ( AboveSingle &amp;&amp; LeftSingle ) {
            if (!check_golden_or_last3(above0) &amp;&amp; !check_golden_or_last3(left0)) {
                ctx = 2 + (above0 == left0)
            } else if (!check_golden_or_last3(above0) ||
                       !check_golden_or_last3(left0)) {
                edge0 = !check_golden_or_last3(above0) ? left0 : above0
                ctx = 4 * check_last3(edge0)
            } else {
                ctx = 2 * check_last3(above0) + 2 * check_last3(left0)
            }
        } else if ( !AboveSingle &amp;&amp; !LeftSingle ) {
            if (above0 == left0 &amp;&amp; above1 == left1)
                ctx = 3 * (check_last3(above0) ||
                           check_last3(above1) ||
                           check_last3(left0) ||
                           check_last3(left1))
            else
                ctx = 2
        } else {
            rfs = AboveSingle ? above0 : left0
            crf1 = AboveSingle ? left0 : above0
            crf2 = AboveSingle ? left1 : above1
            if (check_last3(rfs))
                ctx = 3 + (check_last3(crf1) || check_last3(crf2))
            else if (check_golden(rfs))
                ctx = (check_last3(crf1) || check_last3(crf2))
            else
                ctx = 1 + 2 * (check_last3(crf1) || check_last3(crf2))
        }
    }
} else if ( AvailU ) {
    if ( AboveIntra || (!check_golden_or_last3(above0) &amp;&amp; AboveSingle) )
        ctx= 2
    else if ( AboveSingle )
        ctx= 4 * check_last3(above0)
    else
        ctx= 3 * ( check_last3(above0) ||
                   check_last3(above1) )
} else if ( AvailL ) {
    if ( LeftIntra || (!check_golden_or_last3(left0) &amp;&amp; LeftSingle) )
        ctx = 2
    else if ( LeftSingle )
        ctx = 4 * check_last3(left0)
    else
        ctx = 3 * ( check_last3(left0) ||
                    check_last3(left1) )
} else
    ctx = 2
</code></pre>

<p><strong>single_ref_p6</strong>: the cdf is given by TileSingleRefCdf[ ctx ][ 5 ] where
ctx is computed by:</p>

<pre><code class="language-c">brfCount = count_refs( BWDREF_FRAME )
arf2Count = count_refs( ALTREF2_FRAME )
ctx = ref_count_ctx( brfCount, arf2Count )
</code></pre>

<p>where count_refs and ref_count_ctx are the same as given in the CDF selection process for comp_bwdref.</p>

<p class="alert alert-info"><strong>Note:</strong> The context calculation for single_ref_p6 is the same as
for comp_bwdref_p1. ctx can only equal 0, 1, or 2 for single_ref_p6.</p>

<p><strong>coef_extra_bits</strong>: the cdf depends on the variables cat and cdfIndex as follows:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">cat</th>
      <th style="text-align: center">cdfIndex</th>
      <th style="text-align: center">cdf</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">Default_Coef_Extra_Bits_Cat1_Cdf</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">Default_Coef_Extra_Bits_Cat2_Cdf</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">Default_Coef_Extra_Bits_Cat3_Cdf</td>
    </tr>
    <tr>
      <td style="text-align: center">4</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">Default_Coef_Extra_Bits_Cat4_Cdf</td>
    </tr>
    <tr>
      <td style="text-align: center">5</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">Default_Coef_Extra_Bits_Cat5_S1_Cdf</td>
    </tr>
    <tr>
      <td style="text-align: center">5</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">Default_Coef_Extra_Bits_Cat5_S2_Cdf</td>
    </tr>
    <tr>
      <td style="text-align: center">6</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">Default_Coef_Extra_Bits_Cat6_S1_Cdf</td>
    </tr>
    <tr>
      <td style="text-align: center">6</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">Default_Coef_Extra_Bits_Cat6_S2_Cdf</td>
    </tr>
    <tr>
      <td style="text-align: center">6</td>
      <td style="text-align: center">2</td>
      <td style="text-align: center">Default_Coef_Extra_Bits_Cat6_S3_Cdf</td>
    </tr>
    <tr>
      <td style="text-align: center">6</td>
      <td style="text-align: center">3</td>
      <td style="text-align: center">Default_Coef_Extra_Bits_Cat6_S4_Cdf</td>
    </tr>
    <tr>
      <td style="text-align: center">6</td>
      <td style="text-align: center">4</td>
      <td style="text-align: center">Default_Coef_Extra_Bits_Cat6_S5_Cdf</td>
    </tr>
  </tbody>
</table>

<p><strong>compound_mode</strong>: the cdf is given by TileCompoundModeCdf[ CompoundModeContext ].</p>

<p><strong>interp_filter</strong>: the cdf is given by TileInterpFilterCdf[ ctx ]
where ctx is computed by:</p>

<pre><code class="language-c">    ctx = ( ( dir &amp; 1 ) * 2 + ( RefFrame[ 1 ] &gt; INTRA_FRAME ) ) * 4
    leftType = 3
    aboveType = 3

    if ( AvailL ) {
        if ( RefFrames[ MiRow ][ MiCol - 1 ][ 0 ] == RefFrame[ 0 ] ||
             RefFrames[ MiRow ][ MiCol - 1 ][ 1 ] == RefFrame[ 0 ] )
            leftType = InterpFilters[ MiRow ] [ MiCol - 1 ][ dir ]
    }

    if ( AvailU ) {
        if ( RefFrames[ MiRow - 1 ][ MiCol ][ 0 ] == RefFrame[ 0 ] ||
             RefFrames[ MiRow - 1 ][ MiCol ][ 1 ] == RefFrame[ 0 ] )
            aboveType = InterpFilters[ MiRow - 1 ] [ MiCol ][ dir ]
    }

    if ( leftType == aboveType )
        ctx += leftType
    else if ( leftType == 3 )
        ctx += aboveType
    else if ( aboveType == 3 )
        ctx += leftType
    else
        ctx += 3
</code></pre>

<p><strong>motion_mode</strong>: the cdf is given by TileMotionModeCdf[ MiSize ].</p>

<p><strong>mv_joint</strong>: the cdf is given by TileMvJointCdf[ MvCtx ].</p>

<p><strong>mv_sign</strong>: the cdf is given by TileMvSignCdf[ MvCtx ][ comp ].</p>

<p><strong>mv_class</strong>: the cdf is given by TileMvClassCdf[ MvCtx ][ comp ].</p>

<p><strong>mv_class0_bit</strong>: the cdf is given by TileMvClass0BitCdf[ MvCtx ][ comp ].</p>

<p><strong>mv_class0_fr</strong>: the cdf is given by
TileMvClass0FrCdf[ MvCtx ][ comp ][ mv_class0_bit ].</p>

<p><strong>mv_class0_hp</strong>: the cdf is given by TileMvClass0HpCdf[ MvCtx ][ comp ].</p>

<p><strong>mv_fr</strong>: the cdf is given by TileMvFrCdf[ MvCtx ][ comp ].</p>

<p><strong>mv_hp</strong>: the cdf is given by TileMvHpCdf[ MvCtx ][ comp ].</p>

<p><strong>mv_bit</strong>: the cdf is given by TileMvBitCdf[ MvCtx ][ comp ][ i ].</p>

<p><strong>all_zero</strong>: the cdf is given by TileTxbSkipCdf[ txSzCtx ][ ctx ], where ctx is computed as follows:</p>

<pre><code class="language-c">maxX4 = MiCols
maxY4 = MiRows
if ( plane &gt; 0 ) {
    maxX4 = maxX4 &gt;&gt; subsampling_x
    maxY4 = maxY4 &gt;&gt; subsampling_y
}

x4 = x &gt;&gt; 2
y4 = y &gt;&gt; 2

w = Tx_Width[txSz]
h = Tx_Height[txSz]

w4 = w &gt;&gt; 2
h4 = h &gt;&gt; 2

bw = Block_Width[ MiSize ]
bh = Block_Height[ MiSize ]
mask = use_128x128_superblock ? 255 : 127

if ( plane &gt; 0 ) {
    bw = bw &gt;&gt; subsampling_x
    bh = bh &gt;&gt; subsampling_y
    w = w &gt;&gt; subsampling_x
    h = h &gt;&gt; subsampling_y
}
if (plane == 0) {
    top = 0
    left = 0
    for (k = 0; k &lt; w4; k++) {
        if ( x4 + k &lt; maxX4 )
            top = Max( top, AboveLevelContext[ plane ][ x4 + k ] )
    }
    for (k = 0; k &lt; h4; k++) {
        if ( y4 + k &lt; maxY4 )
            left = Max( left, LeftLevelContext[ plane ][ ( y4 + k ) &amp; mask ] )
    }
    top = Min( top, 255 )
    left = Min( left, 255 )
    if ( bw == w &amp;&amp; bh == h ) {
        ctx = 0
    } else if ( top == 0 &amp;&amp; left == 0 ) {
        ctx = 1
    } else if ( top == 0 || left == 0 ) {
        ctx = 2 + ( Max( top, left ) &gt; 3 )
    } else if ( Max( top, left ) &lt;= 3 ) {
        ctx = 4
    } else if ( Min( top, left ) &lt;= 3 ) {
        ctx = 5
    } else {
        ctx = 6
    }
} else { 
    above = 0
    left = 0
    for( i = 0; i &lt; w4; i++ ) {
        if ( x4 + i &lt; maxX4 ) {
            above |= AboveLevelContext[ plane ][ x4 + i ]
            above |= AboveDcContext[ plane ][ x4 + i ]
        }
    }
    for( i = 0; i &lt; h4; i++ ) {
        if ( y4 + i &lt; maxY4 ) {
            left |= LeftLevelContext[ plane ][ ( y4 + i ) &amp; mask ]
            left |= LeftDcContext[ plane ][ ( y4 + i ) &amp; mask ]
        }
    }
    ctx = ( above != 0 ) + ( left != 0 )
    ctx += 7
    if ( bw &gt; w || ( bw == w &amp;&amp; bh &gt; h ) ) 
        ctx += 3
}
</code></pre>

<p><strong>is_eob</strong>: the cdf is given by TileEobFlagCdf[ txSzCtx ][ ptype ][ ctx ], where ctx is computed as follows:</p>

<pre><code class="language-c">txType = compute_tx_type( plane, txSz, startX, startY )
txClass = get_tx_class(txType)
ctx = eobPt - 1
if ( txType == V_DCT ||
     txType == V_ADST ||
     txType == V_FLIPADST ||
     txType == H_DCT ||
     txType == H_ADST ||
     txType == H_FLIPADST )
    ctx += 11
</code></pre>

<p><strong>eob_extra</strong>: the cdf is given by TileEobExtraCdf[ txSzCtx ][ ptype ][ eobPt ].</p>

<p><strong>coeff_base</strong>: the cdf is given by TileCoeffBaseCdf[ txSzCtx ][ ptype ][ ctx ], where ctx is computed as follows:</p>

<pre><code class="language-c">ctx = get_coeff_base_ctx(txSz, plane, startX, startY, scan[c], c, 0)
</code></pre>

<p>where get_coeff_base_ctx is defined as:</p>

<pre><code class="language-c">get_coeff_base_ctx( txSz, plane, blockX, blockY, pos, c, isEob ) {
    bwl = Tx_Width_Log2[ txSz ] + 2
    width = 1 &lt;&lt; bwl
    height = Tx_Height[ txSz ]
    txType = compute_tx_type( txSz, plane, blockX, blockY )
    if (isEob) {
        if (c == 0) {
            return SIG_COEF_CONTEXTS - 4
        }
        if (c &lt;= (height &lt;&lt; bwl) / 8) {
            return SIG_COEF_CONTEXTS - 3
        }
        if (c &lt;= (height &lt;&lt; bwl) / 4) {
            return SIG_COEF_CONTEXTS - 2
        }
        return SIG_COEF_CONTEXTS - 1
    }
    row = pos &gt;&gt; bwl
    col = pos - (row &lt;&lt; bwl)

    txClass = 0
    if ( txType == V_DCT ||
         txType == V_ADST ||
         txType == V_FLIPADST )
        txClass = 1
    else if ( txType == H_DCT ||
              txType == H_ADST ||
              txType == H_FLIPADST )
        txClass = 2
    
    if ( txClass &gt; 0 )
        offset = SIG_COEF_CONTEXTS_2D
    } else {
        offset = 0
    }

    mag = 0
    for ( idx = 0; idx &lt; SIG_REF_OFFSET_NUM; idx++ ) {
        refRow = row + Sig_Ref_Offset[ txClass ][ idx ][ 0 ]
        refCol = col + Sig_Ref_Offset[ txClass ][ idx ][ 1 ]
        if (refRow &gt;= 0 &amp;&amp;
            refCol &gt;= 0 &amp;&amp;
            refRow &lt; height &amp;&amp;
            refCol &lt; ( 1 &lt;&lt; bwl ) ) {
            nbPos = ( refRow &lt;&lt; bwl ) + refCol
            mag += Min( Abs( Dequant[ nbPos ] ), 3 )
        }
    }

    ctx = Min( ( mag + 1 ) &gt;&gt; 1, 4 )
    if ( txClass == 0 ) {
        if (row == 0 &amp;&amp; col == 0) {
            return offset + 0
        } else if ( width &lt; height &amp;&amp; row &lt; 2 ) {
            return offset + ctx + 11
        } else if ( height &lt; width &amp;&amp; col &lt; 2 ) {
            return offset + ctx + 16
        } else if ( row + col &lt; 2 ) {
            return offset + ctx + 1
        } else if ( row + col &lt; 4 ) {
            return offset + 5 + ctx + 1
        }
        return offset + 21 + Min( ctx, 4 )
    } else {
        if ( txClass == 1 ) {
            if ( row == 0 ) {
                return offset + ctx
            } else if ( row &lt; 2 ) {
                return offset + 5 + ctx
            }
            return offset + 10 + ctx
        } else {
            if ( col == 0 ) {
                return offset + ctx
            } else if ( col &lt; 2 ) {
                return offset + 5 + ctx
            }
            return offset + 10 + ctx
        }
    }
}
</code></pre>

<p><strong>coeff_base_eob</strong>: the cdf is given by TileCoeffBaseEobCdf[ txSzCtx ][ ptype ][ ctx ], where ctx is computed as follows:</p>

<pre><code class="language-c">ctx = get_coeff_base_ctx(txSz, plane, blocky, blockx, scan[c], c, 1) - SIG_COEF_CONTEXTS + SIG_COEF_CONTEXTS_EOB
</code></pre>

<p>where get_coeff_base_ctx() is as defined in the CDF selection for coeff_base.</p>

<p><strong>dc_sign</strong>: the cdf is given by TileDcSignCdf[ ptype ][ ctx ], where ctx is computed as follows:</p>

<pre><code class="language-c">maxX4 = MiCols
maxY4 = MiRows
if ( plane &gt; 0 ) {
    maxX4 = maxX4 &gt;&gt; subsampling_x
    maxY4 = maxY4 &gt;&gt; subsampling_y
}

w4 = Tx_Width[ txSz ] &gt;&gt; 2
h4 = Tx_Height[ txSz ] &gt;&gt; 2

x4 = x &gt;&gt; 2
y4 = y &gt;&gt; 2

dcSign = 0
for ( k = 0; k &lt; w4; k++ ) {
    if ( x4 + k &lt; maxX4 ) {
        sign = AboveDcContext[ plane ][ x4 + k ]
        if ( sign == 1 ) {
            dcSign--
        } else if ( sign == 2 ) {
            dcSign++
        }
    }
}
mask = use_128x128_superblock ? 255 : 127
for ( k = 0; k &lt; h4; k++ ) {
    if ( y4 + k &lt; maxY4 ) {
        sign = LeftDcContext[ plane ][ ( y4 + k ) &amp; mask ]
        if ( sign == 1 ) {
            dcSign--
        } else if ( sign == 2 ) {
            dcSign++
        }
    }
}
if ( dcSign &lt; 0 ) {
    ctx = 1
} else if ( dcSign &gt; 0 ) {
    ctx = 2
} else {
    ctx = 0
}
</code></pre>

<p><strong>coeff_br</strong>: the cdf is given by TileCoeffBrCdf[ txSzCtx ][ ptype ][ ctx ], where ctx is computed as follows:</p>

<pre><code class="language-c">bwl = Tx_Width_Log2[ txSz ] + 2
height = Tx_Height[ txSz ]
row = pos &gt;&gt; bwl
col = pos - (row &lt;&lt; bwl)

nbMag[ 0 ] = 0
nbMag[ 1 ] = 0
nbMag[ 2 ] = 0
count = 0
for ( idx = 0; idx &lt; BR_CONTEXT_POSITION_NUM; idx++ ) {
    refRow = row + Br_Ref_Offset[ idx ][ 0 ]
    refCol = col + Br_Ref_Offset[ idx ][ 1 ]
    if (refRow &gt;= 0 &amp;&amp;
        refCol &gt;= 0 &amp;&amp;
        refRow &lt; height &amp;&amp;
        refCol &lt; ( 1 &lt;&lt; bwl ) ) {
        nbPos = ( refRow &lt;&lt; bwl ) + refCol
        count += ( Abs( Dequant[ nbPos ] ) &gt; NUM_BASE_LEVELS )
        if ( Br_Ref_Offset[ idx ][ 0 ] == 0 &amp;&amp; Br_Ref_Offset[ idx ][ 1 ] == 1 )
            nbMag[ 0 ] = Dequant[ nbPos ]
        if ( Br_Ref_Offset[ idx ][ 0 ] == 1 &amp;&amp; Br_Ref_Offset[ idx ][ 1 ] == 0 )
            nbMag[ 1 ] = Dequant[ nbPos ]
        if ( Br_Ref_Offset[ idx ][ 0 ] == 1 &amp;&amp; Br_Ref_Offset[ idx ][ 1 ] == 1 )
            nbMag[ 2 ] = Dequant[ nbPos ]
    }
}

mag = 0
for ( idx = 0; idx &lt; 3; idx++ ) {
    mag = Max( mag, nbMag[ idx ] )
}

if ( mag &lt;= 1 ) {
    offset = 0
} else if ( mag &lt;= 3 ) {
    offset = 1
} else if ( mag &lt;= 5 ) {
    offset = 2
} else {
    offset = 3
}

v = Min( 3, count &gt;&gt; 1 )
v += offset * BR_TMP_OFFSET

if ( row == 0 &amp;&amp; col == 0 ) { 
    ctx = v
} else if ( row == 0 ) { 
    ctx = 2 + v
} else if ( col == 0 ) { 
    ctx = 5 + v
}
ctx = 8 + v
</code></pre>

<p><strong>has_palette_y</strong>: the cdf is given by
TilePaletteYModeCdf[ MiSize - BLOCK_8X8 ][ ctx ] where ctx is computed as
follows:</p>

<pre><code class="language-c">ctx = 0
if ( AvailU &amp;&amp; PaletteSizes[ 0 ][ MiRow - 1 ][ MiCol ] &gt; 0 )
    ctx += 1
if ( AvailL &amp;&amp; PaletteSizes[ 0 ][ MiRow ][ MiCol - 1 ] &gt; 0 )
    ctx += 1
</code></pre>

<p><strong>has_palette_uv</strong>: the cdf is given by
TilePaletteUVModeCdf[ ctx ] where ctx is computed as
follows:</p>

<pre><code class="language-c">ctx = ( PaletteSizeY &gt; 0 ) ? 1 : 0
</code></pre>

<p><strong>palette_size_y_minus_2</strong>: the cdf is given by TilePaletteYSizeCdf[ MiSize -
BLOCK_8X8 ].</p>

<p><strong>palette_size_uv_minus_2</strong>: the cdf is given by TilePaletteUVSizeCdf[ MiSize -
BLOCK_8X8 ].</p>

<p><strong>palette_color_idx_y</strong>: the cdf depends on PaletteSizeY, as follows:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">PaletteSizeY</th>
      <th style="text-align: center">cdf</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">TilePaletteSize2YColorCdf[ ctx ]</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: center">TilePaletteSize3YColorCdf[ ctx ]</td>
    </tr>
    <tr>
      <td style="text-align: center">4</td>
      <td style="text-align: center">TilePaletteSize4YColorCdf[ ctx ]</td>
    </tr>
    <tr>
      <td style="text-align: center">5</td>
      <td style="text-align: center">TilePaletteSize5YColorCdf[ ctx ]</td>
    </tr>
    <tr>
      <td style="text-align: center">6</td>
      <td style="text-align: center">TilePaletteSize6YColorCdf[ ctx ]</td>
    </tr>
    <tr>
      <td style="text-align: center">7</td>
      <td style="text-align: center">TilePaletteSize7YColorCdf[ ctx ]</td>
    </tr>
    <tr>
      <td style="text-align: center">8</td>
      <td style="text-align: center">TilePaletteSize8YColorCdf[ ctx ]</td>
    </tr>
  </tbody>
</table>

<p>where ctx is computed as follows:</p>

<pre><code class="language-c">ctx = Palette_Color_Context[ ColorContextHash ]
</code></pre>

<p><strong>palette_color_idx_uv</strong>: the cdf depends on PaletteSizeUV, as follows:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">PaletteSizeUV</th>
      <th style="text-align: center">cdf</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">TilePaletteSize2UVColorCdf[ ctx ]</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: center">TilePaletteSize3UVColorCdf[ ctx ]</td>
    </tr>
    <tr>
      <td style="text-align: center">4</td>
      <td style="text-align: center">TilePaletteSize4UVColorCdf[ ctx ]</td>
    </tr>
    <tr>
      <td style="text-align: center">5</td>
      <td style="text-align: center">TilePaletteSize5UVColorCdf[ ctx ]</td>
    </tr>
    <tr>
      <td style="text-align: center">6</td>
      <td style="text-align: center">TilePaletteSize6UVColorCdf[ ctx ]</td>
    </tr>
    <tr>
      <td style="text-align: center">7</td>
      <td style="text-align: center">TilePaletteSize7UVColorCdf[ ctx ]</td>
    </tr>
    <tr>
      <td style="text-align: center">8</td>
      <td style="text-align: center">TilePaletteSize8UVColorCdf[ ctx ]</td>
    </tr>
  </tbody>
</table>

<p>where ctx is computed as follows:</p>

<pre><code class="language-c">ctx = Palette_Color_Context[ ColorContextHash ]
</code></pre>

<p><strong>delta_q_abs</strong>: the cdf is given by TileDeltaQCdf.</p>

<p><strong>delta_lf_abs</strong>: the cdf is derived as follows:</p>

<ul>
  <li>
    <p>If delta_lf_multi is equal to 0, the cdf is given by TileDeltaLFCdf.</p>
  </li>
  <li>
    <p>Otherwise (delta_lf_multi is equal to 1), the cdf is given by TileDeltaLFMultiCdf[ i ].</p>
  </li>
</ul>

<p><strong>intra_tx_type</strong>: the cdf depends on the variable set, as follows:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">set</th>
      <th style="text-align: center">cdf</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">TX_SET_INTRA_1</td>
      <td style="text-align: center">TileIntraTxTypeSet1Cdf[ Tx_Size_Sqr[ txSz ] ][ YMode ]</td>
    </tr>
    <tr>
      <td style="text-align: center">TX_SET_INTRA_2</td>
      <td style="text-align: center">TileIntraTxTypeSet2Cdf[ Tx_Size_Sqr[ txSz ] ][ YMode ]</td>
    </tr>
  </tbody>
</table>

<p><strong>inter_tx_type</strong>: the cdf depends on the variable set, as follows:</p>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">set</th>
      <th style="text-align: center">cdf</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">TX_SET_INTER_1</td>
      <td style="text-align: center">TileInterTxTypeSet1Cdf[ Tx_Size_Sqr[ txSz ] ]</td>
    </tr>
    <tr>
      <td style="text-align: center">TX_SET_INTER_2</td>
      <td style="text-align: center">TileInterTxTypeSet2Cdf[ Tx_Size_Sqr[ txSz ] ]</td>
    </tr>
    <tr>
      <td style="text-align: center">TX_SET_INTER_3</td>
      <td style="text-align: center">TileInterTxTypeSet3Cdf[ Tx_Size_Sqr[ txSz ] ]</td>
    </tr>
  </tbody>
</table>

<p><strong>comp_ref_type</strong>: The cdf is given by TileCompRefTypeCdf[ ctx ], where ctx is computed as follows:</p>

<pre><code class="language-c">above0 = AboveRefFrame[ 0 ]
above1 = AboveRefFrame[ 1 ]
left0 = LeftRefFrame[ 0 ]
left1 = LeftRefFrame[ 1 ]
aboveCompInter = AvailU &amp;&amp; !AboveIntra &amp;&amp; !AboveSingle
leftCompInter = AvailL &amp;&amp; !LeftIntra &amp;&amp; !LeftSingle
aboveUniComp = aboveCompInter &amp;&amp; is_samedir_ref_pair(above0, above1)
leftUniComp = leftCompInter &amp;&amp; is_samedir_ref_pair(left0, left1)

if (AvailU &amp;&amp; !AboveIntra &amp;&amp; AvailL &amp;&amp; !LeftIntra) {
    samedir = is_samedir_ref_pair(above0, left0)

    if (!aboveCompInter &amp;&amp; !leftCompInter) {
        ctx = 1 + 2 * samedir
    } else if (!aboveCompInter) {
        if (!leftUniComp)
            ctx = 1
        else
            ctx = 3 + samedir
    } else if (!leftCompInter) {
        if (!aboveUniComp)
            ctx = 1
        else
            ctx = 3 + samedir
    } else {
        if (!aboveUniComp &amp;&amp; !leftUniComp)
            ctx = 0
        else if (!aboveUniComp || !leftUniComp)
            ctx = 2
        else
            ctx = 3 + ((above0 == BWDREF_FRAME) == (left0 == BWDREF_FRAME))
    }
} else if (AvailU &amp;&amp; AvailL) {
    if (aboveCompInter)
        ctx = 1 + 2 * aboveUniComp
    else if (leftCompInter)
        ctx = 1 + 2 * leftUniComp
    else
        ctx = 2
} else if (aboveCompInter) {
    ctx = 4 * aboveUniComp
} else if (leftCompInter) {
    ctx = 4 * leftUniComp
} else {
    ctx = 2
}
</code></pre>

<p>where is_samedir_ref_pair is defined as:</p>

<pre><code class="language-c">is_samedir_ref_pair(ref0, ref1) {
  if (ref0 &lt;= INTRA_FRAME || ref1 &lt;= INTRA_FRAME)
    return 0

  return (ref0 &gt;= BWDREF_FRAME) == (ref1 &gt;= BWDREF_FRAME)
}
</code></pre>

<p><strong>uni_comp_ref</strong>: The cdf is given by TileUniCompRefCdf[ ctx ][ 0 ], where ctx is computed as follows:</p>

<pre><code class="language-c">fwdCount = count_refs( LAST_FRAME )
fwdCount += count_refs( LAST2_FRAME )
fwdCount += count_refs( LAST3_FRAME )
fwdCount += count_refs( GOLDEN_FRAME )
bwdCount = count_refs( BWDREF_FRAME )
bwdCount += count_refs( ALTREF2_FRAME )
bwdCount += count_refs( ALTREF_FRAME )
ctx = ref_count_ctx( fwdCount, bwdCount )
</code></pre>

<p>where count_refs and ref_count_ctx are the same as given in the CDF selection process for comp_bwdref.</p>

<p><strong>uni_comp_ref_p1</strong>: The cdf is given by TileUniCompRefCdf[ ctx ][ 1 ], where ctx is computed as follows:</p>

<pre><code class="language-c">last2Count = count_refs( LAST2_FRAME )
last3GoldCount = count_refs( LAST3_FRAME ) + count_refs( GOLDEN_FRAME )
ctx = ref_count_ctx( last2Count, last3GoldCount )
</code></pre>

<p>where count_refs and ref_count_ctx are the same as given in the CDF selection process for comp_bwdref.</p>

<p><strong>uni_comp_ref_p2</strong>: The cdf is given by TileUniCompRefCdf[ ctx ][ 2 ], where ctx is computed as follows:</p>

<pre><code class="language-c">last3Count = count_refs( LAST3_FRAME )
goldCount = count_refs( GOLDEN_FRAME )
ctx = ref_count_ctx( last3Count, goldCount )
</code></pre>

<p>where count_refs and ref_count_ctx are the same as given in the CDF selection process for comp_bwdref.</p>

<p><strong>compound_type</strong>: The cdf is given by TileCompoundTypeCdf[ MiSize ].</p>

<p><strong>interintra</strong>: The cdf is given by TileInterIntraCdf[ ctx ], where ctx is computed as follows:</p>

<pre><code class="language-c">ctx = Size_Group[ MiSize ]
</code></pre>

<p><strong>interintra_mode</strong>: The cdf is given by TileInterIntraModeCdf[ ctx ], where ctx is computed as follows:</p>

<pre><code class="language-c">ctx = Size_Group[ MiSize ]
</code></pre>

<p><strong>wedge_interintra</strong>: The cdf is given by TileWedgeInterIntraCdf[ MiSize ].</p>

<p><strong>use_obmc</strong>: The cdf is given by TileUseObmcCdf[ MiSize ].</p>

<p><strong>cfl_alpha_signs</strong>: The cdf is given by TileCflSignCdf.</p>

<p><strong>cfl_alpha_u</strong>: The cdf is given by TileCflAlphaCdf[ ctx ] where ctx is computed as follows:</p>

<pre><code class="language-c">ctx = (signU - 1) * 3 + signV
</code></pre>

<p class="alert alert-info"><strong>Note:</strong> The variable ctx produced by this calculation will be equal to cfl_alpha_signs - 2.</p>

<p><strong>cfl_alpha_v</strong>: The cdf is given by TileCflAlphaCdf[ ctx ] where ctx is computed as follows:</p>

<pre><code class="language-c">ctx = (signV - 1) * 3 + signU
</code></pre>

<p><strong>use_wiener</strong>: The cdf is given by TileUseWienerCdf.</p>

<p><strong>use_sgrproj</strong>: The cdf is given by TileUseSgrprojCdf.</p>

<p><strong>restoration_type</strong>: The cdf is given by TileRestorationTypeCdf.</p>

<h2 id="additional-tables">Additional Tables</h2>

<p>This section contains tables that do not naturally fit in the main sections of
the Specification.</p>

<h3 id="scan-tables">Scan Tables</h3>

<p>This section defines the scan order for different types of transform.</p>

<pre><code class="language-c">Default_Scan_4x4[ 16 ] = {
    0, 4, 1, 5,
    8, 2, 12, 9,
    3, 6, 13, 10,
    7, 14, 11, 15,
}
</code></pre>

<pre><code class="language-c">Col_Scan_4x4[ 16 ] = {
    0, 4, 8, 1,
    12, 5, 9, 2,
    13, 6, 10, 3,
    7, 14, 11, 15,
}
</code></pre>

<pre><code class="language-c">Row_Scan_4x4[ 16 ] = {
    0, 1, 4, 2,
    5, 3, 6, 8,
    9, 7, 12, 10,
    13, 11, 14, 15,
}
</code></pre>

<pre><code class="language-c">Mcol_Scan_4x4[ 16 ] = {
    0, 4, 8, 12,
    1, 5, 9, 13,
    2, 6, 10, 14,
    3, 7, 11, 15,
}
</code></pre>

<pre><code class="language-c">Mrow_Scan_4x4[ 16 ] = {
    0, 1, 2, 3,
    4, 5, 6, 7,
    8, 9, 10, 11,
    12, 13, 14, 15,
}
</code></pre>

<pre><code class="language-c">Default_Scan_4x8[32] = {
  0,  1,  4,  5,  2,  8,  6,  9,  10, 3,  12, 7,  13, 11, 14, 16,
  17, 15, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31,
}
</code></pre>

<pre><code class="language-c">Mcol_Scan_4x8[32] = {
  0, 4, 8,  12, 16, 20, 24, 28, 1, 5, 9,  13, 17, 21, 25, 29,
  2, 6, 10, 14, 18, 22, 26, 30, 3, 7, 11, 15, 19, 23, 27, 31,
}
</code></pre>

<pre><code class="language-c">Mrow_Scan_4x8[32] = {
  0,  1,  2,  3,  4,  5,  6,  7,  8,  9,  10, 11, 12, 13, 14, 15,
  16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31,
}
</code></pre>

<pre><code class="language-c">Default_Scan_8x4[32] = {
  0,  1,  8,  9, 2,  16, 10, 17, 18, 3,  24, 11, 25, 19, 26, 4,
  12, 27, 20, 5, 28, 13, 21, 29, 6,  14, 22, 30, 7,  15, 23, 31,
}
</code></pre>

<pre><code class="language-c">Mcol_Scan_8x4[32] = {
  0, 8,  16, 24, 1, 9,  17, 25, 2, 10, 18, 26, 3, 11, 19, 27,
  4, 12, 20, 28, 5, 13, 21, 29, 6, 14, 22, 30, 7, 15, 23, 31,
}
</code></pre>

<pre><code class="language-c">Mrow_Scan_8x4[32] = {
  0,  1,  2,  3,  4,  5,  6,  7,  8,  9,  10, 11, 12, 13, 14, 15,
  16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31,
}
</code></pre>

<pre><code class="language-c">Default_Scan_8x8[ 64 ] = {
    0, 8, 1, 16, 9, 2, 17, 24,
    10, 3, 18, 25, 32, 11, 4, 26,
    33, 19, 40, 12, 34, 27, 5, 41,
    20, 48, 13, 35, 42, 28, 21, 6,
    49, 56, 36, 43, 29, 7, 14, 50,
    57, 44, 22, 37, 15, 51, 58, 30,
    45, 23, 52, 59, 38, 31, 60, 53,
    46, 39, 61, 54, 47, 62, 55, 63,
}
</code></pre>

<pre><code class="language-c">Mcol_Scan_8x8[ 64 ] = {
  0, 8,  16, 24, 32, 40, 48, 56,
  1, 9,  17, 25, 33, 41, 49, 57,
  2, 10, 18, 26, 34, 42, 50, 58,
  3, 11, 19, 27, 35, 43, 51, 59,
  4, 12, 20, 28, 36, 44, 52, 60,
  5, 13, 21, 29, 37, 45, 53, 61,
  6, 14, 22, 30, 38, 46, 54, 62,
  7, 15, 23, 31, 39, 47, 55, 63,
}
</code></pre>

<pre><code class="language-c">Mrow_Scan_8x8[ 64 ] = {
  0,  1,  2,  3,  4,  5,  6,  7,
  8,  9,  10, 11, 12, 13, 14, 15,
  16, 17, 18, 19, 20, 21, 22, 23,
  24, 25, 26, 27, 28, 29, 30, 31,
  32, 33, 34, 35, 36, 37, 38, 39,
  40, 41, 42, 43, 44, 45, 46, 47,
  48, 49, 50, 51, 52, 53, 54, 55,
  56, 57, 58, 59, 60, 61, 62, 63,
}
</code></pre>

<pre><code class="language-c">Col_Scan_8x8[ 64 ] = {
    0, 8, 16, 1, 24, 9, 32, 17,
    2, 40, 25, 10, 33, 18, 48, 3,
    26, 41, 11, 56, 19, 34, 4, 49,
    27, 42, 12, 35, 20, 57, 50, 28,
    5, 43, 13, 36, 58, 51, 21, 44,
    6, 29, 59, 37, 14, 52, 22, 7,
    45, 60, 30, 15, 38, 53, 23, 46,
    31, 61, 39, 54, 47, 62, 55, 63,
}
</code></pre>

<pre><code class="language-c">Row_Scan_8x8[ 64 ] = {
    0, 1, 2, 8, 9, 3, 16, 10,
    4, 17, 11, 24, 5, 18, 25, 12,
    19, 26, 32, 6, 13, 20, 33, 27,
    7, 34, 40, 21, 28, 41, 14, 35,
    48, 42, 29, 36, 49, 22, 43, 15,
    56, 37, 50, 44, 30, 57, 23, 51,
    58, 45, 38, 52, 31, 59, 53, 46,
    60, 39, 61, 47, 54, 55, 62, 63,
}
</code></pre>

<pre><code class="language-c">Default_Scan_8x16[128] = {
  0,   1,   8,   2,   9,   16,  3,   10,  17,  24,  4,   11,  18,  25,  32,
  5,   12,  19,  26,  33,  40,  6,   13,  20,  27,  34,  41,  48,  7,   14,
  21,  28,  35,  42,  49,  56,  15,  22,  29,  36,  43,  50,  57,  64,  23,
  30,  37,  44,  51,  58,  65,  72,  31,  38,  45,  52,  59,  66,  73,  80,
  39,  46,  53,  60,  67,  74,  81,  88,  47,  54,  61,  68,  75,  82,  89,
  96,  55,  62,  69,  76,  83,  90,  97,  104, 63,  70,  77,  84,  91,  98,
  105, 112, 71,  78,  85,  92,  99,  106, 113, 120, 79,  86,  93,  100, 107,
  114, 121, 87,  94,  101, 108, 115, 122, 95,  102, 109, 116, 123, 103, 110,
  117, 124, 111, 118, 125, 119, 126, 127,
}
</code></pre>

<pre><code class="language-c">Mcol_Scan_8x16[128] = {
  0, 8,  16, 24, 32, 40, 48, 56, 64, 72, 80, 88, 96,  104, 112, 120,
  1, 9,  17, 25, 33, 41, 49, 57, 65, 73, 81, 89, 97,  105, 113, 121,
  2, 10, 18, 26, 34, 42, 50, 58, 66, 74, 82, 90, 98,  106, 114, 122,
  3, 11, 19, 27, 35, 43, 51, 59, 67, 75, 83, 91, 99,  107, 115, 123,
  4, 12, 20, 28, 36, 44, 52, 60, 68, 76, 84, 92, 100, 108, 116, 124,
  5, 13, 21, 29, 37, 45, 53, 61, 69, 77, 85, 93, 101, 109, 117, 125,
  6, 14, 22, 30, 38, 46, 54, 62, 70, 78, 86, 94, 102, 110, 118, 126,
  7, 15, 23, 31, 39, 47, 55, 63, 71, 79, 87, 95, 103, 111, 119, 127,
}
</code></pre>

<pre><code class="language-c">Mrow_Scan_8x16[128] = {
  0,   1,   2,   3,   4,   5,   6,   7,   8,   9,   10,  11,  12,  13,  14,
  15,  16,  17,  18,  19,  20,  21,  22,  23,  24,  25,  26,  27,  28,  29,
  30,  31,  32,  33,  34,  35,  36,  37,  38,  39,  40,  41,  42,  43,  44,
  45,  46,  47,  48,  49,  50,  51,  52,  53,  54,  55,  56,  57,  58,  59,
  60,  61,  62,  63,  64,  65,  66,  67,  68,  69,  70,  71,  72,  73,  74,
  75,  76,  77,  78,  79,  80,  81,  82,  83,  84,  85,  86,  87,  88,  89,
  90,  91,  92,  93,  94,  95,  96,  97,  98,  99,  100, 101, 102, 103, 104,
  105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119,
  120, 121, 122, 123, 124, 125, 126, 127,
}
</code></pre>

<pre><code class="language-c">Default_Scan_16x8[128] = {
  0,   1,  16,  2,   17,  32,  3,  18, 33,  48,  4,   19,  34,  49,  64,  5,
  20,  35, 50,  65,  80,  6,   21, 36, 51,  66,  81,  96,  7,   22,  37,  52,
  67,  82, 97,  112, 8,   23,  38, 53, 68,  83,  98,  113, 9,   24,  39,  54,
  69,  84, 99,  114, 10,  25,  40, 55, 70,  85,  100, 115, 11,  26,  41,  56,
  71,  86, 101, 116, 12,  27,  42, 57, 72,  87,  102, 117, 13,  28,  43,  58,
  73,  88, 103, 118, 14,  29,  44, 59, 74,  89,  104, 119, 15,  30,  45,  60,
  75,  90, 105, 120, 31,  46,  61, 76, 91,  106, 121, 47,  62,  77,  92,  107,
  122, 63, 78,  93,  108, 123, 79, 94, 109, 124, 95,  110, 125, 111, 126, 127,
}
</code></pre>

<pre><code class="language-c">Mcol_Scan_16x8[128] = {
  0,  16, 32, 48, 64, 80, 96,  112, 1,  17, 33, 49, 65, 81, 97,  113,
  2,  18, 34, 50, 66, 82, 98,  114, 3,  19, 35, 51, 67, 83, 99,  115,
  4,  20, 36, 52, 68, 84, 100, 116, 5,  21, 37, 53, 69, 85, 101, 117,
  6,  22, 38, 54, 70, 86, 102, 118, 7,  23, 39, 55, 71, 87, 103, 119,
  8,  24, 40, 56, 72, 88, 104, 120, 9,  25, 41, 57, 73, 89, 105, 121,
  10, 26, 42, 58, 74, 90, 106, 122, 11, 27, 43, 59, 75, 91, 107, 123,
  12, 28, 44, 60, 76, 92, 108, 124, 13, 29, 45, 61, 77, 93, 109, 125,
  14, 30, 46, 62, 78, 94, 110, 126, 15, 31, 47, 63, 79, 95, 111, 127,
}
</code></pre>

<pre><code class="language-c">Mrow_Scan_16x8[128] = {
  0,   1,   2,   3,   4,   5,   6,   7,   8,   9,   10,  11,  12,  13,  14,
  15,  16,  17,  18,  19,  20,  21,  22,  23,  24,  25,  26,  27,  28,  29,
  30,  31,  32,  33,  34,  35,  36,  37,  38,  39,  40,  41,  42,  43,  44,
  45,  46,  47,  48,  49,  50,  51,  52,  53,  54,  55,  56,  57,  58,  59,
  60,  61,  62,  63,  64,  65,  66,  67,  68,  69,  70,  71,  72,  73,  74,
  75,  76,  77,  78,  79,  80,  81,  82,  83,  84,  85,  86,  87,  88,  89,
  90,  91,  92,  93,  94,  95,  96,  97,  98,  99,  100, 101, 102, 103, 104,
  105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119,
  120, 121, 122, 123, 124, 125, 126, 127,
}
</code></pre>

<pre><code class="language-c">Default_Scan_16x16[ 256 ] = {
    0, 16, 1, 32, 17, 2, 48, 33, 18, 3, 64, 34, 49, 19, 65, 80,
    50, 4, 35, 66, 20, 81, 96, 51, 5, 36, 82, 97, 67, 112, 21, 52,
    98, 37, 83, 113, 6, 68, 128, 53, 22, 99, 114, 84, 7, 129, 38, 69,
    100, 115, 144, 130, 85, 54, 23, 8, 145, 39, 70, 116, 101, 131, 160, 146,
    55, 86, 24, 71, 132, 117, 161, 40, 9, 102, 147, 176, 162, 87, 56, 25,
    133, 118, 177, 148, 72, 103, 41, 163, 10, 192, 178, 88, 57, 134, 149, 119,
    26, 164, 73, 104, 193, 42, 179, 208, 11, 135, 89, 165, 120, 150, 58, 194,
    180, 27, 74, 209, 105, 151, 136, 43, 90, 224, 166, 195, 181, 121, 210, 59,
    12, 152, 106, 167, 196, 75, 137, 225, 211, 240, 182, 122, 91, 28, 197, 13,
    226, 168, 183, 153, 44, 212, 138, 107, 241, 60, 29, 123, 198, 184, 227, 169,
    242, 76, 213, 154, 45, 92, 14, 199, 139, 61, 228, 214, 170, 185, 243, 108,
    77, 155, 30, 15, 200, 229, 124, 215, 244, 93, 46, 186, 171, 201, 109, 140,
    230, 62, 216, 245, 31, 125, 78, 156, 231, 47, 187, 202, 217, 94, 246, 141,
    63, 232, 172, 110, 247, 157, 79, 218, 203, 126, 233, 188, 248, 95, 173, 142,
    219, 111, 249, 234, 158, 127, 189, 204, 250, 235, 143, 174, 220, 205, 159, 251,
    190, 221, 175, 236, 237, 191, 206, 252, 222, 253, 207, 238, 223, 254, 239, 255
}
</code></pre>

<pre><code class="language-c">Mcol_Scan_16x16[ 256 ] = {
  0,  16, 32, 48, 64, 80, 96,  112, 128, 144, 160, 176, 192, 208, 224, 240,
  1,  17, 33, 49, 65, 81, 97,  113, 129, 145, 161, 177, 193, 209, 225, 241,
  2,  18, 34, 50, 66, 82, 98,  114, 130, 146, 162, 178, 194, 210, 226, 242,
  3,  19, 35, 51, 67, 83, 99,  115, 131, 147, 163, 179, 195, 211, 227, 243,
  4,  20, 36, 52, 68, 84, 100, 116, 132, 148, 164, 180, 196, 212, 228, 244,
  5,  21, 37, 53, 69, 85, 101, 117, 133, 149, 165, 181, 197, 213, 229, 245,
  6,  22, 38, 54, 70, 86, 102, 118, 134, 150, 166, 182, 198, 214, 230, 246,
  7,  23, 39, 55, 71, 87, 103, 119, 135, 151, 167, 183, 199, 215, 231, 247,
  8,  24, 40, 56, 72, 88, 104, 120, 136, 152, 168, 184, 200, 216, 232, 248,
  9,  25, 41, 57, 73, 89, 105, 121, 137, 153, 169, 185, 201, 217, 233, 249,
  10, 26, 42, 58, 74, 90, 106, 122, 138, 154, 170, 186, 202, 218, 234, 250,
  11, 27, 43, 59, 75, 91, 107, 123, 139, 155, 171, 187, 203, 219, 235, 251,
  12, 28, 44, 60, 76, 92, 108, 124, 140, 156, 172, 188, 204, 220, 236, 252,
  13, 29, 45, 61, 77, 93, 109, 125, 141, 157, 173, 189, 205, 221, 237, 253,
  14, 30, 46, 62, 78, 94, 110, 126, 142, 158, 174, 190, 206, 222, 238, 254,
  15, 31, 47, 63, 79, 95, 111, 127, 143, 159, 175, 191, 207, 223, 239, 255,
}
</code></pre>

<pre><code class="language-c">Mrow_Scan_16x16[ 256 ] = {
  0,   1,   2,   3,   4,   5,   6,   7,   8,   9,   10,  11,  12,  13,  14,
  15,  16,  17,  18,  19,  20,  21,  22,  23,  24,  25,  26,  27,  28,  29,
  30,  31,  32,  33,  34,  35,  36,  37,  38,  39,  40,  41,  42,  43,  44,
  45,  46,  47,  48,  49,  50,  51,  52,  53,  54,  55,  56,  57,  58,  59,
  60,  61,  62,  63,  64,  65,  66,  67,  68,  69,  70,  71,  72,  73,  74,
  75,  76,  77,  78,  79,  80,  81,  82,  83,  84,  85,  86,  87,  88,  89,
  90,  91,  92,  93,  94,  95,  96,  97,  98,  99,  100, 101, 102, 103, 104,
  105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119,
  120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134,
  135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149,
  150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164,
  165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179,
  180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194,
  195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209,
  210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224,
  225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239,
  240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254,
  255,
}
</code></pre>

<pre><code class="language-c">Col_Scan_16x16[ 256 ] = {
    0, 16, 32, 48, 1, 64, 17, 80, 33, 96, 49, 2, 65, 112, 18, 81,
    34, 128, 50, 97, 3, 66, 144, 19, 113, 35, 82, 160, 98, 51, 129, 4,
    67, 176, 20, 114, 145, 83, 36, 99, 130, 52, 192, 5, 161, 68, 115, 21,
    146, 84, 208, 177, 37, 131, 100, 53, 162, 224, 69, 6, 116, 193, 147, 85,
    22, 240, 132, 38, 178, 101, 163, 54, 209, 117, 70, 7, 148, 194, 86, 179,
    225, 23, 133, 39, 164, 8, 102, 210, 241, 55, 195, 118, 149, 71, 180, 24,
    87, 226, 134, 165, 211, 40, 103, 56, 72, 150, 196, 242, 119, 9, 181, 227,
    88, 166, 25, 135, 41, 104, 212, 57, 151, 197, 120, 73, 243, 182, 136, 167,
    213, 89, 10, 228, 105, 152, 198, 26, 42, 121, 183, 244, 168, 58, 137, 229,
    74, 214, 90, 153, 199, 184, 11, 106, 245, 27, 122, 230, 169, 43, 215, 59,
    200, 138, 185, 246, 75, 12, 91, 154, 216, 231, 107, 28, 44, 201, 123, 170,
    60, 247, 232, 76, 139, 13, 92, 217, 186, 248, 155, 108, 29, 124, 45, 202,
    233, 171, 61, 14, 77, 140, 15, 249, 93, 30, 187, 156, 218, 46, 109, 125,
    62, 172, 78, 203, 31, 141, 234, 94, 47, 188, 63, 157, 110, 250, 219, 79,
    126, 204, 173, 142, 95, 189, 111, 235, 158, 220, 251, 127, 174, 143, 205, 236,
    159, 190, 221, 252, 175, 206, 237, 191, 253, 222, 238, 207, 254, 223, 239, 255,
}
</code></pre>

<pre><code class="language-c">Row_Scan_16x16[ 256 ] = {
    0, 1, 2, 16, 3, 17, 4, 18, 32, 5, 33, 19, 6, 34, 48, 20,
    49, 7, 35, 21, 50, 64, 8, 36, 65, 22, 51, 37, 80, 9, 66, 52,
    23, 38, 81, 67, 10, 53, 24, 82, 68, 96, 39, 11, 54, 83, 97, 69,
    25, 98, 84, 40, 112, 55, 12, 70, 99, 113, 85, 26, 41, 56, 114, 100,
    13, 71, 128, 86, 27, 115, 101, 129, 42, 57, 72, 116, 14, 87, 130, 102,
    144, 73, 131, 117, 28, 58, 15, 88, 43, 145, 103, 132, 146, 118, 74, 160,
    89, 133, 104, 29, 59, 147, 119, 44, 161, 148, 90, 105, 134, 162, 120, 176,
    75, 135, 149, 30, 60, 163, 177, 45, 121, 91, 106, 164, 178, 150, 192, 136,
    165, 179, 31, 151, 193, 76, 122, 61, 137, 194, 107, 152, 180, 208, 46, 166,
    167, 195, 92, 181, 138, 209, 123, 153, 224, 196, 77, 168, 210, 182, 240, 108,
    197, 62, 154, 225, 183, 169, 211, 47, 139, 93, 184, 226, 212, 241, 198, 170,
    124, 155, 199, 78, 213, 185, 109, 227, 200, 63, 228, 242, 140, 214, 171, 186,
    156, 229, 243, 125, 94, 201, 244, 215, 216, 230, 141, 187, 202, 79, 172, 110,
    157, 245, 217, 231, 95, 246, 232, 126, 203, 247, 233, 173, 218, 142, 111, 158,
    188, 248, 127, 234, 219, 249, 189, 204, 143, 174, 159, 250, 235, 205, 220, 175,
    190, 251, 221, 191, 206, 236, 207, 237, 252, 222, 253, 223, 238, 239, 254, 255,
}
</code></pre>

<pre><code class="language-c">Default_Scan_16x32[512] = {
  0,   1,   16,  2,   17,  32,  3,   18,  33,  48,  4,   19,  34,  49,  64,
  5,   20,  35,  50,  65,  80,  6,   21,  36,  51,  66,  81,  96,  7,   22,
  37,  52,  67,  82,  97,  112, 8,   23,  38,  53,  68,  83,  98,  113, 128,
  9,   24,  39,  54,  69,  84,  99,  114, 129, 144, 10,  25,  40,  55,  70,
  85,  100, 115, 130, 145, 160, 11,  26,  41,  56,  71,  86,  101, 116, 131,
  146, 161, 176, 12,  27,  42,  57,  72,  87,  102, 117, 132, 147, 162, 177,
  192, 13,  28,  43,  58,  73,  88,  103, 118, 133, 148, 163, 178, 193, 208,
  14,  29,  44,  59,  74,  89,  104, 119, 134, 149, 164, 179, 194, 209, 224,
  15,  30,  45,  60,  75,  90,  105, 120, 135, 150, 165, 180, 195, 210, 225,
  240, 31,  46,  61,  76,  91,  106, 121, 136, 151, 166, 181, 196, 211, 226,
  241, 256, 47,  62,  77,  92,  107, 122, 137, 152, 167, 182, 197, 212, 227,
  242, 257, 272, 63,  78,  93,  108, 123, 138, 153, 168, 183, 198, 213, 228,
  243, 258, 273, 288, 79,  94,  109, 124, 139, 154, 169, 184, 199, 214, 229,
  244, 259, 274, 289, 304, 95,  110, 125, 140, 155, 170, 185, 200, 215, 230,
  245, 260, 275, 290, 305, 320, 111, 126, 141, 156, 171, 186, 201, 216, 231,
  246, 261, 276, 291, 306, 321, 336, 127, 142, 157, 172, 187, 202, 217, 232,
  247, 262, 277, 292, 307, 322, 337, 352, 143, 158, 173, 188, 203, 218, 233,
  248, 263, 278, 293, 308, 323, 338, 353, 368, 159, 174, 189, 204, 219, 234,
  249, 264, 279, 294, 309, 324, 339, 354, 369, 384, 175, 190, 205, 220, 235,
  250, 265, 280, 295, 310, 325, 340, 355, 370, 385, 400, 191, 206, 221, 236,
  251, 266, 281, 296, 311, 326, 341, 356, 371, 386, 401, 416, 207, 222, 237,
  252, 267, 282, 297, 312, 327, 342, 357, 372, 387, 402, 417, 432, 223, 238,
  253, 268, 283, 298, 313, 328, 343, 358, 373, 388, 403, 418, 433, 448, 239,
  254, 269, 284, 299, 314, 329, 344, 359, 374, 389, 404, 419, 434, 449, 464,
  255, 270, 285, 300, 315, 330, 345, 360, 375, 390, 405, 420, 435, 450, 465,
  480, 271, 286, 301, 316, 331, 346, 361, 376, 391, 406, 421, 436, 451, 466,
  481, 496, 287, 302, 317, 332, 347, 362, 377, 392, 407, 422, 437, 452, 467,
  482, 497, 303, 318, 333, 348, 363, 378, 393, 408, 423, 438, 453, 468, 483,
  498, 319, 334, 349, 364, 379, 394, 409, 424, 439, 454, 469, 484, 499, 335,
  350, 365, 380, 395, 410, 425, 440, 455, 470, 485, 500, 351, 366, 381, 396,
  411, 426, 441, 456, 471, 486, 501, 367, 382, 397, 412, 427, 442, 457, 472,
  487, 502, 383, 398, 413, 428, 443, 458, 473, 488, 503, 399, 414, 429, 444,
  459, 474, 489, 504, 415, 430, 445, 460, 475, 490, 505, 431, 446, 461, 476,
  491, 506, 447, 462, 477, 492, 507, 463, 478, 493, 508, 479, 494, 509, 495,
  510, 511,
}
</code></pre>

<pre><code class="language-c">Mcol_Scan_16x32[512] = {
  0,   16,  32,  48,  64,  80,  96,  112, 128, 144, 160, 176, 192, 208, 224,
  240, 256, 272, 288, 304, 320, 336, 352, 368, 384, 400, 416, 432, 448, 464,
  480, 496, 1,   17,  33,  49,  65,  81,  97,  113, 129, 145, 161, 177, 193,
  209, 225, 241, 257, 273, 289, 305, 321, 337, 353, 369, 385, 401, 417, 433,
  449, 465, 481, 497, 2,   18,  34,  50,  66,  82,  98,  114, 130, 146, 162,
  178, 194, 210, 226, 242, 258, 274, 290, 306, 322, 338, 354, 370, 386, 402,
  418, 434, 450, 466, 482, 498, 3,   19,  35,  51,  67,  83,  99,  115, 131,
  147, 163, 179, 195, 211, 227, 243, 259, 275, 291, 307, 323, 339, 355, 371,
  387, 403, 419, 435, 451, 467, 483, 499, 4,   20,  36,  52,  68,  84,  100,
  116, 132, 148, 164, 180, 196, 212, 228, 244, 260, 276, 292, 308, 324, 340,
  356, 372, 388, 404, 420, 436, 452, 468, 484, 500, 5,   21,  37,  53,  69,
  85,  101, 117, 133, 149, 165, 181, 197, 213, 229, 245, 261, 277, 293, 309,
  325, 341, 357, 373, 389, 405, 421, 437, 453, 469, 485, 501, 6,   22,  38,
  54,  70,  86,  102, 118, 134, 150, 166, 182, 198, 214, 230, 246, 262, 278,
  294, 310, 326, 342, 358, 374, 390, 406, 422, 438, 454, 470, 486, 502, 7,
  23,  39,  55,  71,  87,  103, 119, 135, 151, 167, 183, 199, 215, 231, 247,
  263, 279, 295, 311, 327, 343, 359, 375, 391, 407, 423, 439, 455, 471, 487,
  503, 8,   24,  40,  56,  72,  88,  104, 120, 136, 152, 168, 184, 200, 216,
  232, 248, 264, 280, 296, 312, 328, 344, 360, 376, 392, 408, 424, 440, 456,
  472, 488, 504, 9,   25,  41,  57,  73,  89,  105, 121, 137, 153, 169, 185,
  201, 217, 233, 249, 265, 281, 297, 313, 329, 345, 361, 377, 393, 409, 425,
  441, 457, 473, 489, 505, 10,  26,  42,  58,  74,  90,  106, 122, 138, 154,
  170, 186, 202, 218, 234, 250, 266, 282, 298, 314, 330, 346, 362, 378, 394,
  410, 426, 442, 458, 474, 490, 506, 11,  27,  43,  59,  75,  91,  107, 123,
  139, 155, 171, 187, 203, 219, 235, 251, 267, 283, 299, 315, 331, 347, 363,
  379, 395, 411, 427, 443, 459, 475, 491, 507, 12,  28,  44,  60,  76,  92,
  108, 124, 140, 156, 172, 188, 204, 220, 236, 252, 268, 284, 300, 316, 332,
  348, 364, 380, 396, 412, 428, 444, 460, 476, 492, 508, 13,  29,  45,  61,
  77,  93,  109, 125, 141, 157, 173, 189, 205, 221, 237, 253, 269, 285, 301,
  317, 333, 349, 365, 381, 397, 413, 429, 445, 461, 477, 493, 509, 14,  30,
  46,  62,  78,  94,  110, 126, 142, 158, 174, 190, 206, 222, 238, 254, 270,
  286, 302, 318, 334, 350, 366, 382, 398, 414, 430, 446, 462, 478, 494, 510,
  15,  31,  47,  63,  79,  95,  111, 127, 143, 159, 175, 191, 207, 223, 239,
  255, 271, 287, 303, 319, 335, 351, 367, 383, 399, 415, 431, 447, 463, 479,
  495, 511,
}
</code></pre>

<pre><code class="language-c">Mrow_Scan_16x32[512] = {
  0,   1,   2,   3,   4,   5,   6,   7,   8,   9,   10,  11,  12,  13,  14,
  15,  16,  17,  18,  19,  20,  21,  22,  23,  24,  25,  26,  27,  28,  29,
  30,  31,  32,  33,  34,  35,  36,  37,  38,  39,  40,  41,  42,  43,  44,
  45,  46,  47,  48,  49,  50,  51,  52,  53,  54,  55,  56,  57,  58,  59,
  60,  61,  62,  63,  64,  65,  66,  67,  68,  69,  70,  71,  72,  73,  74,
  75,  76,  77,  78,  79,  80,  81,  82,  83,  84,  85,  86,  87,  88,  89,
  90,  91,  92,  93,  94,  95,  96,  97,  98,  99,  100, 101, 102, 103, 104,
  105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119,
  120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134,
  135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149,
  150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164,
  165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179,
  180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194,
  195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209,
  210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224,
  225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239,
  240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254,
  255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269,
  270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284,
  285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299,
  300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314,
  315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329,
  330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344,
  345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359,
  360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374,
  375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389,
  390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404,
  405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 419,
  420, 421, 422, 423, 424, 425, 426, 427, 428, 429, 430, 431, 432, 433, 434,
  435, 436, 437, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449,
  450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 462, 463, 464,
  465, 466, 467, 468, 469, 470, 471, 472, 473, 474, 475, 476, 477, 478, 479,
  480, 481, 482, 483, 484, 485, 486, 487, 488, 489, 490, 491, 492, 493, 494,
  495, 496, 497, 498, 499, 500, 501, 502, 503, 504, 505, 506, 507, 508, 509,
  510, 511,
}
</code></pre>

<pre><code class="language-c">Default_Scan_32x16[512] = {
  0,   1,   32,  2,   33,  64,  3,   34,  65,  96,  4,   35,  66,  97,  128,
  5,   36,  67,  98,  129, 160, 6,   37,  68,  99,  130, 161, 192, 7,   38,
  69,  100, 131, 162, 193, 224, 8,   39,  70,  101, 132, 163, 194, 225, 256,
  9,   40,  71,  102, 133, 164, 195, 226, 257, 288, 10,  41,  72,  103, 134,
  165, 196, 227, 258, 289, 320, 11,  42,  73,  104, 135, 166, 197, 228, 259,
  290, 321, 352, 12,  43,  74,  105, 136, 167, 198, 229, 260, 291, 322, 353,
  384, 13,  44,  75,  106, 137, 168, 199, 230, 261, 292, 323, 354, 385, 416,
  14,  45,  76,  107, 138, 169, 200, 231, 262, 293, 324, 355, 386, 417, 448,
  15,  46,  77,  108, 139, 170, 201, 232, 263, 294, 325, 356, 387, 418, 449,
  480, 16,  47,  78,  109, 140, 171, 202, 233, 264, 295, 326, 357, 388, 419,
  450, 481, 17,  48,  79,  110, 141, 172, 203, 234, 265, 296, 327, 358, 389,
  420, 451, 482, 18,  49,  80,  111, 142, 173, 204, 235, 266, 297, 328, 359,
  390, 421, 452, 483, 19,  50,  81,  112, 143, 174, 205, 236, 267, 298, 329,
  360, 391, 422, 453, 484, 20,  51,  82,  113, 144, 175, 206, 237, 268, 299,
  330, 361, 392, 423, 454, 485, 21,  52,  83,  114, 145, 176, 207, 238, 269,
  300, 331, 362, 393, 424, 455, 486, 22,  53,  84,  115, 146, 177, 208, 239,
  270, 301, 332, 363, 394, 425, 456, 487, 23,  54,  85,  116, 147, 178, 209,
  240, 271, 302, 333, 364, 395, 426, 457, 488, 24,  55,  86,  117, 148, 179,
  210, 241, 272, 303, 334, 365, 396, 427, 458, 489, 25,  56,  87,  118, 149,
  180, 211, 242, 273, 304, 335, 366, 397, 428, 459, 490, 26,  57,  88,  119,
  150, 181, 212, 243, 274, 305, 336, 367, 398, 429, 460, 491, 27,  58,  89,
  120, 151, 182, 213, 244, 275, 306, 337, 368, 399, 430, 461, 492, 28,  59,
  90,  121, 152, 183, 214, 245, 276, 307, 338, 369, 400, 431, 462, 493, 29,
  60,  91,  122, 153, 184, 215, 246, 277, 308, 339, 370, 401, 432, 463, 494,
  30,  61,  92,  123, 154, 185, 216, 247, 278, 309, 340, 371, 402, 433, 464,
  495, 31,  62,  93,  124, 155, 186, 217, 248, 279, 310, 341, 372, 403, 434,
  465, 496, 63,  94,  125, 156, 187, 218, 249, 280, 311, 342, 373, 404, 435,
  466, 497, 95,  126, 157, 188, 219, 250, 281, 312, 343, 374, 405, 436, 467,
  498, 127, 158, 189, 220, 251, 282, 313, 344, 375, 406, 437, 468, 499, 159,
  190, 221, 252, 283, 314, 345, 376, 407, 438, 469, 500, 191, 222, 253, 284,
  315, 346, 377, 408, 439, 470, 501, 223, 254, 285, 316, 347, 378, 409, 440,
  471, 502, 255, 286, 317, 348, 379, 410, 441, 472, 503, 287, 318, 349, 380,
  411, 442, 473, 504, 319, 350, 381, 412, 443, 474, 505, 351, 382, 413, 444,
  475, 506, 383, 414, 445, 476, 507, 415, 446, 477, 508, 447, 478, 509, 479,
  510, 511,
}
</code></pre>

<pre><code class="language-c">Mcol_Scan_32x16[512] = {
  0,  32, 64, 96,  128, 160, 192, 224, 256, 288, 320, 352, 384, 416, 448, 480,
  1,  33, 65, 97,  129, 161, 193, 225, 257, 289, 321, 353, 385, 417, 449, 481,
  2,  34, 66, 98,  130, 162, 194, 226, 258, 290, 322, 354, 386, 418, 450, 482,
  3,  35, 67, 99,  131, 163, 195, 227, 259, 291, 323, 355, 387, 419, 451, 483,
  4,  36, 68, 100, 132, 164, 196, 228, 260, 292, 324, 356, 388, 420, 452, 484,
  5,  37, 69, 101, 133, 165, 197, 229, 261, 293, 325, 357, 389, 421, 453, 485,
  6,  38, 70, 102, 134, 166, 198, 230, 262, 294, 326, 358, 390, 422, 454, 486,
  7,  39, 71, 103, 135, 167, 199, 231, 263, 295, 327, 359, 391, 423, 455, 487,
  8,  40, 72, 104, 136, 168, 200, 232, 264, 296, 328, 360, 392, 424, 456, 488,
  9,  41, 73, 105, 137, 169, 201, 233, 265, 297, 329, 361, 393, 425, 457, 489,
  10, 42, 74, 106, 138, 170, 202, 234, 266, 298, 330, 362, 394, 426, 458, 490,
  11, 43, 75, 107, 139, 171, 203, 235, 267, 299, 331, 363, 395, 427, 459, 491,
  12, 44, 76, 108, 140, 172, 204, 236, 268, 300, 332, 364, 396, 428, 460, 492,
  13, 45, 77, 109, 141, 173, 205, 237, 269, 301, 333, 365, 397, 429, 461, 493,
  14, 46, 78, 110, 142, 174, 206, 238, 270, 302, 334, 366, 398, 430, 462, 494,
  15, 47, 79, 111, 143, 175, 207, 239, 271, 303, 335, 367, 399, 431, 463, 495,
  16, 48, 80, 112, 144, 176, 208, 240, 272, 304, 336, 368, 400, 432, 464, 496,
  17, 49, 81, 113, 145, 177, 209, 241, 273, 305, 337, 369, 401, 433, 465, 497,
  18, 50, 82, 114, 146, 178, 210, 242, 274, 306, 338, 370, 402, 434, 466, 498,
  19, 51, 83, 115, 147, 179, 211, 243, 275, 307, 339, 371, 403, 435, 467, 499,
  20, 52, 84, 116, 148, 180, 212, 244, 276, 308, 340, 372, 404, 436, 468, 500,
  21, 53, 85, 117, 149, 181, 213, 245, 277, 309, 341, 373, 405, 437, 469, 501,
  22, 54, 86, 118, 150, 182, 214, 246, 278, 310, 342, 374, 406, 438, 470, 502,
  23, 55, 87, 119, 151, 183, 215, 247, 279, 311, 343, 375, 407, 439, 471, 503,
  24, 56, 88, 120, 152, 184, 216, 248, 280, 312, 344, 376, 408, 440, 472, 504,
  25, 57, 89, 121, 153, 185, 217, 249, 281, 313, 345, 377, 409, 441, 473, 505,
  26, 58, 90, 122, 154, 186, 218, 250, 282, 314, 346, 378, 410, 442, 474, 506,
  27, 59, 91, 123, 155, 187, 219, 251, 283, 315, 347, 379, 411, 443, 475, 507,
  28, 60, 92, 124, 156, 188, 220, 252, 284, 316, 348, 380, 412, 444, 476, 508,
  29, 61, 93, 125, 157, 189, 221, 253, 285, 317, 349, 381, 413, 445, 477, 509,
  30, 62, 94, 126, 158, 190, 222, 254, 286, 318, 350, 382, 414, 446, 478, 510,
  31, 63, 95, 127, 159, 191, 223, 255, 287, 319, 351, 383, 415, 447, 479, 511,
}
</code></pre>

<pre><code class="language-c">Mrow_Scan_32x16[512] = {
  0,   1,   2,   3,   4,   5,   6,   7,   8,   9,   10,  11,  12,  13,  14,
  15,  16,  17,  18,  19,  20,  21,  22,  23,  24,  25,  26,  27,  28,  29,
  30,  31,  32,  33,  34,  35,  36,  37,  38,  39,  40,  41,  42,  43,  44,
  45,  46,  47,  48,  49,  50,  51,  52,  53,  54,  55,  56,  57,  58,  59,
  60,  61,  62,  63,  64,  65,  66,  67,  68,  69,  70,  71,  72,  73,  74,
  75,  76,  77,  78,  79,  80,  81,  82,  83,  84,  85,  86,  87,  88,  89,
  90,  91,  92,  93,  94,  95,  96,  97,  98,  99,  100, 101, 102, 103, 104,
  105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119,
  120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134,
  135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149,
  150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164,
  165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179,
  180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194,
  195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209,
  210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224,
  225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239,
  240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254,
  255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269,
  270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284,
  285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299,
  300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314,
  315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329,
  330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344,
  345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359,
  360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374,
  375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389,
  390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404,
  405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 419,
  420, 421, 422, 423, 424, 425, 426, 427, 428, 429, 430, 431, 432, 433, 434,
  435, 436, 437, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449,
  450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 462, 463, 464,
  465, 466, 467, 468, 469, 470, 471, 472, 473, 474, 475, 476, 477, 478, 479,
  480, 481, 482, 483, 484, 485, 486, 487, 488, 489, 490, 491, 492, 493, 494,
  495, 496, 497, 498, 499, 500, 501, 502, 503, 504, 505, 506, 507, 508, 509,
  510, 511,
}
</code></pre>

<pre><code class="language-c">Default_Scan_32x32[ 1024 ] = {
    0, 32, 1, 64, 33, 2, 96, 65, 34, 128, 3, 97, 66, 160,
    129, 35, 98, 4, 67, 130, 161, 192, 36, 99, 224, 5, 162, 193,
    68, 131, 37, 100,
    225, 194, 256, 163, 69, 132, 6, 226, 257, 288, 195, 101, 164, 38,
    258, 7, 227, 289, 133, 320, 70, 196, 165, 290, 259, 228, 39, 321,
    102, 352, 8, 197,
    71, 134, 322, 291, 260, 353, 384, 229, 166, 103, 40, 354, 323, 292,
    135, 385, 198, 261, 72, 9, 416, 167, 386, 355, 230, 324, 104, 293,
    41, 417, 199, 136,
    262, 387, 448, 325, 356, 10, 73, 418, 231, 168, 449, 294, 388, 105,
    419, 263, 42, 200, 357, 450, 137, 480, 74, 326, 232, 11, 389, 169,
    295, 420, 106, 451,
    481, 358, 264, 327, 201, 43, 138, 512, 482, 390, 296, 233, 170, 421,
    75, 452, 359, 12, 513, 265, 483, 328, 107, 202, 514, 544, 422, 391,
    453, 139, 44, 234,
    484, 297, 360, 171, 76, 515, 545, 266, 329, 454, 13, 423, 203, 108,
    546, 485, 576, 298, 235, 140, 361, 330, 172, 547, 45, 455, 267, 577,
    486, 77, 204, 362,
    608, 14, 299, 578, 109, 236, 487, 609, 331, 141, 579, 46, 15, 173,
    610, 363, 78, 205, 16, 110, 237, 611, 142, 47, 174, 79, 206, 17,
    111, 238, 48, 143,
    80, 175, 112, 207, 49, 18, 239, 81, 113, 19, 50, 82, 114, 51,
    83, 115, 640, 516, 392, 268, 144, 20, 672, 641, 548, 517, 424,
    393, 300, 269, 176, 145,
    52, 21, 704, 673, 642, 580, 549, 518, 456, 425, 394, 332, 301,
    270, 208, 177, 146, 84, 53, 22, 736, 705, 674, 643, 612, 581,
    550, 519, 488, 457, 426, 395,
    364, 333, 302, 271, 240, 209, 178, 147, 116, 85, 54, 23, 737,
    706, 675, 613, 582, 551, 489, 458, 427, 365, 334, 303, 241,
    210, 179, 117, 86, 55, 738, 707,
    614, 583, 490, 459, 366, 335, 242, 211, 118, 87, 739, 615, 491,
    367, 243, 119, 768, 644, 520, 396, 272, 148, 24, 800, 769, 676,
    645, 552, 521, 428, 397, 304,
    273, 180, 149, 56, 25, 832, 801, 770, 708, 677, 646, 584, 553,
    522, 460, 429, 398, 336, 305, 274, 212, 181, 150, 88, 57, 26,
    864, 833, 802, 771, 740, 709,
    678, 647, 616, 585, 554, 523, 492, 461, 430, 399, 368, 337, 306,
    275, 244, 213, 182, 151, 120, 89, 58, 27, 865, 834, 803, 741,
    710, 679, 617, 586, 555, 493,
    462, 431, 369, 338, 307, 245, 214, 183, 121, 90, 59, 866, 835,
    742, 711, 618, 587, 494, 463, 370, 339, 246, 215, 122, 91, 867,
    743, 619, 495, 371, 247, 123,
    896, 772, 648, 524, 400, 276, 152, 28, 928, 897, 804, 773, 680,
    649, 556, 525, 432, 401, 308, 277, 184, 153, 60, 29, 960, 929,
    898, 836, 805, 774, 712, 681,
    650, 588, 557, 526, 464, 433, 402, 340, 309, 278, 216, 185, 154,
    92, 61, 30, 992, 961, 930, 899, 868, 837, 806, 775, 744, 713, 682,
    651, 620, 589, 558, 527,
    496, 465, 434, 403, 372, 341, 310, 279, 248, 217, 186, 155, 124,
    93, 62, 31, 993, 962, 931, 869, 838, 807, 745, 714, 683, 621, 590,
    559, 497, 466, 435, 373,
    342, 311, 249, 218, 187, 125, 94, 63, 994, 963, 870, 839, 746, 715,
    622, 591, 498, 467, 374, 343, 250, 219, 126, 95, 995, 871, 747, 623,
    499, 375, 251, 127,
    900, 776, 652, 528, 404, 280, 156, 932, 901, 808, 777, 684, 653, 560,
    529, 436, 405, 312, 281, 188, 157, 964, 933, 902, 840, 809, 778, 716,
    685, 654, 592, 561,
    530, 468, 437, 406, 344, 313, 282, 220, 189, 158, 996, 965, 934, 903,
    872, 841, 810, 779, 748, 717, 686, 655, 624, 593, 562, 531, 500, 469,
    438, 407, 376, 345,
    314, 283, 252, 221, 190, 159, 997, 966, 935, 873, 842, 811, 749, 718,
    687, 625, 594, 563, 501, 470, 439, 377, 346, 315, 253, 222, 191, 998,
    967, 874, 843, 750,
    719, 626, 595, 502, 471, 378, 347, 254, 223, 999, 875, 751, 627, 503,
    379, 255, 904, 780, 656, 532, 408, 284, 936, 905, 812, 781, 688, 657,
    564, 533, 440, 409,
    316, 285, 968, 937, 906, 844, 813, 782, 720, 689, 658, 596, 565, 534,
    472, 441, 410, 348, 317, 286, 1000, 969, 938, 907, 876, 845, 814, 783,
    752, 721, 690, 659,
    628, 597, 566, 535, 504, 473, 442, 411, 380, 349, 318, 287, 1001, 970,
    939, 877, 846, 815, 753, 722, 691, 629, 598, 567, 505, 474, 443, 381,
    350, 319, 1002, 971,
    878, 847, 754, 723, 630, 599, 506, 475, 382, 351, 1003, 879, 755, 631,
    507, 383, 908, 784, 660, 536, 412, 940, 909, 816, 785, 692, 661, 568,
    537, 444, 413, 972,
    941, 910, 848, 817, 786, 724, 693, 662, 600, 569, 538, 476, 445, 414,
    1004, 973, 942, 911, 880, 849, 818, 787, 756, 725, 694, 663, 632, 601,
    570, 539, 508, 477,
    446, 415, 1005, 974, 943, 881, 850, 819, 757, 726, 695, 633, 602, 571,
    509, 478, 447, 1006, 975, 882, 851, 758, 727, 634, 603, 510, 479,
    1007, 883, 759, 635, 511,
    912, 788, 664, 540, 944, 913, 820, 789, 696, 665, 572, 541, 976, 945,
    914, 852, 821, 790, 728, 697, 666, 604, 573, 542, 1008, 977, 946, 915,
    884, 853, 822, 791,
    760, 729, 698, 667, 636, 605, 574, 543, 1009, 978, 947, 885, 854, 823,
    761, 730, 699, 637, 606, 575, 1010, 979, 886, 855, 762, 731, 638, 607,
    1011, 887, 763, 639,
    916, 792, 668, 948, 917, 824, 793, 700, 669, 980, 949, 918, 856, 825,
    794, 732, 701, 670, 1012, 981, 950, 919, 888, 857, 826, 795, 764, 733,
    702, 671, 1013, 982,
    951, 889, 858, 827, 765, 734, 703, 1014, 983, 890, 859, 766, 735, 1015,
    891, 767, 920, 796, 952, 921, 828, 797, 984, 953, 922, 860, 829, 798,
    1016, 985, 954, 923,
    892, 861, 830, 799, 1017, 986, 955, 893, 862, 831, 1018, 987, 894, 863,
    1019, 895, 924, 956, 925, 988, 957, 926, 1020, 989, 958, 927, 1021,
    990, 959, 1022, 991, 1023,
}
</code></pre>

<pre><code class="language-c">Mcol_Scan_32x32[ 1024 ] = {
  0,   32,   64,  96,   128, 160,  192, 224,  256, 288,  320, 352,  384, 416,
  448, 480,  512, 544,  576, 608,  640, 672,  704, 736,  768, 800,  832, 864,
  896, 928,  960, 992,  1,   33,   65,  97,   129, 161,  193, 225,  257, 289,
  321, 353,  385, 417,  449, 481,  513, 545,  577, 609,  641, 673,  705, 737,
  769, 801,  833, 865,  897, 929,  961, 993,  2,   34,   66,  98,   130, 162,
  194, 226,  258, 290,  322, 354,  386, 418,  450, 482,  514, 546,  578, 610,
  642, 674,  706, 738,  770, 802,  834, 866,  898, 930,  962, 994,  3,   35,
  67,  99,   131, 163,  195, 227,  259, 291,  323, 355,  387, 419,  451, 483,
  515, 547,  579, 611,  643, 675,  707, 739,  771, 803,  835, 867,  899, 931,
  963, 995,  4,   36,   68,  100,  132, 164,  196, 228,  260, 292,  324, 356,
  388, 420,  452, 484,  516, 548,  580, 612,  644, 676,  708, 740,  772, 804,
  836, 868,  900, 932,  964, 996,  5,   37,   69,  101,  133, 165,  197, 229,
  261, 293,  325, 357,  389, 421,  453, 485,  517, 549,  581, 613,  645, 677,
  709, 741,  773, 805,  837, 869,  901, 933,  965, 997,  6,   38,   70,  102,
  134, 166,  198, 230,  262, 294,  326, 358,  390, 422,  454, 486,  518, 550,
  582, 614,  646, 678,  710, 742,  774, 806,  838, 870,  902, 934,  966, 998,
  7,   39,   71,  103,  135, 167,  199, 231,  263, 295,  327, 359,  391, 423,
  455, 487,  519, 551,  583, 615,  647, 679,  711, 743,  775, 807,  839, 871,
  903, 935,  967, 999,  8,   40,   72,  104,  136, 168,  200, 232,  264, 296,
  328, 360,  392, 424,  456, 488,  520, 552,  584, 616,  648, 680,  712, 744,
  776, 808,  840, 872,  904, 936,  968, 1000, 9,   41,   73,  105,  137, 169,
  201, 233,  265, 297,  329, 361,  393, 425,  457, 489,  521, 553,  585, 617,
  649, 681,  713, 745,  777, 809,  841, 873,  905, 937,  969, 1001, 10,  42,
  74,  106,  138, 170,  202, 234,  266, 298,  330, 362,  394, 426,  458, 490,
  522, 554,  586, 618,  650, 682,  714, 746,  778, 810,  842, 874,  906, 938,
  970, 1002, 11,  43,   75,  107,  139, 171,  203, 235,  267, 299,  331, 363,
  395, 427,  459, 491,  523, 555,  587, 619,  651, 683,  715, 747,  779, 811,
  843, 875,  907, 939,  971, 1003, 12,  44,   76,  108,  140, 172,  204, 236,
  268, 300,  332, 364,  396, 428,  460, 492,  524, 556,  588, 620,  652, 684,
  716, 748,  780, 812,  844, 876,  908, 940,  972, 1004, 13,  45,   77,  109,
  141, 173,  205, 237,  269, 301,  333, 365,  397, 429,  461, 493,  525, 557,
  589, 621,  653, 685,  717, 749,  781, 813,  845, 877,  909, 941,  973, 1005,
  14,  46,   78,  110,  142, 174,  206, 238,  270, 302,  334, 366,  398, 430,
  462, 494,  526, 558,  590, 622,  654, 686,  718, 750,  782, 814,  846, 878,
  910, 942,  974, 1006, 15,  47,   79,  111,  143, 175,  207, 239,  271, 303,
  335, 367,  399, 431,  463, 495,  527, 559,  591, 623,  655, 687,  719, 751,
  783, 815,  847, 879,  911, 943,  975, 1007, 16,  48,   80,  112,  144, 176,
  208, 240,  272, 304,  336, 368,  400, 432,  464, 496,  528, 560,  592, 624,
  656, 688,  720, 752,  784, 816,  848, 880,  912, 944,  976, 1008, 17,  49,
  81,  113,  145, 177,  209, 241,  273, 305,  337, 369,  401, 433,  465, 497,
  529, 561,  593, 625,  657, 689,  721, 753,  785, 817,  849, 881,  913, 945,
  977, 1009, 18,  50,   82,  114,  146, 178,  210, 242,  274, 306,  338, 370,
  402, 434,  466, 498,  530, 562,  594, 626,  658, 690,  722, 754,  786, 818,
  850, 882,  914, 946,  978, 1010, 19,  51,   83,  115,  147, 179,  211, 243,
  275, 307,  339, 371,  403, 435,  467, 499,  531, 563,  595, 627,  659, 691,
  723, 755,  787, 819,  851, 883,  915, 947,  979, 1011, 20,  52,   84,  116,
  148, 180,  212, 244,  276, 308,  340, 372,  404, 436,  468, 500,  532, 564,
  596, 628,  660, 692,  724, 756,  788, 820,  852, 884,  916, 948,  980, 1012,
  21,  53,   85,  117,  149, 181,  213, 245,  277, 309,  341, 373,  405, 437,
  469, 501,  533, 565,  597, 629,  661, 693,  725, 757,  789, 821,  853, 885,
  917, 949,  981, 1013, 22,  54,   86,  118,  150, 182,  214, 246,  278, 310,
  342, 374,  406, 438,  470, 502,  534, 566,  598, 630,  662, 694,  726, 758,
  790, 822,  854, 886,  918, 950,  982, 1014, 23,  55,   87,  119,  151, 183,
  215, 247,  279, 311,  343, 375,  407, 439,  471, 503,  535, 567,  599, 631,
  663, 695,  727, 759,  791, 823,  855, 887,  919, 951,  983, 1015, 24,  56,
  88,  120,  152, 184,  216, 248,  280, 312,  344, 376,  408, 440,  472, 504,
  536, 568,  600, 632,  664, 696,  728, 760,  792, 824,  856, 888,  920, 952,
  984, 1016, 25,  57,   89,  121,  153, 185,  217, 249,  281, 313,  345, 377,
  409, 441,  473, 505,  537, 569,  601, 633,  665, 697,  729, 761,  793, 825,
  857, 889,  921, 953,  985, 1017, 26,  58,   90,  122,  154, 186,  218, 250,
  282, 314,  346, 378,  410, 442,  474, 506,  538, 570,  602, 634,  666, 698,
  730, 762,  794, 826,  858, 890,  922, 954,  986, 1018, 27,  59,   91,  123,
  155, 187,  219, 251,  283, 315,  347, 379,  411, 443,  475, 507,  539, 571,
  603, 635,  667, 699,  731, 763,  795, 827,  859, 891,  923, 955,  987, 1019,
  28,  60,   92,  124,  156, 188,  220, 252,  284, 316,  348, 380,  412, 444,
  476, 508,  540, 572,  604, 636,  668, 700,  732, 764,  796, 828,  860, 892,
  924, 956,  988, 1020, 29,  61,   93,  125,  157, 189,  221, 253,  285, 317,
  349, 381,  413, 445,  477, 509,  541, 573,  605, 637,  669, 701,  733, 765,
  797, 829,  861, 893,  925, 957,  989, 1021, 30,  62,   94,  126,  158, 190,
  222, 254,  286, 318,  350, 382,  414, 446,  478, 510,  542, 574,  606, 638,
  670, 702,  734, 766,  798, 830,  862, 894,  926, 958,  990, 1022, 31,  63,
  95,  127,  159, 191,  223, 255,  287, 319,  351, 383,  415, 447,  479, 511,
  543, 575,  607, 639,  671, 703,  735, 767,  799, 831,  863, 895,  927, 959,
  991, 1023,
}
</code></pre>

<pre><code class="language-c">Mrow_Scan_32x32[ 1024 ] = {
  0,    1,    2,    3,    4,    5,    6,    7,    8,    9,    10,   11,   12,
  13,   14,   15,   16,   17,   18,   19,   20,   21,   22,   23,   24,   25,
  26,   27,   28,   29,   30,   31,   32,   33,   34,   35,   36,   37,   38,
  39,   40,   41,   42,   43,   44,   45,   46,   47,   48,   49,   50,   51,
  52,   53,   54,   55,   56,   57,   58,   59,   60,   61,   62,   63,   64,
  65,   66,   67,   68,   69,   70,   71,   72,   73,   74,   75,   76,   77,
  78,   79,   80,   81,   82,   83,   84,   85,   86,   87,   88,   89,   90,
  91,   92,   93,   94,   95,   96,   97,   98,   99,   100,  101,  102,  103,
  104,  105,  106,  107,  108,  109,  110,  111,  112,  113,  114,  115,  116,
  117,  118,  119,  120,  121,  122,  123,  124,  125,  126,  127,  128,  129,
  130,  131,  132,  133,  134,  135,  136,  137,  138,  139,  140,  141,  142,
  143,  144,  145,  146,  147,  148,  149,  150,  151,  152,  153,  154,  155,
  156,  157,  158,  159,  160,  161,  162,  163,  164,  165,  166,  167,  168,
  169,  170,  171,  172,  173,  174,  175,  176,  177,  178,  179,  180,  181,
  182,  183,  184,  185,  186,  187,  188,  189,  190,  191,  192,  193,  194,
  195,  196,  197,  198,  199,  200,  201,  202,  203,  204,  205,  206,  207,
  208,  209,  210,  211,  212,  213,  214,  215,  216,  217,  218,  219,  220,
  221,  222,  223,  224,  225,  226,  227,  228,  229,  230,  231,  232,  233,
  234,  235,  236,  237,  238,  239,  240,  241,  242,  243,  244,  245,  246,
  247,  248,  249,  250,  251,  252,  253,  254,  255,  256,  257,  258,  259,
  260,  261,  262,  263,  264,  265,  266,  267,  268,  269,  270,  271,  272,
  273,  274,  275,  276,  277,  278,  279,  280,  281,  282,  283,  284,  285,
  286,  287,  288,  289,  290,  291,  292,  293,  294,  295,  296,  297,  298,
  299,  300,  301,  302,  303,  304,  305,  306,  307,  308,  309,  310,  311,
  312,  313,  314,  315,  316,  317,  318,  319,  320,  321,  322,  323,  324,
  325,  326,  327,  328,  329,  330,  331,  332,  333,  334,  335,  336,  337,
  338,  339,  340,  341,  342,  343,  344,  345,  346,  347,  348,  349,  350,
  351,  352,  353,  354,  355,  356,  357,  358,  359,  360,  361,  362,  363,
  364,  365,  366,  367,  368,  369,  370,  371,  372,  373,  374,  375,  376,
  377,  378,  379,  380,  381,  382,  383,  384,  385,  386,  387,  388,  389,
  390,  391,  392,  393,  394,  395,  396,  397,  398,  399,  400,  401,  402,
  403,  404,  405,  406,  407,  408,  409,  410,  411,  412,  413,  414,  415,
  416,  417,  418,  419,  420,  421,  422,  423,  424,  425,  426,  427,  428,
  429,  430,  431,  432,  433,  434,  435,  436,  437,  438,  439,  440,  441,
  442,  443,  444,  445,  446,  447,  448,  449,  450,  451,  452,  453,  454,
  455,  456,  457,  458,  459,  460,  461,  462,  463,  464,  465,  466,  467,
  468,  469,  470,  471,  472,  473,  474,  475,  476,  477,  478,  479,  480,
  481,  482,  483,  484,  485,  486,  487,  488,  489,  490,  491,  492,  493,
  494,  495,  496,  497,  498,  499,  500,  501,  502,  503,  504,  505,  506,
  507,  508,  509,  510,  511,  512,  513,  514,  515,  516,  517,  518,  519,
  520,  521,  522,  523,  524,  525,  526,  527,  528,  529,  530,  531,  532,
  533,  534,  535,  536,  537,  538,  539,  540,  541,  542,  543,  544,  545,
  546,  547,  548,  549,  550,  551,  552,  553,  554,  555,  556,  557,  558,
  559,  560,  561,  562,  563,  564,  565,  566,  567,  568,  569,  570,  571,
  572,  573,  574,  575,  576,  577,  578,  579,  580,  581,  582,  583,  584,
  585,  586,  587,  588,  589,  590,  591,  592,  593,  594,  595,  596,  597,
  598,  599,  600,  601,  602,  603,  604,  605,  606,  607,  608,  609,  610,
  611,  612,  613,  614,  615,  616,  617,  618,  619,  620,  621,  622,  623,
  624,  625,  626,  627,  628,  629,  630,  631,  632,  633,  634,  635,  636,
  637,  638,  639,  640,  641,  642,  643,  644,  645,  646,  647,  648,  649,
  650,  651,  652,  653,  654,  655,  656,  657,  658,  659,  660,  661,  662,
  663,  664,  665,  666,  667,  668,  669,  670,  671,  672,  673,  674,  675,
  676,  677,  678,  679,  680,  681,  682,  683,  684,  685,  686,  687,  688,
  689,  690,  691,  692,  693,  694,  695,  696,  697,  698,  699,  700,  701,
  702,  703,  704,  705,  706,  707,  708,  709,  710,  711,  712,  713,  714,
  715,  716,  717,  718,  719,  720,  721,  722,  723,  724,  725,  726,  727,
  728,  729,  730,  731,  732,  733,  734,  735,  736,  737,  738,  739,  740,
  741,  742,  743,  744,  745,  746,  747,  748,  749,  750,  751,  752,  753,
  754,  755,  756,  757,  758,  759,  760,  761,  762,  763,  764,  765,  766,
  767,  768,  769,  770,  771,  772,  773,  774,  775,  776,  777,  778,  779,
  780,  781,  782,  783,  784,  785,  786,  787,  788,  789,  790,  791,  792,
  793,  794,  795,  796,  797,  798,  799,  800,  801,  802,  803,  804,  805,
  806,  807,  808,  809,  810,  811,  812,  813,  814,  815,  816,  817,  818,
  819,  820,  821,  822,  823,  824,  825,  826,  827,  828,  829,  830,  831,
  832,  833,  834,  835,  836,  837,  838,  839,  840,  841,  842,  843,  844,
  845,  846,  847,  848,  849,  850,  851,  852,  853,  854,  855,  856,  857,
  858,  859,  860,  861,  862,  863,  864,  865,  866,  867,  868,  869,  870,
  871,  872,  873,  874,  875,  876,  877,  878,  879,  880,  881,  882,  883,
  884,  885,  886,  887,  888,  889,  890,  891,  892,  893,  894,  895,  896,
  897,  898,  899,  900,  901,  902,  903,  904,  905,  906,  907,  908,  909,
  910,  911,  912,  913,  914,  915,  916,  917,  918,  919,  920,  921,  922,
  923,  924,  925,  926,  927,  928,  929,  930,  931,  932,  933,  934,  935,
  936,  937,  938,  939,  940,  941,  942,  943,  944,  945,  946,  947,  948,
  949,  950,  951,  952,  953,  954,  955,  956,  957,  958,  959,  960,  961,
  962,  963,  964,  965,  966,  967,  968,  969,  970,  971,  972,  973,  974,
  975,  976,  977,  978,  979,  980,  981,  982,  983,  984,  985,  986,  987,
  988,  989,  990,  991,  992,  993,  994,  995,  996,  997,  998,  999,  1000,
  1001, 1002, 1003, 1004, 1005, 1006, 1007, 1008, 1009, 1010, 1011, 1012, 1013,
  1014, 1015, 1016, 1017, 1018, 1019, 1020, 1021, 1022, 1023,
}
</code></pre>

<pre><code class="language-c">V2_Scan_32x32[ 1024 ] = {
  0,    1,    32,   33,   2,    64,   34,   65,   66,   3,    96,   35,   97,
  67,   98,   4,    128,  36,   129,  99,   68,   130,  5,    100,  131,  160,
  37,   161,  69,   162,  132,  101,  163,  6,    192,  38,   193,  70,   194,
  133,  164,  102,  195,  7,    224,  39,   165,  225,  134,  196,  71,   226,
  103,  227,  166,  197,  8,    256,  40,   135,  228,  257,  72,   258,  198,
  104,  259,  167,  229,  136,  260,  9,    288,  41,   289,  73,   199,  230,
  290,  168,  261,  105,  291,  137,  292,  231,  10,   200,  262,  320,  42,
  321,  74,   322,  169,  293,  106,  323,  232,  263,  138,  324,  201,  294,
  11,   352,  43,   353,  75,   170,  325,  354,  264,  107,  233,  295,  355,
  202,  326,  139,  356,  12,   384,  44,   265,  296,  385,  171,  357,  76,
  386,  234,  327,  108,  387,  203,  358,  140,  388,  297,  266,  328,  13,
  172,  389,  416,  45,   235,  359,  417,  77,   418,  109,  419,  204,  390,
  298,  329,  141,  267,  360,  420,  236,  391,  173,  421,  14,   448,  46,
  449,  78,   330,  450,  299,  361,  110,  205,  422,  451,  268,  392,  142,
  452,  237,  423,  174,  331,  362,  453,  15,   300,  393,  480,  47,   481,
  79,   482,  206,  454,  269,  424,  111,  483,  143,  484,  363,  332,  394,
  238,  455,  175,  301,  425,  485,  512,  513,  270,  456,  514,  207,  486,
  364,  395,  515,  333,  426,  516,  239,  487,  302,  457,  517,  396,  271,
  488,  544,  365,  427,  545,  518,  546,  334,  458,  547,  519,  548,  303,
  489,  397,  428,  549,  366,  459,  520,  576,  335,  490,  550,  577,  578,
  579,  521,  429,  551,  398,  460,  580,  367,  491,  581,  552,  522,  582,
  608,  609,  430,  461,  610,  399,  492,  553,  611,  583,  523,  612,  613,
  584,  554,  462,  431,  493,  614,  524,  640,  641,  642,  585,  643,  555,
  615,  644,  463,  494,  586,  525,  616,  645,  556,  646,  672,  617,  673,
  587,  674,  647,  495,  675,  526,  676,  557,  618,  648,  677,  588,  678,
  527,  649,  619,  704,  558,  705,  706,  679,  589,  707,  650,  708,  620,
  680,  709,  559,  590,  710,  651,  681,  736,  621,  737,  711,  738,  739,
  682,  652,  740,  712,  591,  741,  622,  683,  713,  742,  653,  768,  769,
  743,  770,  714,  684,  771,  623,  772,  744,  654,  773,  715,  685,  745,
  774,  655,  775,  800,  801,  716,  746,  802,  803,  686,  776,  804,  747,
  805,  717,  777,  806,  687,  748,  807,  778,  832,  833,  718,  834,  835,
  808,  836,  779,  749,  837,  809,  719,  838,  780,  750,  810,  839,  864,
  865,  866,  867,  840,  781,  868,  811,  751,  869,  841,  870,  812,  782,
  842,  871,  896,  897,  898,  872,  899,  813,  843,  900,  783,  901,  873,
  844,  902,  814,  874,  903,  928,  929,  845,  930,  904,  815,  875,  931,
  932,  905,  933,  846,  876,  934,  906,  935,  877,  960,  847,  961,  962,
  907,  936,  963,  964,  937,  878,  965,  908,  966,  938,  967,  909,  879,
  992,  939,  993,  968,  994,  995,  996,  910,  969,  940,  997,  998,  970,
  911,  941,  999,  971,  1000, 942,  1001, 972,  1002, 943,  973,  1003, 974,
  1004, 975,  1005, 1006, 1007, 16,   48,   80,   112,  144,  176,  17,   49,
  208,  81,   113,  145,  240,  177,  272,  18,   50,   209,  82,   114,  304,
  241,  146,  178,  273,  336,  210,  19,   51,   83,   115,  305,  242,  147,
  368,  179,  274,  337,  211,  20,   400,  52,   84,   306,  116,  243,  369,
  148,  338,  180,  275,  432,  401,  212,  21,   53,   307,  85,   370,  244,
  117,  464,  149,  433,  339,  276,  181,  402,  213,  308,  496,  371,  22,
  54,   465,  86,   245,  118,  434,  150,  340,  277,  403,  182,  528,  497,
  214,  466,  372,  309,  23,   55,   435,  87,   246,  119,  341,  404,  151,
  529,  560,  278,  498,  183,  467,  373,  215,  310,  436,  24,   56,   247,
  561,  88,   530,  592,  342,  120,  405,  499,  152,  279,  468,  184,  374,
  311,  437,  216,  562,  593,  531,  624,  25,   248,  500,  57,   406,  89,
  343,  121,  469,  280,  153,  594,  185,  375,  563,  625,  438,  532,  656,
  312,  217,  501,  407,  249,  26,   344,  58,   90,   470,  122,  595,  626,
  281,  564,  657,  154,  376,  533,  688,  439,  186,  313,  502,  218,  408,
  627,  596,  658,  250,  345,  471,  27,   59,   565,  689,  91,   123,  282,
  534,  720,  155,  440,  377,  187,  503,  314,  628,  659,  219,  597,  690,
  409,  472,  566,  721,  346,  251,  28,   60,   535,  752,  92,   124,  283,
  441,  378,  156,  660,  504,  629,  691,  598,  722,  188,  315,  567,  753,
  220,  410,  473,  347,  536,  784,  252,  29,   661,  692,  61,   93,   442,
  630,  723,  284,  125,  379,  505,  599,  754,  157,  316,  568,  785,  189,
  474,  411,  221,  537,  816,  693,  348,  662,  724,  253,  631,  755,  443,
  30,   600,  786,  62,   506,  94,   285,  380,  126,  569,  817,  158,  317,
  190,  475,  694,  725,  412,  663,  756,  538,  848,  222,  632,  787,  349,
  254,  601,  818,  444,  507,  31,   63,   381,  286,  95,   570,  849,  726,
  127,  695,  757,  664,  788,  159,  476,  318,  413,  539,  880,  191,  633,
  819,  223,  350,  602,  850,  508,  255,  445,  727,  758,  696,  789,  571,
  881,  382,  287,  665,  820,  477,  634,  851,  540,  912,  319,  414,  603,
  882,  759,  728,  790,  351,  509,  697,  821,  446,  572,  913,  666,  852,
  383,  635,  883,  478,  541,  944,  415,  760,  791,  604,  914,  729,  822,
  698,  853,  510,  667,  884,  447,  573,  945,  636,  915,  792,  761,  823,
  542,  976,  479,  730,  854,  605,  946,  699,  885,  668,  916,  511,  574,
  977,  793,  824,  637,  947,  762,  855,  731,  886,  543,  1008, 606,  978,
  700,  917,  669,  948,  575,  825,  1009, 794,  856,  763,  887,  638,  979,
  732,  918,  701,  949,  607,  1010, 670,  980,  826,  857,  795,  888,  764,
  919,  639,  1011, 733,  950,  702,  981,  858,  827,  889,  796,  920,  671,
  1012, 765,  951,  734,  982,  703,  1013, 859,  890,  828,  921,  797,  952,
  766,  983,  735,  1014, 891,  860,  922,  829,  953,  798,  984,  767,  1015,
  892,  923,  861,  954,  830,  985,  799,  1016, 924,  893,  955,  862,  986,
  831,  1017, 925,  956,  894,  987,  863,  1018, 957,  926,  988,  895,  1019,
  958,  989,  927,  1020, 990,  959,  1021, 991,  1022, 1023,
}
</code></pre>

<pre><code class="language-c">H2_Scan_32x32[ 1024 ] = {
  0,    1,    32,   33,   2,    64,   34,   65,   66,   3,    96,   35,   97,
  67,   98,   4,    128,  36,   129,  99,   68,   130,  5,    100,  131,  160,
  37,   161,  69,   162,  132,  101,  163,  6,    192,  38,   193,  70,   194,
  133,  164,  102,  195,  7,    224,  39,   165,  225,  134,  196,  71,   226,
  103,  227,  166,  197,  8,    256,  40,   135,  228,  257,  72,   258,  198,
  104,  259,  167,  229,  136,  260,  9,    288,  41,   289,  73,   199,  230,
  290,  168,  261,  105,  291,  137,  292,  231,  10,   200,  262,  320,  42,
  321,  74,   322,  169,  293,  106,  323,  232,  263,  138,  324,  201,  294,
  11,   352,  43,   353,  75,   170,  325,  354,  264,  107,  233,  295,  355,
  202,  326,  139,  356,  12,   384,  44,   265,  296,  385,  171,  357,  76,
  386,  234,  327,  108,  387,  203,  358,  140,  388,  297,  266,  328,  13,
  172,  389,  416,  45,   235,  359,  417,  77,   418,  109,  419,  204,  390,
  298,  329,  141,  267,  360,  420,  236,  391,  173,  421,  14,   448,  46,
  449,  78,   330,  450,  299,  361,  110,  205,  422,  451,  268,  392,  142,
  452,  237,  423,  174,  331,  362,  453,  15,   300,  393,  480,  47,   481,
  79,   482,  206,  454,  269,  424,  111,  483,  143,  484,  363,  332,  394,
  238,  455,  175,  301,  425,  485,  16,   48,   80,   270,  456,  207,  486,
  112,  364,  395,  333,  426,  144,  239,  487,  302,  457,  176,  396,  17,
  271,  488,  49,   365,  427,  208,  81,   334,  458,  113,  145,  240,  303,
  489,  397,  428,  177,  366,  459,  272,  18,   50,   209,  335,  490,  82,
  114,  304,  241,  429,  146,  398,  460,  367,  491,  178,  273,  336,  210,
  19,   51,   83,   430,  461,  399,  492,  115,  305,  242,  147,  368,  179,
  274,  337,  462,  431,  493,  211,  20,   400,  52,   84,   306,  116,  243,
  369,  148,  463,  494,  338,  180,  275,  432,  401,  212,  21,   53,   307,
  85,   370,  244,  117,  495,  464,  149,  433,  339,  276,  181,  402,  213,
  308,  496,  371,  22,   54,   465,  86,   245,  118,  434,  150,  340,  277,
  403,  182,  497,  214,  466,  372,  309,  23,   55,   435,  87,   246,  119,
  341,  404,  151,  278,  498,  183,  467,  373,  215,  310,  436,  24,   56,
  247,  88,   342,  120,  405,  499,  152,  279,  468,  184,  374,  311,  437,
  216,  25,   248,  500,  57,   406,  89,   343,  121,  469,  280,  153,  185,
  375,  438,  312,  217,  501,  407,  249,  26,   344,  58,   90,   470,  122,
  281,  154,  376,  439,  186,  313,  502,  218,  408,  250,  345,  471,  27,
  59,   91,   123,  282,  155,  440,  377,  187,  503,  314,  219,  409,  472,
  346,  251,  28,   60,   92,   124,  283,  441,  378,  156,  504,  188,  315,
  220,  410,  473,  347,  252,  29,   61,   93,   442,  284,  125,  379,  505,
  157,  316,  189,  474,  411,  221,  348,  253,  443,  30,   62,   506,  94,
  285,  380,  126,  158,  317,  190,  475,  412,  222,  349,  254,  444,  507,
  31,   63,   381,  286,  95,   127,  159,  476,  318,  413,  191,  223,  350,
  508,  255,  445,  382,  287,  477,  319,  414,  351,  509,  446,  383,  478,
  415,  510,  447,  479,  511,  512,  513,  514,  515,  516,  517,  544,  545,
  518,  546,  547,  519,  548,  549,  520,  576,  550,  577,  578,  579,  521,
  551,  580,  581,  552,  522,  582,  608,  609,  610,  553,  611,  583,  523,
  612,  613,  584,  554,  614,  524,  640,  641,  642,  585,  643,  555,  615,
  644,  586,  525,  616,  645,  556,  646,  672,  617,  673,  587,  674,  647,
  675,  526,  676,  557,  618,  648,  677,  588,  678,  527,  649,  619,  704,
  558,  705,  706,  679,  589,  707,  650,  708,  620,  680,  709,  528,  559,
  590,  710,  651,  681,  736,  621,  737,  711,  738,  739,  682,  652,  529,
  560,  740,  712,  591,  741,  622,  683,  713,  742,  653,  768,  769,  561,
  743,  530,  592,  770,  714,  684,  771,  623,  772,  744,  654,  773,  715,
  685,  745,  774,  562,  593,  531,  624,  655,  775,  800,  801,  716,  746,
  802,  803,  686,  776,  804,  594,  563,  625,  747,  805,  717,  532,  656,
  777,  806,  687,  748,  807,  778,  832,  833,  718,  834,  595,  626,  835,
  564,  657,  808,  836,  533,  688,  779,  749,  837,  809,  719,  838,  780,
  627,  596,  658,  750,  810,  839,  864,  565,  689,  865,  866,  867,  534,
  720,  840,  781,  868,  811,  751,  869,  841,  628,  659,  597,  690,  870,
  812,  782,  566,  721,  842,  871,  896,  535,  752,  897,  898,  872,  899,
  813,  843,  660,  900,  783,  629,  691,  598,  722,  901,  873,  567,  753,
  844,  902,  814,  874,  536,  784,  903,  661,  692,  928,  929,  630,  723,
  845,  930,  904,  815,  875,  931,  599,  754,  932,  568,  785,  905,  933,
  846,  876,  934,  537,  816,  693,  662,  724,  906,  631,  755,  935,  877,
  600,  786,  960,  847,  961,  962,  907,  936,  963,  569,  817,  964,  937,
  694,  725,  878,  965,  908,  663,  756,  538,  848,  966,  632,  787,  938,
  601,  818,  967,  909,  879,  992,  939,  993,  968,  570,  849,  994,  726,
  695,  757,  995,  664,  788,  996,  910,  969,  539,  880,  940,  633,  819,
  997,  998,  602,  850,  970,  911,  941,  999,  727,  758,  696,  789,  571,
  881,  971,  665,  820,  1000, 634,  851,  942,  540,  912,  1001, 972,  603,
  882,  759,  728,  790,  1002, 697,  821,  943,  973,  572,  913,  666,  852,
  1003, 635,  883,  974,  541,  944,  760,  791,  1004, 604,  914,  729,  822,
  698,  853,  975,  667,  884,  573,  945,  1005, 636,  915,  792,  761,  823,
  542,  976,  1006, 730,  854,  605,  946,  699,  885,  668,  916,  1007, 574,
  977,  793,  824,  637,  947,  762,  855,  731,  886,  543,  1008, 606,  978,
  700,  917,  669,  948,  575,  825,  1009, 794,  856,  763,  887,  638,  979,
  732,  918,  701,  949,  607,  1010, 670,  980,  826,  857,  795,  888,  764,
  919,  639,  1011, 733,  950,  702,  981,  858,  827,  889,  796,  920,  671,
  1012, 765,  951,  734,  982,  703,  1013, 859,  890,  828,  921,  797,  952,
  766,  983,  735,  1014, 891,  860,  922,  829,  953,  798,  984,  767,  1015,
  892,  923,  861,  954,  830,  985,  799,  1016, 924,  893,  955,  862,  986,
  831,  1017, 925,  956,  894,  987,  863,  1018, 957,  926,  988,  895,  1019,
  958,  989,  927,  1020, 990,  959,  1021, 991,  1022, 1023,
}
</code></pre>

<pre><code class="language-c">Qtr_Scan_32x32[ 1024 ] = {
  0,    1,    32,   33,   2,    64,   34,   65,   66,   3,    96,   35,   97,
  67,   98,   4,    128,  36,   129,  99,   68,   130,  5,    100,  131,  160,
  37,   161,  69,   162,  132,  101,  163,  6,    192,  38,   193,  70,   194,
  133,  164,  102,  195,  7,    224,  39,   165,  225,  134,  196,  71,   226,
  103,  227,  166,  197,  8,    256,  40,   135,  228,  257,  72,   258,  198,
  104,  259,  167,  229,  136,  260,  9,    288,  41,   289,  73,   199,  230,
  290,  168,  261,  105,  291,  137,  292,  231,  10,   200,  262,  320,  42,
  321,  74,   322,  169,  293,  106,  323,  232,  263,  138,  324,  201,  294,
  11,   352,  43,   353,  75,   170,  325,  354,  264,  107,  233,  295,  355,
  202,  326,  139,  356,  12,   384,  44,   265,  296,  385,  171,  357,  76,
  386,  234,  327,  108,  387,  203,  358,  140,  388,  297,  266,  328,  13,
  172,  389,  416,  45,   235,  359,  417,  77,   418,  109,  419,  204,  390,
  298,  329,  141,  267,  360,  420,  236,  391,  173,  421,  14,   448,  46,
  449,  78,   330,  450,  299,  361,  110,  205,  422,  451,  268,  392,  142,
  452,  237,  423,  174,  331,  362,  453,  15,   300,  393,  480,  47,   481,
  79,   482,  206,  454,  269,  424,  111,  483,  143,  484,  363,  332,  394,
  238,  455,  175,  301,  425,  485,  270,  456,  207,  486,  364,  395,  333,
  426,  239,  487,  302,  457,  396,  271,  488,  365,  427,  334,  458,  303,
  489,  397,  428,  366,  459,  335,  490,  429,  398,  460,  367,  491,  430,
  461,  399,  492,  462,  431,  493,  463,  494,  495,  16,   512,  48,   513,
  80,   514,  112,  515,  144,  516,  176,  517,  17,   544,  49,   545,  208,
  518,  81,   546,  113,  547,  145,  240,  519,  548,  177,  549,  272,  520,
  18,   576,  50,   209,  550,  577,  82,   578,  114,  579,  304,  521,  241,
  551,  146,  580,  178,  581,  273,  552,  336,  522,  210,  582,  19,   608,
  51,   609,  83,   610,  115,  305,  553,  611,  242,  583,  147,  368,  523,
  612,  179,  613,  274,  584,  337,  554,  211,  614,  20,   400,  524,  640,
  52,   641,  84,   642,  306,  585,  116,  643,  243,  369,  555,  615,  148,
  644,  338,  586,  180,  275,  432,  525,  616,  645,  401,  556,  212,  646,
  21,   672,  53,   307,  617,  673,  85,   370,  587,  674,  244,  647,  117,
  675,  464,  526,  149,  676,  433,  557,  339,  618,  276,  648,  181,  677,
  402,  588,  213,  678,  308,  496,  527,  649,  371,  619,  22,   704,  54,
  465,  558,  705,  86,   706,  245,  679,  118,  434,  589,  707,  150,  340,
  650,  708,  277,  403,  620,  680,  182,  709,  528,  497,  559,  214,  466,
  590,  710,  372,  651,  309,  681,  23,   736,  55,   435,  621,  737,  87,
  246,  711,  738,  119,  739,  341,  682,  404,  652,  151,  529,  560,  740,
  278,  712,  498,  591,  183,  741,  467,  622,  373,  683,  215,  310,  713,
  742,  436,  653,  24,   768,  56,   769,  247,  561,  743,  88,   530,  592,
  770,  342,  714,  120,  405,  684,  771,  499,  623,  152,  772,  279,  744,
  468,  654,  184,  773,  374,  715,  311,  437,  685,  745,  216,  774,  562,
  593,  531,  624,  25,   248,  500,  655,  775,  800,  57,   801,  406,  716,
  89,   343,  746,  802,  121,  803,  469,  686,  280,  776,  153,  804,  594,
  185,  375,  563,  625,  747,  805,  438,  717,  532,  656,  312,  777,  217,
  806,  501,  687,  407,  748,  249,  807,  26,   344,  778,  832,  58,   833,
  90,   470,  718,  834,  122,  595,  626,  835,  281,  564,  657,  808,  154,
  836,  376,  533,  688,  779,  439,  749,  186,  837,  313,  809,  502,  719,
  218,  838,  408,  780,  627,  596,  658,  250,  345,  471,  750,  810,  839,
  27,   864,  59,   565,  689,  865,  91,   866,  123,  867,  282,  534,  720,
  840,  155,  440,  781,  868,  377,  811,  187,  503,  751,  869,  314,  841,
  628,  659,  219,  597,  690,  870,  409,  812,  472,  782,  566,  721,  346,
  842,  251,  871,  28,   896,  60,   535,  752,  897,  92,   898,  124,  283,
  872,  899,  441,  813,  378,  843,  156,  660,  900,  504,  783,  629,  691,
  598,  722,  188,  901,  315,  873,  567,  753,  220,  410,  844,  902,  473,
  814,  347,  874,  536,  784,  252,  903,  29,   661,  692,  928,  61,   929,
  93,   442,  630,  723,  845,  930,  284,  904,  125,  379,  505,  815,  875,
  931,  599,  754,  157,  932,  316,  568,  785,  905,  189,  933,  474,  846,
  411,  876,  221,  934,  537,  816,  693,  348,  662,  724,  906,  253,  631,
  755,  935,  443,  877,  30,   600,  786,  960,  62,   506,  847,  961,  94,
  962,  285,  380,  907,  936,  126,  963,  569,  817,  158,  964,  317,  937,
  190,  475,  694,  725,  878,  965,  412,  908,  663,  756,  538,  848,  222,
  966,  632,  787,  349,  938,  254,  601,  818,  967,  444,  909,  507,  879,
  31,   992,  63,   381,  939,  993,  286,  968,  95,   570,  849,  994,  726,
  127,  695,  757,  995,  664,  788,  159,  996,  476,  910,  318,  969,  413,
  539,  880,  940,  191,  633,  819,  997,  223,  998,  350,  602,  850,  970,
  508,  911,  255,  445,  941,  999,  727,  758,  696,  789,  571,  881,  382,
  971,  287,  665,  820,  1000, 477,  634,  851,  942,  540,  912,  319,  1001,
  414,  972,  603,  882,  759,  728,  790,  351,  1002, 509,  697,  821,  943,
  446,  973,  572,  913,  666,  852,  383,  1003, 635,  883,  478,  974,  541,
  944,  415,  760,  791,  1004, 604,  914,  729,  822,  698,  853,  510,  975,
  667,  884,  447,  573,  945,  1005, 636,  915,  792,  761,  823,  542,  976,
  479,  1006, 730,  854,  605,  946,  699,  885,  668,  916,  511,  1007, 574,
  977,  793,  824,  637,  947,  762,  855,  731,  886,  543,  1008, 606,  978,
  700,  917,  669,  948,  575,  825,  1009, 794,  856,  763,  887,  638,  979,
  732,  918,  701,  949,  607,  1010, 670,  980,  826,  857,  795,  888,  764,
  919,  639,  1011, 733,  950,  702,  981,  858,  827,  889,  796,  920,  671,
  1012, 765,  951,  734,  982,  703,  1013, 859,  890,  828,  921,  797,  952,
  766,  983,  735,  1014, 891,  860,  922,  829,  953,  798,  984,  767,  1015,
  892,  923,  861,  954,  830,  985,  799,  1016, 924,  893,  955,  862,  986,
  831,  1017, 925,  956,  894,  987,  863,  1018, 957,  926,  988,  895,  1019,
  958,  989,  927,  1020, 990,  959,  1021, 991,  1022, 1023,
}
</code></pre>

<h3 id="conversion-tables">Conversion Tables</h3>

<p>This section defines the constant lookup tables used to convert between different representations.</p>

<p>For a block size x (with values having the same interpretation as for the variable subSize),
Mi_Width_Log2[ x ] gives the base 2 logarithm of the width of the block in units of 4 samples.</p>

<pre><code class="language-c">Mi_Width_Log2[ BLOCK_SIZES ] = {
    0, 0, 1, 1, 1, 2, 2, 2, 3, 3, 3, 4,
    4, 4, 5, 5, 0, 2, 1, 3, 2, 4, 3, 5
}
</code></pre>

<p>For a block size x,
Mi_Height_Log2[ x ] gives the base 2 logarithm of the height of the block in units of 4 samples.</p>

<pre><code class="language-c">Mi_Height_Log2[ BLOCK_SIZES ] = {
    0, 1, 0, 1, 2, 1, 2, 3, 2, 3, 4, 3,
    4, 5, 4, 5, 2, 0, 3, 1, 4, 2, 5, 3,
}
</code></pre>

<p>For a block size x,
Num_4x4_Blocks_Wide[ x ] gives the width of the block in units of 4 samples.</p>

<pre><code class="language-c">Num_4x4_Blocks_Wide[ BLOCK_SIZES ] = {
    1, 1, 2, 2, 2, 4, 4, 4, 8, 8, 8, 16,
    16, 16, 32, 32, 1, 4, 2, 8, 4, 16, 8, 32,
}
</code></pre>

<p>For a block size x,
Block_Width[ x ] gives the width of the block in units of samples.
Block_Width[ x ] is defined to be equal to 4 * Num_4x4_Blocks_Wide[ x ].</p>

<p>For a block size x,
Num_4x4_Blocks_High[ x ] gives the the height of the block in units of 4 samples.</p>

<pre><code class="language-c">Num_4x4_Blocks_High[ BLOCK_SIZES ] = {
    1, 2, 1, 2, 4, 2, 4, 8, 4, 8, 16, 8,
    16, 32, 16, 32, 4, 1, 8, 2, 16, 4, 32, 8,
}
</code></pre>

<p>For a block size x,
Block_Height[ x ] gives the width of the block in units of samples.
Block_Height[ x ] is defined to be equal to 4 * Num_4x4_Blocks_High[ x ].</p>

<p>For a block size x,
Num_8x8_Blocks_Wide[ x ] gives the width of the block in units of 8 samples (rounded up).</p>

<pre><code class="language-c">Num_8x8_Blocks_Wide[ BLOCK_SIZES ] = { 
    1, 1, 1, 1, 1, 2, 2, 2, 4, 4, 4, 8,
    8, 8, 16, 16, 1, 2, 1, 4, 2, 8, 4, 16,
 }
</code></pre>

<p>For a block size x,
Num_8x8_Blocks_High[ x ] gives the height of the block in units of 8 samples (rounded up).</p>

<pre><code class="language-c">Num_8x8_Blocks_High[ BLOCK_SIZES ] =
{
    1, 1, 1, 1, 2, 1, 2, 4, 2, 4, 8, 4, 8, 
    16, 8, 16, 2, 1, 4, 1, 8, 2, 16, 4
}
</code></pre>

<p>Size_Group is used to map a block size into a context for intra syntax elements.</p>

<pre><code class="language-c">Size_Group[ BLOCK_SIZES ] = { 
  0, 0, 0, 1, 1, 1, 2, 2, 2, 3, 3, 3,
  3, 3, 3, 3, 0, 0, 1, 1, 2, 2, 3, 3,
}
</code></pre>

<p>For a luma block size x, Max_Tx_Size[ x ] returns the largest
square transform size that can be used for blocks of size x.</p>

<pre><code class="language-c">Max_Tx_Size[ BLOCK_SIZES ] = {
  TX_4X4, TX_4X4, TX_4X4, TX_8X8,
  TX_8X8, TX_8X8, TX_16X16, TX_16X16,
  TX_16X16, TX_32X32, TX_32X32, TX_32X32,
  TX_64X64, TX_64X64, TX_64X64, TX_64X64,
  TX_4X4, TX_4X4, TX_8X8, TX_8X8,
  TX_16X16, TX_16X16, TX_32X32, TX_32X32
}
</code></pre>

<p>For a luma block size x, Max_Tx_Size[ x ] returns the largest
transform size that can be used for blocks of size x (this can be either square or rectangular).</p>

<pre><code class="language-c">Max_Tx_Size_Rect[ BLOCK_SIZES ] = {
  TX_4X4, TX_4X8, TX_8X4, TX_8X8,
  TX_8X16, TX_16X8, TX_16X16, TX_16X32,
  TX_32X16, TX_32X32, TX_32X64, TX_64X32,
  TX_64X64, TX_64X64, TX_64X64, TX_64X64,
  TX_4X8, TX_8X4, TX_8X16, TX_16X8,
  TX_16X32, TX_32X16, TX_32X32, TX_32X32
}
</code></pre>

<p>For a square block size x, and a partition type p,
Partition_Subsize[ p ][ x ] returns the size of the sub-blocks
used by this partition.  (If the partition produces blocks
of different sizes, then the table contains the largest sub-block size.)</p>

<p>The table will never get accessed for rectangular block sizes,
or for a 4x4 block size.</p>

<pre><code class="language-c">Partition_Subsize[ PARTITION_TYPES ][ BLOCK_SIZES ] = {
  {
                                  BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_8X8,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_16X16,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_32X32,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_64X64,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_128X128,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID
  }, {  
                                  BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_8X4,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_16X8,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_32X16,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_64X32,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_128X64,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID
  }, {  
                                  BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_4X8,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_8X16,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_16X32,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_32X64,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_64X128,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID
  }, {  
                                  BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_4X4,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_8X8,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_16X16,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_32X32,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_64X64,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID
  }, {  
                                  BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_8X4,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_16X8,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_32X16,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_64X32,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_128X64,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID
  }, {  
                                  BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_8X4,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_16X8,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_32X16,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_64X32,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_128X64,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID
  }, {  
                                  BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_4X8,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_8X16,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_16X32,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_32X64,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_64X128,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID
  }, {  
                                  BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_4X8,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_8X16,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_16X32,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_32X64,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_64X128,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID
  }, {  
                                  BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_16X4,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_32X8,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_64X16,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_128X32,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID
  }, {  
                                  BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_4X16,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_8X32,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_16X64,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_32X128,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID, BLOCK_INVALID,
    BLOCK_INVALID, BLOCK_INVALID
  }
}
</code></pre>

<pre><code class="language-c">Coefband_4x4[ 16 ] = {0, 1, 1, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 5, 5, 5}
</code></pre>

<pre><code class="language-c">Coefband_4x8_8x4[32] = {
  0, 1, 1, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4,
  4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
}
</code></pre>

<pre><code class="language-c">Coefband_8x8_Plus[ 4096 ] = {
    0, 1, 1, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4,
    4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5
}
</code></pre>

<pre><code class="language-c">Energy_Class[ 12 ] = {0, 1, 2, 3, 3, 4, 4, 5, 5, 5, 5, 5}
</code></pre>

<pre><code class="language-c">Mode_To_Txfm[ MB_MODE_COUNT ] = {
    DCT_DCT, // DC
    ADST_DCT, // V
    DCT_ADST, // H
    DCT_DCT, // D45
    ADST_ADST, // D135
    ADST_DCT, // D117
    DCT_ADST, // D153
    DCT_ADST, // D207
    ADST_DCT, // D63
    ADST_ADST, // SMOOTH
    ADST_DCT,  // SMOOTH_V
    DCT_ADST,  // SMOOTH_H
    ADST_ADST, // TM
    DCT_DCT, // NEARESTMV
    DCT_DCT, // NEARMV
    DCT_DCT, // GLOBALMV
    DCT_DCT // NEWMV
}
</code></pre>

<pre><code class="language-c">Palette_Color_Context[ PALETTE_MAX_COLOR_CONTEXT_HASH + 1 ] =
  { -1, -1, 0, -1, -1, 4,  3,  2, 1 }
</code></pre>

<p class="alert alert-info"><strong>Note:</strong> The negative numbers in the array Palette_Color_Context indicate
values that will never be accessed.</p>

<pre><code class="language-c">Palette_Color_Hash_Multipliers[ PALETTE_NUM_NEIGHBORS ] = { 1, 2, 2 }
</code></pre>

<pre><code class="language-c">Sm_Weights_Tx_4x4  [  4 ] = { 255, 149,  85,  64 }
Sm_Weights_Tx_8x8  [  8 ] = { 255, 197, 146, 105,  73,  50,  37,  32 }
Sm_Weights_Tx_16x16[ 16 ] = { 255, 225, 196, 170, 145, 123, 102,  84,  68,  54,  43,  33,  26, 20, 17, 16 }
Sm_Weights_Tx_32x32[ 32 ] = { 255, 240, 225, 210, 196, 182, 169, 157, 145, 133, 122, 111, 101, 92, 83, 74,
                              66,  59,  52,  45,  39,  34,  29,  25,  21,  17,  14,  12,  10,  9,  8,  8 }
Sm_Weights_Tx_64x64[ 64 ] = { 255, 248, 240, 233, 225, 218, 210, 203, 196, 189, 182, 176, 169, 163, 156,
                              150, 144, 138, 133, 127, 121, 116, 111, 106, 101, 96, 91, 86, 82, 77, 73, 69,
                              65, 61, 57, 54, 50, 47, 44, 41, 38, 35, 32, 29, 27, 25, 22, 20, 18, 16, 15,
                              13, 12, 10, 9, 8, 7, 6, 6, 5, 5, 4, 4, 4 }
</code></pre>

<pre><code class="language-c">Mode_To_Angle[ INTRA_MODES ] = { 0, 90, 180, 45, 135, 111, 157, 203, 67, 0, 0, 0, 0 }
</code></pre>

<pre><code class="language-c">Dr_Intra_Derivative[ 90 ] = {
  1, 14666, 7330, 4884, 3660, 2926, 2435, 2084, 1821, 1616, 1451, 1317, 1204,
  1108, 1026, 955, 892, 837, 787, 743, 703, 666, 633, 603, 574, 548,
  524, 502, 481, 461, 443, 426, 409, 394, 379, 365, 352, 339, 327,
  316, 305, 294, 284, 274, 265, 256, 247, 238, 230, 222, 214, 207,
  200, 192, 185, 179, 172, 166, 159, 153, 147, 141, 136, 130, 124,
  119, 113, 108, 103, 98, 93, 88, 83, 78, 73, 68, 63, 59,
  54, 49, 45, 40, 35, 31, 26, 22, 17, 13, 8, 4,
}
</code></pre>

<pre><code class="language-c">Uv_Tx_Size[ BLOCK_SIZES ][ TX_SIZES_ALL ][ 2 ][ 2 ] = {
  {
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
  },
  {
    
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
  },
  {
    
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
  },
  {
    
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
  },
  {
    
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X8, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X8, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X8, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X8, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X8, TX_4X4 }, { TX_4X4, TX_4X4 } },  
    { { TX_4X8, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X8, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X8, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X8, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X8, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X8, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X8, TX_4X4 }, { TX_4X4, TX_4X4 } },
  },
  {
    
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X4, TX_4X4 }, { TX_4X4, TX_4X4 } },  
    { { TX_8X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
  },
  {
    
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X8, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X8, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X8, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X8, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X8, TX_4X4 }, { TX_4X8, TX_4X4 } },
    { { TX_8X4, TX_8X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X8, TX_8X4 }, { TX_4X8, TX_4X4 } },
    { { TX_8X8, TX_8X4 }, { TX_4X8, TX_4X4 } },
    { { TX_8X8, TX_8X4 }, { TX_4X8, TX_4X4 } },
    { { TX_8X8, TX_8X4 }, { TX_4X8, TX_4X4 } },
    { { TX_8X8, TX_8X4 }, { TX_4X8, TX_4X4 } },
    { { TX_8X8, TX_8X4 }, { TX_4X8, TX_4X4 } },
  },
  {
    
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X8, TX_8X8 }, { TX_4X4, TX_4X4 } },
    { { TX_8X8, TX_8X8 }, { TX_4X4, TX_4X4 } },
    { { TX_8X8, TX_8X8 }, { TX_4X4, TX_4X4 } },
    { { TX_8X16, TX_8X8 }, { TX_4X4, TX_4X4 } },
    { { TX_4X8, TX_4X8 }, { TX_4X8, TX_4X8 } },
    { { TX_8X4, TX_8X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X16, TX_8X8 }, { TX_4X8, TX_4X8 } },  
    { { TX_8X16, TX_8X8 }, { TX_4X8, TX_4X8 } },
    { { TX_8X16, TX_8X8 }, { TX_4X8, TX_4X8 } },
    { { TX_8X16, TX_8X8 }, { TX_4X8, TX_4X8 } },
    { { TX_8X16, TX_8X8 }, { TX_4X8, TX_4X8 } },
    { { TX_8X16, TX_8X8 }, { TX_4X8, TX_4X8 } },
  },
  {
    
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X8, TX_4X4 }, { TX_8X8, TX_4X4 } },
    { { TX_8X8, TX_4X4 }, { TX_8X8, TX_4X4 } },
    { { TX_8X8, TX_4X4 }, { TX_8X8, TX_4X4 } },
    { { TX_16X8, TX_4X4 }, { TX_8X8, TX_4X4 } },
    { { TX_4X8, TX_4X4 }, { TX_4X8, TX_4X4 } },
    { { TX_8X4, TX_8X4 }, { TX_8X4, TX_8X4 } },
    { { TX_16X8, TX_8X4 }, { TX_8X8, TX_8X4 } },
    { { TX_16X8, TX_8X4 }, { TX_8X8, TX_8X4 } },  
    { { TX_16X8, TX_8X4 }, { TX_8X8, TX_8X4 } },
    { { TX_16X8, TX_8X4 }, { TX_8X8, TX_8X4 } },
    { { TX_16X8, TX_8X4 }, { TX_8X8, TX_8X4 } },
    { { TX_16X8, TX_8X4 }, { TX_8X8, TX_8X4 } },
  },
  {
    
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X8, TX_8X8 }, { TX_8X8, TX_8X8 } },
    { { TX_16X16, TX_8X8 }, { TX_8X8, TX_8X8 } },
    { { TX_16X16, TX_8X8 }, { TX_8X8, TX_8X8 } },
    { { TX_16X16, TX_8X8 }, { TX_8X8, TX_8X8 } },
    { { TX_4X8, TX_4X8 }, { TX_4X8, TX_4X8 } },
    { { TX_8X4, TX_8X4 }, { TX_8X4, TX_8X4 } },
    { { TX_8X16, TX_8X8 }, { TX_8X16, TX_8X8 } },
    { { TX_16X8, TX_16X8 }, { TX_8X8, TX_8X8 } },
    { { TX_16X16, TX_16X8 }, { TX_8X16, TX_8X8 } },
    { { TX_16X16, TX_16X8 }, { TX_8X16, TX_8X8 } },
    { { TX_16X16, TX_16X8 }, { TX_8X16, TX_8X8 } },
    { { TX_16X16, TX_16X8 }, { TX_8X16, TX_8X8 } },
  },
  {
    
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X8, TX_8X8 }, { TX_8X8, TX_8X8 } },
    { { TX_16X16, TX_16X16 }, { TX_8X8, TX_8X8 } },
    { { TX_16X16, TX_16X16 }, { TX_8X8, TX_8X8 } },
    { { TX_16X32, TX_16X16 }, { TX_8X8, TX_8X8 } },
    { { TX_4X8, TX_4X8 }, { TX_4X8, TX_4X8 } },
    { { TX_8X4, TX_8X4 }, { TX_8X4, TX_8X4 } },
    { { TX_8X16, TX_8X16 }, { TX_8X16, TX_8X16 } },
    { { TX_16X8, TX_16X8 }, { TX_8X8, TX_8X8 } },
    { { TX_16X32, TX_16X16 }, { TX_8X16, TX_8X16 } },  
    { { TX_16X32, TX_16X16 }, { TX_8X16, TX_8X16 } },
    { { TX_16X32, TX_16X16 }, { TX_8X16, TX_8X16 } },
    { { TX_16X32, TX_16X16 }, { TX_8X16, TX_8X16 } },
  },
  {
    
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X8, TX_8X8 }, { TX_8X8, TX_8X8 } },
    { { TX_16X16, TX_8X8 }, { TX_16X16, TX_8X8 } },
    { { TX_16X16, TX_8X8 }, { TX_16X16, TX_8X8 } },
    { { TX_32X16, TX_8X8 }, { TX_16X16, TX_8X8 } },
    { { TX_4X8, TX_4X8 }, { TX_4X8, TX_4X8 } },
    { { TX_8X4, TX_8X4 }, { TX_8X4, TX_8X4 } },
    { { TX_8X16, TX_8X8 }, { TX_8X16, TX_8X8 } },
    { { TX_16X8, TX_16X8 }, { TX_16X8, TX_16X8 } },
    { { TX_32X16, TX_16X8 }, { TX_16X16, TX_16X8 } },
    { { TX_32X16, TX_16X8 }, { TX_16X16, TX_16X8 } },
    { { TX_32X16, TX_16X8 }, { TX_16X16, TX_16X8 } },
    { { TX_32X16, TX_16X8 }, { TX_16X16, TX_16X8 } },
  },
  {
    
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X8, TX_8X8 }, { TX_8X8, TX_8X8 } },
    { { TX_16X16, TX_16X16 }, { TX_16X16, TX_16X16 } },
    { { TX_32X32, TX_16X16 }, { TX_16X16, TX_16X16 } },
    { { TX_32X32, TX_16X16 }, { TX_16X16, TX_16X16 } },
    { { TX_4X8, TX_4X8 }, { TX_4X8, TX_4X8 } },
    { { TX_8X4, TX_8X4 }, { TX_8X4, TX_8X4 } },
    { { TX_8X16, TX_8X16 }, { TX_8X16, TX_8X16 } },
    { { TX_16X8, TX_16X8 }, { TX_16X8, TX_16X8 } },
    { { TX_16X32, TX_16X16 }, { TX_16X32, TX_16X16 } },
    { { TX_32X16, TX_32X16 }, { TX_16X16, TX_16X16 } },
    { { TX_32X32, TX_16X16 }, { TX_16X16, TX_16X16 } },
    { { TX_32X32, TX_16X16 }, { TX_16X16, TX_16X16 } },
  },
  {
    
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X8, TX_8X8 }, { TX_8X8, TX_8X8 } },
    { { TX_16X16, TX_16X16 }, { TX_16X16, TX_16X16 } },
    { { TX_32X32, TX_32X32 }, { TX_16X16, TX_16X16 } },
    { { TX_32X32, TX_32X32 }, { TX_16X16, TX_16X16 } },
    { { TX_4X8, TX_4X8 }, { TX_4X8, TX_4X8 } },
    { { TX_8X4, TX_8X4 }, { TX_8X4, TX_8X4 } },
    { { TX_8X16, TX_8X16 }, { TX_8X16, TX_8X16 } },
    { { TX_16X8, TX_16X8 }, { TX_16X8, TX_16X8 } },
    { { TX_16X32, TX_16X32 }, { TX_16X16, TX_16X16 } },
    { { TX_32X16, TX_32X16 }, { TX_16X16, TX_16X16 } },
    { { TX_32X64, TX_32X32 }, { TX_16X16, TX_16X32 } },
    { { TX_32X32, TX_32X32 }, { TX_16X16, TX_16X16 } },
  },
  {
    
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X8, TX_8X8 }, { TX_8X8, TX_8X8 } },
    { { TX_16X16, TX_16X16 }, { TX_16X16, TX_16X16 } },
    { { TX_32X32, TX_16X16 }, { TX_32X32, TX_16X16 } },
    { { TX_32X32, TX_16X16 }, { TX_32X32, TX_16X16 } },
    { { TX_4X8, TX_4X8 }, { TX_4X8, TX_4X8 } },
    { { TX_8X4, TX_8X4 }, { TX_8X4, TX_8X4 } },
    { { TX_8X16, TX_8X16 }, { TX_8X16, TX_8X16 } },
    { { TX_16X8, TX_16X8 }, { TX_16X8, TX_16X8 } },
    { { TX_16X32, TX_16X16 }, { TX_16X32, TX_16X16 } },
    { { TX_32X16, TX_16X16 }, { TX_32X16, TX_16X16 } },
    { { TX_32X32, TX_16X16 }, { TX_32X32, TX_16X16 } },
    { { TX_64X32, TX_16X16 }, { TX_32X32, TX_32X16 } },
  },
  {
    
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X8, TX_8X8 }, { TX_8X8, TX_8X8 } },
    { { TX_16X16, TX_16X16 }, { TX_16X16, TX_16X16 } },
    { { TX_32X32, TX_32X32 }, { TX_32X32, TX_32X32 } },
    { { TX_64X64, TX_32X32 }, { TX_32X32, TX_32X32 } },
    { { TX_4X8, TX_4X8 }, { TX_4X8, TX_4X8 } },
    { { TX_8X4, TX_8X4 }, { TX_8X4, TX_8X4 } },
    { { TX_8X16, TX_8X16 }, { TX_8X16, TX_8X16 } },
    { { TX_16X8, TX_16X8 }, { TX_16X8, TX_16X8 } },
    { { TX_16X32, TX_16X32 }, { TX_16X32, TX_16X32 } },
    { { TX_32X16, TX_32X16 }, { TX_32X16, TX_16X16 } },
    { { TX_32X64, TX_32X32 }, { TX_16X16, TX_16X32 } },
    { { TX_64X32, TX_16X16 }, { TX_32X32, TX_32X16 } },
  },
  {
    
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X8, TX_8X8 }, { TX_8X8, TX_8X8 } },
    { { TX_16X16, TX_16X16 }, { TX_16X16, TX_16X16 } },
    { { TX_32X32, TX_32X32 }, { TX_32X32, TX_32X32 } },
    { { TX_64X64, TX_32X32 }, { TX_32X32, TX_32X32 } },
    { { TX_4X8, TX_4X8 }, { TX_4X8, TX_4X8 } },
    { { TX_8X4, TX_8X4 }, { TX_8X4, TX_8X4 } },
    { { TX_8X16, TX_8X16 }, { TX_8X16, TX_8X16 } },
    { { TX_16X8, TX_16X8 }, { TX_16X8, TX_16X8 } },
    { { TX_16X32, TX_16X32 }, { TX_16X32, TX_16X32 } },
    { { TX_32X16, TX_32X16 }, { TX_32X16, TX_32X16 } },
    { { TX_32X64, TX_32X32 }, { TX_16X16, TX_16X16 } },
    { { TX_64X32, TX_16X16 }, { TX_32X32, TX_16X16 } },
  },
  {
    
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X8, TX_8X8 }, { TX_8X8, TX_8X8 } },
    { { TX_16X16, TX_16X16 }, { TX_16X16, TX_16X16 } },
    { { TX_32X32, TX_32X32 }, { TX_32X32, TX_32X32 } },
    { { TX_64X64, TX_32X32 }, { TX_32X32, TX_32X32 } },
    { { TX_4X8, TX_4X8 }, { TX_4X8, TX_4X8 } },
    { { TX_8X4, TX_8X4 }, { TX_8X4, TX_8X4 } },
    { { TX_8X16, TX_8X16 }, { TX_8X16, TX_8X16 } },
    { { TX_16X8, TX_16X8 }, { TX_16X8, TX_16X8 } },
    { { TX_16X32, TX_16X32 }, { TX_16X32, TX_16X32 } },
    { { TX_32X16, TX_32X16 }, { TX_32X16, TX_32X16 } },
    { { TX_32X64, TX_32X32 }, { TX_16X16, TX_16X16 } },
    { { TX_64X32, TX_16X16 }, { TX_32X32, TX_16X16 } },
  },
  {
    
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X8, TX_8X8 }, { TX_8X8, TX_8X8 } },
    { { TX_16X16, TX_16X16 }, { TX_16X16, TX_16X16 } },
    { { TX_32X32, TX_32X32 }, { TX_32X32, TX_32X32 } },
    { { TX_64X64, TX_32X32 }, { TX_32X32, TX_32X32 } },
    { { TX_4X8, TX_4X8 }, { TX_4X8, TX_4X8 } },
    { { TX_8X4, TX_8X4 }, { TX_8X4, TX_8X4 } },
    { { TX_8X16, TX_8X16 }, { TX_8X16, TX_8X16 } },
    { { TX_16X8, TX_16X8 }, { TX_16X8, TX_16X8 } },
    { { TX_16X32, TX_16X32 }, { TX_16X32, TX_16X32 } },
    { { TX_32X16, TX_32X16 }, { TX_32X16, TX_32X16 } },
    { { TX_32X64, TX_32X32 }, { TX_16X16, TX_16X16 } },
    { { TX_64X32, TX_16X16 }, { TX_32X32, TX_16X16 } },
  },
  {
    
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X8, TX_4X8 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X8, TX_4X8 }, { TX_4X4, TX_4X4 } },
    { { TX_4X8, TX_4X8 }, { TX_4X4, TX_4X4 } },
    { { TX_4X8, TX_4X8 }, { TX_4X4, TX_4X4 } },
    { { TX_4X8, TX_4X8 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
  },
  {
    
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X4, TX_4X4 }, { TX_8X4, TX_4X4 } },
    { { TX_8X4, TX_4X4 }, { TX_8X4, TX_4X4 } },
    { { TX_8X4, TX_4X4 }, { TX_8X4, TX_4X4 } },
    { { TX_8X4, TX_4X4 }, { TX_8X4, TX_4X4 } },
    { { TX_8X4, TX_4X4 }, { TX_8X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
  },
  {
    
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X8, TX_8X8 }, { TX_4X4, TX_4X4 } },
    { { TX_8X8, TX_8X8 }, { TX_4X4, TX_4X4 } },
    { { TX_8X8, TX_8X8 }, { TX_4X4, TX_4X4 } },
    { { TX_8X8, TX_8X8 }, { TX_4X4, TX_4X4 } },
    { { TX_4X8, TX_4X8 }, { TX_4X8, TX_4X8 } },
    { { TX_8X4, TX_8X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X16, TX_8X16 }, { TX_4X8, TX_4X8 } },
    { { TX_8X8, TX_8X8 }, { TX_4X8, TX_4X8 } },
    { { TX_8X16, TX_8X16 }, { TX_4X8, TX_4X8 } },
    { { TX_8X16, TX_8X16 }, { TX_4X8, TX_4X8 } },
    { { TX_8X8, TX_8X8 }, { TX_4X4, TX_4X4 } },
    { { TX_8X8, TX_8X8 }, { TX_4X4, TX_4X4 } },
  },
  {
    
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X8, TX_4X4 }, { TX_8X8, TX_4X4 } },
    { { TX_8X8, TX_4X4 }, { TX_8X8, TX_4X4 } },
    { { TX_8X8, TX_4X4 }, { TX_8X8, TX_4X4 } },
    { { TX_8X8, TX_4X4 }, { TX_8X8, TX_4X4 } },
    { { TX_4X8, TX_4X4 }, { TX_4X8, TX_4X4 } },
    { { TX_8X4, TX_8X4 }, { TX_8X4, TX_8X4 } },
    { { TX_8X8, TX_8X4 }, { TX_8X8, TX_8X4 } },
    { { TX_16X8, TX_8X4 }, { TX_16X8, TX_8X4 } },
    { { TX_16X8, TX_8X4 }, { TX_16X8, TX_8X4 } },
    { { TX_16X8, TX_8X4 }, { TX_16X8, TX_8X4 } },
    { { TX_8X8, TX_4X4 }, { TX_8X8, TX_4X4 } },
    { { TX_8X8, TX_4X4 }, { TX_8X8, TX_4X4 } },
  },
  {
    
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X8, TX_8X8 }, { TX_8X8, TX_8X8 } },
    { { TX_16X16, TX_16X16 }, { TX_8X8, TX_8X8 } },
    { { TX_16X16, TX_16X16 }, { TX_8X8, TX_8X8 } },
    { { TX_16X16, TX_16X16 }, { TX_8X8, TX_8X8 } },
    { { TX_4X8, TX_4X8 }, { TX_4X8, TX_4X8 } },
    { { TX_8X4, TX_8X4 }, { TX_8X4, TX_8X4 } },
    { { TX_8X16, TX_8X16 }, { TX_8X16, TX_8X16 } },
    { { TX_16X8, TX_16X8 }, { TX_8X8, TX_8X8 } },
    { { TX_16X32, TX_16X32 }, { TX_8X16, TX_8X16 } },
    { { TX_16X16, TX_16X16 }, { TX_8X16, TX_8X16 } },
    { { TX_16X16, TX_16X16 }, { TX_8X8, TX_8X8 } },
    { { TX_16X16, TX_16X16 }, { TX_8X8, TX_8X8 } },
  },
  {
    
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X8, TX_8X8 }, { TX_8X8, TX_8X8 } },
    { { TX_16X16, TX_8X8 }, { TX_16X16, TX_8X8 } },
    { { TX_16X16, TX_8X8 }, { TX_16X16, TX_8X8 } },
    { { TX_16X16, TX_8X8 }, { TX_16X16, TX_8X8 } },
    { { TX_4X8, TX_4X8 }, { TX_4X8, TX_4X8 } },
    { { TX_8X4, TX_8X4 }, { TX_8X4, TX_8X4 } },
    { { TX_8X16, TX_8X8 }, { TX_8X16, TX_8X8 } },
    { { TX_16X8, TX_16X8 }, { TX_16X8, TX_16X8 } },
    { { TX_16X16, TX_16X8 }, { TX_16X16, TX_16X8 } },
    { { TX_32X16, TX_16X8 }, { TX_32X16, TX_16X8 } },
    { { TX_16X16, TX_8X8 }, { TX_16X16, TX_8X8 } },
    { { TX_16X16, TX_8X8 }, { TX_16X16, TX_8X8 } },
  },
  {
    
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X8, TX_8X8 }, { TX_8X8, TX_8X8 } },
    { { TX_16X16, TX_16X16 }, { TX_16X16, TX_16X16 } },
    { { TX_32X32, TX_32X32 }, { TX_16X16, TX_16X16 } },
    { { TX_32X32, TX_32X32 }, { TX_16X16, TX_16X16 } },
    { { TX_4X8, TX_4X8 }, { TX_4X8, TX_4X8 } },
    { { TX_8X4, TX_8X4 }, { TX_8X4, TX_8X4 } },
    { { TX_8X16, TX_8X16 }, { TX_8X16, TX_8X16 } },
    { { TX_16X8, TX_16X8 }, { TX_16X8, TX_16X8 } },
    //TODO: TX_64X64
  },
  {
    
    { { TX_4X4, TX_4X4 }, { TX_4X4, TX_4X4 } },
    { { TX_8X8, TX_8X8 }, { TX_8X8, TX_8X8 } },
    { { TX_16X16, TX_16X16 }, { TX_16X16, TX_16X16 } },
    { { TX_32X32, TX_16X16 }, { TX_32X32, TX_16X16 } },
    { { TX_32X32, TX_16X16 }, { TX_32X32, TX_16X16 } },
    { { TX_4X8, TX_4X8 }, { TX_4X8, TX_4X8 } },
    { { TX_8X4, TX_8X4 }, { TX_8X4, TX_8X4 } },
    { { TX_8X16, TX_8X16 }, { TX_8X16, TX_8X16 } },
    { { TX_16X8, TX_16X8 }, { TX_16X8, TX_16X8 } },
    //TODO: TX_64X64
  },
}
</code></pre>

<p>For a transform size t (of width w and height h) (with the same interpretation as for the tx_size syntax element),
Tx_Size_Sqr[ t ] returns a square tx size with side length Min( w, h ).</p>

<pre><code class="language-c">Tx_Size_Sqr[ TX_SIZES_ALL ] = {
    TX_4X4,
    TX_8X8,
    TX_16X16,
    TX_32X32,
    TX_64X64,
    TX_4X4,
    TX_4X4,
    TX_8X8,
    TX_8X8,
    TX_16X16,
    TX_16X16,
    TX_32X32,
    TX_32X32
}
</code></pre>

<p>For a transform size t (of width w and height h),
Tx_Size_Sqr_Up[ t ] returns a square tx size with side length Max( w, h ).</p>

<pre><code class="language-c">Tx_Size_Sqr_Up[ TX_SIZES_ALL ] = {
    TX_4X4,
    TX_8X8,
    TX_16X16,
    TX_32X32,
    TX_64X64,
    TX_8X8,
    TX_8X8,
    TX_16X16,
    TX_16X16,
    TX_32X32,
    TX_32X32,
    TX_64X64,
    TX_64X64
}
</code></pre>

<p>For a transform size t, returns the transform size into which the
transform will be divided in the transform tree.</p>
<pre><code class="language-c">Sub_Tx_Size[ TX_SIZES_ALL ] = {
  TX_4X4,
  TX_4X4,
  TX_8X8,
  TX_16X16,
  TX_32X32,
  TX_4X4,
  TX_4X4,
  TX_8X8,
  TX_8X8,
  TX_16X16,
  TX_16X16,
  TX_32X32,
  TX_32X32,
}
</code></pre>

<p>For a transform size t (of width w and height h),
Tx_Width[ t ] returns w.</p>

<pre><code class="language-c">Tx_Width[ TX_SIZES_ALL ] = {
    4,  8, 16, 32, 64, 4,  8, 8,  16, 16, 32, 32, 64
}
</code></pre>

<p>For a transform size t (of width w and height h),
Tx_Height[ t ] returns h.</p>

<pre><code class="language-c">Tx_Height[ TX_SIZES_ALL ] = {
    4,  8, 16, 32, 64, 8,  4, 16, 8,  32, 16, 64, 32
}
</code></pre>

<p>For a transform size t (of width w and height h),
Tx_Width_Log2[ t ] returns the base 2 logarithm of w.</p>

<pre><code class="language-c">Tx_Width_Log2[ TX_SIZES_ALL ] = {
    2, 3, 4, 5, 6, 2, 3, 3, 4, 4, 5, 5, 6
}
</code></pre>

<p>For a transform size t (of width w and height h),
Tx_Height_Log2[ t ] returns the base 2 logarithm of h.</p>

<pre><code class="language-c">Tx_Height_Log2[ TX_SIZES_ALL ] = {
    2, 3, 4, 5, 6, 3, 2, 4, 3, 5, 4, 6, 5
}
</code></pre>

<p>For a transform set s and transform type t, returns whether
the transform type is allowed in set s.</p>

<pre><code class="language-c">Tx_Type_In_Set[ TX_SET_TYPES ][ TX_TYPES ] = {
  {
    1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
  },
  {
    1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0,
  },
  {
    1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0,
  },
  {
    1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0,
  },
  {
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,
  },
  {
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
  },
}
</code></pre>

<pre><code class="language-c">Wedge_Bits[ BLOCK_SIZES ] = { 
  0, 0, 0, 4, 4, 4, 4, 4, 4, 4, 0, 0,
  0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0,
 }
</code></pre>

<p>For a transform size t (of width w and height h),
Transpose_Tx_Size[ t ] returns a transform size with width h
and height w.</p>

<pre><code class="language-c">Transpose_Tx_Size[ TX_SIZES_ALL ] = {
  TX_4X4, TX_8X8, TX_16X16, TX_32X32, TX_64X64, TX_8X4,
  TX_4X8, TX_16X8, TX_8X16, TX_32X16, TX_16X32, TX_64X32, TX_32X64
}
</code></pre>

<p>For a transform type t, Transpose_Tx_Type[ t ] returns a transform
type with the horizontal and vertical operations transposed.</p>

<pre><code class="language-c">Transpose_Tx_Type[ TX_TYPES ] = {
  DCT_DCT, DCT_ADST, ADST_DCT, ADST_ADST, DCT_FLIPADST, FLIPADST_DCT,
  FLIPADST_FLIPADST, FLIPADST_ADST, ADST_FLIPADST, IDTX, H_DCT, V_DCT,
  H_ADST, V_ADST, H_FLIPADST, V_FLIPADST,
}
</code></pre>

<pre><code class="language-c">Sig_Ref_Offset[ 3 ][ SIG_REF_OFFSET_NUM ][ 2 ] = {
  {
    { 0, 1 }, { 1, 0 }, { 1, 1 }, { 0, 2 },
    { 2, 0 },
  },
  {
    { 1, 0 }, { 2, 0 }, { 0, 1 }, { 3, 0 },
    { 4, 0 },
  },
  {
    { 0, 1 }, { 0, 2 }, { 1, 0 }, { 0, 3 },
    { 0, 4 },
  }
}
</code></pre>

<pre><code class="language-c">Br_Ref_Offset[ BR_CONTEXT_POSITION_NUM ][ 2 ] = {
  { -1, -1 }, { -1, 0 }, { -1, 1 }, { 0, -1 },
  { 0, 1 },   { 1, -1 }, { 1, 0 },  { 1, 1 },
}
</code></pre>

<h3 id="default-cdf-tables">Default CDF Tables</h3>

<p>This section contains the default values for the cumulative distributions.</p>

<pre><code class="language-c">Default_Intra_Frame_Y_Mode_Cdf[ INTRA_MODE_CONTEXTS ][ INTRA_MODE_CONTEXTS ][ INTRA_MODES + 1 ] = {
  {
    {
      14208, 17049, 20482,
      21400, 22520, 23261,
      23963, 25010, 25828,
      28398, 29394, 30738,
      32768, 0,
    },
    {
      10496, 18295, 19872,
      20945, 21933, 22818,
      23334, 24033, 24996,
      27652, 29060, 30071,
      32768, 0,
    },
    {
      5120, 6461, 19840, 20310,
      21151, 21506, 22535,
      23900, 24281, 26958,
      27680, 29636, 32768, 0,
    },
    {
      12544, 15177, 17666,
      19855, 21147, 22017,
      22797, 24514, 25779,
      28716, 29772, 31267,
      32768, 0,
    },
    {
      7552, 9909, 11908, 13141,
      18765, 22029, 23872,
      24920, 25674, 29031,
      30244, 31684, 32768, 0,
    },
  },
  {
    {
      3968, 17613, 19125, 19550,
      20305, 21908, 22274,
      22719, 23959, 26970,
      29013, 29843, 32768, 0,
    },
    {
      3072, 21231, 21863, 22306,
      22674, 23414, 23517,
      23798, 24770, 27032,
      29016, 29636, 32768, 0,
    },
    {
      2560, 9825, 15681, 16370,
      17054, 17687, 18236,
      19273, 20311, 24863,
      26825, 28756, 32768, 0,
    },
    {
      6912, 15140, 16485, 18364,
      19181, 20394, 20663,
      22098, 23936, 27555,
      29704, 30849, 32768, 0,
    },
    {
      2944, 13101, 14006, 14974,
      17818, 21093, 21930,
      22566, 24137, 27732,
      29814, 30904, 32768, 0,
    },
  },
  {
    {
      11392, 12961, 20901,
      21544, 22490, 22928,
      23888, 25214, 25777,
      28256, 29102, 30513,
      32768, 0,
    },
    {
      8064, 13595, 18888, 19616,
      20765, 21454, 21990,
      23103, 23980, 26772,
      28070, 29197, 32768, 0,
    },
    {
      4352, 5059, 21705, 22099,
      22703, 22846, 23679,
      25469, 25728, 27919,
      28484, 30215, 32768, 0,
    },
    {
      10752, 12277, 16471,
      18276, 19443, 19917,
      21158, 23881, 24892,
      27709, 28771, 30274,
      32768, 0,
    },
    {
      8320, 10000, 14147, 15330,
      19197, 20923, 22954,
      24541, 25285, 28407,
      29431, 30953, 32768, 0,
    },
  },
  {
    {
      10240, 12819, 15545,
      18248, 19779, 20932,
      21899, 23377, 25448,
      28730, 29936, 31536,
      32768, 0,
  },
    {
      7552, 15309, 16645, 19760,
      20653, 21650, 22221,
      23273, 25509, 28683,
      30153, 31192, 32768, 0,
  },
    {
      5248, 6840, 16129, 17940,
      19069, 19660, 20588,
      22760, 23927, 27538,
      28397, 30725, 32768, 0,
  },
    {
      11008, 11903, 13794,
      21320, 21931, 22310,
      22546, 25375, 27347,
      29800, 30761, 31833,
      32768, 0,
    },
    {
      6272, 8678, 10313, 13073,
      16823, 19980, 21520,
      23242, 25344, 28797,
      30405, 31940, 32768, 0,
    },
  },
  {
    {
      7296, 9304, 11772, 12529,
      18014, 20418, 23076,
      24662, 25549, 29074,
      30392, 31773, 32768, 0,
    },
    {
      7168, 11687, 13541, 14431,
      18214, 20761, 22269,
      23320, 24633, 28339,
      30193, 31268, 32768, 0,
    },
    {
      3584, 4428, 13496, 14189,
      17372, 18617, 20609,
      22615, 23270, 27280,
      28305, 30602, 32768, 0,
    },
    {
      7424, 8834, 10499, 14357,
      17671, 19150, 20460,
      23235, 24391, 28351,
      29843, 31481, 32768, 0,
    },
    {
      4480, 5888, 7093, 7902,
      18290, 22123, 24511,
      25532, 26360, 29653,
      30954, 32215, 32768, 0,
    },
  },
}
</code></pre>

<pre><code class="language-c">Default_Y_Mode_Cdf[ BLOCK_SIZE_GROUPS ][ INTRA_MODES + 1 ] = {
  { 7168, 10680, 13913, 16928,
    20294, 22790, 24706, 26275,
    28139, 29751, 30563, 31468,
    32768, 0, },
  { 11776, 13823, 15307, 15725,
    16638, 17406, 17994, 18814,
    19634, 21513, 22198, 22928,
    32768, 0, },
  { 14720, 16459, 18091, 18299,
    18757, 19125, 19423, 19924,
    20504, 22922, 24063, 25577,
    32768, 0, },
  { 18944, 19925, 20908, 20998,
    21017, 21072, 21084, 21121,
    21159, 22064, 22820, 24290,
    32768, 0, },
}
</code></pre>

<pre><code class="language-c">Default_Uv_Mode_Cdf[ INTRA_MODES ][ UV_INTRA_MODES + 1 ] = {
  { 18377, 18815, 19743, 20178, 20560, 20889, 21359, 22098,
    22481, 24563, 25781, 26662, 28396, 32768, 0 },
  { 5350, 16837, 17066, 17360, 17692, 18778, 18969, 19206,
    20291, 22367, 23212, 24670, 27912, 32768, 0 },
  { 6671, 6759, 17812, 17998, 18260, 18384, 19408, 20667,
    20806, 22760, 24142, 24875, 28072, 32768, 0 },
  { 7461, 8082, 8515, 15013, 15583, 16098, 16522, 18519,
    20348, 22954, 24130, 25342, 26548, 32768, 0 },
  { 3694, 4403, 5370, 5854, 17841, 19639, 21625, 22224,
    22651, 24613, 25399, 26143, 26599, 32768, 0 },
  { 3700, 5651, 6112, 6541, 8929, 20623, 21213, 21640,
    22214, 24306, 25412, 26406, 27249, 32768, 0 },
  { 4649, 4947, 7128, 7432, 9439, 9903, 21163, 21774,
    22056, 24426, 25403, 26324, 27128, 32768, 0 },
  { 7208, 7375, 8779, 9683, 10072, 10284, 10796, 19786,
    20152, 22955, 24246, 25165, 26589, 32768, 0 },
  { 5897, 7283, 7555, 8910, 9391, 9937, 10276, 11044,
    19841, 22620, 23784, 25060, 26418, 32768, 0 },
  { 12171, 12718, 13885, 14348, 14925, 15394, 16108, 17075,
    17583, 21996, 23614, 25048, 27011, 32768, 0 },
  { 10192, 11222, 12318, 12877, 13533, 14184, 14866, 15879,
    16650, 20419, 23265, 24295, 26596, 32768, 0 },
  { 10776, 11387, 12899, 13471, 14088, 14575, 15366, 16456,
    17040, 20815, 22009, 24448, 26492, 32768, 0 },
  { 4015, 6473, 9853, 10285, 10655, 11032, 11431, 12199,
    12738, 14760, 16121, 17263, 28612, 32768, 0 },
}
</code></pre>

<pre><code class="language-c">Default_Angle_Delta_Cdf[ DIRECTIONAL_MODES ][(2 * MAX_ANGLE_DELTA + 1) + 1] = {
  { 2340, 5327, 7611, 23102, 27196, 30546, 32768, 0 },
  { 3267, 8071, 11970, 21822, 25619, 30034, 32768, 0 },
  { 3417, 9937, 12286, 16420, 19941, 30669, 32768, 0 },
  { 5167, 11735, 15254, 16662, 20697, 28276, 32768, 0 },
  { 1728, 10973, 14103, 18547, 22684, 27007, 32768, 0 },
  { 2764, 10700, 12517, 16957, 20590, 30390, 32768, 0 },
  { 2407, 12749, 16527, 20823, 22781, 29642, 32768, 0 },
  { 3068, 10132, 12079, 16542, 19943, 30448, 32768, 0 }
}
</code></pre>

<pre><code class="language-c">Default_Partition_W8_Cdf[ PARTITION_CONTEXTS_W8 ][ PARTITION_TYPES_W8 + 1 ] = {
  { 25472, 28949, 31052, 32768, 0 },
  { 18816, 22250, 28783, 32768, 0 },
  { 18944, 26126, 29188, 32768, 0 },
  { 15488, 22508, 27077, 32768, 0 },
}
</code></pre>

<pre><code class="language-c">Default_Partition_Cdf[ PARTITION_CONTEXTS - PARTITION_CONTEXTS_W8 ][ PARTITION_TYPES + 1 ] = {
  { 22272, 23768, 25043, 29996, 30495, 30994, 31419, 31844, 32343, 32768, 0 },
  { 11776, 13457, 16315, 28229, 28789, 29349, 30302, 31255, 31816, 32768, 0 },
  { 10496, 14802, 16136, 27127, 28563, 29999, 30444, 30889, 32324, 32768, 0 },
  { 6784, 8763, 10440, 29110, 29770, 30430, 30989, 31548, 32208, 32768, 0 },
  { 22656, 23801, 24702, 30721, 31103, 31485, 31785, 32085, 32467, 32768, 0 },
  { 8704, 9926, 12586, 28885, 29292, 29699, 30586, 31473, 31881, 32768, 0 },
  { 6656, 10685, 11566, 27857, 29200, 30543, 30837, 31131, 32474, 32768, 0 },
  { 2176, 3012, 3690, 31253, 31532, 31811, 32037, 32263, 32542, 32768, 0 },
  { 28416, 28705, 28926, 32258, 32354, 32450, 32523, 32596, 32693, 32768, 0 },
  { 9216, 9952, 11849, 30134, 30379, 30624, 31256, 31888, 32134, 32768, 0 },
  { 7424, 9008, 9528, 30664, 31192, 31720, 31893, 32066, 32594, 32768, 0 },
  { 1280, 1710, 2069, 31978, 32121, 32264, 32383, 32502, 32647, 32768, 0 },
  { 28416, 28705, 28926, 32258, 32354, 32450, 32523, 32596, 32693, 32768, 0 },
  { 9216, 9952, 11849, 30134, 30379, 30624, 31256, 31888, 32134, 32768, 0 },
  { 7424, 9008, 9528, 30664, 31192, 31720, 31893, 32066, 32594, 32768, 0 },
  { 1280, 1710, 2069, 31978, 32121, 32264, 32383, 32502, 32647, 32768, 0 },
}
</code></pre>

<pre><code class="language-c">Default_Tx_64x64_Cdf[ TX_SIZE_CONTEXTS ][ MAX_TX_DEPTH + 2 ] = {
  { 5782, 11475, 32768, 0 },
  { 16803, 22759, 32768, 0 }
}
</code></pre>

<pre><code class="language-c">Default_Tx_32x32_Cdf[ TX_SIZE_CONTEXTS ][ MAX_TX_DEPTH + 2 ] = {
  { 12986, 15180, 32768, 0 },
  { 24302, 25602, 32768, 0 }
}
</code></pre>

<pre><code class="language-c">Default_Tx_16x16_Cdf[ TX_SIZE_CONTEXTS ][ MAX_TX_DEPTH + 2 ] = {
  { 12272, 30172, 32768, 0 },
  { 18677, 30848, 32768, 0 }
}
</code></pre>

<pre><code class="language-c">Default_Tx_8x8_Cdf[ TX_SIZE_CONTEXTS ][ MAX_TX_DEPTH + 1 ] = {
  { 19968, 32768, 0 },
  { 24320, 32768, 0 }
}
</code></pre>

<pre><code class="language-c">Default_Txfm_Split_Cdf[ TXFM_PARTITION_CONTEXTS ][ 3 ] = {
  { 249*128, 32768, 0 }, { 240*128, 32768, 0 }, { 223*128, 32768, 0 },
  { 249*128, 32768, 0 }, { 229*128, 32768, 0 }, { 177*128, 32768, 0 },
  { 250*128, 32768, 0 }, { 243*128, 32768, 0 }, { 208*128, 32768, 0 },
  { 226*128, 32768, 0 }, { 187*128, 32768, 0 }, { 145*128, 32768, 0 },
  { 236*128, 32768, 0 }, { 204*128, 32768, 0 }, { 150*128, 32768, 0 },
  { 183*128, 32768, 0 }, { 149*128, 32768, 0 }, { 125*128, 32768, 0 },
  { 181*128, 32768, 0 }, { 146*128, 32768, 0 }, { 113*128, 32768, 0 },
  { 128*128, 32768, 0 },
}
</code></pre>

<pre><code class="language-c">Default_Segment_Id_Cdf[ MAX_SEGMENTS + 1 ] = {
  4096,  8192,  12288,
  16384, 20480, 24576,
  28672, 32768, 0
}
</code></pre>

<pre><code class="language-c">Default_Segment_Id_Predicted_Cdf[ SEGMENT_ID_PREDICTED_CONTEXTS ][ 3 ] = {
  { 128 * 128, 32768, 0 },
  { 128 * 128, 32768, 0 },
  { 128 * 128, 32768, 0 }
}
</code></pre>

<pre><code class="language-c">Default_Mv_Class0_Hp_Cdf[ 3 ] = {
  160*128, 32768, 0
}
</code></pre>

<pre><code class="language-c">Default_Mv_Hp_Cdf[ 3 ] = {
  128*128, 32768, 0
}
</code></pre>

<pre><code class="language-c">Default_Mv_Sign_Cdf[3] = {
  128*128, 32768, 0
}
</code></pre>

<pre><code class="language-c">Default_Mv_Bit_Cdf[ MV_OFFSET_BITS ][ 3 ] = {
  { 136*128, 32768, 0 },
  { 140*128, 32768, 0 },
  { 148*128, 32768, 0 },
  { 160*128, 32768, 0 },
  { 176*128, 32768, 0 },
  { 192*128, 32768, 0 },
  { 224*128, 32768, 0 },
  { 234*128, 32768, 0 },
  { 234*128, 32768, 0 },
  { 240*128, 32768, 0 }
}
</code></pre>

<pre><code class="language-c">Default_Mv_Class0_Bit_Cdf[ 3 ] = {
  216*128, 32768, 0
}
</code></pre>

<pre><code class="language-c">Default_New_Mv_Cdf[ NEW_MV_CONTEXTS ][ 3 ] = {
  { 128 * 155, 32768, 0 },
  { 128 * 116, 32768, 0 },
  { 128 * 94, 32768, 0 },
  { 128 * 32, 32768, 0 },
  { 128 * 96, 32768, 0 },
  { 128 * 56, 32768, 0 },
  { 128 * 30, 32768, 0 }
}
</code></pre>

<pre><code class="language-c">Default_Zero_Mv_Cdf[ ZERO_MV_CONTEXTS ][ 3 ] = {
  {128 * 45, 32768, 0},
  {128 * 13, 32768, 0}
}
</code></pre>

<pre><code class="language-c">Default_Ref_Mv_Cdf[ REF_MV_CONTEXTS ][ 3 ] = {
  {128 * 178, 32768, 0},
  {128 * 212, 32768, 0},
  {128 * 135, 32768, 0},
  {128 * 244, 32768, 0},
  {128 * 203, 32768, 0},
  {128 * 122, 32768, 0},
  {128 * 128, 32768, 0},
  {128 * 128, 32768, 0},
  {128 * 128, 32768, 0}
}
</code></pre>

<pre><code class="language-c">Default_Drl_Mode_Cdf[ DRL_MODE_CONTEXTS ][ 3 ] = {
  {128 * 119, 32768, 0},
  {128 * 128, 32768, 0},
  {128 * 189, 32768, 0},
  {128 * 134, 32768, 0},
  {128 * 128, 32768, 0},
}
</code></pre>

<pre><code class="language-c">Default_Is_Inter_Cdf[ IS_INTER_CONTEXTS ][ 3 ] = {
  { 768, 32768, 0 },
  { 12416, 32768, 0 },
  { 19328, 32768, 0 },
  { 26240, 32768, 0 }
}
</code></pre>

<pre><code class="language-c">Default_Comp_Mode_Cdf[ COMP_INTER_CONTEXTS ][ 3 ] = {
  { 24290, 32768, 0 },
  { 19956, 32768, 0 },
  { 11641, 32768, 0 },
  {  9804, 32768, 0 },
  {  2842, 32768, 0 }
}
</code></pre>

<pre><code class="language-c">Default_Skip_Cdf[ SKIP_CONTEXTS ][ 3 ] = {
  {24576, 32768, 0},
  {16384, 32768, 0},
  {8192, 32768, 0}
}
</code></pre>

<pre><code class="language-c">Default_Comp_Ref_Cdf[ REF_CONTEXTS ][ FWD_REFS - 1 ][ 3 ] = {
  { {  3556, 32768, 0 },
    {  1217, 32768, 0 },
    {   988, 32768, 0 } },
  { {  9857, 32768, 0 },
    {  3394, 32768, 0 },
    {  3303, 32768, 0 } },
  { { 16237, 32768, 0 },
    {  7946, 32768, 0 },
    {  7195, 32768, 0 } },
  { { 23826, 32768, 0 },
    { 16124, 32768, 0 },
    { 20536, 32768, 0 } },
  { { 30195, 32768, 0 },
    { 18344, 32768, 0 },
    { 21980, 32768, 0 } }
}
</code></pre>

<pre><code class="language-c">Default_Comp_Bwd_Ref_Cdf[ REF_CONTEXTS ][ BWD_REFS - 1 ][ 3 ] = {
  { {  2762, 32768, 0 }, {  1614, 32768, 0 } },
  { { 17976, 32768, 0 }, { 15912, 32768, 0 } },
  { { 30894, 32768, 0 }, { 30639, 32768, 0 } },
  { { 32768, 32768, 0 }, { 32768, 32768, 0 } },
  { { 32768, 32768, 0 }, { 32768, 32768, 0 } }
}
</code></pre>

<pre><code class="language-c">Default_Single_Ref_Cdf[ REF_CONTEXTS ][ SINGLE_REFS - 1 ][ 3 ] = {
  { {  4623, 32768, 0 }, {  2110, 32768, 0 }, {  4132, 32768, 0 },
    {  7309, 32768, 0 }, {  1392, 32768, 0 }, {  1781, 32768, 0 } },
  { {  8659, 32768, 0 }, { 16372, 32768, 0 }, {  9371, 32768, 0 },
    { 16322, 32768, 0 }, {  6216, 32768, 0 }, { 15834, 32768, 0 } },
  { { 17353, 32768, 0 }, { 30182, 32768, 0 }, { 16300, 32768, 0 },
    { 21702, 32768, 0 }, { 10365, 32768, 0 }, { 30486, 32768, 0 } },
  { { 32768, 32768, 0 }, { 32768, 32768, 0 }, { 24426, 32768, 0 },
    { 26972, 32768, 0 }, { 14760, 32768, 0 }, { 32768, 32768, 0 } },
  { { 28634, 32768, 0 }, { 32768, 32768, 0 }, { 29425, 32768, 0 },
    { 30969, 32768, 0 }, { 26676, 32768, 0 }, { 32768, 32768, 0 } }
}
</code></pre>

<pre><code class="language-c">Default_Compound_Mode_Cdf[ COMPOUND_MODE_CONTEXTS ][ COMPOUND_MODES + 1 ] = {
  { 19712, 28229, 30892, 31437,
    31712, 32135, 32360, 32768, 0 },
  { 9600, 24804, 29268, 30323,
    30802, 31726, 32177, 32768, 0 },
  { 896, 22434, 27015, 29026,
    29753, 31114, 31597, 32768, 0 },
  { 1024, 15904, 22127, 25421,
    26864, 28996, 30001, 32768, 0 },
  { 512, 11222, 17217, 21445,
    23473, 26133, 27550, 32768, 0 },
  { 2944, 13313, 17214, 20751,
    23211, 25500, 26992, 32768, 0 },
  { 3456, 9067, 14069, 16907,
    18817, 21214, 23139, 32768, 0 }
}
</code></pre>

<pre><code class="language-c">Default_Interp_Filter_Cdf[ INTERP_FILTER_CONTEXTS ][ INTERP_FILTERS + 1 ] = {
  { 32256, 32654, 32768, 0 },
  { 2816, 32651, 32768, 0 },
  { 512, 764, 32768, 0 },
  { 30464, 31778, 32768, 0 },
  { 32384, 32483, 32768, 0 },
  { 3072, 32652, 32768, 0 },
  { 256, 383, 32768, 0 },
  { 25344, 26533, 32768, 0 },
  { 32000, 32531, 32768, 0 },
  { 2048, 32648, 32768, 0 },
  { 384, 890, 32768, 0 },
  { 28928, 31358, 32768, 0 },
  { 31616, 31787, 32768, 0 },
  { 4224, 32433, 32768, 0 },
  { 128, 256, 32768, 0 },
  { 17408, 18248, 32768, 0 }
}
</code></pre>

<pre><code class="language-c">Default_Motion_Mode_Cdf[ BLOCK_SIZES ][ MOTION_MODES + 1 ] = {
  { 16384, 24576, 32768, 0 },
  { 16384, 24576, 32768, 0 },
  { 16384, 24576, 32768, 0 },
  {  7936, 19091, 32768, 0 },
  {  4991, 19205, 32768, 0 },
  {  4992, 19314, 32768, 0 },
  { 15104, 21590, 32768, 0 },
  {  9855, 21043, 32768, 0 },
  { 12800, 22238, 32768, 0 },
  { 24320, 26498, 32768, 0 },
  { 26496, 28995, 32768, 0 },
  { 25216, 28166, 32768, 0 },
  { 30592, 31238, 32768, 0 },
  { 32256, 32656, 32768, 0 },
  { 32256, 32656, 32768, 0 },
  { 32256, 32656, 32768, 0 },
  { 32640, 32740, 32768, 0 },
  { 32640, 32740, 32768, 0 },
  { 32640, 32740, 32768, 0 },
  { 32640, 32740, 32768, 0 },
  { 32640, 32740, 32768, 0 },
  { 32640, 32740, 32768, 0 },
  { 32256, 32656, 32768, 0 },
  { 32256, 32656, 32768, 0 },
}
</code></pre>

<pre><code class="language-c">Default_Mv_Joint_Cdf[ MV_JOINTS + 1 ] = {
  4096, 11264, 19328, 32768, 0
}
</code></pre>

<pre><code class="language-c">Default_Mv_Class_Cdf[ 2 ][ MV_CLASSES + 1 ] = {
  { 28672, 30976, 31858, 32320,
    32551, 32656, 32740, 32757,
    32762, 32767, 32768, 0 },
  { 28672, 30976, 31858, 32320,
    32551, 32656, 32740, 32757,
    32762, 32767, 32768, 0 },
}
</code></pre>

<pre><code class="language-c">Default_Mv_Class0_Fr_Cdf[ 2 ][ CLASS0_SIZE ][ MV_JOINTS + 1 ] = {
  { { 16384, 24576, 26624, 32768, 0 },
    { 12288, 21248, 24128, 32768, 0 } },
  { { 16384, 24576, 26624, 32768, 0 },
    { 12288, 21248, 24128, 32768, 0 } },
}
</code></pre>

<pre><code class="language-c">Default_Mv_Fr_Cdf[ 2 ][ MV_JOINTS + 1 ] = {
  { 8192, 17408, 21248, 32768, 0 },
  { 8192, 17408, 21248, 32768, 0 },
}
</code></pre>

<pre><code class="language-c">Default_Palette_Y_Size_Cdf[ PALETTE_BLOCK_SIZES ][ PALETTE_SIZES + 1 ] = {
  { 12288, 19408, 24627, 26662, 28499, 30667, 32768, 0 },
  { 2815, 4570, 9416, 10875, 13782, 19863, 32768, 0 },
  { 3839, 5986, 11949, 13413, 16286, 21823, 32768, 0 },
  { 12032, 14948, 22187, 23138, 24756, 27635, 32768, 0 },
  { 14847, 20167, 25433, 26751, 28278, 30119, 32768, 0 },
  { 14336, 20240, 24840, 26079, 27908, 30034, 32768, 0 },
  { 18816, 25574, 29030, 29877, 30656, 31506, 32768, 0 },
  { 23039, 27333, 30220, 30708, 31070, 31826, 32768, 0 },
  { 13696, 18911, 23620, 25371, 29821, 31617, 32768, 0 },
  { 12543, 20838, 27455, 28762, 29763, 31546, 32768, 0 }
  { 12543, 20838, 27455, 28762, 29763, 31546, 32768, 0 },
  { 12543, 20838, 27455, 28762, 29763, 31546, 32768, 0 },
  { 12543, 20838, 27455, 28762, 29763, 31546, 32768, 0 },
}
</code></pre>

<pre><code class="language-c">Default_Palette_Uv_Size_Cdf[ PALETTE_BLOCK_SIZES ][ PALETTE_SIZES + 1 ] = {
  { 20480, 29888, 32453, 32715, 32751, 32766, 32768, 0 },
  { 11135, 23641, 31056, 31998, 32496, 32668, 32768, 0 },
  { 9216, 23108, 30806, 31871, 32414, 32637, 32768, 0 },
  { 9984, 21999, 29192, 30645, 31640, 32402, 32768, 0 },
  { 7552, 16614, 24880, 27283, 29254, 31203, 32768, 0 },
  { 9600, 20279, 27548, 29261, 30494, 31631, 32768, 0 },
  { 11391, 18656, 23727, 26058, 27788, 30278, 32768, 0 },
  { 8576, 13585, 17632, 20884, 23948, 27152, 32768, 0 },
  { 15360, 24200, 26978, 30846, 31409, 32545, 32768, 0 },
  { 9216, 14276, 19043, 22689, 25799, 28712, 32768, 0 }
  { 9216, 14276, 19043, 22689, 25799, 28712, 32768, 0 },
  { 9216, 14276, 19043, 22689, 25799, 28712, 32768, 0 },
  { 9216, 14276, 19043, 22689, 25799, 28712, 32768, 0 },
}
</code></pre>

<pre><code class="language-c">Default_Palette_Size_2_Y_Color_Cdf[ PALETTE_COLOR_CONTEXTS ][ 3 ] = {
  { 29568, 32768, 0 },
  { 16384, 32768, 0 },
  { 8832, 32768, 0 },
  { 28672, 32768, 0 },
  { 31872, 32768, 0 },
}

Default_Palette_Size_3_Y_Color_Cdf[ PALETTE_COLOR_CONTEXTS ][ 4 ] = {
  { 28032, 30326, 32768, 0 },
  { 11647, 27405, 32768, 0 },
  { 4352, 30659, 32768, 0 },
  { 23552, 27800, 32768, 0 },
  { 32256, 32504, 32768, 0 }
}

Default_Palette_Size_4_Y_Color_Cdf[ PALETTE_COLOR_CONTEXTS ][ 5 ] = {
  { 26112, 28374, 30039, 32768, 0 },
  { 9472, 22576, 27712, 32768, 0 },
  { 6656, 26138, 29608, 32768, 0 },
  { 19328, 23791, 28946, 32768, 0 },
  { 31744, 31984, 32336, 32768, 0 }
}

Default_Palette_Size_5_Y_Color_Cdf[ PALETTE_COLOR_CONTEXTS ][ 6 ] = {
  { 27904, 29215, 30075, 31190, 32768, 0 },
  { 9728, 22598, 26134, 29425, 32768, 0 },
  { 2688, 30066, 31058, 31933, 32768, 0 },
  { 22015, 25039, 27726, 29932, 32768, 0 },
  { 32383, 32482, 32554, 32660, 32768, 0 }
}

Default_Palette_Size_6_Y_Color_Cdf[ PALETTE_COLOR_CONTEXTS ][ 7 ] = {
  { 24319, 26299, 27486, 28600, 29804, 32768, 0 },
  { 7935, 18217, 21116, 25440, 28589, 32768, 0 },
  { 6656, 25016, 27105, 28698, 30399, 32768, 0 },
  { 19967, 24117, 26550, 28566, 30224, 32768, 0 },
  { 31359, 31607, 31775, 31977, 32258, 32768, 0 },
}

Default_Palette_Size_7_Y_Color_Cdf[ PALETTE_COLOR_CONTEXTS ][ 8 ] = {
  { 26368, 27768, 28588, 29274, 29997, 30917, 32768, 0 },
  { 8960, 18260, 20810, 23986, 26627, 28882, 32768, 0 },
  { 7295, 24111, 25836, 27515, 29033, 30769, 32768, 0 },
  { 22016, 25208, 27305, 28159, 29221, 30274, 32768, 0 },
  { 31744, 31932, 32050, 32199, 32335, 32521, 32768, 0 },
}

Default_Palette_Size_8_Y_Color_Cdf[ PALETTE_COLOR_CONTEXTS ][ 9 ] = {
  { 26624, 27872, 28599, 29153, 29633, 30172, 30841, 32768, 0 },
  { 6655, 17569, 19587, 23345, 25884, 28088, 29678, 32768, 0 },
  { 3584, 27296, 28429, 29158, 30032, 30780, 31572, 32768, 0 },
  { 23551, 25855, 27070, 27893, 28597, 29721, 30970, 32768, 0 },
  { 32128, 32173, 32245, 32337, 32416, 32500, 32609, 32768, 0 }
}
</code></pre>

<pre><code class="language-c">Default_Palette_Size_2_Uv_Color_Cdf[ PALETTE_COLOR_CONTEXTS ][ 3 ] = {
  { 29824, 32768, 0 },
  { 16384, 32768, 0 },
  { 8832, 32768, 0 },
  { 30720, 32768, 0 },
  { 31744, 32768, 0 }
}

Default_Palette_Size_3_Uv_Color_Cdf[ PALETTE_COLOR_CONTEXTS ][ 4 ] = {
  { 27648, 30208, 32768, 0 },
  { 14080, 26563, 32768, 0 },
  { 5120, 30932, 32768, 0 },
  { 24448, 27828, 32768, 0 },
  { 31616, 32219, 32768, 0 }
}

Default_Palette_Size_4_Uv_Color_Cdf[ PALETTE_COLOR_CONTEXTS ][ 5 ] = {
  { 25856, 28259, 30584, 32768, 0 },
  { 11520, 22476, 27944, 32768, 0 },
  { 8064, 26882, 30308, 32768, 0 },
  { 19455, 23823, 29134, 32768, 0 },
  { 30848, 31501, 32174, 32768, 0 },
}

Default_Palette_Size_5_Uv_Color_Cdf[ PALETTE_COLOR_CONTEXTS ][ 6 ] = {
  { 26751, 28020, 29541, 31230, 32768, 0 },
  { 12032, 26045, 30772, 31497, 32768, 0 },
  { 1280, 32153, 32458, 32560, 32768, 0 },
  { 23424, 24154, 29201, 29856, 32768, 0 },
  { 32256, 32402, 32561, 32682, 32768, 0 }
}

Default_Palette_Size_6_Uv_Color_Cdf[ PALETTE_COLOR_CONTEXTS ][ 7 ] = {
  { 24576, 26720, 28114, 28950, 31694, 32768, 0 },
  { 7551, 16613, 20462, 25269, 29077, 32768, 0 },
  { 6272, 23039, 25623, 28163, 30861, 32768, 0 },
  { 17024, 18808, 20771, 27941, 29845, 32768, 0 },
  { 31616, 31936, 32079, 32321, 32546, 32768, 0 }
}

Default_Palette_Size_7_Uv_Color_Cdf[ PALETTE_COLOR_CONTEXTS ][ 8 ] = {
  { 23296, 25590, 27833, 29337, 29954, 31229, 32768, 0 },
  { 7552, 13659, 16570, 21695, 24506, 27701, 32768, 0 },
  { 6911, 24788, 26284, 27753, 29575, 30872, 32768, 0 },
  { 17535, 22236, 24457, 26242, 27363, 30191, 32768, 0 },
  { 30592, 31289, 31745, 31921, 32149, 32321, 32768, 0 }
}

Default_Palette_Size_8_Uv_Color_Cdf[ PALETTE_COLOR_CONTEXTS ][ 9 ] = {
  { 22016, 24242, 25141, 27137, 27797, 29331, 30848, 32768, 0 },
  { 8063, 13564, 16940, 21948, 24568, 25689, 26989, 32768, 0 },
  { 6528, 27028, 27835, 28741, 30031, 31795, 32285, 32768, 0 },
  { 18047, 23797, 25444, 26274, 27111, 27929, 30367, 32768, 0 },
  { 30208, 30628, 31046, 31658, 31762, 32367, 32469, 32768, 0 }
}
</code></pre>

<pre><code class="language-c">Default_Palette_Y_Mode_Cdf[ PALETTE_BLOCK_SIZES ][ PALETTE_Y_MODE_CONTEXTS ][ 3 ] = {
  { { 128*240, 32768, 0 }, { 128*180, 32768, 0 }, { 128*100, 32768, 0 } },
  { { 128*240, 32768, 0 }, { 128*180, 32768, 0 }, { 128*100, 32768, 0 } },
  { { 128*240, 32768, 0 }, { 128*180, 32768, 0 }, { 128*100, 32768, 0 } },
  { { 128*240, 32768, 0 }, { 128*180, 32768, 0 }, { 128*100, 32768, 0 } },
  { { 128*240, 32768, 0 }, { 128*180, 32768, 0 }, { 128*100, 32768, 0 } },
  { { 128*240, 32768, 0 }, { 128*180, 32768, 0 }, { 128*100, 32768, 0 } },
  { { 128*240, 32768, 0 }, { 128*180, 32768, 0 }, { 128*100, 32768, 0 } },
  { { 128*240, 32768, 0 }, { 128*180, 32768, 0 }, { 128*100, 32768, 0 } },
  { { 128*240, 32768, 0 }, { 128*180, 32768, 0 }, { 128*100, 32768, 0 } },
  { { 128*240, 32768, 0 }, { 128*180, 32768, 0 }, { 128*100, 32768, 0 } },
  { { 128*240, 32768, 0 }, { 128*180, 32768, 0 }, { 128*100, 32768, 0 } },
  { { 128*240, 32768, 0 }, { 128*180, 32768, 0 }, { 128*100, 32768, 0 } },
  { { 128*240, 32768, 0 }, { 128*180, 32768, 0 }, { 128*100, 32768, 0 } },
}
</code></pre>

<pre><code class="language-c">Default_Palette_Uv_Mode_Cdf[ PALETTE_UV_MODE_CONTEXTS ][ 3 ] = {
  { 128*253, 32768, 0 }, { 128*229, 32768, 0 }
}
</code></pre>

<pre><code class="language-c">Default_Delta_Q_Cdf[ DELTA_Q_SMALL + 2 ] = {
  28160, 32120, 32677, 32768, 0
}
</code></pre>

<pre><code class="language-c">Default_Delta_Lf_Cdf[ DELTA_LF_SMALL + 2 ] = {
  28160, 32120, 32677, 32768, 0
}
</code></pre>

<pre><code class="language-c">Default_Coef_Extra_Bits_Cat1_Cdf[ 3 ] = {
  20352, 32768, 0
}

Default_Coef_Extra_Bits_Cat2_Cdf[ 5 ] = {
  11963, 21121, 27719, 32768, 0
}

Default_Coef_Extra_Bits_Cat3_Cdf[ 9 ] = {
  7001, 12802, 17911, 22144, 25503, 28286, 30737, 32768, 0
}

Default_Coef_Extra_Bits_Cat4_Cdf[ 17 ] = {
  3934,  7460, 10719, 13640, 16203, 18500, 20624, 22528,
  24316, 25919, 27401, 28729, 29894, 30938, 31903, 32768, 0
}

Default_Coef_Extra_Bits_Cat5_S1_Cdf[ 17 ] = {
  2942,  5794,  8473, 11069, 13469, 15795, 17980, 20097,
  21952, 23750, 25439, 27076, 28589, 30056, 31434, 32768, 0
}

Default_Coef_Extra_Bits_Cat5_S2_Cdf[ 3 ] = { 23040, 32768, 0 }

Default_Coef_Extra_Bits_Cat6_S1_Cdf[ 17 ] = {
  2382,  4727,  7036,  9309, 11512, 13681, 15816, 17918,
  19892, 21835, 23748, 25632, 27458, 29255, 31024, 32768, 0
}

Default_Coef_Extra_Bits_Cat6_S2_Cdf[ 17 ] = {
  9314, 15584, 19741, 22540, 25391, 27310, 28583, 29440,
  30493, 31202, 31672, 31988, 32310, 32527, 32671, 32768, 0
}

Default_Coef_Extra_Bits_Cat6_S3_Cdf[ 17 ] = {
  29548, 31129, 31960, 32004, 32473, 32498, 32511, 32512,
  32745, 32757, 32763, 32764, 32765, 32766, 32767, 32768, 0
}

Default_Coef_Extra_Bits_Cat6_S4_Cdf[ 17 ] = {
  32006, 32258, 32510, 32512, 32638, 32639, 32640, 32641,
  32761, 32762, 32763, 32764, 32765, 32766, 32767, 32768, 0
}

Default_Coef_Extra_Bits_Cat6_S5_Cdf[ 5 ] = { 32513, 32641, 32767, 32768, 0 }
</code></pre>

<pre><code class="language-c">Default_Intra_Tx_Type_Set1_Cdf[ TX_SIZES ][ INTRA_MODES ][ 7 ] = {
    {
      { 1024, 28800, 29048, 29296,
        30164, 31466, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 27118, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 15817, 32768 },
      { 1152, 25852, 26284, 26717,
        28230, 30499, 32768 },
      { 1024, 2016, 3938, 5860,
        29404, 31086, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 27118, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 15817, 32768 },
      { 1280, 4109, 5900, 7691,
        15528, 27380, 32768 },
      { 1280, 4109, 5900, 7691,
        15528, 27380, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 15817, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 15817, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 15817, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 15817, 32768 },
    },
    {
      { 1024, 28800, 29048, 29296,
        30164, 31466, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 27118, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 15817, 32768 },
      { 1152, 25852, 26284, 26717,
        28230, 30499, 32768 },
      { 1024, 2016, 3938, 5860,
        29404, 31086, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 27118, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 15817, 32768 },
      { 1280, 4109, 5900, 7691,
        15528, 27380, 32768 },
      { 1280, 4109, 5900, 7691,
        15528, 27380, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 15817, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 15817, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 15817, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 15817, 32768 },
    },
    {
      { 1024, 28800, 29048, 29296,
        30164, 31466, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 27118, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 15817, 32768 },
      { 1152, 25852, 26284, 26717,
        28230, 30499, 32768 },
      { 1024, 2016, 3938, 5860,
        29404, 31086, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 27118, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 15817, 32768 },
      { 1280, 4109, 5900, 7691,
        15528, 27380, 32768 },
      { 1280, 4109, 5900, 7691,
        15528, 27380, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 15817, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 15817, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 15817, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 15817, 32768 },
    },
    {
      { 1024, 28800, 29048, 29296,
        30164, 31466, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 27118, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 15817, 32768 },
      { 1152, 25852, 26284, 26717,
        28230, 30499, 32768 },
      { 1024, 2016, 3938, 5860,
        29404, 31086, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 27118, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 15817, 32768 },
      { 1280, 4109, 5900, 7691,
        15528, 27380, 32768 },
      { 1280, 4109, 5900, 7691,
        15528, 27380, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 15817, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 15817, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 15817, 32768 },
      { 1280, 5216, 6938, 8660,
        10167, 15817, 32768 },
    }
}
</code></pre>

<pre><code class="language-c">Default_Intra_Tx_Type_Set2_Cdf[ TX_SIZES ][ INTRA_MODES ][ 5 ] = {
    {
      { 1024, 28800, 29792, 31280, 32768 },
      { 1280, 5216, 6938, 26310, 32768 },
      { 1280, 5216, 6938, 13396, 32768 },
      { 1152, 25852, 27581, 30174, 32768 },
      { 1024, 2016, 28924, 30846, 32768 },
      { 1280, 5216, 6938, 26310, 32768 },
      { 1280, 5216, 6938, 13396, 32768 },
      { 1280, 4109, 13065, 26611, 32768 },
      { 1280, 4109, 13065, 26611, 32768 },
      { 1280, 5216, 6938, 13396, 32768 },
      { 1280, 5216, 6938, 13396, 32768 },
      { 1280, 5216, 6938, 13396, 32768 },
      { 1280, 5216, 6938, 13396, 32768 },
    },
    {
      { 1024, 28800, 29792, 31280, 32768 },
      { 1280, 5216, 6938, 26310, 32768 },
      { 1280, 5216, 6938, 13396, 32768 },
      { 1152, 25852, 27581, 30174, 32768 },
      { 1024, 2016, 28924, 30846, 32768 },
      { 1280, 5216, 6938, 26310, 32768 },
      { 1280, 5216, 6938, 13396, 32768 },
      { 1280, 4109, 13065, 26611, 32768 },
      { 1280, 4109, 13065, 26611, 32768 },
      { 1280, 5216, 6938, 13396, 32768 },
      { 1280, 5216, 6938, 13396, 32768 },
      { 1280, 5216, 6938, 13396, 32768 },
      { 1280, 5216, 6938, 13396, 32768 },
    },
    {
      { 1024, 28800, 29792, 31280, 32768 },
      { 1280, 5216, 6938, 26310, 32768 },
      { 1280, 5216, 6938, 13396, 32768 },
      { 1152, 25852, 27581, 30174, 32768 },
      { 1024, 2016, 28924, 30846, 32768 },
      { 1280, 5216, 6938, 26310, 32768 },
      { 1280, 5216, 6938, 13396, 32768 },
      { 1280, 4109, 13065, 26611, 32768 },
      { 1280, 4109, 13065, 26611, 32768 },
      { 1280, 5216, 6938, 13396, 32768 },
      { 1280, 5216, 6938, 13396, 32768 },
      { 1280, 5216, 6938, 13396, 32768 },
      { 1280, 5216, 6938, 13396, 32768 },
    },
    {
      { 1024, 28800, 29792, 31280, 32768 },
      { 1280, 5216, 6938, 26310, 32768 },
      { 1280, 5216, 6938, 13396, 32768 },
      { 1152, 25852, 27581, 30174, 32768 },
      { 1024, 2016, 28924, 30846, 32768 },
      { 1280, 5216, 6938, 26310, 32768 },
      { 1280, 5216, 6938, 13396, 32768 },
      { 1280, 4109, 13065, 26611, 32768 },
      { 1280, 4109, 13065, 26611, 32768 },
      { 1280, 5216, 6938, 13396, 32768 },
      { 1280, 5216, 6938, 13396, 32768 },
      { 1280, 5216, 6938, 13396, 32768 },
      { 1280, 5216, 6938, 13396, 32768 },
    },
}
</code></pre>

<pre><code class="language-c">Default_Inter_Tx_Type_Set1_Cdf[ TX_SIZES ][ 16 ] = {
    { 1280, 1453, 1626, 2277,
      2929, 3580, 4232, 16717,
      19225, 21733, 24241, 26749,
      28253, 29758, 31263, 32768 },
    { 1280, 1453, 1626, 2277,
      2929, 3580, 4232, 16717,
      19225, 21733, 24241, 26749,
      28253, 29758, 31263, 32768 },
    { 1280, 1453, 1626, 2277,
      2929, 3580, 4232, 16717,
      19225, 21733, 24241, 26749,
      28253, 29758, 31263, 32768 },
    { 1280, 1453, 1626, 2277,
      2929, 3580, 4232, 16717,
      19225, 21733, 24241, 26749,
      28253, 29758, 31263, 32768 }
}
</code></pre>

<pre><code class="language-c">Default_Inter_Tx_Type_Set2_Cdf[ TX_SIZES ][ 12 ] = {
    { 1280, 3125, 4970, 17132,
      19575, 22018, 24461, 26904,
      28370, 29836, 31302, 32768 },
    { 1280, 3125, 4970, 17132,
      19575, 22018, 24461, 26904,
      28370, 29836, 31302, 32768 },
    { 1280, 3125, 4970, 17132,
      19575, 22018, 24461, 26904,
      28370, 29836, 31302, 32768 },
    { 1280, 3125, 4970, 17132,
      19575, 22018, 24461, 26904,
      28370, 29836, 31302, 32768 }
}
</code></pre>

<pre><code class="language-c">Default_Inter_Tx_Type_Set3_Cdf[ TX_SIZES ][ 2 ] = {
    { 1536, 32768 },
    { 1536, 32768 },
    { 1536, 32768 },
    { 1536, 32768 }
}
</code></pre>

<pre><code class="language-c">Default_Compound_Type_Cdf[ BLOCK_SIZES ][ COMPOUND_TYPES + 1 ] = {
  { 16384, 24576, 32768, 0 },
  { 32640, 32704, 32768, 0 },
  { 32640, 32704, 32768, 0 },
  { 8448, 13293, 32768, 0 },
  { 9216, 12436, 32768, 0 },
  { 10112, 12679, 32768, 0 },
  { 9088, 10753, 32768, 0 },
  { 10368, 12906, 32768, 0 },
  { 10368, 12643, 32768, 0 },
  { 8832, 10609, 32768, 0 },
  { 13312, 13388, 32768, 0 },
  { 12672, 12751, 32768, 0 },
  { 9600, 9691, 32768, 0 },
  { 32640, 32641, 32768, 0 },
  { 32640, 32641, 32768, 0 },
  { 32640, 32641, 32768, 0 },
  { 16384, 24576, 32768, 0 },
  { 16384, 24576, 32768, 0 },
  { 16384, 24576, 32768, 0 },
  { 16384, 24576, 32768, 0 },
  { 26624, 26648, 32768, 0 },
  { 26624, 26648, 32768, 0 },
  { 26624, 26648, 32768, 0 },
  { 26624, 26648, 32768, 0 },
}
</code></pre>

<pre><code class="language-c">Default_Inter_Intra_Cdf[ BLOCK_SIZE_GROUPS ][ 3 ] = {
  {128*128, 32768, 0},
  {226*128, 32768, 0},
  {244*128, 32768, 0},
  {254*128, 32768, 0}
}
</code></pre>

<pre><code class="language-c">Default_Inter_Intra_Mode_Cdf[ BLOCK_SIZE_GROUPS ][ INTERINTRA_MODES + 1 ] = {
  { 16384, 24576, 28672, 32768, 0 },
  { 3072, 7016, 18987, 32768, 0 },
  { 4864, 8461, 17481, 32768, 0 },
  { 6528, 8681, 19031, 32768, 0 }
}
</code></pre>

<pre><code class="language-c">Default_Wedge_Inter_Intra_Cdf[ BLOCK_SIZES ][ 3 ] = {
  { 128*128, 32768, 0 },
  { 128*128, 32768, 0 },
  { 128*128, 32768, 0 },
  { 194*128, 32768, 0 },
  { 213*128, 32768, 0 },
  { 217*128, 32768, 0 },
  { 222*128, 32768, 0 },
  { 224*128, 32768, 0 },
  { 226*128, 32768, 0 },
  { 220*128, 32768, 0 },
  { 128*128, 32768, 0 },
  { 128*128, 32768, 0 },
  { 128*128, 32768, 0 },
  { 208*128, 32768, 0 },
  { 208*128, 32768, 0 },
  { 208*128, 32768, 0 },
  { 208*128, 32768, 0 },
  { 208*128, 32768, 0 },
  { 208*128, 32768, 0 },
  { 208*128, 32768, 0 },
  { 255*128, 32768, 0 },
  { 255*128, 32768, 0 },
  { 255*128, 32768, 0 },
  { 255*128, 32768, 0 },
}
</code></pre>

<pre><code class="language-c">Default_Use_Obmc_Cdf[ BLOCK_SIZES ][ 3 ] = {
  { 128*128, 32768, 0 },
  { 128*128, 32768, 0 },
  { 128*128, 32768, 0 },
  { 45*128, 32768, 0 },
  { 79*128, 32768, 0 },
  { 75*128, 32768, 0 },
  { 130*128, 32768, 0 },
  { 141*128, 32768, 0 },
  { 144*128, 32768, 0 },
  { 208*128, 32768, 0 },
  { 201*128, 32768, 0 },
  { 186*128, 32768, 0 },
  { 231*128, 32768, 0 },
  { 252*128, 32768, 0 },
  { 252*128, 32768, 0 },
  { 252*128, 32768, 0 },
  { 208 * 128, 32768, 0 },
  { 208 * 128, 32768, 0 },
  { 208 * 128, 32768, 0 },
  { 208 * 128, 32768, 0 },
  { 208 * 128, 32768, 0 },
  { 208 * 128, 32768, 0 },
  { 252 * 128, 32768, 0 },
  { 252 * 128, 32768, 0 },
};
</code></pre>

<pre><code class="language-c">Default_Comp_Ref_Type_Cdf[ COMP_REF_TYPE_CONTEXTS ][ 3 ] = {
  { 8*128, 32768, 0 }, { 20*128, 32768, 0 }, { 78*128, 32768, 0 },
  { 91*128, 32768, 0 }, { 194*128, 32768, 0 }
}
</code></pre>

<pre><code class="language-c">Default_Uni_Comp_Ref_Cdf[ UNI_COMP_REF_CONTEXTS ][ UNIDIR_COMP_REFS - 1 ][ 3 ] = {
  { { 88*128, 32768, 0 }, { 30*128, 32768, 0 }, { 28*128, 32768, 0 } },
  { { 218*128, 32768, 0 }, { 97*128, 32768, 0 }, { 105*128, 32768, 0 } },
  { { 254*128, 32768, 0 }, { 180*128, 32768, 0 }, { 196*128, 32768, 0 } }
}
</code></pre>

<pre><code class="language-c">Default_Cfl_Sign_Cdf[ CFL_JOINT_SIGNS + 1 ] = {
  1892, 2229, 11464, 14116, 25661, 26409, 32508, 32768, 0
}
</code></pre>

<pre><code class="language-c">Default_Cfl_Alpha_Cdf[ CFL_ALPHA_CONTEXTS ][ CFL_ALPHABET_SIZE + 1 ] = {
  { 16215, 27740, 31726, 32606, 32736, 32751, 32757, 32759,
    32761, 32762, 32763, 32764, 32765, 32766, 32767, 32768, 0 },
  { 15213, 24615, 29704, 31974, 32545, 32673, 32713, 32746,
    32753, 32756, 32758, 32761, 32763, 32764, 32766, 32768, 0 },
  { 13250, 24677, 29113, 31666, 32408, 32578, 32628, 32711,
    32730, 32738, 32744, 32749, 32752, 32756, 32759, 32768, 0 },
  { 24593, 30787, 32062, 32495, 32656, 32707, 32735, 32747,
    32752, 32757, 32760, 32763, 32764, 32765, 32767, 32768, 0 },
  { 19883, 27419, 30100, 31392, 31896, 32184, 32299, 32511,
    32568, 32602, 32628, 32664, 32680, 32691, 32708, 32768, 0 },
  { 15939, 24151, 27754, 29680, 30651, 31267, 31527, 31868,
    32001, 32090, 32181, 32284, 32314, 32366, 32486, 32768, 0 }
}
</code></pre>

<pre><code class="language-c">Default_Use_Wiener_Cdf[ 2 + 1 ] = {
  64*128, 32768, 0
}
</code></pre>

<pre><code class="language-c">Default_Use_Sgrproj_Cdf[ 2 + 1 ] = {
  64*128, 32768, 0
}
</code></pre>

<pre><code class="language-c">Default_Restoration_Type_Cdf[ RESTORE_SWITCHABLE + 1 ] = {
  32*128, 144*128, 32768, 0
}
</code></pre>

<pre><code class="language-c">Default_Txb_Skip_Cdf[ TX_SIZES ][ TXB_SKIP_CONTEXTS ][ 3 ] = {
  {
    { 32256, 32768, 0 },
    { 9088, 32768, 0 },
    { 16128, 32768, 0 },
    { 23552, 32768, 0 },
    { 22784, 32768, 0 },
    { 27904, 32768, 0 },
    { 32128, 32768, 0 },
    { 6272, 32768, 0 },
    { 17024, 32768, 0 },
    { 28288, 32768, 0 },
    { 3456, 32768, 0 },
    { 11776, 32768, 0 },
    { 25216, 32768, 0 },
  },
  {
    { 32256, 32768, 0 },
    { 9088, 32768, 0 },
    { 16128, 32768, 0 },
    { 23552, 32768, 0 },
    { 22784, 32768, 0 },
    { 27904, 32768, 0 },
    { 32128, 32768, 0 },
    { 6272, 32768, 0 },
    { 17024, 32768, 0 },
    { 28288, 32768, 0 },
    { 3456, 32768, 0 },
    { 11776, 32768, 0 },
    { 25216, 32768, 0 },
  },
  {
    { 32256, 32768, 0 },
    { 9088, 32768, 0 },
    { 16128, 32768, 0 },
    { 23552, 32768, 0 },
    { 22784, 32768, 0 },
    { 27904, 32768, 0 },
    { 32128, 32768, 0 },
    { 6272, 32768, 0 },
    { 17024, 32768, 0 },
    { 28288, 32768, 0 },
    { 3456, 32768, 0 },
    { 11776, 32768, 0 },
    { 25216, 32768, 0 },
  },
  {
    { 32256, 32768, 0 },
    { 9088, 32768, 0 },
    { 16128, 32768, 0 },
    { 23552, 32768, 0 },
    { 22784, 32768, 0 },
    { 27904, 32768, 0 },
    { 32128, 32768, 0 },
    { 6272, 32768, 0 },
    { 17024, 32768, 0 },
    { 28288, 32768, 0 },
    { 3456, 32768, 0 },
    { 11776, 32768, 0 },
    { 25216, 32768, 0 },
  },
}
</code></pre>

<pre><code class="language-c">Default_Eob_Flag_Cdf[ TX_SIZES ][ PLANE_TYPES ][ EOB_COEF_CONTEXTS ][ 3 ] = {
  {
    {
      { 28800, 32768, 0 },
      { 30720, 32768, 0 },
      { 28800, 32768, 0 },
      { 25600, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 31360, 32768, 0 },
      { 31488, 32768, 0 },
      { 30464, 32768, 0 },
      { 25984, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
    },
    {
      { 23168, 32768, 0 },
      { 28032, 32768, 0 },
      { 24576, 32768, 0 },
      { 18432, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 27904, 32768, 0 },
      { 29568, 32768, 0 },
      { 25472, 32768, 0 },
      { 19456, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
    },
  },
  {
    {
      { 29824, 32768, 0 },
      { 31616, 32768, 0 },
      { 30720, 32768, 0 },
      { 29952, 32768, 0 },
      { 27008, 32768, 0 },
      { 24832, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 32256, 32768, 0 },
      { 32256, 32768, 0 },
      { 31872, 32768, 0 },
      { 30976, 32768, 0 },
      { 28288, 32768, 0 },
      { 26624, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
    },
    {
      { 19712, 32768, 0 },
      { 28416, 32768, 0 },
      { 26112, 32768, 0 },
      { 23040, 32768, 0 },
      { 16896, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 27648, 32768, 0 },
      { 30080, 32768, 0 },
      { 26368, 32768, 0 },
      { 23168, 32768, 0 },
      { 15488, 32768, 0 },
      { 14336, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
    },
  },
  {
    {
      { 29824, 32768, 0 },
      { 31488, 32768, 0 },
      { 30848, 32768, 0 },
      { 30464, 32768, 0 },
      { 29568, 32768, 0 },
      { 27648, 32768, 0 },
      { 23808, 32768, 0 },
      { 21888, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 32128, 32768, 0 },
      { 32256, 32768, 0 },
      { 32128, 32768, 0 },
      { 31232, 32768, 0 },
      { 29824, 32768, 0 },
      { 27904, 32768, 0 },
      { 24576, 32768, 0 },
      { 24448, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
    },
    {
      { 14976, 32768, 0 },
      { 28288, 32768, 0 },
      { 27392, 32768, 0 },
      { 28544, 32768, 0 },
      { 27520, 32768, 0 },
      { 25856, 32768, 0 },
      { 22528, 32768, 0 },
      { 14848, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 26240, 32768, 0 },
      { 29952, 32768, 0 },
      { 28032, 32768, 0 },
      { 23424, 32768, 0 },
      { 24960, 32768, 0 },
      { 16128, 32768, 0 },
      { 9728, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
    },
  },
  {
    {
      { 24832, 32768, 0 },
      { 29568, 32768, 0 },
      { 27264, 32768, 0 },
      { 27520, 32768, 0 },
      { 26496, 32768, 0 },
      { 25600, 32768, 0 },
      { 23424, 32768, 0 },
      { 21632, 32768, 0 },
      { 17280, 32768, 0 },
      { 21504, 32768, 0 },
      { 16384, 32768, 0 },
      { 30720, 32768, 0 },
      { 31488, 32768, 0 },
      { 31104, 32768, 0 },
      { 30464, 32768, 0 },
      { 26880, 32768, 0 },
      { 25728, 32768, 0 },
      { 22016, 32768, 0 },
      { 17024, 32768, 0 },
      { 13696, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
    },
    {
      { 15616, 32768, 0 },
      { 29696, 32768, 0 },
      { 29440, 32768, 0 },
      { 31232, 32768, 0 },
      { 32000, 32768, 0 },
      { 31616, 32768, 0 },
      { 32256, 32768, 0 },
      { 32384, 32768, 0 },
      { 32512, 32768, 0 },
      { 6656, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
      { 16384, 32768, 0 },
    },
  },
}
</code></pre>

<pre><code class="language-c">Default_Eob_Extra_Cdf[ TX_SIZES ][ PLANE_TYPES ][ EOB_COEF_CONTEXTS ][ 3 ] = {
  {
    {
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
    },
    {
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
    },
  },
  {
    {
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
    },
    {
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
    },
  },
  {
    {
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
    },
    {
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
    },
  },
  {
    {
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
    },
    {
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
      { 18560, 32768, 0 },
    },
  },
}
</code></pre>

<pre><code class="language-c">Default_Dc_Sign_Cdf[ PLANE_TYPES ][ DC_SIGN_CONTEXTS ][ 3 ] = {
  {
    { 16000, 32768, 0 },
    { 13056, 32768, 0 },
    { 18816, 32768, 0 },
  },
  {
    { 15232, 32768, 0 },
    { 12928, 32768, 0 },
    { 17280, 32768, 0 },
  },
}
</code></pre>

<pre><code class="language-c">Default_Coeff_Base_Eob_Cdf[ TX_SIZES ][ PLANE_TYPES ][ SIG_COEF_CONTEXTS_EOB ][ 4 ] = {
  {
    {
      { 25984, 31045, 32768, 0 },
      { 31232, 32588, 32768, 0 },
      { 31488, 32598, 32768, 0 },
      { 31616, 32619, 32768, 0 },
    },
    {
      { 29184, 32110, 32768, 0 },
      { 31744, 32692, 32768, 0 },
      { 32256, 32734, 32768, 0 },
      { 32512, 32760, 32768, 0 },
    },
  },
  {
    {
      { 25472, 30687, 32768, 0 },
      { 31872, 32673, 32768, 0 },
      { 32256, 32708, 32768, 0 },
      { 32256, 32716, 32768, 0 },
    },
    {
      { 29056, 31927, 32768, 0 },
      { 31872, 32670, 32768, 0 },
      { 32384, 32742, 32768, 0 },
      { 32640, 32762, 32768, 0 },
    },
  },
  {
    {
      { 22912, 29495, 32768, 0 },
      { 32000, 32678, 32768, 0 },
      { 32512, 32747, 32768, 0 },
      { 32640, 32756, 32768, 0 },
    },
    {
      { 28032, 31399, 32768, 0 },
      { 32128, 32680, 32768, 0 },
      { 32640, 32758, 32768, 0 },
      { 32640, 32761, 32768, 0 },
    },
  },
  {
    {
      { 25728, 31008, 32768, 0 },
      { 32000, 32657, 32768, 0 },
      { 32512, 32758, 32768, 0 },
      { 32640, 32762, 32768, 0 },
    },
    {
      { 26240, 30167, 32768, 0 },
      { 32000, 32621, 32768, 0 },
      { 32640, 32704, 32768, 0 },
      { 32512, 32738, 32768, 0 },
    },
  },
}
</code></pre>

<pre><code class="language-c">Default_Coeff_Base_Cdf[ TX_SIZES ][ PLANE_TYPES ][ SIG_COEF_CONTEXTS ][ 5 ] = {
  {
    {
      { 7552, 18288, 24340, 32768, 0 },
      { 23424, 31892, 32655, 32768, 0 },
      { 16640, 29177, 31940, 32768, 0 },
      { 9728, 21878, 28131, 32768, 0 },
      { 6016, 15107, 22143, 32768, 0 },
      { 3712, 9614, 15221, 32768, 0 },
      { 25984, 32317, 32716, 32768, 0 },
      { 19712, 30422, 32300, 32768, 0 },
      { 10880, 23021, 28960, 32768, 0 },
      { 7040, 16286, 23496, 32768, 0 },
      { 4480, 11441, 17605, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 25856, 32147, 32661, 32768, 0 },
      { 21120, 30447, 32260, 32768, 0 },
      { 11008, 20528, 27126, 32768, 0 },
      { 8960, 15935, 22444, 32768, 0 },
      { 5376, 12010, 17199, 32768, 0 },
      { 23424, 31673, 32519, 32768, 0 },
      { 16896, 29296, 31791, 32768, 0 },
      { 8960, 20306, 26585, 32768, 0 },
      { 3584, 10424, 17231, 32768, 0 },
      { 1664, 5187, 9281, 32768, 0 },
      { 27136, 32438, 32720, 32768, 0 },
      { 20224, 30220, 32071, 32768, 0 },
      { 9856, 21133, 27086, 32768, 0 },
      { 4352, 12122, 18896, 32768, 0 },
      { 2816, 7730, 13207, 32768, 0 },
      { 28416, 32462, 32705, 32768, 0 },
      { 22016, 30584, 32153, 32768, 0 },
      { 9472, 20301, 26485, 32768, 0 },
      { 3840, 10281, 17044, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 128, 26010, 31052, 32768, 0 },
      { 128, 31238, 32588, 32768, 0 },
      { 128, 31493, 32598, 32768, 0 },
      { 128, 31620, 32620, 32768, 0 },
    },
    {
      { 12416, 25374, 29793, 32768, 0 },
      { 26880, 32423, 32734, 32768, 0 },
      { 22016, 31424, 32531, 32768, 0 },
      { 14208, 26823, 30654, 32768, 0 },
      { 7808, 18435, 24761, 32768, 0 },
      { 3712, 10295, 16088, 32768, 0 },
      { 28544, 32636, 32757, 32768, 0 },
      { 24064, 32088, 32675, 32768, 0 },
      { 16768, 29268, 31728, 32768, 0 },
      { 9856, 21491, 27085, 32768, 0 },
      { 4224, 12586, 19523, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 27392, 32621, 32760, 32768, 0 },
      { 24576, 32384, 32741, 32768, 0 },
      { 17536, 30209, 32118, 32768, 0 },
      { 8064, 20416, 25771, 32768, 0 },
      { 6528, 11755, 24395, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 128, 29198, 32112, 32768, 0 },
      { 128, 31748, 32692, 32768, 0 },
      { 128, 32258, 32734, 32768, 0 },
      { 128, 32513, 32760, 32768, 0 },
    },
  },
  {
    {
      { 6400, 15773, 21415, 32768, 0 },
      { 24832, 31900, 32564, 32768, 0 },
      { 16640, 28988, 31660, 32768, 0 },
      { 9216, 21544, 27594, 32768, 0 },
      { 5760, 15044, 21828, 32768, 0 },
      { 3200, 8744, 13905, 32768, 0 },
      { 26624, 32432, 32733, 32768, 0 },
      { 19200, 30489, 32322, 32768, 0 },
      { 11392, 24501, 29797, 32768, 0 },
      { 7040, 17793, 24871, 32768, 0 },
      { 4096, 11152, 17315, 32768, 0 },
      { 26368, 32343, 32706, 32768, 0 },
      { 18176, 29690, 32010, 32768, 0 },
      { 10240, 22472, 28263, 32768, 0 },
      { 6272, 15794, 22689, 32768, 0 },
      { 3584, 9740, 15317, 32768, 0 },
      { 24448, 32118, 32671, 32768, 0 },
      { 17536, 29495, 31949, 32768, 0 },
      { 10112, 22325, 28158, 32768, 0 },
      { 6016, 15421, 22264, 32768, 0 },
      { 3456, 9524, 15062, 32768, 0 },
      { 28672, 32640, 32758, 32768, 0 },
      { 23040, 31742, 32615, 32768, 0 },
      { 13824, 26848, 31056, 32768, 0 },
      { 8064, 19740, 26864, 32768, 0 },
      { 4736, 13058, 19987, 32768, 0 },
      { 26368, 32143, 32663, 32768, 0 },
      { 17536, 29555, 31952, 32768, 0 },
      { 10368, 22618, 28168, 32768, 0 },
      { 5120, 13760, 20739, 32768, 0 },
      { 2304, 6707, 11186, 32768, 0 },
      { 29312, 32633, 32751, 32768, 0 },
      { 21760, 31306, 32448, 32768, 0 },
      { 13568, 26168, 30267, 32768, 0 },
      { 7424, 18314, 24807, 32768, 0 },
      { 3840, 10733, 16586, 32768, 0 },
      { 29824, 32676, 32755, 32768, 0 },
      { 23040, 31438, 32471, 32768, 0 },
      { 12288, 24368, 29322, 32768, 0 },
      { 6272, 16311, 23189, 32768, 0 },
      { 3712, 10522, 16517, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 128, 25500, 30695, 32768, 0 },
      { 128, 31875, 32673, 32768, 0 },
      { 128, 32258, 32708, 32768, 0 },
      { 128, 32258, 32716, 32768, 0 },
    },
    {
      { 10752, 22706, 27737, 32768, 0 },
      { 26880, 32285, 32652, 32768, 0 },
      { 20352, 30585, 32264, 32768, 0 },
      { 11392, 24668, 29793, 32768, 0 },
      { 7040, 17793, 24871, 32768, 0 },
      { 4224, 11583, 17624, 32768, 0 },
      { 28544, 32619, 32756, 32768, 0 },
      { 23168, 31830, 32636, 32768, 0 },
      { 14592, 27656, 31330, 32768, 0 },
      { 8576, 20577, 27148, 32768, 0 },
      { 4608, 13298, 19838, 32768, 0 },
      { 29056, 32623, 32749, 32768, 0 },
      { 23040, 31628, 32554, 32768, 0 },
      { 14336, 26576, 30397, 32768, 0 },
      { 7424, 17621, 23951, 32768, 0 },
      { 3968, 10830, 16314, 32768, 0 },
      { 27904, 32388, 32717, 32768, 0 },
      { 20608, 30678, 32343, 32768, 0 },
      { 12160, 25120, 30109, 32768, 0 },
      { 8064, 19547, 26364, 32768, 0 },
      { 5120, 13328, 19858, 32768, 0 },
      { 30336, 32739, 32766, 32768, 0 },
      { 26624, 32504, 32745, 32768, 0 },
      { 18688, 30513, 32318, 32768, 0 },
      { 11264, 24368, 29650, 32768, 0 },
      { 6400, 16288, 23240, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 128, 29070, 31930, 32768, 0 },
      { 128, 31875, 32670, 32768, 0 },
      { 128, 32385, 32742, 32768, 0 },
      { 128, 32640, 32762, 32768, 0 },
    },
  },
  {
    {
      { 5120, 13004, 18331, 32768, 0 },
      { 23936, 31664, 32526, 32768, 0 },
      { 15104, 27938, 31164, 32768, 0 },
      { 8320, 20066, 26367, 32768, 0 },
      { 4992, 13563, 20014, 32768, 0 },
      { 2560, 7162, 11262, 32768, 0 },
      { 27008, 32408, 32723, 32768, 0 },
      { 18176, 29861, 32052, 32768, 0 },
      { 10240, 23088, 28759, 32768, 0 },
      { 6272, 16415, 23250, 32768, 0 },
      { 3328, 9423, 14712, 32768, 0 },
      { 28928, 32573, 32739, 32768, 0 },
      { 19200, 30277, 32164, 32768, 0 },
      { 10624, 23339, 28863, 32768, 0 },
      { 6272, 16415, 23250, 32768, 0 },
      { 3328, 9308, 14623, 32768, 0 },
      { 27264, 32445, 32722, 32768, 0 },
      { 18688, 30073, 32104, 32768, 0 },
      { 10496, 23111, 28656, 32768, 0 },
      { 6016, 15734, 22520, 32768, 0 },
      { 2816, 7964, 12517, 32768, 0 },
      { 30336, 32730, 32765, 32768, 0 },
      { 24448, 32118, 32681, 32768, 0 },
      { 14848, 28008, 31503, 32768, 0 },
      { 8704, 21300, 27885, 32768, 0 },
      { 4992, 13889, 20673, 32768, 0 },
      { 26112, 32014, 32614, 32768, 0 },
      { 15872, 28610, 31582, 32768, 0 },
      { 8704, 20454, 26562, 32768, 0 },
      { 4480, 12436, 18789, 32768, 0 },
      { 1920, 5776, 9571, 32768, 0 },
      { 28928, 32543, 32728, 32768, 0 },
      { 21376, 31077, 32358, 32768, 0 },
      { 13312, 26080, 30207, 32768, 0 },
      { 7424, 18512, 24860, 32768, 0 },
      { 3328, 9308, 14531, 32768, 0 },
      { 30208, 32718, 32763, 32768, 0 },
      { 24960, 32066, 32639, 32768, 0 },
      { 14976, 27416, 30907, 32768, 0 },
      { 7552, 18781, 25337, 32768, 0 },
      { 3840, 10846, 16840, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 128, 22950, 29508, 32768, 0 },
      { 128, 32003, 32678, 32768, 0 },
      { 128, 32513, 32747, 32768, 0 },
      { 128, 32640, 32756, 32768, 0 },
    },
    {
      { 8832, 19771, 25000, 32768, 0 },
      { 26496, 32008, 32569, 32768, 0 },
      { 18560, 29438, 31597, 32768, 0 },
      { 10240, 23088, 28419, 32768, 0 },
      { 6784, 17644, 24497, 32768, 0 },
      { 4608, 12088, 17742, 32768, 0 },
      { 28928, 32618, 32755, 32768, 0 },
      { 21376, 31388, 32552, 32768, 0 },
      { 12544, 26527, 31012, 32768, 0 },
      { 8192, 20480, 27440, 32768, 0 },
      { 4864, 13693, 20548, 32768, 0 },
      { 30464, 32651, 32746, 32768, 0 },
      { 22272, 31169, 32386, 32768, 0 },
      { 12160, 25281, 29814, 32768, 0 },
      { 6912, 17517, 24070, 32768, 0 },
      { 4096, 10816, 17590, 32768, 0 },
      { 29184, 32642, 32753, 32768, 0 },
      { 21632, 31419, 32546, 32768, 0 },
      { 13184, 26954, 31132, 32768, 0 },
      { 8576, 20955, 27599, 32768, 0 },
      { 5248, 14278, 20778, 32768, 0 },
      { 31104, 32748, 32767, 32768, 0 },
      { 25728, 32355, 32724, 32768, 0 },
      { 15744, 29177, 32010, 32768, 0 },
      { 9856, 23102, 29294, 32768, 0 },
      { 6144, 16232, 23531, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 128, 28050, 31404, 32768, 0 },
      { 128, 32130, 32680, 32768, 0 },
      { 128, 32640, 32758, 32768, 0 },
      { 128, 32640, 32761, 32768, 0 },
    },
  },
  {
    {
      { 4992, 12804, 18106, 32768, 0 },
      { 22400, 30986, 32287, 32768, 0 },
      { 13696, 26510, 30274, 32768, 0 },
      { 7424, 18611, 25025, 32768, 0 },
      { 4864, 12930, 19129, 32768, 0 },
      { 2048, 6008, 9562, 32768, 0 },
      { 27392, 32390, 32710, 32768, 0 },
      { 17280, 29380, 31841, 32768, 0 },
      { 9344, 22062, 28000, 32768, 0 },
      { 5632, 15278, 22178, 32768, 0 },
      { 2688, 7858, 12431, 32768, 0 },
      { 30080, 32600, 32734, 32768, 0 },
      { 18560, 30104, 32049, 32768, 0 },
      { 10240, 23176, 28721, 32768, 0 },
      { 6144, 16336, 23139, 32768, 0 },
      { 3328, 9193, 14350, 32768, 0 },
      { 29056, 32594, 32742, 32768, 0 },
      { 19072, 30521, 32285, 32768, 0 },
      { 10752, 24254, 29675, 32768, 0 },
      { 6656, 17570, 24575, 32768, 0 },
      { 3200, 9090, 14177, 32768, 0 },
      { 31616, 32754, 32766, 32768, 0 },
      { 24960, 32066, 32655, 32768, 0 },
      { 13824, 27440, 31207, 32768, 0 },
      { 8320, 20926, 27448, 32768, 0 },
      { 4480, 12657, 18863, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 128, 25755, 31014, 32768, 0 },
      { 128, 32003, 32657, 32768, 0 },
      { 128, 32513, 32758, 32768, 0 },
      { 128, 32640, 32762, 32768, 0 },
    },
    {
      { 5632, 14112, 18921, 32768, 0 },
      { 26368, 31793, 32459, 32768, 0 },
      { 19328, 28725, 30762, 32768, 0 },
      { 11520, 23140, 27013, 32768, 0 },
      { 7680, 18068, 23178, 32768, 0 },
      { 3840, 10620, 15551, 32768, 0 },
      { 27392, 32369, 32686, 32768, 0 },
      { 18944, 30176, 32089, 32768, 0 },
      { 11776, 25306, 30086, 32768, 0 },
      { 7936, 20449, 26849, 32768, 0 },
      { 5120, 15272, 22516, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 31744, 32756, 32767, 32768, 0 },
      { 25216, 32296, 32716, 32768, 0 },
      { 16000, 29427, 32063, 32768, 0 },
      { 10240, 24144, 29736, 32768, 0 },
      { 6656, 17978, 25141, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 128, 26265, 30176, 32768, 0 },
      { 128, 32003, 32621, 32768, 0 },
      { 128, 32640, 32704, 32768, 0 },
      { 128, 32513, 32738, 32768, 0 },
    },
  },
}
</code></pre>

<pre><code class="language-c">Default_Coeff_Br_Cdf[ TX_SIZES ][ PLANE_TYPES ][ LEVEL_CONTEXTS ][ BR_CDF_SIZE + 1 ] = {
  {
    {
      { 20480, 28160, 31040, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 21760, 29070, 31525, 32768, 0 },
      { 17152, 25326, 29221, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 22016, 29240, 31610, 32768, 0 },
      { 16768, 24955, 28953, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 21504, 28896, 31437, 32768, 0 },
      { 20096, 27867, 30872, 32768, 0 },
      { 16640, 24830, 28861, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 15488, 23655, 27962, 32768, 0 },
      { 12416, 20127, 24916, 32768, 0 },
      { 20096, 27867, 30872, 32768, 0 },
      { 16128, 24318, 28476, 32768, 0 },
      { 15616, 23790, 28068, 32768, 0 },
      { 19968, 27768, 30814, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 14336, 22400, 26936, 32768, 0 },
      { 23808, 30318, 32098, 32768, 0 },
      { 20352, 28063, 30985, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 14976, 23107, 27522, 32768, 0 },
      { 12672, 20443, 25209, 32768, 0 },
      { 11264, 18656, 23507, 32768, 0 },
      { 16512, 24703, 28767, 32768, 0 },
      { 13824, 21816, 26436, 32768, 0 },
      { 12032, 19646, 24464, 32768, 0 },
      { 17280, 25447, 29307, 32768, 0 },
      { 13696, 21667, 26306, 32768, 0 },
      { 12672, 20443, 25209, 32768, 0 },
      { 17664, 25806, 29558, 32768, 0 },
      { 16512, 24703, 28767, 32768, 0 },
      { 14464, 22543, 27056, 32768, 0 },
      { 12672, 20443, 25209, 32768, 0 },
      { 9984, 16926, 21752, 32768, 0 },
      { 8960, 15470, 20199, 32768, 0 },
      { 11264, 18656, 23507, 32768, 0 },
      { 10880, 18147, 23001, 32768, 0 },
      { 9344, 16023, 20797, 32768, 0 },
      { 11648, 19155, 23993, 32768, 0 },
      { 11136, 18487, 23340, 32768, 0 },
      { 9728, 16568, 21377, 32768, 0 },
      { 9728, 16568, 21377, 32768, 0 },
      { 11136, 18487, 23340, 32768, 0 },
      { 11520, 18990, 23833, 32768, 0 },
      { 10112, 17103, 21937, 32768, 0 },
    },
    {
      { 22400, 29487, 31729, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 23552, 30176, 32039, 32768, 0 },
      { 20608, 28255, 31093, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 24576, 30720, 32256, 32768, 0 },
      { 20224, 27966, 30929, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 27392, 31886, 32623, 32768, 0 },
      { 24320, 30590, 32206, 32768, 0 },
      { 19840, 27667, 30755, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16256, 24447, 28574, 32768, 0 },
      { 11904, 19483, 24309, 32768, 0 },
      { 20352, 28063, 30985, 32768, 0 },
      { 17152, 25326, 29221, 32768, 0 },
      { 16128, 24318, 28476, 32768, 0 },
      { 21120, 28627, 31296, 32768, 0 },
      { 17536, 25687, 29476, 32768, 0 },
      { 14720, 22827, 27292, 32768, 0 },
      { 23808, 30318, 32098, 32768, 0 },
      { 20736, 28350, 31145, 32768, 0 },
      { 17664, 25806, 29558, 32768, 0 },
      { 11520, 18990, 23833, 32768, 0 },
      { 12672, 20443, 25209, 32768, 0 },
      { 11264, 18656, 23507, 32768, 0 },
      { 17792, 25923, 29639, 32768, 0 },
      { 14464, 22543, 27056, 32768, 0 },
      { 13440, 21367, 26043, 32768, 0 },
      { 18560, 26607, 30096, 32768, 0 },
      { 14336, 22400, 26936, 32768, 0 },
      { 13056, 20910, 25634, 32768, 0 },
      { 23040, 29880, 31910, 32768, 0 },
      { 18304, 26383, 29949, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 12544, 20286, 25064, 32768, 0 },
      { 10112, 17103, 21937, 32768, 0 },
      { 9088, 15655, 20401, 32768, 0 },
      { 11648, 19155, 23993, 32768, 0 },
      { 11392, 18823, 23671, 32768, 0 },
      { 9856, 16747, 21565, 32768, 0 },
      { 12928, 20755, 25494, 32768, 0 },
      { 11520, 18990, 23833, 32768, 0 },
      { 9856, 16747, 21565, 32768, 0 },
      { 18688, 26718, 30168, 32768, 0 },
      { 15232, 23383, 27745, 32768, 0 },
      { 18048, 26155, 29797, 32768, 0 },
      { 11648, 19155, 23993, 32768, 0 },
    },
  },
  {
    {
      { 19712, 27566, 30695, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 22656, 29647, 31804, 32768, 0 },
      { 16768, 24955, 28953, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 23296, 30030, 31976, 32768, 0 },
      { 17280, 25447, 29307, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 24960, 30907, 32324, 32768, 0 },
      { 20224, 27966, 30929, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 14720, 22827, 27292, 32768, 0 },
      { 11776, 19320, 24152, 32768, 0 },
      { 20480, 28160, 31040, 32768, 0 },
      { 15872, 24056, 28275, 32768, 0 },
      { 13568, 21518, 26176, 32768, 0 },
      { 21248, 28718, 31344, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 13184, 21063, 25772, 32768, 0 },
      { 24832, 30846, 32302, 32768, 0 },
      { 19968, 27768, 30814, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 13184, 21063, 25772, 32768, 0 },
      { 12032, 19646, 24464, 32768, 0 },
      { 10752, 17976, 22829, 32768, 0 },
      { 17408, 25568, 29393, 32768, 0 },
      { 14080, 22110, 26689, 32768, 0 },
      { 12032, 19646, 24464, 32768, 0 },
      { 18304, 26383, 29949, 32768, 0 },
      { 14592, 22686, 27175, 32768, 0 },
      { 13056, 20910, 25634, 32768, 0 },
      { 20480, 28160, 31040, 32768, 0 },
      { 18304, 26383, 29949, 32768, 0 },
      { 15104, 23246, 27635, 32768, 0 },
      { 12928, 20755, 25494, 32768, 0 },
      { 9600, 16387, 21186, 32768, 0 },
      { 8704, 15096, 19790, 32768, 0 },
      { 13440, 21367, 26043, 32768, 0 },
      { 11008, 18318, 23172, 32768, 0 },
      { 9856, 16747, 21565, 32768, 0 },
      { 13952, 21963, 26563, 32768, 0 },
      { 11392, 18823, 23671, 32768, 0 },
      { 9600, 16387, 21186, 32768, 0 },
      { 12544, 20286, 25064, 32768, 0 },
      { 12672, 20443, 25209, 32768, 0 },
      { 11904, 19483, 24309, 32768, 0 },
      { 10240, 17280, 22120, 32768, 0 },
    },
    {
      { 19584, 27463, 30633, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 22528, 29568, 31768, 32768, 0 },
      { 17920, 26040, 29719, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 24320, 30590, 32206, 32768, 0 },
      { 20736, 28350, 31145, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 28288, 32155, 32684, 32768, 0 },
      { 24448, 30655, 32231, 32768, 0 },
      { 18816, 26827, 30238, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 15616, 23790, 28068, 32768, 0 },
      { 11904, 19483, 24309, 32768, 0 },
      { 19456, 27360, 30571, 32768, 0 },
      { 15232, 23383, 27745, 32768, 0 },
      { 13056, 20910, 25634, 32768, 0 },
      { 20992, 28536, 31247, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 19456, 27360, 30571, 32768, 0 },
      { 25344, 31086, 32386, 32768, 0 },
      { 20736, 28350, 31145, 32768, 0 },
      { 16256, 24447, 28574, 32768, 0 },
      { 15872, 24056, 28275, 32768, 0 },
      { 12800, 20600, 25353, 32768, 0 },
      { 10624, 17803, 22654, 32768, 0 },
      { 15232, 23383, 27745, 32768, 0 },
      { 13696, 21667, 26306, 32768, 0 },
      { 11648, 19155, 23993, 32768, 0 },
      { 19456, 27360, 30571, 32768, 0 },
      { 14464, 22543, 27056, 32768, 0 },
      { 14464, 22543, 27056, 32768, 0 },
      { 18432, 26496, 30024, 32768, 0 },
      { 19840, 27667, 30755, 32768, 0 },
      { 15744, 23923, 28172, 32768, 0 },
      { 12416, 20127, 24916, 32768, 0 },
      { 10240, 17280, 22120, 32768, 0 },
      { 8960, 15470, 20199, 32768, 0 },
      { 15616, 23790, 28068, 32768, 0 },
      { 10752, 17976, 22829, 32768, 0 },
      { 10368, 17455, 22300, 32768, 0 },
      { 12928, 20755, 25494, 32768, 0 },
      { 11136, 18487, 23340, 32768, 0 },
      { 10112, 17103, 21937, 32768, 0 },
      { 128, 255, 382, 32768, 0 },
      { 19072, 27043, 30375, 32768, 0 },
      { 15232, 23383, 27745, 32768, 0 },
      { 11264, 18656, 23507, 32768, 0 },
    },
  },
  {
    {
      { 16768, 24955, 28953, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 21888, 29155, 31568, 32768, 0 },
      { 12672, 20443, 25209, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 22272, 29406, 31691, 32768, 0 },
      { 12928, 20755, 25494, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 27392, 31886, 32623, 32768, 0 },
      { 22144, 29323, 31651, 32768, 0 },
      { 17920, 26040, 29719, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 12928, 20755, 25494, 32768, 0 },
      { 10496, 17630, 22478, 32768, 0 },
      { 19840, 27667, 30755, 32768, 0 },
      { 14336, 22400, 26936, 32768, 0 },
      { 12928, 20755, 25494, 32768, 0 },
      { 20864, 28443, 31196, 32768, 0 },
      { 14848, 22968, 27408, 32768, 0 },
      { 12928, 20755, 25494, 32768, 0 },
      { 25472, 31143, 32406, 32768, 0 },
      { 20992, 28536, 31247, 32768, 0 },
      { 16896, 25080, 29044, 32768, 0 },
      { 13696, 21667, 26306, 32768, 0 },
      { 10624, 17803, 22654, 32768, 0 },
      { 9984, 16926, 21752, 32768, 0 },
      { 18176, 26270, 29874, 32768, 0 },
      { 13824, 21816, 26436, 32768, 0 },
      { 12160, 19807, 24616, 32768, 0 },
      { 18560, 26607, 30096, 32768, 0 },
      { 14208, 22255, 26813, 32768, 0 },
      { 12160, 19807, 24616, 32768, 0 },
      { 22912, 29803, 31876, 32768, 0 },
      { 19840, 27667, 30755, 32768, 0 },
      { 16000, 24187, 28376, 32768, 0 },
      { 13184, 21063, 25772, 32768, 0 },
      { 8448, 14718, 19371, 32768, 0 },
      { 8320, 14527, 19158, 32768, 0 },
      { 14848, 22968, 27408, 32768, 0 },
      { 11136, 18487, 23340, 32768, 0 },
      { 9344, 16023, 20797, 32768, 0 },
      { 14848, 22968, 27408, 32768, 0 },
      { 11136, 18487, 23340, 32768, 0 },
      { 9856, 16747, 21565, 32768, 0 },
      { 18944, 26936, 30307, 32768, 0 },
      { 17152, 25326, 29221, 32768, 0 },
      { 13568, 21518, 26176, 32768, 0 },
      { 10880, 18147, 23001, 32768, 0 },
    },
    {
      { 15360, 23520, 27855, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 18944, 26936, 30307, 32768, 0 },
      { 11904, 19483, 24309, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 20480, 28160, 31040, 32768, 0 },
      { 14848, 22968, 27408, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 26624, 31616, 32552, 32768, 0 },
      { 21248, 28718, 31344, 32768, 0 },
      { 21888, 29155, 31568, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 14336, 22400, 26936, 32768, 0 },
      { 11776, 19320, 24152, 32768, 0 },
      { 18304, 26383, 29949, 32768, 0 },
      { 12544, 20286, 25064, 32768, 0 },
      { 9856, 16747, 21565, 32768, 0 },
      { 19072, 27043, 30375, 32768, 0 },
      { 12416, 20127, 24916, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 27264, 31843, 32612, 32768, 0 },
      { 23168, 29955, 31943, 32768, 0 },
      { 15744, 23923, 28172, 32768, 0 },
      { 12288, 19968, 24768, 32768, 0 },
      { 12672, 20443, 25209, 32768, 0 },
      { 9216, 15840, 20601, 32768, 0 },
      { 14336, 22400, 26936, 32768, 0 },
      { 12288, 19968, 24768, 32768, 0 },
      { 8576, 14907, 19581, 32768, 0 },
      { 13056, 20910, 25634, 32768, 0 },
      { 13312, 21216, 25909, 32768, 0 },
      { 9216, 15840, 20601, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16896, 25080, 29044, 32768, 0 },
      { 15232, 23383, 27745, 32768, 0 },
      { 14848, 22968, 27408, 32768, 0 },
      { 8704, 15096, 19790, 32768, 0 },
      { 7680, 13560, 18061, 32768, 0 },
      { 13824, 21816, 26436, 32768, 0 },
      { 11008, 18318, 23172, 32768, 0 },
      { 9984, 16926, 21752, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 10112, 17103, 21937, 32768, 0 },
      { 12416, 20127, 24916, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 9856, 16747, 21565, 32768, 0 },
      { 15488, 23655, 27962, 32768, 0 },
      { 15488, 23655, 27962, 32768, 0 },
    },
  },
  {
    {
      { 15744, 23923, 28172, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 18688, 26718, 30168, 32768, 0 },
      { 13184, 21063, 25772, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 19840, 27667, 30755, 32768, 0 },
      { 12672, 20443, 25209, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 26496, 31567, 32538, 32768, 0 },
      { 21120, 28627, 31296, 32768, 0 },
      { 15616, 23790, 28068, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 13440, 21367, 26043, 32768, 0 },
      { 11264, 18656, 23507, 32768, 0 },
      { 16256, 24447, 28574, 32768, 0 },
      { 12544, 20286, 25064, 32768, 0 },
      { 12032, 19646, 24464, 32768, 0 },
      { 18432, 26496, 30024, 32768, 0 },
      { 13056, 20910, 25634, 32768, 0 },
      { 11264, 18656, 23507, 32768, 0 },
      { 24704, 30783, 32279, 32768, 0 },
      { 20096, 27867, 30872, 32768, 0 },
      { 16128, 24318, 28476, 32768, 0 },
      { 12544, 20286, 25064, 32768, 0 },
      { 10880, 18147, 23001, 32768, 0 },
      { 9984, 16926, 21752, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 12288, 19968, 24768, 32768, 0 },
      { 10624, 17803, 22654, 32768, 0 },
      { 18560, 26607, 30096, 32768, 0 },
      { 12928, 20755, 25494, 32768, 0 },
      { 10880, 18147, 23001, 32768, 0 },
      { 21760, 29070, 31525, 32768, 0 },
      { 18944, 26936, 30307, 32768, 0 },
      { 14464, 22543, 27056, 32768, 0 },
      { 12416, 20127, 24916, 32768, 0 },
      { 7936, 13950, 18507, 32768, 0 },
      { 7680, 13560, 18061, 32768, 0 },
      { 12032, 19646, 24464, 32768, 0 },
      { 10112, 17103, 21937, 32768, 0 },
      { 9088, 15655, 20401, 32768, 0 },
      { 17024, 25203, 29133, 32768, 0 },
      { 10752, 17976, 22829, 32768, 0 },
      { 9600, 16387, 21186, 32768, 0 },
      { 19840, 27667, 30755, 32768, 0 },
      { 15872, 24056, 28275, 32768, 0 },
      { 12800, 20600, 25353, 32768, 0 },
      { 9984, 16926, 21752, 32768, 0 },
    },
    {
      { 15744, 23923, 28172, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16256, 24447, 28574, 32768, 0 },
      { 14336, 22400, 26936, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 17920, 26040, 29719, 32768, 0 },
      { 15488, 23655, 27962, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 27264, 31843, 32612, 32768, 0 },
      { 19840, 27667, 30755, 32768, 0 },
      { 19968, 27768, 30814, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 14848, 22968, 27408, 32768, 0 },
      { 11904, 19483, 24309, 32768, 0 },
      { 12544, 20286, 25064, 32768, 0 },
      { 10624, 17803, 22654, 32768, 0 },
      { 6528, 11755, 15941, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 11648, 19155, 23993, 32768, 0 },
      { 10880, 18147, 23001, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 5888, 10718, 14680, 32768, 0 },
      { 11904, 19483, 24309, 32768, 0 },
      { 10752, 17976, 22829, 32768, 0 },
      { 9216, 15840, 20601, 32768, 0 },
      { 8192, 14336, 18944, 32768, 0 },
      { 10240, 17280, 22120, 32768, 0 },
      { 7040, 12567, 16907, 32768, 0 },
      { 9344, 16023, 20797, 32768, 0 },
      { 10112, 17103, 21937, 32768, 0 },
      { 8448, 14718, 19371, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 8192, 14336, 18944, 32768, 0 },
      { 7296, 12967, 17375, 32768, 0 },
      { 14336, 22400, 26936, 32768, 0 },
      { 8192, 14336, 18944, 32768, 0 },
      { 8192, 14336, 18944, 32768, 0 },
      { 31488, 32718, 32766, 32768, 0 },
      { 7680, 13560, 18061, 32768, 0 },
      { 8192, 14336, 18944, 32768, 0 },
      { 128, 255, 382, 32768, 0 },
      { 10880, 18147, 23001, 32768, 0 },
      { 9984, 16926, 21752, 32768, 0 },
      { 128, 255, 382, 32768, 0 },
      { 16384, 24576, 28672, 32768, 0 },
      { 10880, 18147, 23001, 32768, 0 },
      { 9856, 16747, 21565, 32768, 0 },
    },
  },
}
</code></pre>

<h3 id="quantizer-matrix-tables">Quantizer Matrix Tables</h3>

<pre><code class="language-c">Qm_Offset[ TX_SIZES_ALL ] = { 0, 16, 80, 336, 336, 1360, 1392, 1424, 1552, 1680, 2192, 336, 336 }
</code></pre>

<pre><code class="language-c">Quantizer_Matrix[ 15 ][ 2 ][ QM_TOTAL_SIZE ] = {
  {
      { /* Luma */
        /* Size 4x4 */
        32, 43, 73, 97, 43, 67, 94, 110, 73, 94, 137, 150, 97, 110, 150, 200,
        /* Size 8x8 */
        32, 32, 38, 51, 68, 84, 95, 109, 32, 35, 40, 49, 63, 76, 89, 102, 38,
        40, 54, 65, 78, 91, 98, 106, 51, 49, 65, 82, 97, 111, 113, 121, 68, 63,
        78, 97, 117, 134, 138, 142, 84, 76, 91, 111, 134, 152, 159, 168, 95, 89,
        98, 113, 138, 159, 183, 199, 109, 102, 106, 121, 142, 168, 199, 220,
        /* Size 16x16 */
        32, 31, 31, 34, 36, 44, 48, 59, 65, 80, 83, 91, 97, 104, 111, 119, 31,
        32, 32, 33, 34, 41, 44, 54, 59, 72, 75, 83, 90, 97, 104, 112, 31, 32,
        33, 35, 36, 42, 45, 54, 59, 71, 74, 81, 86, 93, 100, 107, 34, 33, 35,
        39, 42, 47, 51, 58, 63, 74, 76, 81, 84, 90, 97, 105, 36, 34, 36, 42, 48,
        54, 57, 64, 68, 79, 81, 88, 91, 96, 102, 105, 44, 41, 42, 47, 54, 63,
        67, 75, 79, 90, 92, 95, 100, 102, 109, 112, 48, 44, 45, 51, 57, 67, 71,
        80, 85, 96, 99, 107, 108, 111, 117, 120, 59, 54, 54, 58, 64, 75, 80, 92,
        98, 110, 113, 115, 116, 122, 125, 130, 65, 59, 59, 63, 68, 79, 85, 98,
        105, 118, 121, 127, 130, 134, 135, 140, 80, 72, 71, 74, 79, 90, 96, 110,
        118, 134, 137, 140, 143, 144, 146, 152, 83, 75, 74, 76, 81, 92, 99, 113,
        121, 137, 140, 151, 152, 155, 158, 165, 91, 83, 81, 81, 88, 95, 107,
        115, 127, 140, 151, 159, 166, 169, 173, 179, 97, 90, 86, 84, 91, 100,
        108, 116, 130, 143, 152, 166, 174, 182, 189, 193, 104, 97, 93, 90, 96,
        102, 111, 122, 134, 144, 155, 169, 182, 191, 200, 210, 111, 104, 100,
        97, 102, 109, 117, 125, 135, 146, 158, 173, 189, 200, 210, 220, 119,
        112, 107, 105, 105, 112, 120, 130, 140, 152, 165, 179, 193, 210, 220,
        231,
        /* Size 32x32 */
        32, 31, 31, 31, 31, 32, 34, 35, 36, 39, 44, 46, 48, 54, 59, 62, 65, 71,
        80, 81, 83, 88, 91, 94, 97, 101, 104, 107, 111, 115, 119, 123, 31, 32,
        32, 32, 32, 32, 34, 34, 35, 38, 42, 44, 46, 51, 56, 59, 62, 68, 76, 77,
        78, 84, 86, 89, 92, 95, 99, 102, 105, 109, 113, 116, 31, 32, 32, 32, 32,
        32, 33, 34, 34, 37, 41, 42, 44, 49, 54, 56, 59, 65, 72, 73, 75, 80, 83,
        86, 90, 93, 97, 101, 104, 108, 112, 116, 31, 32, 32, 32, 33, 33, 34, 35,
        35, 38, 41, 43, 45, 49, 54, 56, 59, 64, 72, 73, 74, 79, 82, 85, 88, 91,
        94, 97, 101, 104, 107, 111, 31, 32, 32, 33, 33, 34, 35, 36, 36, 39, 42,
        44, 45, 50, 54, 56, 59, 64, 71, 72, 74, 78, 81, 84, 86, 89, 93, 96, 100,
        104, 107, 111, 32, 32, 32, 33, 34, 35, 37, 37, 38, 40, 42, 44, 46, 49,
        53, 55, 58, 63, 69, 70, 72, 76, 79, 82, 85, 89, 93, 96, 99, 102, 106,
        109, 34, 34, 33, 34, 35, 37, 39, 41, 42, 45, 47, 49, 51, 54, 58, 60, 63,
        68, 74, 75, 76, 80, 81, 82, 84, 87, 90, 93, 97, 101, 105, 110, 35, 34,
        34, 35, 36, 37, 41, 43, 45, 47, 50, 52, 53, 57, 61, 63, 65, 70, 76, 77,
        79, 82, 84, 86, 89, 91, 92, 93, 96, 100, 103, 107, 36, 35, 34, 35, 36,
        38, 42, 45, 48, 50, 54, 55, 57, 60, 64, 66, 68, 73, 79, 80, 81, 85, 88,
        90, 91, 93, 96, 99, 102, 103, 105, 107, 39, 38, 37, 38, 39, 40, 45, 47,
        50, 54, 58, 59, 61, 65, 69, 71, 73, 78, 84, 85, 86, 91, 92, 92, 95, 98,
        100, 101, 103, 106, 110, 114, 44, 42, 41, 41, 42, 42, 47, 50, 54, 58,
        63, 65, 67, 71, 75, 77, 79, 84, 90, 91, 92, 95, 95, 97, 100, 101, 102,
        105, 109, 111, 112, 114, 46, 44, 42, 43, 44, 44, 49, 52, 55, 59, 65, 67,
        69, 74, 78, 80, 82, 87, 93, 94, 95, 98, 100, 103, 102, 105, 108, 110,
        111, 113, 117, 121, 48, 46, 44, 45, 45, 46, 51, 53, 57, 61, 67, 69, 71,
        76, 80, 83, 85, 90, 96, 97, 99, 103, 107, 105, 108, 111, 111, 113, 117,
        119, 120, 122, 54, 51, 49, 49, 50, 49, 54, 57, 60, 65, 71, 74, 76, 82,
        87, 89, 92, 97, 104, 105, 106, 111, 110, 111, 114, 113, 116, 120, 120,
        121, 125, 130, 59, 56, 54, 54, 54, 53, 58, 61, 64, 69, 75, 78, 80, 87,
        92, 95, 98, 103, 110, 111, 113, 115, 115, 119, 116, 120, 122, 122, 125,
        129, 130, 130, 62, 59, 56, 56, 56, 55, 60, 63, 66, 71, 77, 80, 83, 89,
        95, 98, 101, 107, 114, 115, 117, 119, 123, 121, 125, 126, 125, 129, 131,
        131, 135, 140, 65, 62, 59, 59, 59, 58, 63, 65, 68, 73, 79, 82, 85, 92,
        98, 101, 105, 111, 118, 119, 121, 126, 127, 128, 130, 130, 134, 133,
        135, 140, 140, 140, 71, 68, 65, 64, 64, 63, 68, 70, 73, 78, 84, 87, 90,
        97, 103, 107, 111, 117, 125, 126, 128, 134, 132, 136, 133, 138, 137,
        140, 143, 142, 145, 150, 80, 76, 72, 72, 71, 69, 74, 76, 79, 84, 90, 93,
        96, 104, 110, 114, 118, 125, 134, 135, 137, 139, 140, 139, 143, 142,
        144, 146, 146, 151, 152, 151, 81, 77, 73, 73, 72, 70, 75, 77, 80, 85,
        91, 94, 97, 105, 111, 115, 119, 126, 135, 137, 138, 144, 147, 146, 148,
        149, 151, 150, 156, 155, 157, 163, 83, 78, 75, 74, 74, 72, 76, 79, 81,
        86, 92, 95, 99, 106, 113, 117, 121, 128, 137, 138, 140, 147, 151, 156,
        152, 157, 155, 161, 158, 162, 165, 164, 88, 84, 80, 79, 78, 76, 80, 82,
        85, 91, 95, 98, 103, 111, 115, 119, 126, 134, 139, 144, 147, 152, 154,
        158, 163, 159, 165, 163, 168, 168, 169, 176, 91, 86, 83, 82, 81, 79, 81,
        84, 88, 92, 95, 100, 107, 110, 115, 123, 127, 132, 140, 147, 151, 154,
        159, 161, 166, 171, 169, 173, 173, 176, 179, 177, 94, 89, 86, 85, 84,
        82, 82, 86, 90, 92, 97, 103, 105, 111, 119, 121, 128, 136, 139, 146,
        156, 158, 161, 166, 168, 174, 179, 178, 180, 183, 183, 190, 97, 92, 90,
        88, 86, 85, 84, 89, 91, 95, 100, 102, 108, 114, 116, 125, 130, 133, 143,
        148, 152, 163, 166, 168, 174, 176, 182, 187, 189, 188, 193, 191, 101,
        95, 93, 91, 89, 89, 87, 91, 93, 98, 101, 105, 111, 113, 120, 126, 130,
        138, 142, 149, 157, 159, 171, 174, 176, 183, 184, 191, 195, 199, 197,
        204, 104, 99, 97, 94, 93, 93, 90, 92, 96, 100, 102, 108, 111, 116, 122,
        125, 134, 137, 144, 151, 155, 165, 169, 179, 182, 184, 191, 193, 200,
        204, 210, 206, 107, 102, 101, 97, 96, 96, 93, 93, 99, 101, 105, 110,
        113, 120, 122, 129, 133, 140, 146, 150, 161, 163, 173, 178, 187, 191,
        193, 200, 202, 210, 214, 222, 111, 105, 104, 101, 100, 99, 97, 96, 102,
        103, 109, 111, 117, 120, 125, 131, 135, 143, 146, 156, 158, 168, 173,
        180, 189, 195, 200, 202, 210, 212, 220, 224, 115, 109, 108, 104, 104,
        102, 101, 100, 103, 106, 111, 113, 119, 121, 129, 131, 140, 142, 151,
        155, 162, 168, 176, 183, 188, 199, 204, 210, 212, 220, 222, 230, 119,
        113, 112, 107, 107, 106, 105, 103, 105, 110, 112, 117, 120, 125, 130,
        135, 140, 145, 152, 157, 165, 169, 179, 183, 193, 197, 210, 214, 220,
        222, 231, 232, 123, 116, 116, 111, 111, 109, 110, 107, 107, 114, 114,
        121, 122, 130, 130, 140, 140, 150, 151, 163, 164, 176, 177, 190, 191,
        204, 206, 222, 224, 230, 232, 242,
        /* Size 4x8 */
        32, 42, 75, 91, 33, 42, 69, 86, 37, 58, 84, 91, 49, 71, 103, 110, 65,
        84, 125, 128, 80, 97, 142, 152, 91, 100, 145, 178, 104, 112, 146, 190,
        /* Size 8x4 */
        32, 33, 37, 49, 65, 80, 91, 104, 42, 42, 58, 71, 84, 97, 100, 112, 75,
        69, 84, 103, 125, 142, 145, 146, 91, 86, 91, 110, 128, 152, 178, 190,
        /* Size 8x16 */
        32, 32, 36, 53, 65, 87, 93, 99, 31, 33, 34, 49, 59, 78, 86, 93, 32, 34,
        36, 50, 59, 77, 82, 89, 34, 37, 42, 54, 63, 79, 80, 88, 36, 38, 48, 60,
        68, 84, 86, 90, 44, 43, 53, 71, 79, 95, 94, 97, 48, 46, 56, 76, 85, 102,
        105, 105, 58, 54, 63, 87, 98, 116, 112, 115, 65, 58, 68, 92, 105, 124,
        122, 124, 79, 70, 79, 104, 118, 141, 135, 135, 82, 72, 81, 106, 121,
        144, 149, 146, 91, 80, 88, 106, 130, 148, 162, 159, 97, 86, 94, 107,
        128, 157, 167, 171, 103, 93, 98, 114, 131, 150, 174, 186, 110, 100, 101,
        117, 138, 161, 183, 193, 118, 107, 105, 118, 136, 157, 182, 203,
        /* Size 16x8 */
        32, 31, 32, 34, 36, 44, 48, 58, 65, 79, 82, 91, 97, 103, 110, 118, 32,
        33, 34, 37, 38, 43, 46, 54, 58, 70, 72, 80, 86, 93, 100, 107, 36, 34,
        36, 42, 48, 53, 56, 63, 68, 79, 81, 88, 94, 98, 101, 105, 53, 49, 50,
        54, 60, 71, 76, 87, 92, 104, 106, 106, 107, 114, 117, 118, 65, 59, 59,
        63, 68, 79, 85, 98, 105, 118, 121, 130, 128, 131, 138, 136, 87, 78, 77,
        79, 84, 95, 102, 116, 124, 141, 144, 148, 157, 150, 161, 157, 93, 86,
        82, 80, 86, 94, 105, 112, 122, 135, 149, 162, 167, 174, 183, 182, 99,
        93, 89, 88, 90, 97, 105, 115, 124, 135, 146, 159, 171, 186, 193, 203,
        /* Size 16x32 */
        32, 31, 32, 34, 36, 44, 53, 59, 65, 79, 87, 90, 93, 96, 99, 102, 31, 32,
        32, 34, 35, 42, 51, 56, 62, 75, 82, 85, 88, 91, 94, 97, 31, 32, 33, 33,
        34, 41, 49, 54, 59, 72, 78, 82, 86, 90, 93, 97, 31, 32, 33, 34, 35, 41,
        49, 54, 59, 71, 78, 81, 84, 87, 90, 93, 32, 32, 34, 35, 36, 42, 50, 54,
        59, 71, 77, 80, 82, 86, 89, 93, 32, 33, 35, 37, 38, 42, 49, 53, 58, 69,
        75, 78, 82, 86, 89, 92, 34, 34, 37, 39, 42, 48, 54, 58, 63, 73, 79, 78,
        80, 83, 88, 92, 35, 34, 37, 41, 45, 50, 57, 61, 65, 76, 82, 83, 84, 84,
        87, 90, 36, 34, 38, 43, 48, 54, 60, 64, 68, 78, 84, 87, 86, 89, 90, 90,
        39, 37, 40, 45, 50, 58, 65, 69, 73, 84, 89, 89, 91, 91, 93, 96, 44, 41,
        43, 48, 53, 63, 71, 75, 79, 90, 95, 93, 94, 95, 97, 97, 46, 43, 44, 49,
        55, 65, 73, 78, 82, 93, 98, 100, 98, 100, 99, 103, 48, 45, 46, 51, 56,
        67, 76, 80, 85, 96, 102, 102, 105, 102, 105, 104, 53, 49, 50, 54, 60,
        71, 82, 87, 92, 103, 109, 107, 107, 110, 107, 111, 58, 54, 54, 58, 63,
        75, 87, 92, 98, 110, 116, 115, 112, 111, 115, 112, 61, 57, 56, 60, 66,
        77, 89, 95, 101, 114, 120, 118, 119, 118, 116, 120, 65, 60, 58, 63, 68,
        79, 92, 98, 105, 118, 124, 123, 122, 123, 124, 121, 71, 65, 63, 68, 73,
        84, 97, 103, 111, 125, 132, 132, 130, 128, 127, 130, 79, 72, 70, 74, 79,
        90, 104, 110, 118, 133, 141, 136, 135, 135, 135, 131, 81, 74, 71, 75,
        80, 91, 105, 112, 119, 135, 142, 140, 140, 138, 139, 142, 82, 75, 72,
        76, 81, 92, 106, 113, 121, 136, 144, 151, 149, 149, 146, 143, 88, 80,
        77, 80, 85, 97, 108, 115, 126, 142, 149, 153, 153, 152, 152, 154, 91,
        83, 80, 81, 88, 100, 106, 114, 130, 142, 148, 155, 162, 160, 159, 155,
        94, 85, 83, 82, 91, 100, 105, 118, 131, 137, 153, 160, 165, 167, 166,
        168, 97, 88, 86, 85, 94, 100, 107, 123, 128, 140, 157, 161, 167, 173,
        171, 169, 100, 91, 89, 87, 97, 100, 111, 121, 127, 145, 152, 164, 173,
        178, 182, 181, 103, 94, 93, 90, 98, 101, 114, 120, 131, 144, 150, 170,
        174, 180, 186, 183, 107, 97, 96, 93, 100, 104, 117, 119, 136, 142, 155,
        168, 177, 187, 191, 198, 110, 101, 100, 97, 101, 108, 117, 123, 138,
        141, 161, 165, 183, 188, 193, 200, 114, 104, 104, 100, 103, 112, 117,
        127, 137, 146, 159, 167, 185, 190, 201, 206, 118, 108, 107, 103, 105,
        115, 118, 131, 136, 151, 157, 172, 182, 197, 203, 208, 122, 111, 111,
        107, 107, 119, 119, 136, 136, 156, 156, 178, 179, 203, 204, 217,
        /* Size 32x16 */
        32, 31, 31, 31, 32, 32, 34, 35, 36, 39, 44, 46, 48, 53, 58, 61, 65, 71,
        79, 81, 82, 88, 91, 94, 97, 100, 103, 107, 110, 114, 118, 122, 31, 32,
        32, 32, 32, 33, 34, 34, 34, 37, 41, 43, 45, 49, 54, 57, 60, 65, 72, 74,
        75, 80, 83, 85, 88, 91, 94, 97, 101, 104, 108, 111, 32, 32, 33, 33, 34,
        35, 37, 37, 38, 40, 43, 44, 46, 50, 54, 56, 58, 63, 70, 71, 72, 77, 80,
        83, 86, 89, 93, 96, 100, 104, 107, 111, 34, 34, 33, 34, 35, 37, 39, 41,
        43, 45, 48, 49, 51, 54, 58, 60, 63, 68, 74, 75, 76, 80, 81, 82, 85, 87,
        90, 93, 97, 100, 103, 107, 36, 35, 34, 35, 36, 38, 42, 45, 48, 50, 53,
        55, 56, 60, 63, 66, 68, 73, 79, 80, 81, 85, 88, 91, 94, 97, 98, 100,
        101, 103, 105, 107, 44, 42, 41, 41, 42, 42, 48, 50, 54, 58, 63, 65, 67,
        71, 75, 77, 79, 84, 90, 91, 92, 97, 100, 100, 100, 100, 101, 104, 108,
        112, 115, 119, 53, 51, 49, 49, 50, 49, 54, 57, 60, 65, 71, 73, 76, 82,
        87, 89, 92, 97, 104, 105, 106, 108, 106, 105, 107, 111, 114, 117, 117,
        117, 118, 119, 59, 56, 54, 54, 54, 53, 58, 61, 64, 69, 75, 78, 80, 87,
        92, 95, 98, 103, 110, 112, 113, 115, 114, 118, 123, 121, 120, 119, 123,
        127, 131, 136, 65, 62, 59, 59, 59, 58, 63, 65, 68, 73, 79, 82, 85, 92,
        98, 101, 105, 111, 118, 119, 121, 126, 130, 131, 128, 127, 131, 136,
        138, 137, 136, 136, 79, 75, 72, 71, 71, 69, 73, 76, 78, 84, 90, 93, 96,
        103, 110, 114, 118, 125, 133, 135, 136, 142, 142, 137, 140, 145, 144,
        142, 141, 146, 151, 156, 87, 82, 78, 78, 77, 75, 79, 82, 84, 89, 95, 98,
        102, 109, 116, 120, 124, 132, 141, 142, 144, 149, 148, 153, 157, 152,
        150, 155, 161, 159, 157, 156, 90, 85, 82, 81, 80, 78, 78, 83, 87, 89,
        93, 100, 102, 107, 115, 118, 123, 132, 136, 140, 151, 153, 155, 160,
        161, 164, 170, 168, 165, 167, 172, 178, 93, 88, 86, 84, 82, 82, 80, 84,
        86, 91, 94, 98, 105, 107, 112, 119, 122, 130, 135, 140, 149, 153, 162,
        165, 167, 173, 174, 177, 183, 185, 182, 179, 96, 91, 90, 87, 86, 86, 83,
        84, 89, 91, 95, 100, 102, 110, 111, 118, 123, 128, 135, 138, 149, 152,
        160, 167, 173, 178, 180, 187, 188, 190, 197, 203, 99, 94, 93, 90, 89,
        89, 88, 87, 90, 93, 97, 99, 105, 107, 115, 116, 124, 127, 135, 139, 146,
        152, 159, 166, 171, 182, 186, 191, 193, 201, 203, 204, 102, 97, 97, 93,
        93, 92, 92, 90, 90, 96, 97, 103, 104, 111, 112, 120, 121, 130, 131, 142,
        143, 154, 155, 168, 169, 181, 183, 198, 200, 206, 208, 217 },
      { /* Chroma */
        /* Size 4x4 */
        35, 46, 57, 66, 46, 60, 69, 71, 57, 69, 90, 90, 66, 71, 90, 109,
        /* Size 8x8 */
        31, 38, 47, 50, 57, 63, 67, 71, 38, 47, 46, 47, 52, 57, 62, 67, 47, 46,
        54, 57, 61, 66, 67, 68, 50, 47, 57, 66, 72, 77, 75, 75, 57, 52, 61, 72,
        82, 88, 86, 84, 63, 57, 66, 77, 88, 96, 95, 95, 67, 62, 67, 75, 86, 95,
        104, 107, 71, 67, 68, 75, 84, 95, 107, 113,
        /* Size 16x16 */
        32, 30, 33, 41, 49, 49, 50, 54, 57, 63, 65, 68, 70, 72, 74, 76, 30, 32,
        35, 42, 46, 45, 46, 49, 52, 57, 58, 62, 64, 67, 70, 72, 33, 35, 39, 45,
        47, 45, 46, 49, 51, 56, 57, 60, 62, 64, 66, 69, 41, 42, 45, 48, 50, 49,
        50, 52, 53, 57, 58, 59, 60, 61, 64, 67, 49, 46, 47, 50, 53, 53, 54, 55,
        56, 60, 61, 64, 64, 65, 66, 66, 49, 45, 45, 49, 53, 58, 60, 62, 63, 67,
        68, 67, 69, 68, 70, 70, 50, 46, 46, 50, 54, 60, 61, 65, 67, 71, 71, 74,
        73, 73, 74, 74, 54, 49, 49, 52, 55, 62, 65, 71, 73, 78, 79, 78, 77, 78,
        78, 78, 57, 52, 51, 53, 56, 63, 67, 73, 76, 82, 83, 84, 84, 84, 82, 83,
        63, 57, 56, 57, 60, 67, 71, 78, 82, 89, 90, 90, 89, 88, 87, 88, 65, 58,
        57, 58, 61, 68, 71, 79, 83, 90, 91, 94, 93, 93, 92, 93, 68, 62, 60, 59,
        64, 67, 74, 78, 84, 90, 94, 98, 99, 98, 98, 98, 70, 64, 62, 60, 64, 69,
        73, 77, 84, 89, 93, 99, 102, 103, 104, 104, 72, 67, 64, 61, 65, 68, 73,
        78, 84, 88, 93, 98, 103, 106, 108, 109, 74, 70, 66, 64, 66, 70, 74, 78,
        82, 87, 92, 98, 104, 108, 111, 112, 76, 72, 69, 67, 66, 70, 74, 78, 83,
        88, 93, 98, 104, 109, 112, 116,
        /* Size 32x32 */
        32, 31, 30, 32, 33, 36, 41, 45, 49, 48, 49, 50, 50, 52, 54, 56, 57, 60,
        63, 64, 65, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 78, 31, 31, 31, 33,
        34, 38, 42, 45, 47, 47, 47, 47, 48, 50, 52, 53, 54, 57, 60, 61, 61, 63,
        64, 65, 66, 67, 68, 69, 70, 71, 72, 74, 30, 31, 32, 33, 35, 40, 42, 44,
        46, 45, 45, 45, 46, 47, 49, 51, 52, 54, 57, 58, 58, 61, 62, 63, 64, 66,
        67, 68, 70, 71, 72, 74, 32, 33, 33, 35, 37, 41, 43, 45, 47, 46, 45, 46,
        46, 47, 49, 50, 51, 54, 57, 57, 58, 60, 61, 62, 63, 64, 65, 66, 67, 68,
        69, 70, 33, 34, 35, 37, 39, 43, 45, 46, 47, 46, 45, 46, 46, 47, 49, 50,
        51, 53, 56, 57, 57, 59, 60, 61, 62, 63, 64, 65, 66, 68, 69, 70, 36, 38,
        40, 41, 43, 47, 47, 47, 48, 46, 45, 46, 46, 47, 48, 49, 50, 52, 54, 55,
        55, 57, 58, 59, 61, 62, 64, 65, 66, 67, 68, 69, 41, 42, 42, 43, 45, 47,
        48, 49, 50, 49, 49, 49, 50, 50, 52, 52, 53, 55, 57, 58, 58, 60, 59, 59,
        60, 61, 61, 63, 64, 66, 67, 69, 45, 45, 44, 45, 46, 47, 49, 50, 51, 51,
        51, 51, 52, 52, 53, 54, 55, 57, 59, 59, 60, 61, 61, 62, 63, 63, 63, 63,
        63, 64, 65, 66, 49, 47, 46, 47, 47, 48, 50, 51, 53, 53, 53, 54, 54, 54,
        55, 56, 56, 58, 60, 61, 61, 63, 64, 64, 64, 64, 65, 66, 66, 66, 66, 66,
        48, 47, 45, 46, 46, 46, 49, 51, 53, 54, 55, 56, 56, 57, 58, 59, 60, 61,
        63, 64, 64, 66, 66, 65, 66, 67, 67, 67, 67, 68, 69, 70, 49, 47, 45, 45,
        45, 45, 49, 51, 53, 55, 58, 59, 60, 61, 62, 63, 63, 65, 67, 67, 68, 69,
        67, 68, 69, 68, 68, 69, 70, 70, 70, 70, 50, 47, 45, 46, 46, 46, 49, 51,
        54, 56, 59, 60, 60, 62, 64, 64, 65, 67, 69, 69, 70, 70, 71, 71, 70, 70,
        71, 71, 71, 71, 72, 74, 50, 48, 46, 46, 46, 46, 50, 52, 54, 56, 60, 60,
        61, 63, 65, 66, 67, 68, 71, 71, 71, 73, 74, 72, 73, 74, 73, 73, 74, 74,
        74, 74, 52, 50, 47, 47, 47, 47, 50, 52, 54, 57, 61, 62, 63, 66, 68, 69,
        70, 72, 75, 75, 75, 77, 75, 75, 76, 75, 75, 76, 75, 75, 76, 77, 54, 52,
        49, 49, 49, 48, 52, 53, 55, 58, 62, 64, 65, 68, 71, 72, 73, 75, 78, 78,
        79, 79, 78, 79, 77, 78, 78, 77, 78, 79, 78, 78, 56, 53, 51, 50, 50, 49,
        52, 54, 56, 59, 63, 64, 66, 69, 72, 73, 75, 77, 80, 80, 81, 81, 82, 80,
        81, 81, 79, 81, 80, 79, 81, 82, 57, 54, 52, 51, 51, 50, 53, 55, 56, 60,
        63, 65, 67, 70, 73, 75, 76, 79, 82, 82, 83, 85, 84, 83, 84, 83, 84, 82,
        82, 84, 83, 82, 60, 57, 54, 54, 53, 52, 55, 57, 58, 61, 65, 67, 68, 72,
        75, 77, 79, 82, 85, 85, 86, 88, 86, 87, 85, 86, 85, 85, 86, 84, 85, 86,
        63, 60, 57, 57, 56, 54, 57, 59, 60, 63, 67, 69, 71, 75, 78, 80, 82, 85,
        89, 89, 90, 90, 90, 89, 89, 88, 88, 88, 87, 88, 88, 87, 64, 61, 58, 57,
        57, 55, 58, 59, 61, 64, 67, 69, 71, 75, 78, 80, 82, 85, 89, 90, 91, 92,
        93, 92, 92, 91, 91, 90, 91, 90, 90, 92, 65, 61, 58, 58, 57, 55, 58, 60,
        61, 64, 68, 70, 71, 75, 79, 81, 83, 86, 90, 91, 91, 94, 94, 96, 93, 94,
        93, 94, 92, 93, 93, 92, 67, 63, 61, 60, 59, 57, 60, 61, 63, 66, 69, 70,
        73, 77, 79, 81, 85, 88, 90, 92, 94, 96, 96, 97, 98, 95, 97, 95, 96, 95,
        95, 96, 68, 64, 62, 61, 60, 58, 59, 61, 64, 66, 67, 71, 74, 75, 78, 82,
        84, 86, 90, 93, 94, 96, 98, 98, 99, 100, 98, 99, 98, 98, 98, 97, 69, 65,
        63, 62, 61, 59, 59, 62, 64, 65, 68, 71, 72, 75, 79, 80, 83, 87, 89, 92,
        96, 97, 98, 100, 100, 101, 102, 101, 101, 101, 100, 102, 70, 66, 64, 63,
        62, 61, 60, 63, 64, 66, 69, 70, 73, 76, 77, 81, 84, 85, 89, 92, 93, 98,
        99, 100, 102, 102, 103, 104, 104, 103, 104, 102, 71, 67, 66, 64, 63, 62,
        61, 63, 64, 67, 68, 70, 74, 75, 78, 81, 83, 86, 88, 91, 94, 95, 100,
        101, 102, 104, 104, 105, 106, 107, 105, 107, 72, 68, 67, 65, 64, 64, 61,
        63, 65, 67, 68, 71, 73, 75, 78, 79, 84, 85, 88, 91, 93, 97, 98, 102,
        103, 104, 106, 106, 108, 108, 109, 107, 73, 69, 68, 66, 65, 65, 63, 63,
        66, 67, 69, 71, 73, 76, 77, 81, 82, 85, 88, 90, 94, 95, 99, 101, 104,
        105, 106, 109, 108, 110, 111, 112, 74, 70, 70, 67, 66, 66, 64, 63, 66,
        67, 70, 71, 74, 75, 78, 80, 82, 86, 87, 91, 92, 96, 98, 101, 104, 106,
        108, 108, 111, 111, 112, 113, 75, 71, 71, 68, 68, 67, 66, 64, 66, 68,
        70, 71, 74, 75, 79, 79, 84, 84, 88, 90, 93, 95, 98, 101, 103, 107, 108,
        110, 111, 113, 113, 115, 76, 72, 72, 69, 69, 68, 67, 65, 66, 69, 70, 72,
        74, 76, 78, 81, 83, 85, 88, 90, 93, 95, 98, 100, 104, 105, 109, 111,
        112, 113, 116, 115, 78, 74, 74, 70, 70, 69, 69, 66, 66, 70, 70, 74, 74,
        77, 78, 82, 82, 86, 87, 92, 92, 96, 97, 102, 102, 107, 107, 112, 113,
        115, 115, 118,
        /* Size 4x8 */
        31, 47, 60, 66, 40, 45, 54, 61, 46, 56, 64, 64, 48, 61, 75, 73, 54, 65,
        85, 82, 61, 69, 92, 92, 64, 68, 90, 102, 68, 71, 87, 105,
        /* Size 8x4 */
        31, 40, 46, 48, 54, 61, 64, 68, 47, 45, 56, 61, 65, 69, 68, 71, 60, 54,
        64, 75, 85, 92, 90, 87, 66, 61, 64, 73, 82, 92, 102, 105,
        /* Size 8x16 */
        32, 37, 48, 52, 57, 66, 68, 71, 30, 40, 46, 48, 52, 60, 63, 66, 33, 43,
        47, 47, 51, 59, 60, 63, 42, 47, 50, 50, 53, 60, 59, 62, 49, 48, 53, 54,
        57, 62, 62, 62, 49, 46, 53, 61, 64, 69, 66, 66, 50, 46, 54, 64, 67, 73,
        72, 70, 54, 49, 55, 68, 73, 80, 76, 75, 57, 50, 56, 70, 76, 84, 80, 79,
        63, 55, 60, 75, 82, 92, 87, 84, 64, 56, 61, 75, 83, 93, 93, 89, 68, 59,
        64, 74, 86, 94, 98, 94, 70, 62, 66, 73, 83, 96, 99, 98, 72, 64, 66, 75,
        83, 92, 101, 104, 74, 67, 66, 74, 84, 94, 103, 106, 76, 69, 67, 73, 82,
        91, 101, 109,
        /* Size 16x8 */
        32, 30, 33, 42, 49, 49, 50, 54, 57, 63, 64, 68, 70, 72, 74, 76, 37, 40,
        43, 47, 48, 46, 46, 49, 50, 55, 56, 59, 62, 64, 67, 69, 48, 46, 47, 50,
        53, 53, 54, 55, 56, 60, 61, 64, 66, 66, 66, 67, 52, 48, 47, 50, 54, 61,
        64, 68, 70, 75, 75, 74, 73, 75, 74, 73, 57, 52, 51, 53, 57, 64, 67, 73,
        76, 82, 83, 86, 83, 83, 84, 82, 66, 60, 59, 60, 62, 69, 73, 80, 84, 92,
        93, 94, 96, 92, 94, 91, 68, 63, 60, 59, 62, 66, 72, 76, 80, 87, 93, 98,
        99, 101, 103, 101, 71, 66, 63, 62, 62, 66, 70, 75, 79, 84, 89, 94, 98,
        104, 106, 109,
        /* Size 16x32 */
        32, 31, 37, 42, 48, 49, 52, 54, 57, 63, 66, 67, 68, 69, 71, 72, 31, 31,
        38, 42, 47, 47, 50, 52, 54, 60, 63, 64, 65, 66, 67, 68, 30, 32, 40, 42,
        46, 45, 48, 50, 52, 57, 60, 62, 63, 65, 66, 68, 32, 34, 41, 44, 46, 45,
        48, 49, 51, 57, 59, 61, 62, 63, 64, 65, 33, 36, 43, 45, 47, 46, 47, 49,
        51, 56, 59, 60, 60, 62, 63, 65, 37, 40, 47, 47, 47, 45, 47, 48, 50, 54,
        57, 58, 60, 61, 62, 63, 42, 43, 47, 48, 50, 49, 50, 52, 53, 57, 60, 58,
        59, 60, 62, 63, 45, 44, 47, 49, 51, 51, 52, 54, 55, 59, 61, 61, 61, 60,
        61, 61, 49, 46, 48, 50, 53, 53, 54, 55, 57, 60, 62, 63, 62, 63, 62, 62,
        48, 46, 47, 50, 53, 56, 57, 59, 60, 64, 66, 65, 65, 64, 64, 65, 49, 45,
        46, 49, 53, 58, 61, 62, 64, 67, 69, 67, 66, 66, 66, 65, 49, 46, 46, 49,
        53, 59, 62, 64, 65, 69, 71, 70, 68, 68, 67, 68, 50, 46, 46, 50, 54, 59,
        64, 65, 67, 71, 73, 72, 72, 70, 70, 69, 52, 48, 47, 50, 54, 61, 66, 68,
        71, 75, 77, 74, 73, 73, 71, 72, 54, 50, 49, 52, 55, 62, 68, 71, 73, 78,
        80, 78, 76, 74, 75, 73, 55, 51, 49, 52, 56, 63, 69, 72, 75, 80, 82, 80,
        79, 78, 76, 77, 57, 52, 50, 53, 56, 64, 70, 73, 76, 82, 84, 82, 80, 80,
        79, 77, 60, 54, 52, 55, 58, 65, 72, 75, 79, 85, 88, 86, 84, 82, 81, 81,
        63, 57, 55, 58, 60, 67, 75, 78, 82, 89, 92, 88, 87, 85, 84, 81, 64, 58,
        55, 58, 61, 68, 75, 78, 82, 89, 92, 90, 89, 87, 86, 86, 64, 59, 56, 58,
        61, 68, 75, 79, 83, 90, 93, 95, 93, 91, 89, 87, 67, 61, 58, 60, 63, 69,
        76, 79, 85, 92, 95, 96, 94, 92, 91, 91, 68, 62, 59, 60, 64, 71, 74, 78,
        86, 91, 94, 96, 98, 96, 94, 91, 69, 62, 60, 60, 65, 70, 72, 79, 85, 88,
        95, 98, 99, 98, 97, 96, 70, 63, 62, 60, 66, 69, 73, 81, 83, 89, 96, 97,
        99, 101, 98, 97, 71, 64, 63, 61, 67, 68, 74, 79, 82, 90, 93, 98, 102,
        102, 102, 101, 72, 65, 64, 62, 66, 68, 75, 78, 83, 89, 92, 100, 101,
        103, 104, 102, 73, 66, 65, 63, 66, 69, 75, 76, 84, 87, 93, 98, 102, 105,
        106, 107, 74, 67, 67, 64, 66, 70, 74, 77, 84, 86, 94, 96, 103, 105, 106,
        107, 75, 68, 68, 65, 66, 71, 74, 78, 83, 87, 93, 96, 103, 105, 109, 109,
        76, 69, 69, 66, 67, 72, 73, 80, 82, 88, 91, 97, 101, 107, 109, 110, 77,
        70, 70, 67, 67, 73, 73, 81, 81, 90, 90, 99, 99, 108, 108, 113,
        /* Size 32x16 */
        32, 31, 30, 32, 33, 37, 42, 45, 49, 48, 49, 49, 50, 52, 54, 55, 57, 60,
        63, 64, 64, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 31, 31, 32, 34,
        36, 40, 43, 44, 46, 46, 45, 46, 46, 48, 50, 51, 52, 54, 57, 58, 59, 61,
        62, 62, 63, 64, 65, 66, 67, 68, 69, 70, 37, 38, 40, 41, 43, 47, 47, 47,
        48, 47, 46, 46, 46, 47, 49, 49, 50, 52, 55, 55, 56, 58, 59, 60, 62, 63,
        64, 65, 67, 68, 69, 70, 42, 42, 42, 44, 45, 47, 48, 49, 50, 50, 49, 49,
        50, 50, 52, 52, 53, 55, 58, 58, 58, 60, 60, 60, 60, 61, 62, 63, 64, 65,
        66, 67, 48, 47, 46, 46, 47, 47, 50, 51, 53, 53, 53, 53, 54, 54, 55, 56,
        56, 58, 60, 61, 61, 63, 64, 65, 66, 67, 66, 66, 66, 66, 67, 67, 49, 47,
        45, 45, 46, 45, 49, 51, 53, 56, 58, 59, 59, 61, 62, 63, 64, 65, 67, 68,
        68, 69, 71, 70, 69, 68, 68, 69, 70, 71, 72, 73, 52, 50, 48, 48, 47, 47,
        50, 52, 54, 57, 61, 62, 64, 66, 68, 69, 70, 72, 75, 75, 75, 76, 74, 72,
        73, 74, 75, 75, 74, 74, 73, 73, 54, 52, 50, 49, 49, 48, 52, 54, 55, 59,
        62, 64, 65, 68, 71, 72, 73, 75, 78, 78, 79, 79, 78, 79, 81, 79, 78, 76,
        77, 78, 80, 81, 57, 54, 52, 51, 51, 50, 53, 55, 57, 60, 64, 65, 67, 71,
        73, 75, 76, 79, 82, 82, 83, 85, 86, 85, 83, 82, 83, 84, 84, 83, 82, 81,
        63, 60, 57, 57, 56, 54, 57, 59, 60, 64, 67, 69, 71, 75, 78, 80, 82, 85,
        89, 89, 90, 92, 91, 88, 89, 90, 89, 87, 86, 87, 88, 90, 66, 63, 60, 59,
        59, 57, 60, 61, 62, 66, 69, 71, 73, 77, 80, 82, 84, 88, 92, 92, 93, 95,
        94, 95, 96, 93, 92, 93, 94, 93, 91, 90, 67, 64, 62, 61, 60, 58, 58, 61,
        63, 65, 67, 70, 72, 74, 78, 80, 82, 86, 88, 90, 95, 96, 96, 98, 97, 98,
        100, 98, 96, 96, 97, 99, 68, 65, 63, 62, 60, 60, 59, 61, 62, 65, 66, 68,
        72, 73, 76, 79, 80, 84, 87, 89, 93, 94, 98, 99, 99, 102, 101, 102, 103,
        103, 101, 99, 69, 66, 65, 63, 62, 61, 60, 60, 63, 64, 66, 68, 70, 73,
        74, 78, 80, 82, 85, 87, 91, 92, 96, 98, 101, 102, 103, 105, 105, 105,
        107, 108, 71, 67, 66, 64, 63, 62, 62, 61, 62, 64, 66, 67, 70, 71, 75,
        76, 79, 81, 84, 86, 89, 91, 94, 97, 98, 102, 104, 106, 106, 109, 109,
        108, 72, 68, 68, 65, 65, 63, 63, 61, 62, 65, 65, 68, 69, 72, 73, 77, 77,
        81, 81, 86, 87, 91, 91, 96, 97, 101, 102, 107, 107, 109, 110, 113 },
  },
  {
      { /* Luma */
        /* Size 4x4 */
        32, 41, 69, 92, 41, 63, 88, 103, 69, 88, 127, 140, 92, 103, 140, 184,
        /* Size 8x8 */
        32, 32, 37, 47, 62, 78, 90, 102, 32, 35, 39, 46, 58, 72, 84, 96, 37, 39,
        51, 60, 71, 84, 93, 100, 47, 46, 60, 73, 87, 100, 106, 113, 62, 58, 71,
        87, 105, 121, 129, 132, 78, 72, 84, 100, 121, 140, 148, 155, 90, 84, 93,
        106, 129, 148, 169, 183, 102, 96, 100, 113, 132, 155, 183, 201,
        /* Size 16x16 */
        32, 31, 31, 32, 36, 39, 47, 54, 61, 71, 80, 86, 92, 98, 104, 111, 31,
        32, 32, 33, 34, 37, 44, 50, 56, 65, 73, 79, 85, 91, 98, 105, 31, 32, 33,
        34, 36, 39, 45, 50, 56, 64, 71, 77, 82, 88, 94, 100, 32, 33, 34, 36, 40,
        42, 47, 51, 57, 65, 71, 76, 80, 85, 91, 98, 36, 34, 36, 40, 48, 50, 56,
        60, 65, 73, 79, 84, 86, 90, 95, 98, 39, 37, 39, 42, 50, 54, 60, 65, 70,
        78, 84, 89, 95, 96, 102, 105, 47, 44, 45, 47, 56, 60, 69, 75, 81, 89,
        95, 100, 102, 104, 109, 112, 54, 50, 50, 51, 60, 65, 75, 82, 89, 97,
        104, 109, 110, 114, 117, 121, 61, 56, 56, 57, 65, 70, 81, 89, 97, 106,
        113, 119, 122, 126, 125, 130, 71, 65, 64, 65, 73, 78, 89, 97, 106, 117,
        125, 131, 134, 134, 136, 141, 80, 73, 71, 71, 79, 84, 95, 104, 113, 125,
        134, 140, 142, 145, 146, 152, 86, 79, 77, 76, 84, 89, 100, 109, 119,
        131, 140, 147, 154, 157, 160, 165, 92, 85, 82, 80, 86, 95, 102, 110,
        122, 134, 142, 154, 162, 168, 174, 178, 98, 91, 88, 85, 90, 96, 104,
        114, 126, 134, 145, 157, 168, 176, 184, 193, 104, 98, 94, 91, 95, 102,
        109, 117, 125, 136, 146, 160, 174, 184, 193, 201, 111, 105, 100, 98, 98,
        105, 112, 121, 130, 141, 152, 165, 178, 193, 201, 210,
        /* Size 32x32 */
        32, 31, 31, 31, 31, 32, 32, 34, 36, 38, 39, 44, 47, 49, 54, 59, 61, 65,
        71, 76, 80, 83, 86, 89, 92, 95, 98, 101, 104, 108, 111, 114, 31, 32, 32,
        32, 32, 32, 33, 34, 35, 37, 38, 42, 45, 47, 51, 56, 58, 62, 68, 72, 76,
        78, 82, 85, 88, 90, 93, 96, 99, 102, 105, 109, 31, 32, 32, 32, 32, 32,
        33, 33, 34, 36, 37, 41, 44, 46, 50, 54, 56, 60, 65, 70, 73, 76, 79, 82,
        85, 88, 91, 95, 98, 101, 105, 109, 31, 32, 32, 32, 32, 33, 33, 34, 35,
        36, 38, 41, 44, 45, 49, 54, 56, 59, 65, 69, 72, 75, 78, 81, 84, 86, 89,
        92, 95, 98, 101, 104, 31, 32, 32, 32, 33, 34, 34, 35, 36, 38, 39, 42,
        45, 46, 50, 54, 56, 59, 64, 68, 71, 74, 77, 79, 82, 85, 88, 91, 94, 97,
        100, 104, 32, 32, 32, 33, 34, 35, 36, 37, 38, 39, 40, 42, 45, 46, 49,
        53, 55, 58, 63, 66, 69, 72, 74, 78, 81, 84, 87, 90, 93, 96, 99, 102, 32,
        33, 33, 33, 34, 36, 36, 38, 40, 41, 42, 44, 47, 48, 51, 55, 57, 60, 65,
        68, 71, 73, 76, 78, 80, 82, 85, 88, 91, 95, 98, 102, 34, 34, 33, 34, 35,
        37, 38, 39, 42, 44, 45, 47, 50, 51, 54, 58, 60, 63, 68, 71, 74, 76, 79,
        82, 85, 86, 87, 88, 90, 93, 96, 99, 36, 35, 34, 35, 36, 38, 40, 42, 48,
        50, 50, 54, 56, 57, 60, 64, 65, 68, 73, 76, 79, 81, 84, 86, 86, 88, 90,
        93, 95, 97, 98, 100, 38, 37, 36, 36, 38, 39, 41, 44, 50, 51, 52, 56, 58,
        60, 63, 67, 68, 71, 76, 79, 82, 84, 87, 87, 90, 93, 94, 95, 96, 100,
        103, 106, 39, 38, 37, 38, 39, 40, 42, 45, 50, 52, 54, 58, 60, 62, 65,
        69, 70, 73, 78, 81, 84, 86, 89, 92, 95, 95, 96, 99, 102, 104, 105, 106,
        44, 42, 41, 41, 42, 42, 44, 47, 54, 56, 58, 63, 66, 68, 71, 75, 77, 79,
        84, 88, 90, 92, 95, 97, 97, 99, 102, 103, 103, 106, 109, 113, 47, 45,
        44, 44, 45, 45, 47, 50, 56, 58, 60, 66, 69, 71, 75, 79, 81, 84, 89, 92,
        95, 97, 100, 100, 102, 105, 104, 106, 109, 111, 112, 113, 49, 47, 46,
        45, 46, 46, 48, 51, 57, 60, 62, 68, 71, 73, 77, 81, 83, 87, 92, 95, 98,
        100, 103, 105, 107, 106, 109, 112, 112, 113, 117, 120, 54, 51, 50, 49,
        50, 49, 51, 54, 60, 63, 65, 71, 75, 77, 82, 87, 89, 92, 97, 101, 104,
        106, 109, 112, 110, 113, 114, 114, 117, 121, 121, 121, 59, 56, 54, 54,
        54, 53, 55, 58, 64, 67, 69, 75, 79, 81, 87, 92, 94, 98, 103, 107, 110,
        113, 116, 114, 117, 118, 117, 121, 122, 122, 125, 129, 61, 58, 56, 56,
        56, 55, 57, 60, 65, 68, 70, 77, 81, 83, 89, 94, 97, 101, 106, 110, 113,
        116, 119, 120, 122, 121, 126, 124, 125, 130, 130, 130, 65, 62, 60, 59,
        59, 58, 60, 63, 68, 71, 73, 79, 84, 87, 92, 98, 101, 105, 111, 115, 118,
        121, 124, 128, 125, 129, 128, 131, 133, 132, 135, 139, 71, 68, 65, 65,
        64, 63, 65, 68, 73, 76, 78, 84, 89, 92, 97, 103, 106, 111, 117, 122,
        125, 128, 131, 131, 134, 132, 134, 136, 136, 140, 141, 140, 76, 72, 70,
        69, 68, 66, 68, 71, 76, 79, 81, 88, 92, 95, 101, 107, 110, 115, 122,
        127, 130, 133, 136, 136, 138, 139, 141, 140, 145, 143, 146, 151, 80, 76,
        73, 72, 71, 69, 71, 74, 79, 82, 84, 90, 95, 98, 104, 110, 113, 118, 125,
        130, 134, 137, 140, 146, 142, 146, 145, 149, 146, 150, 152, 151, 83, 78,
        76, 75, 74, 72, 73, 76, 81, 84, 86, 92, 97, 100, 106, 113, 116, 121,
        128, 133, 137, 140, 144, 147, 152, 148, 154, 151, 156, 155, 156, 162,
        86, 82, 79, 78, 77, 74, 76, 79, 84, 87, 89, 95, 100, 103, 109, 116, 119,
        124, 131, 136, 140, 144, 147, 150, 154, 159, 157, 160, 160, 162, 165,
        162, 89, 85, 82, 81, 79, 78, 78, 82, 86, 87, 92, 97, 100, 105, 112, 114,
        120, 128, 131, 136, 146, 147, 150, 155, 156, 161, 166, 165, 167, 169,
        169, 175, 92, 88, 85, 84, 82, 81, 80, 85, 86, 90, 95, 97, 102, 107, 110,
        117, 122, 125, 134, 138, 142, 152, 154, 156, 162, 163, 168, 173, 174,
        174, 178, 176, 95, 90, 88, 86, 85, 84, 82, 86, 88, 93, 95, 99, 105, 106,
        113, 118, 121, 129, 132, 139, 146, 148, 159, 161, 163, 169, 170, 176,
        180, 183, 181, 187, 98, 93, 91, 89, 88, 87, 85, 87, 90, 94, 96, 102,
        104, 109, 114, 117, 126, 128, 134, 141, 145, 154, 157, 166, 168, 170,
        176, 178, 184, 188, 193, 188, 101, 96, 95, 92, 91, 90, 88, 88, 93, 95,
        99, 103, 106, 112, 114, 121, 124, 131, 136, 140, 149, 151, 160, 165,
        173, 176, 178, 184, 186, 192, 196, 203, 104, 99, 98, 95, 94, 93, 91, 90,
        95, 96, 102, 103, 109, 112, 117, 122, 125, 133, 136, 145, 146, 156, 160,
        167, 174, 180, 184, 186, 193, 194, 201, 204, 108, 102, 101, 98, 97, 96,
        95, 93, 97, 100, 104, 106, 111, 113, 121, 122, 130, 132, 140, 143, 150,
        155, 162, 169, 174, 183, 188, 192, 194, 201, 202, 210, 111, 105, 105,
        101, 100, 99, 98, 96, 98, 103, 105, 109, 112, 117, 121, 125, 130, 135,
        141, 146, 152, 156, 165, 169, 178, 181, 193, 196, 201, 202, 210, 211,
        114, 109, 109, 104, 104, 102, 102, 99, 100, 106, 106, 113, 113, 120,
        121, 129, 130, 139, 140, 151, 151, 162, 162, 175, 176, 187, 188, 203,
        204, 210, 211, 219,
        /* Size 4x8 */
        32, 42, 69, 88, 33, 42, 64, 83, 36, 56, 77, 88, 46, 67, 93, 105, 60, 79,
        112, 122, 75, 92, 130, 144, 86, 95, 136, 167, 98, 105, 136, 177,
        /* Size 8x4 */
        32, 33, 36, 46, 60, 75, 86, 98, 42, 42, 56, 67, 79, 92, 95, 105, 69, 64,
        77, 93, 112, 130, 136, 136, 88, 83, 88, 105, 122, 144, 167, 177,
        /* Size 8x16 */
        32, 32, 36, 47, 65, 79, 90, 96, 31, 32, 35, 44, 60, 72, 84, 90, 32, 34,
        36, 45, 59, 71, 80, 87, 32, 35, 40, 47, 60, 71, 78, 85, 36, 37, 48, 56,
        68, 78, 83, 87, 39, 40, 50, 60, 73, 84, 91, 94, 47, 45, 56, 69, 84, 95,
        101, 101, 53, 50, 60, 75, 92, 103, 108, 110, 61, 56, 65, 81, 100, 113,
        116, 118, 71, 64, 73, 89, 111, 125, 129, 129, 79, 70, 79, 95, 118, 133,
        142, 138, 86, 76, 84, 100, 124, 140, 153, 150, 92, 82, 89, 101, 121,
        148, 157, 161, 98, 88, 93, 108, 124, 141, 163, 174, 104, 94, 95, 110,
        129, 151, 171, 181, 110, 100, 98, 111, 127, 147, 169, 188,
        /* Size 16x8 */
        32, 31, 32, 32, 36, 39, 47, 53, 61, 71, 79, 86, 92, 98, 104, 110, 32,
        32, 34, 35, 37, 40, 45, 50, 56, 64, 70, 76, 82, 88, 94, 100, 36, 35, 36,
        40, 48, 50, 56, 60, 65, 73, 79, 84, 89, 93, 95, 98, 47, 44, 45, 47, 56,
        60, 69, 75, 81, 89, 95, 100, 101, 108, 110, 111, 65, 60, 59, 60, 68, 73,
        84, 92, 100, 111, 118, 124, 121, 124, 129, 127, 79, 72, 71, 71, 78, 84,
        95, 103, 113, 125, 133, 140, 148, 141, 151, 147, 90, 84, 80, 78, 83, 91,
        101, 108, 116, 129, 142, 153, 157, 163, 171, 169, 96, 90, 87, 85, 87,
        94, 101, 110, 118, 129, 138, 150, 161, 174, 181, 188,
        /* Size 16x32 */
        32, 31, 32, 32, 36, 44, 47, 53, 65, 73, 79, 87, 90, 93, 96, 99, 31, 32,
        32, 33, 35, 42, 45, 51, 62, 69, 75, 83, 86, 88, 91, 94, 31, 32, 32, 33,
        35, 41, 44, 49, 60, 67, 72, 80, 84, 87, 90, 94, 31, 32, 33, 33, 35, 41,
        44, 49, 59, 66, 71, 79, 82, 84, 87, 90, 32, 32, 34, 34, 36, 42, 45, 50,
        59, 65, 71, 78, 80, 83, 87, 90, 32, 33, 35, 36, 38, 42, 45, 49, 58, 64,
        69, 76, 80, 83, 86, 88, 32, 33, 35, 36, 40, 44, 47, 51, 60, 66, 71, 76,
        78, 81, 85, 89, 34, 34, 36, 38, 42, 48, 50, 54, 63, 69, 73, 80, 82, 81,
        84, 86, 36, 34, 37, 40, 48, 54, 56, 60, 68, 74, 78, 84, 83, 86, 87, 87,
        38, 36, 39, 41, 49, 56, 58, 63, 71, 77, 81, 86, 88, 88, 90, 93, 39, 37,
        40, 42, 50, 58, 60, 65, 73, 79, 84, 90, 91, 92, 94, 93, 44, 41, 42, 45,
        53, 63, 66, 71, 79, 85, 90, 96, 94, 96, 96, 99, 47, 44, 45, 47, 56, 66,
        69, 75, 84, 90, 95, 99, 101, 98, 101, 99, 49, 46, 47, 48, 57, 67, 71,
        77, 86, 93, 97, 103, 103, 105, 102, 106, 53, 49, 50, 51, 60, 71, 75, 82,
        92, 99, 103, 111, 108, 107, 110, 107, 58, 54, 54, 55, 63, 75, 79, 87,
        98, 105, 110, 114, 114, 113, 111, 115, 61, 56, 56, 57, 65, 77, 81, 89,
        100, 107, 113, 118, 116, 117, 118, 116, 65, 60, 59, 60, 68, 79, 84, 92,
        105, 112, 118, 126, 124, 122, 121, 124, 71, 65, 64, 65, 73, 84, 89, 97,
        111, 119, 125, 130, 129, 129, 129, 125, 76, 69, 68, 69, 76, 88, 92, 101,
        115, 123, 130, 134, 134, 131, 132, 135, 79, 72, 70, 71, 79, 90, 95, 104,
        118, 127, 133, 143, 142, 141, 138, 136, 82, 75, 73, 74, 81, 92, 97, 106,
        121, 130, 136, 146, 145, 144, 144, 145, 86, 78, 76, 77, 84, 95, 100,
        109, 124, 133, 140, 147, 153, 151, 150, 146, 89, 81, 79, 78, 87, 95, 99,
        112, 124, 130, 145, 152, 156, 157, 156, 158, 92, 84, 82, 80, 89, 95,
        101, 116, 121, 132, 148, 151, 157, 163, 161, 159, 95, 86, 85, 83, 92,
        95, 105, 114, 120, 136, 143, 155, 163, 167, 171, 170, 98, 89, 88, 85,
        93, 95, 108, 113, 124, 136, 141, 160, 163, 169, 174, 171, 101, 92, 91,
        88, 94, 98, 110, 112, 128, 133, 146, 158, 166, 175, 179, 185, 104, 95,
        94, 91, 95, 101, 110, 115, 129, 132, 151, 154, 171, 175, 181, 186, 107,
        98, 97, 94, 96, 105, 110, 119, 128, 136, 149, 156, 173, 177, 188, 192,
        110, 101, 100, 97, 98, 108, 111, 123, 127, 141, 147, 161, 169, 183, 188,
        193, 114, 104, 104, 100, 100, 111, 111, 126, 127, 145, 145, 166, 166,
        189, 190, 201,
        /* Size 32x16 */
        32, 31, 31, 31, 32, 32, 32, 34, 36, 38, 39, 44, 47, 49, 53, 58, 61, 65,
        71, 76, 79, 82, 86, 89, 92, 95, 98, 101, 104, 107, 110, 114, 31, 32, 32,
        32, 32, 33, 33, 34, 34, 36, 37, 41, 44, 46, 49, 54, 56, 60, 65, 69, 72,
        75, 78, 81, 84, 86, 89, 92, 95, 98, 101, 104, 32, 32, 32, 33, 34, 35,
        35, 36, 37, 39, 40, 42, 45, 47, 50, 54, 56, 59, 64, 68, 70, 73, 76, 79,
        82, 85, 88, 91, 94, 97, 100, 104, 32, 33, 33, 33, 34, 36, 36, 38, 40,
        41, 42, 45, 47, 48, 51, 55, 57, 60, 65, 69, 71, 74, 77, 78, 80, 83, 85,
        88, 91, 94, 97, 100, 36, 35, 35, 35, 36, 38, 40, 42, 48, 49, 50, 53, 56,
        57, 60, 63, 65, 68, 73, 76, 79, 81, 84, 87, 89, 92, 93, 94, 95, 96, 98,
        100, 44, 42, 41, 41, 42, 42, 44, 48, 54, 56, 58, 63, 66, 67, 71, 75, 77,
        79, 84, 88, 90, 92, 95, 95, 95, 95, 95, 98, 101, 105, 108, 111, 47, 45,
        44, 44, 45, 45, 47, 50, 56, 58, 60, 66, 69, 71, 75, 79, 81, 84, 89, 92,
        95, 97, 100, 99, 101, 105, 108, 110, 110, 110, 111, 111, 53, 51, 49, 49,
        50, 49, 51, 54, 60, 63, 65, 71, 75, 77, 82, 87, 89, 92, 97, 101, 104,
        106, 109, 112, 116, 114, 113, 112, 115, 119, 123, 126, 65, 62, 60, 59,
        59, 58, 60, 63, 68, 71, 73, 79, 84, 86, 92, 98, 100, 105, 111, 115, 118,
        121, 124, 124, 121, 120, 124, 128, 129, 128, 127, 127, 73, 69, 67, 66,
        65, 64, 66, 69, 74, 77, 79, 85, 90, 93, 99, 105, 107, 112, 119, 123,
        127, 130, 133, 130, 132, 136, 136, 133, 132, 136, 141, 145, 79, 75, 72,
        71, 71, 69, 71, 73, 78, 81, 84, 90, 95, 97, 103, 110, 113, 118, 125,
        130, 133, 136, 140, 145, 148, 143, 141, 146, 151, 149, 147, 145, 87, 83,
        80, 79, 78, 76, 76, 80, 84, 86, 90, 96, 99, 103, 111, 114, 118, 126,
        130, 134, 143, 146, 147, 152, 151, 155, 160, 158, 154, 156, 161, 166,
        90, 86, 84, 82, 80, 80, 78, 82, 83, 88, 91, 94, 101, 103, 108, 114, 116,
        124, 129, 134, 142, 145, 153, 156, 157, 163, 163, 166, 171, 173, 169,
        166, 93, 88, 87, 84, 83, 83, 81, 81, 86, 88, 92, 96, 98, 105, 107, 113,
        117, 122, 129, 131, 141, 144, 151, 157, 163, 167, 169, 175, 175, 177,
        183, 189, 96, 91, 90, 87, 87, 86, 85, 84, 87, 90, 94, 96, 101, 102, 110,
        111, 118, 121, 129, 132, 138, 144, 150, 156, 161, 171, 174, 179, 181,
        188, 188, 190, 99, 94, 94, 90, 90, 88, 89, 86, 87, 93, 93, 99, 99, 106,
        107, 115, 116, 124, 125, 135, 136, 145, 146, 158, 159, 170, 171, 185,
        186, 192, 193, 201 },
      { /* Chroma */
        /* Size 4x4 */
        33, 45, 56, 64, 45, 58, 66, 69, 56, 66, 86, 87, 64, 69, 87, 105,
        /* Size 8x8 */
        31, 38, 47, 48, 54, 61, 66, 69, 38, 47, 47, 46, 50, 55, 61, 65, 47, 47,
        53, 55, 58, 63, 65, 66, 48, 46, 55, 62, 67, 72, 73, 73, 54, 50, 58, 67,
        76, 83, 84, 82, 61, 55, 63, 72, 83, 91, 92, 92, 66, 61, 65, 73, 84, 92,
        101, 103, 69, 65, 66, 73, 82, 92, 103, 109,
        /* Size 16x16 */
        32, 30, 33, 38, 49, 48, 50, 52, 55, 60, 63, 66, 68, 70, 72, 74, 30, 31,
        35, 41, 46, 46, 46, 48, 51, 55, 58, 60, 63, 65, 68, 70, 33, 35, 39, 44,
        47, 46, 46, 47, 50, 53, 56, 58, 60, 62, 65, 67, 38, 41, 44, 47, 49, 48,
        47, 48, 50, 53, 55, 58, 58, 60, 62, 65, 49, 46, 47, 49, 53, 53, 54, 54,
        56, 58, 60, 62, 62, 63, 64, 64, 48, 46, 46, 48, 53, 54, 56, 57, 59, 61,
        63, 65, 67, 66, 68, 68, 50, 46, 46, 47, 54, 56, 61, 63, 65, 68, 70, 72,
        71, 71, 72, 72, 52, 48, 47, 48, 54, 57, 63, 66, 69, 72, 75, 76, 75, 76,
        76, 76, 55, 51, 50, 50, 56, 59, 65, 69, 73, 77, 79, 81, 81, 81, 80, 80,
        60, 55, 53, 53, 58, 61, 68, 72, 77, 82, 85, 87, 87, 85, 84, 85, 63, 58,
        56, 55, 60, 63, 70, 75, 79, 85, 89, 91, 91, 90, 89, 90, 66, 60, 58, 58,
        62, 65, 72, 76, 81, 87, 91, 94, 96, 95, 95, 95, 68, 63, 60, 58, 62, 67,
        71, 75, 81, 87, 91, 96, 99, 100, 100, 100, 70, 65, 62, 60, 63, 66, 71,
        76, 81, 85, 90, 95, 100, 103, 104, 105, 72, 68, 65, 62, 64, 68, 72, 76,
        80, 84, 89, 95, 100, 104, 107, 108, 74, 70, 67, 65, 64, 68, 72, 76, 80,
        85, 90, 95, 100, 105, 108, 111,
        /* Size 32x32 */
        32, 31, 30, 31, 33, 36, 38, 41, 49, 49, 48, 49, 50, 51, 52, 54, 55, 57,
        60, 62, 63, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 31, 31, 31, 32,
        34, 38, 40, 42, 47, 47, 47, 47, 48, 48, 50, 52, 53, 54, 57, 59, 60, 61,
        63, 64, 65, 66, 67, 67, 68, 69, 70, 71, 30, 31, 31, 32, 35, 39, 41, 42,
        46, 46, 46, 45, 46, 47, 48, 50, 51, 52, 55, 57, 58, 59, 60, 62, 63, 64,
        65, 67, 68, 69, 70, 71, 31, 32, 32, 33, 36, 40, 41, 43, 46, 46, 45, 45,
        46, 46, 47, 49, 50, 51, 54, 56, 57, 58, 59, 61, 62, 63, 63, 64, 65, 66,
        67, 68, 33, 34, 35, 36, 39, 43, 44, 45, 47, 46, 46, 45, 46, 47, 47, 49,
        50, 51, 53, 55, 56, 57, 58, 59, 60, 61, 62, 63, 65, 66, 67, 68, 36, 38,
        39, 40, 43, 47, 47, 47, 48, 47, 46, 45, 46, 46, 47, 48, 49, 50, 52, 53,
        54, 55, 56, 58, 59, 61, 62, 63, 64, 65, 66, 66, 38, 40, 41, 41, 44, 47,
        47, 48, 49, 48, 48, 47, 47, 47, 48, 49, 50, 51, 53, 54, 55, 56, 58, 58,
        58, 59, 60, 61, 62, 64, 65, 66, 41, 42, 42, 43, 45, 47, 48, 48, 50, 50,
        49, 49, 50, 50, 50, 52, 52, 53, 55, 56, 57, 58, 59, 60, 61, 61, 61, 61,
        62, 63, 63, 64, 49, 47, 46, 46, 47, 48, 49, 50, 53, 53, 53, 53, 54, 54,
        54, 55, 56, 56, 58, 59, 60, 61, 62, 63, 62, 62, 63, 64, 64, 64, 64, 64,
        49, 47, 46, 46, 46, 47, 48, 50, 53, 53, 54, 55, 55, 55, 56, 57, 58, 58,
        60, 61, 62, 63, 64, 64, 64, 65, 65, 65, 65, 66, 67, 68, 48, 47, 46, 45,
        46, 46, 48, 49, 53, 54, 54, 55, 56, 56, 57, 58, 59, 60, 61, 63, 63, 64,
        65, 66, 67, 66, 66, 67, 68, 68, 68, 68, 49, 47, 45, 45, 45, 45, 47, 49,
        53, 55, 55, 58, 59, 60, 61, 62, 63, 63, 65, 66, 67, 68, 69, 69, 68, 68,
        69, 69, 69, 69, 70, 71, 50, 48, 46, 46, 46, 46, 47, 50, 54, 55, 56, 59,
        61, 61, 63, 64, 65, 66, 68, 69, 70, 71, 72, 71, 71, 72, 71, 71, 72, 72,
        72, 71, 51, 48, 47, 46, 47, 46, 47, 50, 54, 55, 56, 60, 61, 62, 64, 66,
        66, 67, 69, 70, 71, 72, 73, 73, 74, 73, 73, 74, 73, 73, 74, 75, 52, 50,
        48, 47, 47, 47, 48, 50, 54, 56, 57, 61, 63, 64, 66, 68, 69, 70, 72, 74,
        75, 75, 76, 77, 75, 76, 76, 75, 76, 77, 76, 75, 54, 52, 50, 49, 49, 48,
        49, 52, 55, 57, 58, 62, 64, 66, 68, 71, 72, 73, 75, 77, 78, 79, 80, 78,
        79, 78, 77, 78, 78, 77, 78, 79, 55, 53, 51, 50, 50, 49, 50, 52, 56, 58,
        59, 63, 65, 66, 69, 72, 73, 74, 77, 78, 79, 80, 81, 81, 81, 80, 81, 80,
        80, 81, 80, 79, 57, 54, 52, 51, 51, 50, 51, 53, 56, 58, 60, 63, 66, 67,
        70, 73, 74, 76, 79, 80, 82, 83, 84, 85, 83, 84, 83, 83, 83, 82, 82, 83,
        60, 57, 55, 54, 53, 52, 53, 55, 58, 60, 61, 65, 68, 69, 72, 75, 77, 79,
        82, 84, 85, 86, 87, 86, 87, 85, 85, 85, 84, 86, 85, 84, 62, 59, 57, 56,
        55, 53, 54, 56, 59, 61, 63, 66, 69, 70, 74, 77, 78, 80, 84, 86, 87, 88,
        90, 89, 89, 88, 88, 87, 88, 87, 87, 88, 63, 60, 58, 57, 56, 54, 55, 57,
        60, 62, 63, 67, 70, 71, 75, 78, 79, 82, 85, 87, 89, 90, 91, 93, 91, 91,
        90, 91, 89, 90, 90, 89, 65, 61, 59, 58, 57, 55, 56, 58, 61, 63, 64, 68,
        71, 72, 75, 79, 80, 83, 86, 88, 90, 91, 93, 94, 95, 92, 94, 92, 93, 92,
        91, 93, 66, 63, 60, 59, 58, 56, 58, 59, 62, 64, 65, 69, 72, 73, 76, 80,
        81, 84, 87, 90, 91, 93, 94, 95, 96, 97, 95, 95, 95, 95, 95, 93, 67, 64,
        62, 61, 59, 58, 58, 60, 63, 64, 66, 69, 71, 73, 77, 78, 81, 85, 86, 89,
        93, 94, 95, 97, 97, 98, 99, 97, 97, 97, 96, 98, 68, 65, 63, 62, 60, 59,
        58, 61, 62, 64, 67, 68, 71, 74, 75, 79, 81, 83, 87, 89, 91, 95, 96, 97,
        99, 98, 100, 100, 100, 99, 100, 98, 69, 66, 64, 63, 61, 61, 59, 61, 62,
        65, 66, 68, 72, 73, 76, 78, 80, 84, 85, 88, 91, 92, 97, 98, 98, 101,
        100, 102, 102, 103, 101, 102, 70, 67, 65, 63, 62, 62, 60, 61, 63, 65,
        66, 69, 71, 73, 76, 77, 81, 83, 85, 88, 90, 94, 95, 99, 100, 100, 103,
        102, 104, 104, 105, 103, 71, 67, 67, 64, 63, 63, 61, 61, 64, 65, 67, 69,
        71, 74, 75, 78, 80, 83, 85, 87, 91, 92, 95, 97, 100, 102, 102, 105, 104,
        106, 106, 108, 72, 68, 68, 65, 65, 64, 62, 62, 64, 65, 68, 69, 72, 73,
        76, 78, 80, 83, 84, 88, 89, 93, 95, 97, 100, 102, 104, 104, 107, 106,
        108, 108, 73, 69, 69, 66, 66, 65, 64, 63, 64, 66, 68, 69, 72, 73, 77,
        77, 81, 82, 86, 87, 90, 92, 95, 97, 99, 103, 104, 106, 106, 109, 108,
        110, 74, 70, 70, 67, 67, 66, 65, 63, 64, 67, 68, 70, 72, 74, 76, 78, 80,
        82, 85, 87, 90, 91, 95, 96, 100, 101, 105, 106, 108, 108, 111, 110, 75,
        71, 71, 68, 68, 66, 66, 64, 64, 68, 68, 71, 71, 75, 75, 79, 79, 83, 84,
        88, 89, 93, 93, 98, 98, 102, 103, 108, 108, 110, 110, 113,
        /* Size 4x8 */
        31, 47, 57, 65, 40, 45, 52, 61, 46, 55, 61, 63, 47, 60, 70, 72, 52, 64,
        79, 81, 59, 68, 87, 90, 63, 66, 88, 99, 66, 69, 85, 102,
        /* Size 8x4 */
        31, 40, 46, 47, 52, 59, 63, 66, 47, 45, 55, 60, 64, 68, 66, 69, 57, 52,
        61, 70, 79, 87, 88, 85, 65, 61, 63, 72, 81, 90, 99, 102,
        /* Size 8x16 */
        32, 35, 48, 50, 57, 63, 68, 70, 30, 38, 46, 46, 52, 58, 63, 65, 33, 41,
        47, 46, 51, 56, 60, 63, 39, 46, 48, 47, 51, 55, 58, 61, 49, 48, 53, 54,
        57, 60, 61, 61, 48, 46, 53, 56, 60, 64, 65, 65, 50, 46, 54, 61, 66, 70,
        71, 69, 52, 47, 54, 63, 71, 75, 75, 74, 55, 49, 56, 65, 74, 79, 79, 78,
        60, 53, 58, 68, 79, 85, 85, 82, 63, 55, 60, 70, 82, 89, 91, 87, 66, 58,
        62, 72, 84, 91, 95, 91, 68, 60, 64, 71, 81, 94, 97, 96, 70, 62, 65, 73,
        81, 89, 98, 101, 72, 65, 65, 72, 82, 92, 100, 103, 74, 67, 65, 71, 79,
        89, 98, 105,
        /* Size 16x8 */
        32, 30, 33, 39, 49, 48, 50, 52, 55, 60, 63, 66, 68, 70, 72, 74, 35, 38,
        41, 46, 48, 46, 46, 47, 49, 53, 55, 58, 60, 62, 65, 67, 48, 46, 47, 48,
        53, 53, 54, 54, 56, 58, 60, 62, 64, 65, 65, 65, 50, 46, 46, 47, 54, 56,
        61, 63, 65, 68, 70, 72, 71, 73, 72, 71, 57, 52, 51, 51, 57, 60, 66, 71,
        74, 79, 82, 84, 81, 81, 82, 79, 63, 58, 56, 55, 60, 64, 70, 75, 79, 85,
        89, 91, 94, 89, 92, 89, 68, 63, 60, 58, 61, 65, 71, 75, 79, 85, 91, 95,
        97, 98, 100, 98, 70, 65, 63, 61, 61, 65, 69, 74, 78, 82, 87, 91, 96,
        101, 103, 105,
        /* Size 16x32 */
        32, 31, 35, 38, 48, 49, 50, 52, 57, 61, 63, 67, 68, 69, 70, 71, 31, 31,
        37, 40, 47, 47, 48, 50, 54, 57, 60, 63, 64, 65, 66, 67, 30, 32, 38, 40,
        46, 45, 46, 48, 52, 55, 58, 61, 63, 64, 65, 67, 31, 33, 38, 41, 46, 45,
        46, 48, 52, 55, 57, 60, 61, 62, 63, 64, 33, 36, 41, 44, 47, 46, 46, 47,
        51, 54, 56, 59, 60, 61, 63, 64, 37, 40, 45, 47, 47, 45, 46, 47, 50, 52,
        54, 57, 59, 61, 62, 62, 39, 41, 46, 47, 48, 47, 47, 48, 51, 54, 55, 57,
        58, 59, 61, 62, 42, 43, 46, 48, 50, 49, 50, 50, 53, 56, 57, 60, 60, 59,
        60, 60, 49, 46, 48, 49, 53, 53, 54, 54, 57, 59, 60, 63, 61, 62, 61, 61,
        48, 46, 47, 48, 53, 55, 55, 56, 58, 61, 62, 64, 64, 63, 63, 64, 48, 46,
        46, 48, 53, 56, 56, 57, 60, 62, 64, 66, 65, 65, 65, 64, 49, 45, 45, 47,
        53, 58, 59, 61, 64, 66, 67, 69, 67, 67, 66, 67, 50, 46, 46, 48, 54, 59,
        61, 63, 66, 68, 70, 71, 71, 68, 69, 67, 51, 47, 47, 48, 54, 60, 61, 64,
        68, 70, 71, 73, 72, 72, 70, 71, 52, 48, 47, 48, 54, 61, 63, 66, 71, 73,
        75, 77, 75, 73, 74, 71, 54, 50, 49, 50, 55, 62, 65, 68, 73, 76, 78, 79,
        78, 76, 74, 75, 55, 51, 49, 50, 56, 63, 65, 69, 74, 77, 79, 81, 79, 78,
        78, 75, 57, 52, 50, 51, 56, 64, 66, 70, 76, 79, 82, 85, 83, 81, 79, 79,
        60, 54, 53, 53, 58, 65, 68, 72, 79, 82, 85, 87, 85, 84, 82, 80, 62, 56,
        54, 55, 60, 66, 69, 74, 81, 84, 87, 88, 87, 85, 84, 84, 63, 57, 55, 56,
        60, 67, 70, 75, 82, 86, 89, 92, 91, 89, 87, 84, 64, 59, 56, 57, 61, 68,
        71, 75, 83, 87, 90, 93, 92, 90, 89, 89, 66, 60, 58, 58, 62, 69, 72, 76,
        84, 88, 91, 94, 95, 93, 91, 89, 67, 61, 59, 58, 63, 68, 71, 78, 83, 86,
        93, 96, 96, 96, 94, 94, 68, 62, 60, 59, 64, 67, 71, 79, 81, 86, 94, 95,
        97, 98, 96, 94, 69, 63, 61, 60, 65, 66, 72, 77, 80, 88, 91, 96, 99, 99,
        100, 98, 70, 64, 62, 60, 65, 66, 73, 76, 81, 87, 89, 97, 98, 100, 101,
        99, 71, 65, 64, 61, 65, 67, 73, 74, 82, 85, 90, 95, 99, 102, 103, 104,
        72, 65, 65, 62, 65, 68, 72, 75, 82, 83, 92, 93, 100, 102, 103, 104, 73,
        66, 66, 63, 65, 69, 72, 76, 81, 85, 90, 93, 100, 102, 105, 106, 74, 67,
        67, 64, 65, 70, 71, 77, 79, 86, 89, 94, 98, 103, 105, 106, 75, 68, 68,
        65, 65, 71, 71, 78, 78, 87, 87, 96, 96, 105, 105, 109,
        /* Size 32x16 */
        32, 31, 30, 31, 33, 37, 39, 42, 49, 48, 48, 49, 50, 51, 52, 54, 55, 57,
        60, 62, 63, 64, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 31, 31, 32, 33,
        36, 40, 41, 43, 46, 46, 46, 45, 46, 47, 48, 50, 51, 52, 54, 56, 57, 59,
        60, 61, 62, 63, 64, 65, 65, 66, 67, 68, 35, 37, 38, 38, 41, 45, 46, 46,
        48, 47, 46, 45, 46, 47, 47, 49, 49, 50, 53, 54, 55, 56, 58, 59, 60, 61,
        62, 64, 65, 66, 67, 68, 38, 40, 40, 41, 44, 47, 47, 48, 49, 48, 48, 47,
        48, 48, 48, 50, 50, 51, 53, 55, 56, 57, 58, 58, 59, 60, 60, 61, 62, 63,
        64, 65, 48, 47, 46, 46, 47, 47, 48, 50, 53, 53, 53, 53, 54, 54, 54, 55,
        56, 56, 58, 60, 60, 61, 62, 63, 64, 65, 65, 65, 65, 65, 65, 65, 49, 47,
        45, 45, 46, 45, 47, 49, 53, 55, 56, 58, 59, 60, 61, 62, 63, 64, 65, 66,
        67, 68, 69, 68, 67, 66, 66, 67, 68, 69, 70, 71, 50, 48, 46, 46, 46, 46,
        47, 50, 54, 55, 56, 59, 61, 61, 63, 65, 65, 66, 68, 69, 70, 71, 72, 71,
        71, 72, 73, 73, 72, 72, 71, 71, 52, 50, 48, 48, 47, 47, 48, 50, 54, 56,
        57, 61, 63, 64, 66, 68, 69, 70, 72, 74, 75, 75, 76, 78, 79, 77, 76, 74,
        75, 76, 77, 78, 57, 54, 52, 52, 51, 50, 51, 53, 57, 58, 60, 64, 66, 68,
        71, 73, 74, 76, 79, 81, 82, 83, 84, 83, 81, 80, 81, 82, 82, 81, 79, 78,
        61, 57, 55, 55, 54, 52, 54, 56, 59, 61, 62, 66, 68, 70, 73, 76, 77, 79,
        82, 84, 86, 87, 88, 86, 86, 88, 87, 85, 83, 85, 86, 87, 63, 60, 58, 57,
        56, 54, 55, 57, 60, 62, 64, 67, 70, 71, 75, 78, 79, 82, 85, 87, 89, 90,
        91, 93, 94, 91, 89, 90, 92, 90, 89, 87, 67, 63, 61, 60, 59, 57, 57, 60,
        63, 64, 66, 69, 71, 73, 77, 79, 81, 85, 87, 88, 92, 93, 94, 96, 95, 96,
        97, 95, 93, 93, 94, 96, 68, 64, 63, 61, 60, 59, 58, 60, 61, 64, 65, 67,
        71, 72, 75, 78, 79, 83, 85, 87, 91, 92, 95, 96, 97, 99, 98, 99, 100,
        100, 98, 96, 69, 65, 64, 62, 61, 61, 59, 59, 62, 63, 65, 67, 68, 72, 73,
        76, 78, 81, 84, 85, 89, 90, 93, 96, 98, 99, 100, 102, 102, 102, 103,
        105, 70, 66, 65, 63, 63, 62, 61, 60, 61, 63, 65, 66, 69, 70, 74, 74, 78,
        79, 82, 84, 87, 89, 91, 94, 96, 100, 101, 103, 103, 105, 105, 105, 71,
        67, 67, 64, 64, 62, 62, 60, 61, 64, 64, 67, 67, 71, 71, 75, 75, 79, 80,
        84, 84, 89, 89, 94, 94, 98, 99, 104, 104, 106, 106, 109 },
  },
  {
      { /* Luma */
        /* Size 4x4 */
        32, 38, 63, 86, 38, 56, 78, 97, 63, 78, 113, 130, 86, 97, 130, 169,
        /* Size 8x8 */
        32, 32, 35, 46, 57, 76, 85, 96, 32, 34, 37, 45, 54, 70, 79, 90, 35, 37,
        48, 56, 64, 79, 87, 93, 46, 45, 56, 70, 80, 96, 100, 105, 57, 54, 64,
        80, 93, 111, 121, 122, 76, 70, 79, 96, 111, 134, 138, 144, 85, 79, 87,
        100, 121, 138, 156, 168, 96, 90, 93, 105, 122, 144, 168, 184,
        /* Size 16x16 */
        32, 31, 31, 32, 34, 39, 44, 49, 58, 65, 71, 81, 87, 93, 98, 104, 31, 32,
        32, 32, 34, 38, 41, 46, 54, 60, 66, 75, 81, 86, 92, 98, 31, 32, 33, 34,
        36, 39, 42, 46, 53, 59, 64, 73, 78, 83, 88, 94, 32, 32, 34, 35, 37, 40,
        42, 46, 52, 58, 63, 71, 75, 80, 86, 92, 34, 34, 36, 37, 42, 47, 50, 53,
        59, 65, 70, 77, 82, 85, 89, 92, 39, 38, 39, 40, 47, 54, 58, 62, 68, 73,
        78, 85, 90, 90, 96, 98, 44, 41, 42, 42, 50, 58, 63, 68, 74, 79, 84, 91,
        96, 98, 102, 104, 49, 46, 46, 46, 53, 62, 68, 73, 81, 87, 92, 99, 103,
        107, 109, 112, 58, 54, 53, 52, 59, 68, 74, 81, 90, 97, 102, 110, 114,
        118, 117, 121, 65, 60, 59, 58, 65, 73, 79, 87, 97, 105, 111, 120, 125,
        125, 126, 130, 71, 66, 64, 63, 70, 78, 84, 92, 102, 111, 117, 127, 133,
        134, 136, 141, 81, 75, 73, 71, 77, 85, 91, 99, 110, 120, 127, 137, 143,
        145, 148, 152, 87, 81, 78, 75, 82, 90, 96, 103, 114, 125, 133, 143, 150,
        156, 160, 163, 93, 86, 83, 80, 85, 90, 98, 107, 118, 125, 134, 145, 156,
        163, 169, 177, 98, 92, 88, 86, 89, 96, 102, 109, 117, 126, 136, 148,
        160, 169, 176, 184, 104, 98, 94, 92, 92, 98, 104, 112, 121, 130, 141,
        152, 163, 177, 184, 191,
        /* Size 32x32 */
        32, 31, 31, 31, 31, 32, 32, 34, 34, 36, 39, 41, 44, 48, 49, 54, 58, 59,
        65, 69, 71, 80, 81, 83, 87, 90, 93, 95, 98, 101, 104, 107, 31, 32, 32,
        32, 32, 32, 32, 34, 34, 35, 38, 39, 42, 46, 47, 51, 55, 57, 62, 66, 68,
        76, 77, 78, 83, 85, 88, 90, 93, 96, 99, 101, 31, 32, 32, 32, 32, 32, 32,
        33, 34, 34, 38, 39, 41, 45, 46, 50, 54, 55, 60, 64, 66, 73, 75, 76, 81,
        83, 86, 89, 92, 95, 98, 101, 31, 32, 32, 32, 32, 32, 32, 33, 34, 34, 37,
        38, 41, 44, 45, 49, 53, 54, 59, 63, 65, 72, 74, 75, 79, 81, 84, 86, 89,
        91, 94, 97, 31, 32, 32, 32, 33, 33, 34, 35, 36, 36, 39, 40, 42, 45, 46,
        50, 53, 54, 59, 63, 64, 71, 73, 74, 78, 80, 83, 85, 88, 91, 94, 97, 32,
        32, 32, 32, 33, 34, 34, 36, 36, 37, 40, 40, 42, 45, 46, 49, 53, 54, 58,
        62, 63, 70, 72, 73, 77, 79, 82, 85, 87, 90, 92, 95, 32, 32, 32, 32, 34,
        34, 35, 37, 37, 38, 40, 41, 42, 45, 46, 49, 52, 54, 58, 61, 63, 69, 71,
        72, 75, 78, 80, 83, 86, 89, 92, 95, 34, 34, 33, 33, 35, 36, 37, 39, 41,
        42, 45, 46, 47, 50, 51, 54, 57, 59, 63, 66, 68, 74, 75, 76, 80, 81, 82,
        83, 85, 87, 90, 93, 34, 34, 34, 34, 36, 36, 37, 41, 42, 45, 47, 48, 50,
        53, 53, 56, 59, 61, 65, 68, 70, 76, 77, 78, 82, 83, 85, 88, 89, 90, 92,
        93, 36, 35, 34, 34, 36, 37, 38, 42, 45, 48, 50, 51, 54, 56, 57, 60, 63,
        64, 68, 71, 73, 79, 80, 81, 85, 87, 89, 89, 90, 93, 96, 99, 39, 38, 38,
        37, 39, 40, 40, 45, 47, 50, 54, 55, 58, 61, 62, 65, 68, 69, 73, 76, 78,
        84, 85, 86, 90, 89, 90, 93, 96, 97, 98, 99, 41, 39, 39, 38, 40, 40, 41,
        46, 48, 51, 55, 56, 59, 62, 63, 67, 70, 71, 75, 78, 80, 86, 87, 88, 91,
        93, 96, 97, 97, 99, 102, 105, 44, 42, 41, 41, 42, 42, 42, 47, 50, 54,
        58, 59, 63, 66, 68, 71, 74, 75, 79, 83, 84, 90, 91, 92, 96, 98, 98, 99,
        102, 104, 104, 105, 48, 46, 45, 44, 45, 45, 45, 50, 53, 56, 61, 62, 66,
        70, 71, 76, 79, 80, 85, 88, 90, 96, 97, 98, 101, 100, 102, 105, 105,
        105, 109, 112, 49, 47, 46, 45, 46, 46, 46, 51, 53, 57, 62, 63, 68, 71,
        73, 77, 81, 82, 87, 90, 92, 98, 99, 100, 103, 106, 107, 106, 109, 112,
        112, 112, 54, 51, 50, 49, 50, 49, 49, 54, 56, 60, 65, 67, 71, 76, 77,
        82, 86, 87, 92, 96, 97, 104, 105, 106, 110, 110, 109, 113, 114, 113,
        116, 120, 58, 55, 54, 53, 53, 53, 52, 57, 59, 63, 68, 70, 74, 79, 81,
        86, 90, 91, 97, 100, 102, 109, 110, 111, 114, 114, 118, 116, 117, 121,
        121, 120, 59, 57, 55, 54, 54, 54, 54, 59, 61, 64, 69, 71, 75, 80, 82,
        87, 91, 93, 99, 102, 104, 111, 112, 113, 117, 121, 120, 122, 124, 122,
        125, 129, 65, 62, 60, 59, 59, 58, 58, 63, 65, 68, 73, 75, 79, 85, 87,
        92, 97, 99, 105, 109, 111, 118, 120, 121, 125, 124, 125, 127, 126, 130,
        130, 129, 69, 66, 64, 63, 63, 62, 61, 66, 68, 71, 76, 78, 83, 88, 90,
        96, 100, 102, 109, 113, 115, 123, 125, 126, 129, 130, 131, 130, 134,
        133, 135, 139, 71, 68, 66, 65, 64, 63, 63, 68, 70, 73, 78, 80, 84, 90,
        92, 97, 102, 104, 111, 115, 117, 125, 127, 128, 133, 136, 134, 139, 136,
        139, 141, 140, 80, 76, 73, 72, 71, 70, 69, 74, 76, 79, 84, 86, 90, 96,
        98, 104, 109, 111, 118, 123, 125, 134, 136, 137, 142, 138, 143, 140,
        144, 144, 144, 149, 81, 77, 75, 74, 73, 72, 71, 75, 77, 80, 85, 87, 91,
        97, 99, 105, 110, 112, 120, 125, 127, 136, 137, 139, 143, 148, 145, 148,
        148, 150, 152, 149, 83, 78, 76, 75, 74, 73, 72, 76, 78, 81, 86, 88, 92,
        98, 100, 106, 111, 113, 121, 126, 128, 137, 139, 140, 145, 149, 153,
        153, 154, 155, 155, 161, 87, 83, 81, 79, 78, 77, 75, 80, 82, 85, 90, 91,
        96, 101, 103, 110, 114, 117, 125, 129, 133, 142, 143, 145, 150, 151,
        156, 159, 160, 160, 163, 161, 90, 85, 83, 81, 80, 79, 78, 81, 83, 87,
        89, 93, 98, 100, 106, 110, 114, 121, 124, 130, 136, 138, 148, 149, 151,
        156, 157, 162, 166, 168, 166, 172, 93, 88, 86, 84, 83, 82, 80, 82, 85,
        89, 90, 96, 98, 102, 107, 109, 118, 120, 125, 131, 134, 143, 145, 153,
        156, 157, 163, 164, 169, 172, 177, 172, 95, 90, 89, 86, 85, 85, 83, 83,
        88, 89, 93, 97, 99, 105, 106, 113, 116, 122, 127, 130, 139, 140, 148,
        153, 159, 162, 164, 169, 170, 176, 179, 185, 98, 93, 92, 89, 88, 87, 86,
        85, 89, 90, 96, 97, 102, 105, 109, 114, 117, 124, 126, 134, 136, 144,
        148, 154, 160, 166, 169, 170, 176, 177, 184, 186, 101, 96, 95, 91, 91,
        90, 89, 87, 90, 93, 97, 99, 104, 105, 112, 113, 121, 122, 130, 133, 139,
        144, 150, 155, 160, 168, 172, 176, 177, 184, 185, 191, 104, 99, 98, 94,
        94, 92, 92, 90, 92, 96, 98, 102, 104, 109, 112, 116, 121, 125, 130, 135,
        141, 144, 152, 155, 163, 166, 177, 179, 184, 185, 191, 192, 107, 101,
        101, 97, 97, 95, 95, 93, 93, 99, 99, 105, 105, 112, 112, 120, 120, 129,
        129, 139, 140, 149, 149, 161, 161, 172, 172, 185, 186, 191, 192, 199,
        /* Size 4x8 */
        32, 38, 62, 86, 32, 40, 58, 80, 34, 51, 68, 85, 44, 61, 85, 101, 54, 69,
        98, 117, 72, 84, 118, 136, 82, 89, 129, 157, 92, 98, 127, 165,
        /* Size 8x4 */
        32, 32, 34, 44, 54, 72, 82, 92, 38, 40, 51, 61, 69, 84, 89, 98, 62, 58,
        68, 85, 98, 118, 129, 127, 86, 80, 85, 101, 117, 136, 157, 165,
        /* Size 8x16 */
        32, 32, 36, 44, 58, 79, 88, 93, 31, 32, 35, 41, 54, 73, 81, 88, 32, 33,
        36, 42, 53, 71, 78, 84, 32, 34, 38, 42, 52, 69, 76, 82, 34, 36, 44, 50,
        59, 75, 81, 84, 39, 39, 50, 58, 68, 84, 88, 90, 44, 42, 53, 63, 74, 90,
        97, 97, 49, 46, 57, 67, 81, 97, 104, 105, 57, 53, 63, 74, 90, 108, 111,
        113, 65, 59, 68, 79, 97, 118, 123, 122, 71, 64, 73, 84, 102, 125, 135,
        131, 81, 72, 80, 91, 110, 135, 145, 141, 87, 77, 85, 96, 114, 140, 148,
        151, 92, 83, 88, 102, 117, 133, 153, 163, 98, 88, 89, 103, 121, 141,
        160, 169, 103, 94, 92, 103, 119, 137, 158, 175,
        /* Size 16x8 */
        32, 31, 32, 32, 34, 39, 44, 49, 57, 65, 71, 81, 87, 92, 98, 103, 32, 32,
        33, 34, 36, 39, 42, 46, 53, 59, 64, 72, 77, 83, 88, 94, 36, 35, 36, 38,
        44, 50, 53, 57, 63, 68, 73, 80, 85, 88, 89, 92, 44, 41, 42, 42, 50, 58,
        63, 67, 74, 79, 84, 91, 96, 102, 103, 103, 58, 54, 53, 52, 59, 68, 74,
        81, 90, 97, 102, 110, 114, 117, 121, 119, 79, 73, 71, 69, 75, 84, 90,
        97, 108, 118, 125, 135, 140, 133, 141, 137, 88, 81, 78, 76, 81, 88, 97,
        104, 111, 123, 135, 145, 148, 153, 160, 158, 93, 88, 84, 82, 84, 90, 97,
        105, 113, 122, 131, 141, 151, 163, 169, 175,
        /* Size 16x32 */
        32, 31, 32, 32, 36, 39, 44, 53, 58, 65, 79, 81, 88, 90, 93, 96, 31, 32,
        32, 32, 35, 38, 42, 51, 55, 62, 75, 77, 83, 86, 88, 91, 31, 32, 32, 32,
        35, 38, 41, 50, 54, 60, 73, 75, 81, 84, 88, 91, 31, 32, 32, 33, 34, 37,
        41, 49, 53, 59, 72, 74, 79, 82, 84, 87, 32, 32, 33, 34, 36, 39, 42, 50,
        53, 59, 71, 72, 78, 81, 84, 87, 32, 32, 34, 34, 37, 40, 42, 49, 53, 58,
        70, 71, 77, 80, 83, 85, 32, 33, 34, 35, 38, 40, 42, 49, 52, 58, 69, 70,
        76, 78, 82, 86, 34, 34, 35, 37, 42, 45, 48, 54, 57, 63, 73, 75, 79, 79,
        81, 83, 34, 34, 36, 37, 44, 47, 50, 56, 59, 65, 75, 77, 81, 83, 84, 84,
        36, 34, 37, 38, 48, 51, 54, 60, 63, 68, 78, 80, 85, 85, 86, 89, 39, 37,
        39, 40, 50, 54, 58, 65, 68, 73, 84, 85, 88, 89, 90, 89, 40, 38, 40, 41,
        51, 55, 59, 67, 70, 75, 85, 87, 91, 92, 92, 95, 44, 41, 42, 43, 53, 58,
        63, 71, 74, 79, 90, 91, 97, 94, 97, 95, 47, 44, 45, 46, 56, 61, 66, 75,
        79, 85, 95, 97, 99, 101, 98, 102, 49, 46, 46, 47, 57, 62, 67, 77, 81,
        86, 97, 99, 104, 102, 105, 102, 53, 49, 50, 50, 60, 65, 71, 82, 86, 92,
        103, 105, 109, 108, 106, 110, 57, 53, 53, 53, 63, 68, 74, 86, 90, 97,
        108, 110, 111, 112, 113, 110, 59, 54, 54, 54, 64, 69, 75, 87, 91, 98,
        111, 112, 119, 117, 115, 118, 65, 60, 59, 58, 68, 73, 79, 92, 97, 105,
        118, 119, 123, 123, 122, 119, 69, 63, 62, 62, 71, 76, 83, 96, 100, 109,
        122, 124, 127, 125, 125, 128, 71, 65, 64, 63, 73, 78, 84, 97, 102, 111,
        125, 127, 135, 134, 131, 129, 79, 72, 71, 70, 79, 84, 90, 104, 109, 118,
        133, 135, 137, 136, 136, 137, 81, 74, 72, 71, 80, 85, 91, 105, 110, 120,
        135, 137, 145, 143, 141, 138, 82, 75, 73, 72, 81, 86, 92, 106, 111, 121,
        136, 139, 147, 148, 147, 149, 87, 79, 77, 76, 85, 90, 96, 110, 114, 125,
        140, 143, 148, 154, 151, 149, 90, 82, 80, 78, 87, 89, 99, 108, 113, 129,
        135, 146, 153, 157, 160, 159, 92, 84, 83, 81, 88, 90, 102, 106, 117,
        128, 133, 150, 153, 158, 163, 160, 95, 87, 85, 83, 88, 92, 103, 105,
        120, 125, 137, 148, 155, 164, 168, 173, 98, 89, 88, 85, 89, 95, 103,
        108, 121, 124, 141, 144, 160, 164, 169, 174, 100, 92, 91, 88, 90, 98,
        103, 111, 120, 127, 139, 146, 161, 165, 175, 179, 103, 94, 94, 90, 92,
        101, 103, 114, 119, 131, 137, 150, 158, 170, 175, 180, 106, 97, 97, 93,
        93, 104, 104, 118, 118, 135, 135, 154, 155, 175, 176, 187,
        /* Size 32x16 */
        32, 31, 31, 31, 32, 32, 32, 34, 34, 36, 39, 40, 44, 47, 49, 53, 57, 59,
        65, 69, 71, 79, 81, 82, 87, 90, 92, 95, 98, 100, 103, 106, 31, 32, 32,
        32, 32, 32, 33, 34, 34, 34, 37, 38, 41, 44, 46, 49, 53, 54, 60, 63, 65,
        72, 74, 75, 79, 82, 84, 87, 89, 92, 94, 97, 32, 32, 32, 32, 33, 34, 34,
        35, 36, 37, 39, 40, 42, 45, 46, 50, 53, 54, 59, 62, 64, 71, 72, 73, 77,
        80, 83, 85, 88, 91, 94, 97, 32, 32, 32, 33, 34, 34, 35, 37, 37, 38, 40,
        41, 43, 46, 47, 50, 53, 54, 58, 62, 63, 70, 71, 72, 76, 78, 81, 83, 85,
        88, 90, 93, 36, 35, 35, 34, 36, 37, 38, 42, 44, 48, 50, 51, 53, 56, 57,
        60, 63, 64, 68, 71, 73, 79, 80, 81, 85, 87, 88, 88, 89, 90, 92, 93, 39,
        38, 38, 37, 39, 40, 40, 45, 47, 51, 54, 55, 58, 61, 62, 65, 68, 69, 73,
        76, 78, 84, 85, 86, 90, 89, 90, 92, 95, 98, 101, 104, 44, 42, 41, 41,
        42, 42, 42, 48, 50, 54, 58, 59, 63, 66, 67, 71, 74, 75, 79, 83, 84, 90,
        91, 92, 96, 99, 102, 103, 103, 103, 103, 104, 53, 51, 50, 49, 50, 49,
        49, 54, 56, 60, 65, 67, 71, 75, 77, 82, 86, 87, 92, 96, 97, 104, 105,
        106, 110, 108, 106, 105, 108, 111, 114, 118, 58, 55, 54, 53, 53, 53, 52,
        57, 59, 63, 68, 70, 74, 79, 81, 86, 90, 91, 97, 100, 102, 109, 110, 111,
        114, 113, 117, 120, 121, 120, 119, 118, 65, 62, 60, 59, 59, 58, 58, 63,
        65, 68, 73, 75, 79, 85, 86, 92, 97, 98, 105, 109, 111, 118, 120, 121,
        125, 129, 128, 125, 124, 127, 131, 135, 79, 75, 73, 72, 71, 70, 69, 73,
        75, 78, 84, 85, 90, 95, 97, 103, 108, 111, 118, 122, 125, 133, 135, 136,
        140, 135, 133, 137, 141, 139, 137, 135, 81, 77, 75, 74, 72, 71, 70, 75,
        77, 80, 85, 87, 91, 97, 99, 105, 110, 112, 119, 124, 127, 135, 137, 139,
        143, 146, 150, 148, 144, 146, 150, 154, 88, 83, 81, 79, 78, 77, 76, 79,
        81, 85, 88, 91, 97, 99, 104, 109, 111, 119, 123, 127, 135, 137, 145,
        147, 148, 153, 153, 155, 160, 161, 158, 155, 90, 86, 84, 82, 81, 80, 78,
        79, 83, 85, 89, 92, 94, 101, 102, 108, 112, 117, 123, 125, 134, 136,
        143, 148, 154, 157, 158, 164, 164, 165, 170, 175, 93, 88, 88, 84, 84,
        83, 82, 81, 84, 86, 90, 92, 97, 98, 105, 106, 113, 115, 122, 125, 131,
        136, 141, 147, 151, 160, 163, 168, 169, 175, 175, 176, 96, 91, 91, 87,
        87, 85, 86, 83, 84, 89, 89, 95, 95, 102, 102, 110, 110, 118, 119, 128,
        129, 137, 138, 149, 149, 159, 160, 173, 174, 179, 180, 187 },
      { /* Chroma */
        /* Size 4x4 */
        32, 45, 53, 63, 45, 55, 62, 67, 53, 62, 80, 84, 63, 67, 84, 101,
        /* Size 8x8 */
        31, 36, 47, 48, 52, 60, 64, 67, 36, 43, 47, 46, 49, 55, 59, 63, 47, 47,
        53, 54, 55, 60, 63, 64, 48, 46, 54, 61, 65, 70, 71, 71, 52, 49, 55, 65,
        71, 78, 81, 79, 60, 55, 60, 70, 78, 89, 89, 89, 64, 59, 63, 71, 81, 89,
        97, 99, 67, 63, 64, 71, 79, 89, 99, 104,
        /* Size 16x16 */
        32, 30, 33, 36, 44, 48, 49, 51, 54, 57, 60, 64, 67, 68, 70, 72, 30, 31,
        35, 39, 44, 46, 46, 47, 50, 53, 55, 59, 61, 64, 66, 68, 33, 35, 39, 43,
        46, 46, 45, 47, 49, 51, 53, 57, 59, 61, 63, 65, 36, 39, 43, 47, 47, 46,
        45, 46, 48, 50, 52, 55, 57, 58, 61, 63, 44, 44, 46, 47, 50, 51, 51, 51,
        53, 54, 56, 59, 61, 61, 63, 62, 48, 46, 46, 46, 51, 54, 55, 56, 58, 60,
        61, 64, 65, 64, 66, 66, 49, 46, 45, 45, 51, 55, 58, 60, 62, 63, 65, 68,
        69, 69, 69, 69, 51, 47, 47, 46, 51, 56, 60, 62, 65, 67, 69, 72, 73, 74,
        73, 73, 54, 50, 49, 48, 53, 58, 62, 65, 70, 73, 75, 78, 79, 79, 77, 77,
        57, 53, 51, 50, 54, 60, 63, 67, 73, 76, 79, 82, 84, 83, 82, 82, 60, 55,
        53, 52, 56, 61, 65, 69, 75, 79, 82, 86, 88, 87, 86, 87, 64, 59, 57, 55,
        59, 64, 68, 72, 78, 82, 86, 90, 93, 92, 91, 92, 67, 61, 59, 57, 61, 65,
        69, 73, 79, 84, 88, 93, 95, 96, 96, 96, 68, 64, 61, 58, 61, 64, 69, 74,
        79, 83, 87, 92, 96, 99, 100, 101, 70, 66, 63, 61, 63, 66, 69, 73, 77,
        82, 86, 91, 96, 100, 103, 104, 72, 68, 65, 63, 62, 66, 69, 73, 77, 82,
        87, 92, 96, 101, 104, 106,
        /* Size 32x32 */
        32, 31, 30, 30, 33, 35, 36, 41, 44, 49, 48, 48, 49, 50, 51, 52, 54, 55,
        57, 59, 60, 63, 64, 65, 67, 68, 68, 69, 70, 71, 72, 73, 31, 31, 31, 31,
        34, 36, 38, 42, 44, 47, 47, 47, 47, 48, 48, 50, 51, 52, 54, 56, 57, 60,
        61, 61, 63, 64, 65, 66, 67, 67, 68, 69, 30, 31, 31, 31, 35, 37, 39, 42,
        44, 47, 46, 46, 46, 47, 47, 48, 50, 51, 53, 54, 55, 58, 59, 60, 61, 63,
        64, 65, 66, 67, 68, 69, 30, 31, 31, 32, 35, 37, 40, 42, 44, 46, 45, 45,
        45, 46, 46, 47, 49, 50, 52, 53, 54, 57, 58, 58, 60, 61, 62, 63, 63, 64,
        65, 66, 33, 34, 35, 35, 39, 41, 43, 45, 46, 47, 46, 46, 45, 46, 47, 47,
        49, 49, 51, 53, 53, 56, 57, 57, 59, 60, 61, 62, 63, 64, 65, 66, 35, 36,
        37, 37, 41, 43, 45, 46, 46, 47, 46, 46, 45, 46, 46, 47, 48, 49, 50, 52,
        53, 55, 56, 56, 58, 59, 60, 61, 62, 63, 64, 64, 36, 38, 39, 40, 43, 45,
        47, 47, 47, 48, 46, 46, 45, 46, 46, 47, 48, 48, 50, 51, 52, 54, 55, 55,
        57, 58, 58, 59, 61, 62, 63, 64, 41, 42, 42, 42, 45, 46, 47, 48, 49, 50,
        49, 49, 49, 50, 50, 50, 51, 52, 53, 54, 55, 57, 58, 58, 60, 60, 59, 59,
        60, 61, 61, 62, 44, 44, 44, 44, 46, 46, 47, 49, 50, 51, 51, 51, 51, 51,
        51, 52, 53, 53, 54, 56, 56, 59, 59, 59, 61, 61, 61, 62, 63, 62, 62, 62,
        49, 47, 47, 46, 47, 47, 48, 50, 51, 53, 53, 53, 53, 54, 54, 54, 55, 55,
        56, 58, 58, 60, 61, 61, 63, 63, 64, 63, 63, 64, 65, 66, 48, 47, 46, 45,
        46, 46, 46, 49, 51, 53, 54, 54, 55, 56, 56, 57, 58, 59, 60, 61, 61, 63,
        64, 64, 65, 65, 64, 65, 66, 66, 66, 66, 48, 47, 46, 45, 46, 46, 46, 49,
        51, 53, 54, 55, 56, 57, 57, 58, 59, 60, 61, 62, 63, 65, 65, 65, 66, 67,
        68, 67, 67, 67, 68, 69, 49, 47, 46, 45, 45, 45, 45, 49, 51, 53, 55, 56,
        58, 59, 60, 61, 62, 62, 63, 65, 65, 67, 68, 68, 69, 70, 69, 69, 69, 70,
        69, 69, 50, 48, 47, 46, 46, 46, 46, 50, 51, 54, 56, 57, 59, 61, 62, 63,
        64, 65, 66, 68, 68, 70, 71, 71, 72, 71, 71, 72, 71, 71, 71, 72, 51, 48,
        47, 46, 47, 46, 46, 50, 51, 54, 56, 57, 60, 62, 62, 64, 65, 66, 67, 69,
        69, 71, 72, 72, 73, 74, 74, 72, 73, 74, 73, 73, 52, 50, 48, 47, 47, 47,
        47, 50, 52, 54, 57, 58, 61, 63, 64, 66, 68, 68, 70, 72, 72, 75, 75, 75,
        77, 76, 75, 76, 76, 74, 75, 76, 54, 51, 50, 49, 49, 48, 48, 51, 53, 55,
        58, 59, 62, 64, 65, 68, 70, 70, 73, 74, 75, 77, 78, 78, 79, 78, 79, 78,
        77, 78, 77, 77, 55, 52, 51, 50, 49, 49, 48, 52, 53, 55, 59, 60, 62, 65,
        66, 68, 70, 71, 73, 75, 76, 78, 79, 79, 80, 81, 80, 80, 81, 79, 79, 81,
        57, 54, 53, 52, 51, 50, 50, 53, 54, 56, 60, 61, 63, 66, 67, 70, 73, 73,
        76, 78, 79, 82, 82, 83, 84, 83, 83, 83, 82, 83, 82, 81, 59, 56, 54, 53,
        53, 52, 51, 54, 56, 58, 61, 62, 65, 68, 69, 72, 74, 75, 78, 80, 81, 84,
        85, 85, 86, 86, 86, 84, 85, 84, 84, 85, 60, 57, 55, 54, 53, 53, 52, 55,
        56, 58, 61, 63, 65, 68, 69, 72, 75, 76, 79, 81, 82, 85, 86, 86, 88, 88,
        87, 88, 86, 87, 87, 85, 63, 60, 58, 57, 56, 55, 54, 57, 59, 60, 63, 65,
        67, 70, 71, 75, 77, 78, 82, 84, 85, 89, 89, 90, 92, 89, 91, 89, 90, 89,
        88, 89, 64, 61, 59, 58, 57, 56, 55, 58, 59, 61, 64, 65, 68, 71, 72, 75,
        78, 79, 82, 85, 86, 89, 90, 91, 93, 94, 92, 92, 91, 91, 92, 90, 65, 61,
        60, 58, 57, 56, 55, 58, 59, 61, 64, 65, 68, 71, 72, 75, 78, 79, 83, 85,
        86, 90, 91, 91, 93, 94, 95, 94, 94, 94, 93, 94, 67, 63, 61, 60, 59, 58,
        57, 60, 61, 63, 65, 66, 69, 72, 73, 77, 79, 80, 84, 86, 88, 92, 93, 93,
        95, 95, 96, 97, 96, 95, 96, 94, 68, 64, 63, 61, 60, 59, 58, 60, 61, 63,
        65, 67, 70, 71, 74, 76, 78, 81, 83, 86, 88, 89, 94, 94, 95, 97, 97, 98,
        99, 99, 97, 99, 68, 65, 64, 62, 61, 60, 58, 59, 61, 64, 64, 68, 69, 71,
        74, 75, 79, 80, 83, 86, 87, 91, 92, 95, 96, 97, 99, 99, 100, 100, 101,
        99, 69, 66, 65, 63, 62, 61, 59, 59, 62, 63, 65, 67, 69, 72, 72, 76, 78,
        80, 83, 84, 88, 89, 92, 94, 97, 98, 99, 101, 100, 102, 102, 104, 70, 67,
        66, 63, 63, 62, 61, 60, 63, 63, 66, 67, 69, 71, 73, 76, 77, 81, 82, 85,
        86, 90, 91, 94, 96, 99, 100, 100, 103, 102, 104, 104, 71, 67, 67, 64,
        64, 63, 62, 61, 62, 64, 66, 67, 70, 71, 74, 74, 78, 79, 83, 84, 87, 89,
        91, 94, 95, 99, 100, 102, 102, 104, 104, 106, 72, 68, 68, 65, 65, 64,
        63, 61, 62, 65, 66, 68, 69, 71, 73, 75, 77, 79, 82, 84, 87, 88, 92, 93,
        96, 97, 101, 102, 104, 104, 106, 106, 73, 69, 69, 66, 66, 64, 64, 62,
        62, 66, 66, 69, 69, 72, 73, 76, 77, 81, 81, 85, 85, 89, 90, 94, 94, 99,
        99, 104, 104, 106, 106, 108,
        /* Size 4x8 */
        31, 47, 54, 64, 38, 46, 50, 60, 46, 53, 57, 62, 46, 56, 66, 71, 50, 59,
        74, 79, 57, 64, 82, 88, 61, 65, 85, 97, 65, 67, 82, 99,
        /* Size 8x4 */
        31, 38, 46, 46, 50, 57, 61, 65, 47, 46, 53, 56, 59, 64, 65, 67, 54, 50,
        57, 66, 74, 82, 85, 82, 64, 60, 62, 71, 79, 88, 97, 99,
        /* Size 8x16 */
        32, 34, 48, 49, 54, 63, 67, 69, 31, 36, 46, 46, 50, 58, 62, 65, 33, 40,
        47, 46, 49, 56, 59, 62, 37, 44, 47, 45, 48, 54, 57, 60, 44, 46, 51, 51,
        53, 59, 60, 61, 48, 46, 53, 56, 58, 64, 64, 64, 49, 45, 53, 58, 62, 67,
        70, 68, 51, 47, 54, 60, 65, 71, 73, 72, 54, 49, 55, 62, 70, 77, 77, 76,
        57, 51, 56, 64, 73, 82, 83, 81, 60, 53, 58, 65, 75, 85, 89, 85, 64, 57,
        61, 68, 78, 89, 93, 89, 66, 59, 63, 69, 79, 91, 94, 93, 68, 61, 63, 71,
        79, 87, 96, 98, 70, 63, 63, 70, 80, 89, 97, 100, 72, 65, 63, 69, 77, 86,
        95, 102,
        /* Size 16x8 */
        32, 31, 33, 37, 44, 48, 49, 51, 54, 57, 60, 64, 66, 68, 70, 72, 34, 36,
        40, 44, 46, 46, 45, 47, 49, 51, 53, 57, 59, 61, 63, 65, 48, 46, 47, 47,
        51, 53, 53, 54, 55, 56, 58, 61, 63, 63, 63, 63, 49, 46, 46, 45, 51, 56,
        58, 60, 62, 64, 65, 68, 69, 71, 70, 69, 54, 50, 49, 48, 53, 58, 62, 65,
        70, 73, 75, 78, 79, 79, 80, 77, 63, 58, 56, 54, 59, 64, 67, 71, 77, 82,
        85, 89, 91, 87, 89, 86, 67, 62, 59, 57, 60, 64, 70, 73, 77, 83, 89, 93,
        94, 96, 97, 95, 69, 65, 62, 60, 61, 64, 68, 72, 76, 81, 85, 89, 93, 98,
        100, 102,
        /* Size 16x32 */
        32, 31, 34, 37, 48, 48, 49, 52, 54, 57, 63, 64, 67, 68, 69, 69, 31, 31,
        35, 38, 47, 47, 47, 50, 51, 54, 60, 61, 63, 64, 65, 66, 31, 32, 36, 39,
        46, 46, 46, 48, 50, 53, 58, 59, 62, 63, 65, 66, 30, 32, 36, 40, 46, 45,
        45, 48, 49, 52, 57, 58, 60, 61, 62, 63, 33, 36, 40, 43, 47, 46, 46, 47,
        49, 51, 56, 57, 59, 60, 62, 63, 35, 38, 42, 45, 47, 46, 45, 47, 48, 50,
        55, 56, 58, 60, 61, 61, 37, 40, 44, 47, 47, 46, 45, 47, 48, 50, 54, 55,
        57, 58, 60, 61, 42, 43, 45, 47, 50, 50, 49, 50, 51, 53, 57, 58, 59, 58,
        59, 59, 44, 44, 46, 47, 51, 51, 51, 52, 53, 54, 59, 59, 60, 61, 61, 60,
        49, 46, 47, 48, 53, 53, 53, 54, 55, 57, 60, 61, 63, 62, 62, 63, 48, 46,
        46, 47, 53, 54, 56, 57, 58, 60, 64, 64, 64, 64, 64, 63, 48, 45, 46, 46,
        53, 55, 56, 58, 59, 61, 65, 65, 66, 66, 65, 66, 49, 45, 45, 46, 53, 56,
        58, 61, 62, 64, 67, 68, 70, 67, 68, 66, 50, 46, 46, 46, 54, 56, 59, 63,
        65, 66, 70, 71, 70, 71, 68, 70, 51, 47, 47, 47, 54, 57, 60, 64, 65, 68,
        71, 72, 73, 71, 72, 70, 52, 48, 47, 47, 54, 57, 61, 66, 68, 71, 75, 75,
        76, 75, 73, 73, 54, 49, 49, 48, 55, 58, 62, 68, 70, 73, 77, 78, 77, 77,
        76, 74, 54, 50, 49, 49, 55, 59, 62, 68, 70, 74, 78, 79, 81, 79, 77, 78,
        57, 52, 51, 50, 56, 60, 64, 70, 73, 76, 82, 82, 83, 82, 81, 78, 59, 54,
        52, 52, 58, 61, 65, 72, 74, 78, 84, 85, 85, 83, 82, 82, 60, 54, 53, 52,
        58, 62, 65, 72, 75, 79, 85, 86, 89, 87, 85, 82, 63, 57, 56, 55, 60, 64,
        67, 75, 77, 82, 89, 90, 90, 88, 87, 86, 64, 58, 57, 55, 61, 64, 68, 75,
        78, 82, 89, 90, 93, 91, 89, 87, 64, 59, 57, 56, 61, 65, 68, 75, 78, 83,
        90, 91, 94, 93, 92, 91, 66, 60, 59, 57, 63, 66, 69, 77, 79, 84, 91, 93,
        94, 95, 93, 91, 67, 61, 60, 58, 63, 65, 70, 75, 78, 85, 88, 93, 96, 97,
        97, 95, 68, 62, 61, 59, 63, 64, 71, 74, 79, 84, 87, 94, 96, 97, 98, 96,
        69, 63, 62, 60, 63, 65, 71, 72, 80, 82, 88, 93, 96, 99, 100, 101, 70,
        64, 63, 60, 63, 66, 70, 73, 80, 81, 89, 90, 97, 99, 100, 101, 71, 65,
        64, 61, 63, 67, 70, 74, 78, 82, 88, 90, 97, 99, 102, 103, 72, 65, 65,
        62, 63, 68, 69, 75, 77, 83, 86, 92, 95, 100, 102, 103, 73, 66, 66, 63,
        63, 69, 69, 76, 76, 84, 84, 93, 93, 101, 101, 105,
        /* Size 32x16 */
        32, 31, 31, 30, 33, 35, 37, 42, 44, 49, 48, 48, 49, 50, 51, 52, 54, 54,
        57, 59, 60, 63, 64, 64, 66, 67, 68, 69, 70, 71, 72, 73, 31, 31, 32, 32,
        36, 38, 40, 43, 44, 46, 46, 45, 45, 46, 47, 48, 49, 50, 52, 54, 54, 57,
        58, 59, 60, 61, 62, 63, 64, 65, 65, 66, 34, 35, 36, 36, 40, 42, 44, 45,
        46, 47, 46, 46, 45, 46, 47, 47, 49, 49, 51, 52, 53, 56, 57, 57, 59, 60,
        61, 62, 63, 64, 65, 66, 37, 38, 39, 40, 43, 45, 47, 47, 47, 48, 47, 46,
        46, 46, 47, 47, 48, 49, 50, 52, 52, 55, 55, 56, 57, 58, 59, 60, 60, 61,
        62, 63, 48, 47, 46, 46, 47, 47, 47, 50, 51, 53, 53, 53, 53, 54, 54, 54,
        55, 55, 56, 58, 58, 60, 61, 61, 63, 63, 63, 63, 63, 63, 63, 63, 48, 47,
        46, 45, 46, 46, 46, 50, 51, 53, 54, 55, 56, 56, 57, 57, 58, 59, 60, 61,
        62, 64, 64, 65, 66, 65, 64, 65, 66, 67, 68, 69, 49, 47, 46, 45, 46, 45,
        45, 49, 51, 53, 56, 56, 58, 59, 60, 61, 62, 62, 64, 65, 65, 67, 68, 68,
        69, 70, 71, 71, 70, 70, 69, 69, 52, 50, 48, 48, 47, 47, 47, 50, 52, 54,
        57, 58, 61, 63, 64, 66, 68, 68, 70, 72, 72, 75, 75, 75, 77, 75, 74, 72,
        73, 74, 75, 76, 54, 51, 50, 49, 49, 48, 48, 51, 53, 55, 58, 59, 62, 65,
        65, 68, 70, 70, 73, 74, 75, 77, 78, 78, 79, 78, 79, 80, 80, 78, 77, 76,
        57, 54, 53, 52, 51, 50, 50, 53, 54, 57, 60, 61, 64, 66, 68, 71, 73, 74,
        76, 78, 79, 82, 82, 83, 84, 85, 84, 82, 81, 82, 83, 84, 63, 60, 58, 57,
        56, 55, 54, 57, 59, 60, 64, 65, 67, 70, 71, 75, 77, 78, 82, 84, 85, 89,
        89, 90, 91, 88, 87, 88, 89, 88, 86, 84, 64, 61, 59, 58, 57, 56, 55, 58,
        59, 61, 64, 65, 68, 71, 72, 75, 78, 79, 82, 85, 86, 90, 90, 91, 93, 93,
        94, 93, 90, 90, 92, 93, 67, 63, 62, 60, 59, 58, 57, 59, 60, 63, 64, 66,
        70, 70, 73, 76, 77, 81, 83, 85, 89, 90, 93, 94, 94, 96, 96, 96, 97, 97,
        95, 93, 68, 64, 63, 61, 60, 60, 58, 58, 61, 62, 64, 66, 67, 71, 71, 75,
        77, 79, 82, 83, 87, 88, 91, 93, 95, 97, 97, 99, 99, 99, 100, 101, 69,
        65, 65, 62, 62, 61, 60, 59, 61, 62, 64, 65, 68, 68, 72, 73, 76, 77, 81,
        82, 85, 87, 89, 92, 93, 97, 98, 100, 100, 102, 102, 101, 69, 66, 66, 63,
        63, 61, 61, 59, 60, 63, 63, 66, 66, 70, 70, 73, 74, 78, 78, 82, 82, 86,
        87, 91, 91, 95, 96, 101, 101, 103, 103, 105 },
  },
  {
      { /* Luma */
        /* Size 4x4 */
        32, 37, 58, 81, 37, 54, 72, 91, 58, 72, 102, 121, 81, 91, 121, 156,
        /* Size 8x8 */
        32, 32, 35, 42, 53, 68, 78, 90, 32, 33, 36, 42, 51, 64, 74, 84, 35, 36,
        46, 52, 60, 72, 80, 87, 42, 42, 52, 63, 73, 84, 92, 98, 53, 51, 60, 73,
        86, 100, 109, 114, 68, 64, 72, 84, 100, 117, 128, 133, 78, 74, 80, 92,
        109, 128, 140, 155, 90, 84, 87, 98, 114, 133, 155, 168,
        /* Size 16x16 */
        32, 31, 31, 32, 34, 36, 41, 47, 54, 59, 65, 74, 82, 87, 92, 97, 31, 32,
        32, 32, 34, 35, 39, 45, 50, 55, 61, 69, 76, 81, 87, 92, 31, 32, 33, 33,
        35, 36, 40, 44, 49, 54, 59, 67, 73, 78, 83, 88, 32, 32, 33, 35, 37, 38,
        41, 45, 49, 53, 58, 65, 71, 75, 80, 86, 34, 34, 35, 37, 39, 42, 46, 50,
        54, 58, 63, 70, 76, 80, 84, 85, 36, 35, 36, 38, 42, 48, 52, 56, 60, 64,
        68, 75, 80, 85, 90, 91, 41, 39, 40, 41, 46, 52, 57, 62, 67, 71, 75, 83,
        88, 92, 95, 97, 47, 45, 44, 45, 50, 56, 62, 69, 75, 79, 84, 91, 97, 100,
        102, 104, 54, 50, 49, 49, 54, 60, 67, 75, 82, 87, 92, 100, 106, 110,
        109, 112, 59, 55, 54, 53, 58, 64, 71, 79, 87, 92, 98, 106, 112, 117,
        117, 121, 65, 61, 59, 58, 63, 68, 75, 84, 92, 98, 105, 114, 120, 125,
        126, 130, 74, 69, 67, 65, 70, 75, 83, 91, 100, 106, 114, 123, 131, 135,
        137, 140, 82, 76, 73, 71, 76, 80, 88, 97, 106, 112, 120, 131, 139, 144,
        148, 150, 87, 81, 78, 75, 80, 85, 92, 100, 110, 117, 125, 135, 144, 150,
        155, 162, 92, 87, 83, 80, 84, 90, 95, 102, 109, 117, 126, 137, 148, 155,
        162, 168, 97, 92, 88, 86, 85, 91, 97, 104, 112, 121, 130, 140, 150, 162,
        168, 174,
        /* Size 32x32 */
        32, 31, 31, 31, 31, 31, 32, 32, 34, 35, 36, 39, 41, 44, 47, 48, 54, 56,
        59, 64, 65, 71, 74, 80, 82, 83, 87, 90, 92, 95, 97, 100, 31, 32, 32, 32,
        32, 32, 32, 33, 34, 35, 35, 38, 40, 42, 45, 46, 51, 53, 56, 61, 62, 68,
        71, 76, 78, 78, 83, 85, 88, 90, 92, 95, 31, 32, 32, 32, 32, 32, 32, 33,
        34, 34, 35, 38, 39, 42, 45, 45, 50, 52, 55, 60, 61, 67, 69, 74, 76, 77,
        81, 84, 87, 89, 92, 95, 31, 32, 32, 32, 32, 32, 32, 33, 33, 34, 34, 37,
        38, 41, 44, 44, 49, 51, 54, 58, 59, 65, 68, 72, 74, 75, 79, 81, 84, 86,
        88, 90, 31, 32, 32, 32, 33, 33, 33, 34, 35, 36, 36, 39, 40, 42, 44, 45,
        49, 51, 54, 58, 59, 64, 67, 71, 73, 74, 78, 80, 83, 85, 88, 90, 31, 32,
        32, 32, 33, 33, 34, 34, 35, 36, 36, 39, 40, 42, 45, 45, 50, 51, 54, 58,
        59, 64, 67, 71, 73, 74, 78, 80, 82, 84, 86, 89, 32, 32, 32, 32, 33, 34,
        35, 36, 37, 38, 38, 40, 41, 42, 45, 46, 49, 51, 53, 57, 58, 63, 65, 69,
        71, 72, 75, 78, 80, 83, 86, 89, 32, 33, 33, 33, 34, 34, 36, 36, 38, 39,
        40, 42, 43, 44, 47, 47, 51, 53, 55, 59, 60, 65, 67, 71, 73, 73, 77, 78,
        80, 82, 84, 86, 34, 34, 34, 33, 35, 35, 37, 38, 39, 42, 42, 45, 46, 47,
        50, 51, 54, 56, 58, 62, 63, 68, 70, 74, 76, 76, 80, 82, 84, 85, 85, 86,
        35, 35, 34, 34, 36, 36, 38, 39, 42, 46, 47, 49, 50, 52, 55, 55, 59, 60,
        62, 66, 67, 72, 74, 78, 79, 80, 83, 84, 85, 87, 90, 92, 36, 35, 35, 34,
        36, 36, 38, 40, 42, 47, 48, 50, 52, 54, 56, 57, 60, 61, 64, 67, 68, 73,
        75, 79, 80, 81, 85, 87, 90, 91, 91, 92, 39, 38, 38, 37, 39, 39, 40, 42,
        45, 49, 50, 54, 55, 58, 60, 61, 65, 66, 69, 72, 73, 78, 80, 84, 86, 86,
        90, 91, 91, 92, 95, 97, 41, 40, 39, 38, 40, 40, 41, 43, 46, 50, 52, 55,
        57, 60, 62, 63, 67, 69, 71, 75, 75, 80, 83, 86, 88, 89, 92, 93, 95, 97,
        97, 98, 44, 42, 42, 41, 42, 42, 42, 44, 47, 52, 54, 58, 60, 63, 66, 67,
        71, 73, 75, 79, 79, 84, 86, 90, 92, 92, 96, 98, 98, 98, 101, 104, 47,
        45, 45, 44, 44, 45, 45, 47, 50, 55, 56, 60, 62, 66, 69, 70, 75, 77, 79,
        83, 84, 89, 91, 95, 97, 97, 100, 99, 102, 105, 104, 104, 48, 46, 45, 44,
        45, 45, 46, 47, 51, 55, 57, 61, 63, 67, 70, 71, 76, 78, 80, 84, 85, 90,
        93, 96, 98, 99, 102, 106, 106, 105, 108, 111, 54, 51, 50, 49, 49, 50,
        49, 51, 54, 59, 60, 65, 67, 71, 75, 76, 82, 84, 87, 91, 92, 97, 100,
        104, 106, 106, 110, 108, 109, 112, 112, 111, 56, 53, 52, 51, 51, 51, 51,
        53, 56, 60, 61, 66, 69, 73, 77, 78, 84, 86, 89, 93, 94, 100, 102, 106,
        108, 109, 112, 113, 115, 114, 116, 119, 59, 56, 55, 54, 54, 54, 53, 55,
        58, 62, 64, 69, 71, 75, 79, 80, 87, 89, 92, 97, 98, 103, 106, 110, 112,
        113, 117, 118, 117, 121, 121, 119, 64, 61, 60, 58, 58, 58, 57, 59, 62,
        66, 67, 72, 75, 79, 83, 84, 91, 93, 97, 102, 103, 109, 112, 116, 118,
        119, 122, 121, 125, 123, 125, 128, 65, 62, 61, 59, 59, 59, 58, 60, 63,
        67, 68, 73, 75, 79, 84, 85, 92, 94, 98, 103, 105, 111, 114, 118, 120,
        121, 125, 129, 126, 129, 130, 129, 71, 68, 67, 65, 64, 64, 63, 65, 68,
        72, 73, 78, 80, 84, 89, 90, 97, 100, 103, 109, 111, 117, 120, 125, 127,
        128, 133, 130, 134, 133, 133, 137, 74, 71, 69, 68, 67, 67, 65, 67, 70,
        74, 75, 80, 83, 86, 91, 93, 100, 102, 106, 112, 114, 120, 123, 128, 131,
        131, 135, 137, 137, 138, 140, 137, 80, 76, 74, 72, 71, 71, 69, 71, 74,
        78, 79, 84, 86, 90, 95, 96, 104, 106, 110, 116, 118, 125, 128, 134, 136,
        137, 142, 141, 142, 143, 143, 147, 82, 78, 76, 74, 73, 73, 71, 73, 76,
        79, 80, 86, 88, 92, 97, 98, 106, 108, 112, 118, 120, 127, 131, 136, 139,
        139, 144, 147, 148, 147, 150, 148, 83, 78, 77, 75, 74, 74, 72, 73, 76,
        80, 81, 86, 89, 92, 97, 99, 106, 109, 113, 119, 121, 128, 131, 137, 139,
        140, 145, 150, 152, 155, 152, 157, 87, 83, 81, 79, 78, 78, 75, 77, 80,
        83, 85, 90, 92, 96, 100, 102, 110, 112, 117, 122, 125, 133, 135, 142,
        144, 145, 150, 151, 155, 158, 162, 158, 90, 85, 84, 81, 80, 80, 78, 78,
        82, 84, 87, 91, 93, 98, 99, 106, 108, 113, 118, 121, 129, 130, 137, 141,
        147, 150, 151, 156, 156, 161, 164, 169, 92, 88, 87, 84, 83, 82, 80, 80,
        84, 85, 90, 91, 95, 98, 102, 106, 109, 115, 117, 125, 126, 134, 137,
        142, 148, 152, 155, 156, 162, 162, 168, 170, 95, 90, 89, 86, 85, 84, 83,
        82, 85, 87, 91, 92, 97, 98, 105, 105, 112, 114, 121, 123, 129, 133, 138,
        143, 147, 155, 158, 161, 162, 168, 168, 174, 97, 92, 92, 88, 88, 86, 86,
        84, 85, 90, 91, 95, 97, 101, 104, 108, 112, 116, 121, 125, 130, 133,
        140, 143, 150, 152, 162, 164, 168, 168, 174, 175, 100, 95, 95, 90, 90,
        89, 89, 86, 86, 92, 92, 97, 98, 104, 104, 111, 111, 119, 119, 128, 129,
        137, 137, 147, 148, 157, 158, 169, 170, 174, 175, 181,
        /* Size 4x8 */
        32, 35, 59, 83, 32, 36, 57, 78, 34, 47, 65, 82, 41, 53, 78, 97, 51, 61,
        92, 111, 65, 73, 108, 129, 75, 81, 117, 148, 86, 92, 119, 154,
        /* Size 8x4 */
        32, 32, 34, 41, 51, 65, 75, 86, 35, 36, 47, 53, 61, 73, 81, 92, 59, 57,
        65, 78, 92, 108, 117, 119, 83, 78, 82, 97, 111, 129, 148, 154,
        /* Size 8x16 */
        32, 31, 35, 44, 53, 65, 82, 90, 31, 32, 34, 41, 50, 61, 76, 85, 31, 33,
        35, 42, 49, 59, 73, 81, 32, 34, 37, 42, 49, 58, 71, 79, 34, 35, 41, 48,
        54, 63, 76, 81, 36, 36, 46, 54, 60, 68, 80, 87, 41, 40, 49, 60, 67, 76,
        88, 93, 47, 44, 53, 66, 75, 84, 97, 101, 53, 50, 57, 71, 82, 92, 106,
        108, 58, 54, 61, 75, 87, 98, 112, 116, 65, 59, 66, 79, 92, 105, 120,
        124, 74, 67, 73, 86, 100, 113, 131, 134, 82, 73, 79, 92, 105, 120, 139,
        142, 87, 78, 83, 96, 110, 125, 144, 153, 92, 83, 84, 97, 114, 132, 150,
        157, 97, 88, 86, 97, 111, 128, 147, 163,
        /* Size 16x8 */
        32, 31, 31, 32, 34, 36, 41, 47, 53, 58, 65, 74, 82, 87, 92, 97, 31, 32,
        33, 34, 35, 36, 40, 44, 50, 54, 59, 67, 73, 78, 83, 88, 35, 34, 35, 37,
        41, 46, 49, 53, 57, 61, 66, 73, 79, 83, 84, 86, 44, 41, 42, 42, 48, 54,
        60, 66, 71, 75, 79, 86, 92, 96, 97, 97, 53, 50, 49, 49, 54, 60, 67, 75,
        82, 87, 92, 100, 105, 110, 114, 111, 65, 61, 59, 58, 63, 68, 76, 84, 92,
        98, 105, 113, 120, 125, 132, 128, 82, 76, 73, 71, 76, 80, 88, 97, 106,
        112, 120, 131, 139, 144, 150, 147, 90, 85, 81, 79, 81, 87, 93, 101, 108,
        116, 124, 134, 142, 153, 157, 163,
        /* Size 16x32 */
        32, 31, 31, 32, 35, 36, 44, 47, 53, 62, 65, 79, 82, 88, 90, 93, 31, 32,
        32, 32, 35, 35, 42, 45, 51, 59, 62, 75, 78, 83, 86, 88, 31, 32, 32, 32,
        34, 35, 41, 45, 50, 58, 61, 74, 76, 82, 85, 88, 31, 32, 32, 33, 34, 34,
        41, 44, 49, 57, 59, 72, 74, 79, 82, 84, 31, 32, 33, 34, 35, 36, 42, 44,
        49, 57, 59, 71, 73, 79, 81, 84, 32, 32, 33, 34, 36, 36, 42, 45, 50, 57,
        59, 71, 73, 78, 80, 82, 32, 33, 34, 35, 37, 38, 42, 45, 49, 56, 58, 69,
        71, 76, 79, 83, 32, 33, 34, 36, 39, 40, 44, 47, 51, 58, 60, 71, 73, 76,
        78, 80, 34, 34, 35, 37, 41, 42, 48, 50, 54, 61, 63, 73, 76, 81, 81, 80,
        35, 34, 36, 38, 45, 47, 52, 55, 59, 65, 67, 77, 79, 82, 83, 86, 36, 34,
        36, 38, 46, 48, 54, 56, 60, 66, 68, 78, 80, 85, 87, 86, 39, 37, 39, 40,
        48, 50, 58, 60, 65, 71, 73, 84, 86, 89, 88, 91, 41, 39, 40, 41, 49, 51,
        60, 62, 67, 74, 76, 86, 88, 91, 93, 91, 44, 41, 42, 43, 51, 53, 63, 66,
        71, 78, 79, 90, 92, 97, 94, 97, 47, 44, 44, 45, 53, 56, 66, 69, 75, 82,
        84, 95, 97, 98, 101, 98, 48, 45, 45, 46, 54, 56, 67, 70, 76, 83, 85, 96,
        98, 104, 101, 105, 53, 49, 50, 50, 57, 60, 71, 75, 82, 90, 92, 103, 106,
        107, 108, 105, 55, 51, 51, 51, 59, 61, 72, 77, 84, 92, 94, 106, 108,
        111, 110, 112, 58, 54, 54, 54, 61, 63, 75, 79, 87, 95, 98, 110, 112,
        117, 116, 113, 63, 58, 58, 57, 65, 67, 78, 83, 91, 100, 103, 116, 118,
        119, 119, 121, 65, 60, 59, 58, 66, 68, 79, 84, 92, 102, 105, 118, 120,
        127, 124, 122, 71, 65, 64, 63, 71, 73, 84, 89, 97, 108, 111, 125, 127,
        129, 129, 130, 74, 68, 67, 66, 73, 75, 86, 91, 100, 110, 113, 128, 131,
        135, 134, 130, 79, 72, 71, 70, 77, 79, 90, 95, 104, 115, 118, 133, 136,
        140, 139, 140, 82, 75, 73, 72, 79, 81, 92, 97, 105, 117, 120, 136, 139,
        145, 142, 140, 82, 75, 74, 72, 79, 81, 92, 97, 106, 117, 121, 136, 139,
        148, 150, 149, 87, 79, 78, 76, 83, 85, 96, 100, 110, 120, 125, 141, 144,
        148, 153, 150, 89, 82, 81, 78, 83, 87, 97, 99, 113, 118, 128, 139, 145,
        153, 157, 161, 92, 84, 83, 80, 84, 89, 97, 101, 114, 116, 132, 135, 150,
        153, 157, 162, 94, 86, 85, 82, 85, 92, 97, 104, 112, 119, 130, 136, 151,
        154, 163, 166, 97, 88, 88, 85, 86, 94, 97, 107, 111, 123, 128, 140, 147,
        159, 163, 167, 99, 91, 91, 87, 87, 97, 97, 110, 110, 126, 126, 144, 144,
        163, 163, 173,
        /* Size 32x16 */
        32, 31, 31, 31, 31, 32, 32, 32, 34, 35, 36, 39, 41, 44, 47, 48, 53, 55,
        58, 63, 65, 71, 74, 79, 82, 82, 87, 89, 92, 94, 97, 99, 31, 32, 32, 32,
        32, 32, 33, 33, 34, 34, 34, 37, 39, 41, 44, 45, 49, 51, 54, 58, 60, 65,
        68, 72, 75, 75, 79, 82, 84, 86, 88, 91, 31, 32, 32, 32, 33, 33, 34, 34,
        35, 36, 36, 39, 40, 42, 44, 45, 50, 51, 54, 58, 59, 64, 67, 71, 73, 74,
        78, 81, 83, 85, 88, 91, 32, 32, 32, 33, 34, 34, 35, 36, 37, 38, 38, 40,
        41, 43, 45, 46, 50, 51, 54, 57, 58, 63, 66, 70, 72, 72, 76, 78, 80, 82,
        85, 87, 35, 35, 34, 34, 35, 36, 37, 39, 41, 45, 46, 48, 49, 51, 53, 54,
        57, 59, 61, 65, 66, 71, 73, 77, 79, 79, 83, 83, 84, 85, 86, 87, 36, 35,
        35, 34, 36, 36, 38, 40, 42, 47, 48, 50, 51, 53, 56, 56, 60, 61, 63, 67,
        68, 73, 75, 79, 81, 81, 85, 87, 89, 92, 94, 97, 44, 42, 41, 41, 42, 42,
        42, 44, 48, 52, 54, 58, 60, 63, 66, 67, 71, 72, 75, 78, 79, 84, 86, 90,
        92, 92, 96, 97, 97, 97, 97, 97, 47, 45, 45, 44, 44, 45, 45, 47, 50, 55,
        56, 60, 62, 66, 69, 70, 75, 77, 79, 83, 84, 89, 91, 95, 97, 97, 100, 99,
        101, 104, 107, 110, 53, 51, 50, 49, 49, 50, 49, 51, 54, 59, 60, 65, 67,
        71, 75, 76, 82, 84, 87, 91, 92, 97, 100, 104, 105, 106, 110, 113, 114,
        112, 111, 110, 62, 59, 58, 57, 57, 57, 56, 58, 61, 65, 66, 71, 74, 78,
        82, 83, 90, 92, 95, 100, 102, 108, 110, 115, 117, 117, 120, 118, 116,
        119, 123, 126, 65, 62, 61, 59, 59, 59, 58, 60, 63, 67, 68, 73, 76, 79,
        84, 85, 92, 94, 98, 103, 105, 111, 113, 118, 120, 121, 125, 128, 132,
        130, 128, 126, 79, 75, 74, 72, 71, 71, 69, 71, 73, 77, 78, 84, 86, 90,
        95, 96, 103, 106, 110, 116, 118, 125, 128, 133, 136, 136, 141, 139, 135,
        136, 140, 144, 82, 78, 76, 74, 73, 73, 71, 73, 76, 79, 80, 86, 88, 92,
        97, 98, 106, 108, 112, 118, 120, 127, 131, 136, 139, 139, 144, 145, 150,
        151, 147, 144, 88, 83, 82, 79, 79, 78, 76, 76, 81, 82, 85, 89, 91, 97,
        98, 104, 107, 111, 117, 119, 127, 129, 135, 140, 145, 148, 148, 153,
        153, 154, 159, 163, 90, 86, 85, 82, 81, 80, 79, 78, 81, 83, 87, 88, 93,
        94, 101, 101, 108, 110, 116, 119, 124, 129, 134, 139, 142, 150, 153,
        157, 157, 163, 163, 163, 93, 88, 88, 84, 84, 82, 83, 80, 80, 86, 86, 91,
        91, 97, 98, 105, 105, 112, 113, 121, 122, 130, 130, 140, 140, 149, 150,
        161, 162, 166, 167, 173 },
      { /* Chroma */
        /* Size 4x4 */
        32, 45, 51, 61, 45, 54, 59, 65, 51, 59, 75, 81, 61, 65, 81, 97,
        /* Size 8x8 */
        31, 34, 46, 47, 50, 57, 61, 65, 34, 39, 47, 45, 48, 53, 57, 61, 46, 47,
        52, 52, 54, 58, 61, 62, 47, 45, 52, 58, 62, 65, 68, 68, 50, 48, 54, 62,
        68, 73, 77, 76, 57, 53, 58, 65, 73, 82, 86, 86, 61, 57, 61, 68, 77, 86,
        91, 95, 65, 61, 62, 68, 76, 86, 95, 100,
        /* Size 16x16 */
        32, 31, 33, 36, 41, 49, 49, 50, 52, 54, 57, 61, 64, 67, 68, 70, 31, 31,
        34, 39, 42, 47, 46, 47, 49, 51, 53, 57, 60, 62, 64, 66, 33, 34, 37, 42,
        44, 47, 46, 46, 47, 49, 51, 55, 57, 59, 61, 63, 36, 39, 42, 47, 47, 48,
        46, 46, 47, 48, 50, 53, 55, 57, 59, 61, 41, 42, 44, 47, 48, 50, 49, 50,
        50, 52, 53, 56, 58, 60, 61, 60, 49, 47, 47, 48, 50, 53, 53, 54, 54, 55,
        56, 59, 61, 63, 64, 64, 49, 46, 46, 46, 49, 53, 55, 57, 59, 60, 61, 64,
        66, 67, 67, 67, 50, 47, 46, 46, 50, 54, 57, 61, 63, 64, 66, 69, 70, 72,
        71, 71, 52, 49, 47, 47, 50, 54, 59, 63, 66, 68, 70, 73, 75, 77, 75, 75,
        54, 51, 49, 48, 52, 55, 60, 64, 68, 71, 73, 76, 79, 80, 79, 79, 57, 53,
        51, 50, 53, 56, 61, 66, 70, 73, 76, 80, 82, 84, 83, 84, 61, 57, 55, 53,
        56, 59, 64, 69, 73, 76, 80, 84, 87, 89, 88, 88, 64, 60, 57, 55, 58, 61,
        66, 70, 75, 79, 82, 87, 91, 93, 93, 93, 67, 62, 59, 57, 60, 63, 67, 72,
        77, 80, 84, 89, 93, 95, 96, 97, 68, 64, 61, 59, 61, 64, 67, 71, 75, 79,
        83, 88, 93, 96, 99, 100, 70, 66, 63, 61, 60, 64, 67, 71, 75, 79, 84, 88,
        93, 97, 100, 102,
        /* Size 32x32 */
        32, 31, 31, 30, 33, 33, 36, 38, 41, 47, 49, 48, 49, 49, 50, 50, 52, 53,
        54, 56, 57, 60, 61, 63, 64, 65, 67, 67, 68, 69, 70, 71, 31, 31, 31, 31,
        34, 34, 38, 40, 42, 46, 47, 47, 47, 47, 48, 48, 50, 50, 52, 54, 54, 57,
        58, 60, 61, 61, 63, 64, 65, 65, 66, 67, 31, 31, 31, 31, 34, 35, 39, 40,
        42, 46, 47, 46, 46, 46, 47, 47, 49, 50, 51, 53, 53, 56, 57, 59, 60, 60,
        62, 63, 64, 65, 66, 67, 30, 31, 31, 32, 34, 35, 40, 41, 42, 45, 46, 45,
        45, 45, 46, 46, 47, 48, 49, 51, 52, 54, 55, 57, 58, 58, 60, 61, 62, 62,
        63, 64, 33, 34, 34, 34, 37, 38, 42, 43, 44, 46, 47, 46, 46, 45, 46, 46,
        47, 48, 49, 51, 51, 53, 55, 56, 57, 57, 59, 60, 61, 62, 63, 64, 33, 34,
        35, 35, 38, 39, 43, 44, 45, 47, 47, 46, 46, 45, 46, 46, 47, 48, 49, 51,
        51, 53, 54, 56, 57, 57, 59, 60, 60, 61, 62, 62, 36, 38, 39, 40, 42, 43,
        47, 47, 47, 47, 48, 46, 46, 45, 46, 46, 47, 47, 48, 49, 50, 52, 53, 54,
        55, 55, 57, 58, 59, 60, 61, 62, 38, 40, 40, 41, 43, 44, 47, 47, 48, 48,
        49, 48, 47, 47, 47, 47, 48, 49, 49, 51, 51, 53, 54, 55, 56, 56, 58, 58,
        58, 59, 60, 60, 41, 42, 42, 42, 44, 45, 47, 48, 48, 50, 50, 49, 49, 49,
        50, 50, 50, 51, 52, 53, 53, 55, 56, 57, 58, 58, 60, 61, 61, 61, 60, 60,
        47, 46, 46, 45, 46, 47, 47, 48, 50, 52, 52, 52, 52, 52, 53, 53, 53, 54,
        55, 55, 56, 58, 58, 60, 60, 61, 62, 61, 61, 62, 63, 64, 49, 47, 47, 46,
        47, 47, 48, 49, 50, 52, 53, 53, 53, 53, 54, 54, 54, 55, 55, 56, 56, 58,
        59, 60, 61, 61, 63, 63, 64, 64, 64, 64, 48, 47, 46, 45, 46, 46, 46, 48,
        49, 52, 53, 54, 55, 55, 56, 56, 57, 58, 58, 59, 60, 61, 62, 63, 64, 64,
        66, 65, 65, 65, 66, 67, 49, 47, 46, 45, 46, 46, 46, 47, 49, 52, 53, 55,
        55, 57, 57, 58, 59, 59, 60, 61, 61, 63, 64, 65, 66, 66, 67, 67, 67, 68,
        67, 67, 49, 47, 46, 45, 45, 45, 45, 47, 49, 52, 53, 55, 57, 58, 59, 60,
        61, 62, 62, 63, 63, 65, 66, 67, 68, 68, 69, 70, 69, 68, 69, 70, 50, 48,
        47, 46, 46, 46, 46, 47, 50, 53, 54, 56, 57, 59, 61, 61, 63, 64, 64, 66,
        66, 68, 69, 70, 70, 71, 72, 70, 71, 72, 71, 70, 50, 48, 47, 46, 46, 46,
        46, 47, 50, 53, 54, 56, 58, 60, 61, 61, 63, 64, 65, 66, 67, 68, 69, 71,
        71, 71, 73, 74, 73, 72, 73, 74, 52, 50, 49, 47, 47, 47, 47, 48, 50, 53,
        54, 57, 59, 61, 63, 63, 66, 67, 68, 70, 70, 72, 73, 75, 75, 75, 77, 75,
        75, 76, 75, 74, 53, 50, 50, 48, 48, 48, 47, 49, 51, 54, 55, 58, 59, 62,
        64, 64, 67, 68, 69, 71, 71, 73, 74, 76, 77, 77, 78, 78, 78, 76, 77, 78,
        54, 52, 51, 49, 49, 49, 48, 49, 52, 55, 55, 58, 60, 62, 64, 65, 68, 69,
        71, 73, 73, 75, 76, 78, 79, 79, 80, 80, 79, 80, 79, 78, 56, 54, 53, 51,
        51, 51, 49, 51, 53, 55, 56, 59, 61, 63, 66, 66, 70, 71, 73, 75, 76, 78,
        79, 81, 82, 82, 83, 81, 83, 81, 81, 82, 57, 54, 53, 52, 51, 51, 50, 51,
        53, 56, 56, 60, 61, 63, 66, 67, 70, 71, 73, 76, 76, 79, 80, 82, 82, 83,
        84, 85, 83, 84, 84, 82, 60, 57, 56, 54, 53, 53, 52, 53, 55, 58, 58, 61,
        63, 65, 68, 68, 72, 73, 75, 78, 79, 82, 83, 85, 86, 86, 88, 86, 87, 86,
        85, 86, 61, 58, 57, 55, 55, 54, 53, 54, 56, 58, 59, 62, 64, 66, 69, 69,
        73, 74, 76, 79, 80, 83, 84, 86, 87, 88, 89, 89, 88, 88, 88, 86, 63, 60,
        59, 57, 56, 56, 54, 55, 57, 60, 60, 63, 65, 67, 70, 71, 75, 76, 78, 81,
        82, 85, 86, 89, 90, 90, 92, 91, 91, 90, 89, 91, 64, 61, 60, 58, 57, 57,
        55, 56, 58, 60, 61, 64, 66, 68, 70, 71, 75, 77, 79, 82, 82, 86, 87, 90,
        91, 91, 93, 93, 93, 92, 93, 91, 65, 61, 60, 58, 57, 57, 55, 56, 58, 61,
        61, 64, 66, 68, 71, 71, 75, 77, 79, 82, 83, 86, 88, 90, 91, 91, 93, 94,
        95, 95, 93, 95, 67, 63, 62, 60, 59, 59, 57, 58, 60, 62, 63, 66, 67, 69,
        72, 73, 77, 78, 80, 83, 84, 88, 89, 92, 93, 93, 95, 95, 96, 96, 97, 95,
        67, 64, 63, 61, 60, 60, 58, 58, 61, 61, 63, 65, 67, 70, 70, 74, 75, 78,
        80, 81, 85, 86, 89, 91, 93, 94, 95, 97, 97, 98, 98, 100, 68, 65, 64, 62,
        61, 60, 59, 58, 61, 61, 64, 65, 67, 69, 71, 73, 75, 78, 79, 83, 83, 87,
        88, 91, 93, 95, 96, 97, 99, 98, 100, 100, 69, 65, 65, 62, 62, 61, 60,
        59, 61, 62, 64, 65, 68, 68, 72, 72, 76, 76, 80, 81, 84, 86, 88, 90, 92,
        95, 96, 98, 98, 100, 100, 101, 70, 66, 66, 63, 63, 62, 61, 60, 60, 63,
        64, 66, 67, 69, 71, 73, 75, 77, 79, 81, 84, 85, 88, 89, 93, 93, 97, 98,
        100, 100, 102, 101, 71, 67, 67, 64, 64, 62, 62, 60, 60, 64, 64, 67, 67,
        70, 70, 74, 74, 78, 78, 82, 82, 86, 86, 91, 91, 95, 95, 100, 100, 101,
        101, 104,
        /* Size 4x8 */
        31, 47, 53, 63, 36, 47, 50, 59, 46, 52, 55, 61, 45, 53, 63, 70, 49, 55,
        71, 77, 54, 58, 77, 86, 59, 61, 81, 94, 63, 65, 80, 95,
        /* Size 8x4 */
        31, 36, 46, 45, 49, 54, 59, 63, 47, 47, 52, 53, 55, 58, 61, 65, 53, 50,
        55, 63, 71, 77, 81, 80, 63, 59, 61, 70, 77, 86, 94, 95,
        /* Size 8x16 */
        32, 33, 45, 49, 52, 57, 64, 68, 31, 34, 45, 46, 49, 53, 60, 64, 33, 37,
        46, 45, 47, 51, 57, 61, 37, 43, 47, 45, 47, 50, 55, 59, 42, 44, 49, 49,
        50, 53, 58, 60, 49, 47, 52, 53, 54, 57, 61, 63, 48, 46, 51, 57, 59, 61,
        66, 67, 50, 46, 52, 59, 63, 66, 71, 71, 52, 47, 53, 61, 66, 71, 75, 74,
        54, 49, 54, 62, 68, 73, 79, 79, 57, 51, 55, 64, 70, 76, 83, 83, 61, 55,
        58, 66, 73, 80, 87, 87, 64, 57, 60, 68, 75, 83, 91, 91, 66, 59, 61, 69,
        77, 84, 93, 95, 68, 61, 61, 68, 77, 86, 94, 97, 70, 63, 61, 67, 75, 83,
        92, 98,
        /* Size 16x8 */
        32, 31, 33, 37, 42, 49, 48, 50, 52, 54, 57, 61, 64, 66, 68, 70, 33, 34,
        37, 43, 44, 47, 46, 46, 47, 49, 51, 55, 57, 59, 61, 63, 45, 45, 46, 47,
        49, 52, 51, 52, 53, 54, 55, 58, 60, 61, 61, 61, 49, 46, 45, 45, 49, 53,
        57, 59, 61, 62, 64, 66, 68, 69, 68, 67, 52, 49, 47, 47, 50, 54, 59, 63,
        66, 68, 70, 73, 75, 77, 77, 75, 57, 53, 51, 50, 53, 57, 61, 66, 71, 73,
        76, 80, 83, 84, 86, 83, 64, 60, 57, 55, 58, 61, 66, 71, 75, 79, 83, 87,
        91, 93, 94, 92, 68, 64, 61, 59, 60, 63, 67, 71, 74, 79, 83, 87, 91, 95,
        97, 98,
        /* Size 16x32 */
        32, 31, 33, 37, 45, 48, 49, 50, 52, 56, 57, 63, 64, 67, 68, 68, 31, 31,
        34, 38, 45, 47, 47, 48, 50, 53, 54, 60, 61, 63, 64, 65, 31, 32, 34, 39,
        45, 46, 46, 47, 49, 52, 53, 59, 60, 62, 64, 65, 30, 32, 35, 40, 44, 46,
        45, 46, 48, 51, 52, 57, 58, 60, 61, 62, 33, 35, 37, 42, 46, 47, 45, 46,
        47, 50, 51, 56, 57, 60, 61, 62, 33, 36, 38, 43, 46, 47, 46, 46, 47, 50,
        51, 56, 57, 59, 60, 60, 37, 40, 43, 47, 47, 47, 45, 46, 47, 49, 50, 54,
        55, 57, 59, 61, 39, 41, 43, 47, 48, 48, 47, 47, 48, 50, 51, 55, 56, 57,
        58, 59, 42, 43, 44, 47, 49, 50, 49, 50, 50, 53, 53, 57, 58, 60, 60, 59,
        47, 46, 46, 48, 51, 52, 53, 53, 53, 55, 56, 60, 61, 61, 61, 62, 49, 46,
        47, 48, 52, 53, 53, 54, 54, 56, 57, 60, 61, 63, 63, 62, 48, 46, 46, 47,
        51, 53, 56, 56, 57, 59, 60, 64, 64, 65, 64, 65, 48, 45, 46, 46, 51, 53,
        57, 57, 59, 61, 61, 65, 66, 66, 67, 65, 49, 45, 45, 46, 51, 53, 58, 59,
        61, 63, 64, 67, 68, 70, 67, 68, 50, 46, 46, 46, 52, 54, 59, 61, 63, 65,
        66, 70, 71, 70, 71, 68, 50, 46, 46, 46, 52, 54, 59, 61, 64, 66, 67, 71,
        71, 73, 71, 72, 52, 48, 47, 47, 53, 54, 61, 63, 66, 70, 71, 75, 75, 75,
        74, 72, 53, 49, 48, 48, 53, 55, 61, 64, 67, 71, 72, 76, 77, 77, 75, 76,
        54, 50, 49, 49, 54, 55, 62, 65, 68, 72, 73, 78, 79, 80, 79, 76, 56, 51,
        51, 50, 55, 56, 63, 66, 70, 74, 76, 81, 82, 81, 80, 80, 57, 52, 51, 50,
        55, 56, 64, 66, 70, 75, 76, 82, 83, 85, 83, 80, 60, 54, 54, 52, 57, 58,
        65, 68, 72, 77, 79, 85, 86, 86, 85, 84, 61, 56, 55, 53, 58, 59, 66, 69,
        73, 79, 80, 86, 87, 89, 87, 84, 63, 57, 56, 55, 59, 60, 67, 70, 75, 80,
        82, 89, 90, 91, 89, 89, 64, 58, 57, 56, 60, 61, 68, 71, 75, 81, 83, 90,
        91, 93, 91, 89, 64, 59, 58, 56, 60, 61, 68, 71, 75, 81, 83, 90, 91, 94,
        94, 93, 66, 60, 59, 57, 61, 63, 69, 72, 77, 82, 84, 92, 93, 94, 95, 93,
        67, 61, 60, 58, 61, 63, 69, 70, 78, 80, 85, 90, 93, 96, 97, 97, 68, 62,
        61, 59, 61, 64, 68, 71, 77, 79, 86, 88, 94, 96, 97, 98, 69, 63, 62, 59,
        61, 65, 68, 72, 76, 80, 85, 88, 94, 95, 99, 99, 70, 63, 63, 60, 61, 66,
        67, 73, 75, 81, 83, 89, 92, 97, 98, 99, 70, 64, 64, 61, 61, 67, 67, 74,
        74, 82, 82, 90, 90, 98, 98, 102,
        /* Size 32x16 */
        32, 31, 31, 30, 33, 33, 37, 39, 42, 47, 49, 48, 48, 49, 50, 50, 52, 53,
        54, 56, 57, 60, 61, 63, 64, 64, 66, 67, 68, 69, 70, 70, 31, 31, 32, 32,
        35, 36, 40, 41, 43, 46, 46, 46, 45, 45, 46, 46, 48, 49, 50, 51, 52, 54,
        56, 57, 58, 59, 60, 61, 62, 63, 63, 64, 33, 34, 34, 35, 37, 38, 43, 43,
        44, 46, 47, 46, 46, 45, 46, 46, 47, 48, 49, 51, 51, 54, 55, 56, 57, 58,
        59, 60, 61, 62, 63, 64, 37, 38, 39, 40, 42, 43, 47, 47, 47, 48, 48, 47,
        46, 46, 46, 46, 47, 48, 49, 50, 50, 52, 53, 55, 56, 56, 57, 58, 59, 59,
        60, 61, 45, 45, 45, 44, 46, 46, 47, 48, 49, 51, 52, 51, 51, 51, 52, 52,
        53, 53, 54, 55, 55, 57, 58, 59, 60, 60, 61, 61, 61, 61, 61, 61, 48, 47,
        46, 46, 47, 47, 47, 48, 50, 52, 53, 53, 53, 53, 54, 54, 54, 55, 55, 56,
        56, 58, 59, 60, 61, 61, 63, 63, 64, 65, 66, 67, 49, 47, 46, 45, 45, 46,
        45, 47, 49, 53, 53, 56, 57, 58, 59, 59, 61, 61, 62, 63, 64, 65, 66, 67,
        68, 68, 69, 69, 68, 68, 67, 67, 50, 48, 47, 46, 46, 46, 46, 47, 50, 53,
        54, 56, 57, 59, 61, 61, 63, 64, 65, 66, 66, 68, 69, 70, 71, 71, 72, 70,
        71, 72, 73, 74, 52, 50, 49, 48, 47, 47, 47, 48, 50, 53, 54, 57, 59, 61,
        63, 64, 66, 67, 68, 70, 70, 72, 73, 75, 75, 75, 77, 78, 77, 76, 75, 74,
        56, 53, 52, 51, 50, 50, 49, 50, 53, 55, 56, 59, 61, 63, 65, 66, 70, 71,
        72, 74, 75, 77, 79, 80, 81, 81, 82, 80, 79, 80, 81, 82, 57, 54, 53, 52,
        51, 51, 50, 51, 53, 56, 57, 60, 61, 64, 66, 67, 71, 72, 73, 76, 76, 79,
        80, 82, 83, 83, 84, 85, 86, 85, 83, 82, 63, 60, 59, 57, 56, 56, 54, 55,
        57, 60, 60, 64, 65, 67, 70, 71, 75, 76, 78, 81, 82, 85, 86, 89, 90, 90,
        92, 90, 88, 88, 89, 90, 64, 61, 60, 58, 57, 57, 55, 56, 58, 61, 61, 64,
        66, 68, 71, 71, 75, 77, 79, 82, 83, 86, 87, 90, 91, 91, 93, 93, 94, 94,
        92, 90, 67, 63, 62, 60, 60, 59, 57, 57, 60, 61, 63, 65, 66, 70, 70, 73,
        75, 77, 80, 81, 85, 86, 89, 91, 93, 94, 94, 96, 96, 95, 97, 98, 68, 64,
        64, 61, 61, 60, 59, 58, 60, 61, 63, 64, 67, 67, 71, 71, 74, 75, 79, 80,
        83, 85, 87, 89, 91, 94, 95, 97, 97, 99, 98, 98, 68, 65, 65, 62, 62, 60,
        61, 59, 59, 62, 62, 65, 65, 68, 68, 72, 72, 76, 76, 80, 80, 84, 84, 89,
        89, 93, 93, 97, 98, 99, 99, 102 },
  },
  {
      { /* Luma */
        /* Size 4x4 */
        32, 34, 53, 75, 34, 49, 64, 81, 53, 64, 91, 112, 75, 81, 112, 140,
        /* Size 8x8 */
        32, 32, 34, 39, 50, 62, 76, 84, 32, 33, 35, 40, 48, 59, 71, 79, 34, 35,
        39, 46, 53, 63, 74, 81, 39, 40, 46, 56, 65, 75, 86, 92, 50, 48, 53, 65,
        78, 90, 101, 106, 62, 59, 63, 75, 90, 105, 118, 123, 76, 71, 74, 86,
        101, 118, 134, 142, 84, 79, 81, 92, 106, 123, 142, 153,
        /* Size 16x16 */
        32, 31, 31, 32, 33, 36, 39, 44, 48, 54, 59, 66, 74, 81, 86, 91, 31, 32,
        32, 32, 33, 35, 38, 42, 46, 51, 56, 63, 70, 77, 81, 86, 31, 32, 32, 33,
        34, 35, 38, 41, 45, 49, 54, 60, 67, 73, 77, 82, 32, 32, 33, 34, 36, 37,
        40, 42, 45, 49, 53, 59, 66, 71, 75, 80, 33, 33, 34, 36, 38, 42, 44, 46,
        50, 53, 57, 63, 69, 74, 78, 80, 36, 35, 35, 37, 42, 48, 50, 54, 57, 60,
        64, 69, 75, 80, 84, 85, 39, 38, 38, 40, 44, 50, 54, 58, 61, 65, 69, 74,
        80, 85, 89, 91, 44, 42, 41, 42, 46, 54, 58, 63, 67, 71, 75, 80, 86, 91,
        95, 97, 48, 46, 45, 45, 50, 57, 61, 67, 71, 76, 80, 86, 93, 98, 101,
        104, 54, 51, 49, 49, 53, 60, 65, 71, 76, 82, 87, 93, 100, 105, 109, 112,
        59, 56, 54, 53, 57, 64, 69, 75, 80, 87, 92, 99, 106, 112, 116, 120, 66,
        63, 60, 59, 63, 69, 74, 80, 86, 93, 99, 107, 115, 121, 125, 129, 74, 70,
        67, 66, 69, 75, 80, 86, 93, 100, 106, 115, 123, 130, 135, 138, 81, 77,
        73, 71, 74, 80, 85, 91, 98, 105, 112, 121, 130, 137, 142, 148, 86, 81,
        77, 75, 78, 84, 89, 95, 101, 109, 116, 125, 135, 142, 147, 153, 91, 86,
        82, 80, 80, 85, 91, 97, 104, 112, 120, 129, 138, 148, 153, 159,
        /* Size 32x32 */
        32, 31, 31, 31, 31, 31, 32, 32, 33, 34, 36, 36, 39, 41, 44, 46, 48, 52,
        54, 58, 59, 65, 66, 71, 74, 80, 81, 83, 86, 89, 91, 93, 31, 32, 32, 32,
        32, 32, 32, 32, 33, 34, 35, 35, 38, 39, 42, 44, 46, 50, 51, 56, 56, 62,
        63, 68, 71, 76, 77, 78, 82, 84, 86, 88, 31, 32, 32, 32, 32, 32, 32, 32,
        33, 34, 35, 35, 38, 39, 42, 44, 46, 49, 51, 55, 56, 61, 63, 67, 70, 75,
        77, 78, 81, 84, 86, 88, 31, 32, 32, 32, 32, 32, 32, 32, 33, 33, 34, 34,
        37, 38, 41, 42, 44, 48, 49, 53, 54, 59, 60, 65, 68, 72, 74, 75, 78, 80,
        82, 84, 31, 32, 32, 32, 32, 33, 33, 33, 34, 34, 35, 35, 38, 39, 41, 43,
        45, 48, 49, 53, 54, 59, 60, 65, 67, 72, 73, 74, 77, 80, 82, 84, 31, 32,
        32, 32, 33, 33, 33, 34, 35, 35, 36, 36, 39, 40, 42, 44, 45, 48, 50, 53,
        54, 59, 60, 64, 67, 71, 73, 74, 77, 79, 81, 83, 32, 32, 32, 32, 33, 33,
        34, 35, 36, 36, 37, 38, 40, 40, 42, 44, 45, 48, 49, 53, 53, 58, 59, 63,
        66, 70, 71, 72, 75, 78, 80, 83, 32, 32, 32, 32, 33, 34, 35, 35, 36, 37,
        38, 38, 40, 41, 42, 44, 46, 48, 49, 53, 53, 58, 59, 63, 65, 69, 71, 72,
        74, 77, 79, 80, 33, 33, 33, 33, 34, 35, 36, 36, 38, 39, 42, 42, 44, 45,
        46, 48, 50, 52, 53, 57, 57, 62, 63, 67, 69, 73, 74, 75, 78, 79, 80, 81,
        34, 34, 34, 33, 34, 35, 36, 37, 39, 39, 42, 43, 45, 46, 47, 49, 51, 53,
        54, 58, 58, 63, 64, 68, 70, 74, 75, 76, 79, 81, 84, 86, 36, 35, 35, 34,
        35, 36, 37, 38, 42, 42, 48, 48, 50, 51, 54, 55, 57, 59, 60, 63, 64, 68,
        69, 73, 75, 79, 80, 81, 84, 85, 85, 86, 36, 35, 35, 34, 35, 36, 38, 38,
        42, 43, 48, 49, 51, 52, 54, 55, 57, 59, 60, 64, 64, 68, 69, 73, 75, 79,
        80, 81, 84, 86, 88, 91, 39, 38, 38, 37, 38, 39, 40, 40, 44, 45, 50, 51,
        54, 55, 58, 59, 61, 64, 65, 68, 69, 73, 74, 78, 80, 84, 85, 86, 89, 91,
        91, 91, 41, 39, 39, 38, 39, 40, 40, 41, 45, 46, 51, 52, 55, 56, 59, 61,
        63, 65, 67, 70, 70, 75, 76, 80, 82, 86, 87, 88, 91, 92, 94, 96, 44, 42,
        42, 41, 41, 42, 42, 42, 46, 47, 54, 54, 58, 59, 63, 65, 67, 70, 71, 75,
        75, 79, 80, 84, 86, 90, 91, 92, 95, 97, 97, 97, 46, 44, 44, 42, 43, 44,
        44, 44, 48, 49, 55, 55, 59, 61, 65, 67, 69, 72, 74, 77, 78, 82, 83, 87,
        89, 93, 94, 95, 98, 98, 100, 103, 48, 46, 46, 44, 45, 45, 45, 46, 50,
        51, 57, 57, 61, 63, 67, 69, 71, 74, 76, 80, 80, 85, 86, 90, 93, 96, 98,
        99, 101, 104, 104, 103, 52, 50, 49, 48, 48, 48, 48, 48, 52, 53, 59, 59,
        64, 65, 70, 72, 74, 78, 80, 84, 85, 90, 91, 95, 97, 101, 103, 104, 106,
        106, 107, 110, 54, 51, 51, 49, 49, 50, 49, 49, 53, 54, 60, 60, 65, 67,
        71, 74, 76, 80, 82, 86, 87, 92, 93, 97, 100, 104, 105, 106, 109, 112,
        112, 110, 58, 56, 55, 53, 53, 53, 53, 53, 57, 58, 63, 64, 68, 70, 75,
        77, 80, 84, 86, 91, 91, 97, 98, 103, 105, 110, 111, 112, 115, 114, 115,
        118, 59, 56, 56, 54, 54, 54, 53, 53, 57, 58, 64, 64, 69, 70, 75, 78, 80,
        85, 87, 91, 92, 98, 99, 103, 106, 110, 112, 113, 116, 119, 120, 119, 65,
        62, 61, 59, 59, 59, 58, 58, 62, 63, 68, 68, 73, 75, 79, 82, 85, 90, 92,
        97, 98, 105, 106, 111, 114, 118, 120, 121, 124, 123, 123, 126, 66, 63,
        63, 60, 60, 60, 59, 59, 63, 64, 69, 69, 74, 76, 80, 83, 86, 91, 93, 98,
        99, 106, 107, 112, 115, 119, 121, 122, 125, 128, 129, 126, 71, 68, 67,
        65, 65, 64, 63, 63, 67, 68, 73, 73, 78, 80, 84, 87, 90, 95, 97, 103,
        103, 111, 112, 117, 120, 125, 127, 128, 131, 132, 132, 135, 74, 71, 70,
        68, 67, 67, 66, 65, 69, 70, 75, 75, 80, 82, 86, 89, 93, 97, 100, 105,
        106, 114, 115, 120, 123, 128, 130, 131, 135, 135, 138, 136, 80, 76, 75,
        72, 72, 71, 70, 69, 73, 74, 79, 79, 84, 86, 90, 93, 96, 101, 104, 110,
        110, 118, 119, 125, 128, 134, 136, 137, 140, 142, 140, 144, 81, 77, 77,
        74, 73, 73, 71, 71, 74, 75, 80, 80, 85, 87, 91, 94, 98, 103, 105, 111,
        112, 120, 121, 127, 130, 136, 137, 139, 142, 145, 148, 144, 83, 78, 78,
        75, 74, 74, 72, 72, 75, 76, 81, 81, 86, 88, 92, 95, 99, 104, 106, 112,
        113, 121, 122, 128, 131, 137, 139, 140, 144, 148, 150, 155, 86, 82, 81,
        78, 77, 77, 75, 74, 78, 79, 84, 84, 89, 91, 95, 98, 101, 106, 109, 115,
        116, 124, 125, 131, 135, 140, 142, 144, 147, 149, 153, 155, 89, 84, 84,
        80, 80, 79, 78, 77, 79, 81, 85, 86, 91, 92, 97, 98, 104, 106, 112, 114,
        119, 123, 128, 132, 135, 142, 145, 148, 149, 153, 154, 159, 91, 86, 86,
        82, 82, 81, 80, 79, 80, 84, 85, 88, 91, 94, 97, 100, 104, 107, 112, 115,
        120, 123, 129, 132, 138, 140, 148, 150, 153, 154, 159, 159, 93, 88, 88,
        84, 84, 83, 83, 80, 81, 86, 86, 91, 91, 96, 97, 103, 103, 110, 110, 118,
        119, 126, 126, 135, 136, 144, 144, 155, 155, 159, 159, 164,
        /* Size 4x8 */
        32, 35, 51, 77, 32, 36, 50, 72, 34, 42, 54, 75, 38, 51, 67, 87, 48, 59,
        80, 103, 60, 68, 92, 119, 72, 79, 104, 135, 81, 86, 112, 144,
        /* Size 8x4 */
        32, 32, 34, 38, 48, 60, 72, 81, 35, 36, 42, 51, 59, 68, 79, 86, 51, 50,
        54, 67, 80, 92, 104, 112, 77, 72, 75, 87, 103, 119, 135, 144,
        /* Size 8x16 */
        32, 31, 33, 40, 51, 65, 79, 87, 31, 32, 33, 39, 49, 61, 74, 82, 31, 32,
        34, 38, 47, 59, 71, 79, 32, 33, 36, 40, 48, 58, 69, 77, 33, 34, 38, 44,
        52, 62, 72, 78, 36, 35, 42, 51, 58, 68, 78, 84, 39, 38, 44, 54, 63, 73,
        84, 89, 44, 41, 46, 59, 69, 79, 90, 96, 48, 45, 50, 62, 74, 85, 96, 103,
        53, 49, 53, 66, 79, 92, 103, 111, 58, 54, 57, 70, 84, 98, 110, 118, 66,
        60, 63, 75, 90, 106, 119, 126, 74, 67, 69, 81, 97, 113, 128, 134, 81,
        73, 75, 86, 102, 120, 135, 143, 86, 78, 78, 90, 106, 124, 140, 147, 91,
        82, 80, 90, 103, 119, 137, 151,
        /* Size 16x8 */
        32, 31, 31, 32, 33, 36, 39, 44, 48, 53, 58, 66, 74, 81, 86, 91, 31, 32,
        32, 33, 34, 35, 38, 41, 45, 49, 54, 60, 67, 73, 78, 82, 33, 33, 34, 36,
        38, 42, 44, 46, 50, 53, 57, 63, 69, 75, 78, 80, 40, 39, 38, 40, 44, 51,
        54, 59, 62, 66, 70, 75, 81, 86, 90, 90, 51, 49, 47, 48, 52, 58, 63, 69,
        74, 79, 84, 90, 97, 102, 106, 103, 65, 61, 59, 58, 62, 68, 73, 79, 85,
        92, 98, 106, 113, 120, 124, 119, 79, 74, 71, 69, 72, 78, 84, 90, 96,
        103, 110, 119, 128, 135, 140, 137, 87, 82, 79, 77, 78, 84, 89, 96, 103,
        111, 118, 126, 134, 143, 147, 151,
        /* Size 16x32 */
        32, 31, 31, 32, 33, 36, 40, 44, 51, 53, 65, 66, 79, 81, 87, 90, 31, 32,
        32, 32, 33, 35, 39, 42, 49, 51, 62, 63, 75, 77, 83, 85, 31, 32, 32, 32,
        33, 35, 39, 42, 49, 51, 61, 62, 74, 76, 82, 85, 31, 32, 32, 33, 33, 34,
        38, 41, 47, 49, 59, 60, 72, 74, 79, 81, 31, 32, 32, 33, 34, 35, 38, 41,
        47, 49, 59, 60, 71, 73, 79, 81, 32, 32, 33, 34, 35, 36, 39, 42, 48, 50,
        59, 60, 71, 72, 78, 80, 32, 32, 33, 35, 36, 37, 40, 42, 48, 49, 58, 59,
        69, 71, 77, 80, 32, 33, 33, 35, 36, 38, 41, 42, 48, 49, 58, 59, 69, 70,
        75, 77, 33, 33, 34, 36, 38, 41, 44, 46, 52, 53, 62, 63, 72, 74, 78, 78,
        34, 34, 34, 37, 39, 42, 45, 48, 53, 54, 63, 64, 73, 75, 80, 83, 36, 34,
        35, 38, 42, 48, 51, 54, 58, 60, 68, 69, 78, 80, 84, 83, 36, 35, 35, 38,
        42, 48, 51, 54, 59, 60, 68, 69, 79, 80, 85, 87, 39, 37, 38, 40, 44, 50,
        54, 58, 63, 65, 73, 74, 84, 85, 89, 88, 40, 38, 39, 41, 45, 51, 56, 59,
        65, 67, 75, 76, 85, 87, 90, 93, 44, 41, 41, 43, 46, 53, 59, 63, 69, 71,
        79, 80, 90, 91, 96, 93, 46, 43, 43, 44, 48, 55, 60, 65, 72, 73, 82, 83,
        93, 94, 97, 100, 48, 45, 45, 46, 50, 56, 62, 67, 74, 76, 85, 86, 96, 98,
        103, 100, 52, 48, 48, 49, 52, 59, 65, 70, 78, 80, 90, 91, 101, 103, 105,
        107, 53, 49, 49, 50, 53, 60, 66, 71, 79, 82, 92, 93, 103, 105, 111, 107,
        58, 53, 53, 53, 57, 63, 69, 74, 83, 86, 97, 98, 109, 111, 113, 115, 58,
        54, 54, 54, 57, 63, 70, 75, 84, 87, 98, 99, 110, 112, 118, 115, 65, 60,
        59, 58, 62, 68, 74, 79, 89, 92, 105, 106, 118, 119, 122, 123, 66, 61,
        60, 59, 63, 69, 75, 80, 90, 93, 106, 107, 119, 121, 126, 123, 71, 65,
        65, 63, 67, 73, 79, 84, 94, 97, 111, 112, 125, 127, 131, 132, 74, 68,
        67, 66, 69, 75, 81, 86, 97, 100, 113, 115, 128, 130, 134, 132, 79, 72,
        72, 70, 73, 79, 85, 90, 101, 104, 118, 119, 133, 135, 141, 140, 81, 74,
        73, 71, 75, 80, 86, 91, 102, 105, 120, 121, 135, 137, 143, 140, 82, 75,
        74, 72, 75, 81, 87, 92, 103, 106, 121, 122, 136, 139, 147, 151, 86, 78,
        78, 75, 78, 84, 90, 95, 106, 109, 124, 125, 140, 142, 147, 151, 88, 81,
        80, 77, 80, 86, 90, 98, 105, 112, 122, 127, 140, 144, 152, 155, 91, 83,
        82, 79, 80, 88, 90, 100, 103, 114, 119, 130, 137, 148, 151, 155, 93, 85,
        85, 81, 81, 90, 90, 102, 103, 117, 117, 134, 134, 151, 152, 160,
        /* Size 32x16 */
        32, 31, 31, 31, 31, 32, 32, 32, 33, 34, 36, 36, 39, 40, 44, 46, 48, 52,
        53, 58, 58, 65, 66, 71, 74, 79, 81, 82, 86, 88, 91, 93, 31, 32, 32, 32,
        32, 32, 32, 33, 33, 34, 34, 35, 37, 38, 41, 43, 45, 48, 49, 53, 54, 60,
        61, 65, 68, 72, 74, 75, 78, 81, 83, 85, 31, 32, 32, 32, 32, 33, 33, 33,
        34, 34, 35, 35, 38, 39, 41, 43, 45, 48, 49, 53, 54, 59, 60, 65, 67, 72,
        73, 74, 78, 80, 82, 85, 32, 32, 32, 33, 33, 34, 35, 35, 36, 37, 38, 38,
        40, 41, 43, 44, 46, 49, 50, 53, 54, 58, 59, 63, 66, 70, 71, 72, 75, 77,
        79, 81, 33, 33, 33, 33, 34, 35, 36, 36, 38, 39, 42, 42, 44, 45, 46, 48,
        50, 52, 53, 57, 57, 62, 63, 67, 69, 73, 75, 75, 78, 80, 80, 81, 36, 35,
        35, 34, 35, 36, 37, 38, 41, 42, 48, 48, 50, 51, 53, 55, 56, 59, 60, 63,
        63, 68, 69, 73, 75, 79, 80, 81, 84, 86, 88, 90, 40, 39, 39, 38, 38, 39,
        40, 41, 44, 45, 51, 51, 54, 56, 59, 60, 62, 65, 66, 69, 70, 74, 75, 79,
        81, 85, 86, 87, 90, 90, 90, 90, 44, 42, 42, 41, 41, 42, 42, 42, 46, 48,
        54, 54, 58, 59, 63, 65, 67, 70, 71, 74, 75, 79, 80, 84, 86, 90, 91, 92,
        95, 98, 100, 102, 51, 49, 49, 47, 47, 48, 48, 48, 52, 53, 58, 59, 63,
        65, 69, 72, 74, 78, 79, 83, 84, 89, 90, 94, 97, 101, 102, 103, 106, 105,
        103, 103, 53, 51, 51, 49, 49, 50, 49, 49, 53, 54, 60, 60, 65, 67, 71,
        73, 76, 80, 82, 86, 87, 92, 93, 97, 100, 104, 105, 106, 109, 112, 114,
        117, 65, 62, 61, 59, 59, 59, 58, 58, 62, 63, 68, 68, 73, 75, 79, 82, 85,
        90, 92, 97, 98, 105, 106, 111, 113, 118, 120, 121, 124, 122, 119, 117,
        66, 63, 62, 60, 60, 60, 59, 59, 63, 64, 69, 69, 74, 76, 80, 83, 86, 91,
        93, 98, 99, 106, 107, 112, 115, 119, 121, 122, 125, 127, 130, 134, 79,
        75, 74, 72, 71, 71, 69, 69, 72, 73, 78, 79, 84, 85, 90, 93, 96, 101,
        103, 109, 110, 118, 119, 125, 128, 133, 135, 136, 140, 140, 137, 134,
        81, 77, 76, 74, 73, 72, 71, 70, 74, 75, 80, 80, 85, 87, 91, 94, 98, 103,
        105, 111, 112, 119, 121, 127, 130, 135, 137, 139, 142, 144, 148, 151,
        87, 83, 82, 79, 79, 78, 77, 75, 78, 80, 84, 85, 89, 90, 96, 97, 103,
        105, 111, 113, 118, 122, 126, 131, 134, 141, 143, 147, 147, 152, 151,
        152, 90, 85, 85, 81, 81, 80, 80, 77, 78, 83, 83, 87, 88, 93, 93, 100,
        100, 107, 107, 115, 115, 123, 123, 132, 132, 140, 140, 151, 151, 155,
        155, 160 },
      { /* Chroma */
        /* Size 4x4 */
        32, 46, 49, 58, 46, 53, 55, 62, 49, 55, 70, 78, 58, 62, 78, 91,
        /* Size 8x8 */
        31, 34, 42, 47, 49, 54, 60, 64, 34, 39, 45, 46, 47, 51, 56, 59, 42, 45,
        48, 49, 50, 53, 57, 60, 47, 46, 49, 55, 58, 61, 65, 66, 49, 47, 50, 58,
        65, 69, 73, 74, 54, 51, 53, 61, 69, 76, 82, 83, 60, 56, 57, 65, 73, 82,
        89, 92, 64, 59, 60, 66, 74, 83, 92, 96,
        /* Size 16x16 */
        32, 31, 31, 35, 40, 49, 48, 49, 50, 52, 54, 57, 61, 64, 66, 68, 31, 31,
        32, 37, 41, 47, 47, 46, 48, 49, 51, 54, 57, 60, 62, 64, 31, 32, 34, 39,
        43, 46, 46, 45, 46, 47, 49, 52, 55, 57, 59, 61, 35, 37, 39, 44, 46, 47,
        46, 45, 46, 47, 48, 51, 53, 56, 57, 59, 40, 41, 43, 46, 48, 50, 49, 48,
        49, 49, 51, 53, 55, 57, 59, 59, 49, 47, 46, 47, 50, 53, 53, 53, 54, 54,
        55, 57, 59, 61, 62, 62, 48, 47, 46, 46, 49, 53, 54, 55, 56, 57, 58, 60,
        62, 64, 65, 65, 49, 46, 45, 45, 48, 53, 55, 58, 60, 61, 62, 64, 66, 68,
        69, 69, 50, 48, 46, 46, 49, 54, 56, 60, 61, 63, 65, 67, 69, 71, 72, 72,
        52, 49, 47, 47, 49, 54, 57, 61, 63, 66, 68, 71, 73, 75, 76, 77, 54, 51,
        49, 48, 51, 55, 58, 62, 65, 68, 71, 74, 76, 78, 80, 81, 57, 54, 52, 51,
        53, 57, 60, 64, 67, 71, 74, 77, 80, 83, 84, 85, 61, 57, 55, 53, 55, 59,
        62, 66, 69, 73, 76, 80, 84, 87, 89, 89, 64, 60, 57, 56, 57, 61, 64, 68,
        71, 75, 78, 83, 87, 90, 92, 94, 66, 62, 59, 57, 59, 62, 65, 69, 72, 76,
        80, 84, 89, 92, 94, 96, 68, 64, 61, 59, 59, 62, 65, 69, 72, 77, 81, 85,
        89, 94, 96, 98,
        /* Size 32x32 */
        32, 31, 31, 30, 31, 33, 35, 36, 40, 41, 49, 49, 48, 48, 49, 50, 50, 52,
        52, 54, 54, 57, 57, 60, 61, 63, 64, 65, 66, 67, 68, 69, 31, 31, 31, 31,
        32, 34, 37, 38, 41, 42, 47, 47, 47, 47, 47, 47, 48, 49, 50, 52, 52, 54,
        55, 57, 58, 60, 61, 61, 63, 64, 64, 65, 31, 31, 31, 31, 32, 35, 37, 39,
        41, 42, 47, 47, 47, 46, 46, 47, 48, 49, 49, 51, 51, 54, 54, 56, 57, 59,
        60, 61, 62, 63, 64, 65, 30, 31, 31, 32, 33, 35, 38, 40, 42, 42, 46, 46,
        45, 45, 45, 45, 46, 47, 47, 49, 49, 52, 52, 54, 55, 57, 58, 58, 60, 61,
        61, 62, 31, 32, 32, 33, 34, 37, 39, 41, 43, 43, 46, 46, 46, 45, 45, 46,
        46, 47, 47, 49, 49, 51, 52, 54, 55, 57, 57, 58, 59, 60, 61, 62, 33, 34,
        35, 35, 37, 39, 41, 43, 44, 45, 47, 47, 46, 46, 45, 46, 46, 47, 47, 49,
        49, 51, 51, 53, 54, 56, 57, 57, 58, 59, 60, 61, 35, 37, 37, 38, 39, 41,
        44, 46, 46, 46, 47, 47, 46, 46, 45, 46, 46, 47, 47, 48, 48, 50, 51, 52,
        53, 55, 56, 56, 57, 58, 59, 61, 36, 38, 39, 40, 41, 43, 46, 47, 47, 47,
        48, 47, 46, 46, 45, 46, 46, 46, 47, 48, 48, 50, 50, 52, 53, 54, 55, 55,
        56, 57, 58, 58, 40, 41, 41, 42, 43, 44, 46, 47, 48, 48, 50, 49, 49, 49,
        48, 49, 49, 49, 49, 51, 51, 52, 53, 54, 55, 57, 57, 58, 59, 59, 59, 59,
        41, 42, 42, 42, 43, 45, 46, 47, 48, 48, 50, 50, 49, 49, 49, 49, 50, 50,
        50, 52, 52, 53, 53, 55, 56, 57, 58, 58, 59, 60, 61, 62, 49, 47, 47, 46,
        46, 47, 47, 48, 50, 50, 53, 53, 53, 53, 53, 54, 54, 54, 54, 55, 55, 56,
        57, 58, 59, 60, 61, 61, 62, 62, 62, 62, 49, 47, 47, 46, 46, 47, 47, 47,
        49, 50, 53, 53, 53, 53, 54, 54, 54, 54, 54, 55, 56, 57, 57, 59, 59, 61,
        61, 62, 63, 63, 64, 65, 48, 47, 47, 45, 46, 46, 46, 46, 49, 49, 53, 53,
        54, 54, 55, 56, 56, 57, 57, 58, 58, 60, 60, 61, 62, 63, 64, 64, 65, 66,
        65, 65, 48, 47, 46, 45, 45, 46, 46, 46, 49, 49, 53, 53, 54, 55, 56, 57,
        57, 58, 58, 59, 60, 61, 61, 63, 63, 65, 65, 65, 66, 66, 67, 68, 49, 47,
        46, 45, 45, 45, 45, 45, 48, 49, 53, 54, 55, 56, 58, 59, 60, 61, 61, 62,
        62, 63, 64, 65, 66, 67, 68, 68, 69, 70, 69, 68, 50, 47, 47, 45, 46, 46,
        46, 46, 49, 49, 54, 54, 56, 57, 59, 60, 60, 62, 62, 63, 64, 65, 65, 67,
        68, 69, 69, 70, 70, 70, 71, 71, 50, 48, 48, 46, 46, 46, 46, 46, 49, 50,
        54, 54, 56, 57, 60, 60, 61, 63, 63, 65, 65, 67, 67, 68, 69, 71, 71, 71,
        72, 73, 72, 71, 52, 49, 49, 47, 47, 47, 47, 46, 49, 50, 54, 54, 57, 58,
        61, 62, 63, 65, 65, 67, 67, 69, 70, 71, 72, 73, 74, 74, 75, 74, 74, 75,
        52, 50, 49, 47, 47, 47, 47, 47, 49, 50, 54, 54, 57, 58, 61, 62, 63, 65,
        66, 68, 68, 70, 71, 72, 73, 75, 75, 75, 76, 77, 77, 75, 54, 52, 51, 49,
        49, 49, 48, 48, 51, 52, 55, 55, 58, 59, 62, 63, 65, 67, 68, 70, 70, 73,
        73, 75, 76, 78, 78, 78, 79, 78, 78, 79, 54, 52, 51, 49, 49, 49, 48, 48,
        51, 52, 55, 56, 58, 60, 62, 64, 65, 67, 68, 70, 71, 73, 74, 75, 76, 78,
        78, 79, 80, 81, 81, 79, 57, 54, 54, 52, 51, 51, 50, 50, 52, 53, 56, 57,
        60, 61, 63, 65, 67, 69, 70, 73, 73, 76, 77, 79, 80, 82, 82, 83, 84, 83,
        82, 83, 57, 55, 54, 52, 52, 51, 51, 50, 53, 53, 57, 57, 60, 61, 64, 65,
        67, 70, 71, 73, 74, 77, 77, 79, 80, 82, 83, 83, 84, 85, 85, 83, 60, 57,
        56, 54, 54, 53, 52, 52, 54, 55, 58, 59, 61, 63, 65, 67, 68, 71, 72, 75,
        75, 79, 79, 82, 83, 85, 86, 86, 87, 87, 86, 87, 61, 58, 57, 55, 55, 54,
        53, 53, 55, 56, 59, 59, 62, 63, 66, 68, 69, 72, 73, 76, 76, 80, 80, 83,
        84, 86, 87, 88, 89, 89, 89, 87, 63, 60, 59, 57, 57, 56, 55, 54, 57, 57,
        60, 61, 63, 65, 67, 69, 71, 73, 75, 78, 78, 82, 82, 85, 86, 89, 89, 90,
        91, 92, 90, 91, 64, 61, 60, 58, 57, 57, 56, 55, 57, 58, 61, 61, 64, 65,
        68, 69, 71, 74, 75, 78, 78, 82, 83, 86, 87, 89, 90, 91, 92, 93, 94, 91,
        65, 61, 61, 58, 58, 57, 56, 55, 58, 58, 61, 62, 64, 65, 68, 70, 71, 74,
        75, 78, 79, 83, 83, 86, 88, 90, 91, 91, 93, 94, 94, 96, 66, 63, 62, 60,
        59, 58, 57, 56, 59, 59, 62, 63, 65, 66, 69, 70, 72, 75, 76, 79, 80, 84,
        84, 87, 89, 91, 92, 93, 94, 94, 96, 96, 67, 64, 63, 61, 60, 59, 58, 57,
        59, 60, 62, 63, 66, 66, 70, 70, 73, 74, 77, 78, 81, 83, 85, 87, 89, 92,
        93, 94, 94, 96, 96, 97, 68, 64, 64, 61, 61, 60, 59, 58, 59, 61, 62, 64,
        65, 67, 69, 71, 72, 74, 77, 78, 81, 82, 85, 86, 89, 90, 94, 94, 96, 96,
        98, 97, 69, 65, 65, 62, 62, 61, 61, 58, 59, 62, 62, 65, 65, 68, 68, 71,
        71, 75, 75, 79, 79, 83, 83, 87, 87, 91, 91, 96, 96, 97, 97, 99,
        /* Size 4x8 */
        31, 47, 50, 61, 36, 47, 47, 57, 43, 50, 50, 58, 45, 53, 58, 65, 47, 54,
        66, 74, 52, 56, 70, 82, 57, 60, 75, 90, 61, 63, 77, 93,
        /* Size 8x4 */
        31, 36, 43, 45, 47, 52, 57, 61, 47, 47, 50, 53, 54, 56, 60, 63, 50, 47,
        50, 58, 66, 70, 75, 77, 61, 57, 58, 65, 74, 82, 90, 93,
        /* Size 8x16 */
        32, 32, 40, 49, 51, 57, 63, 67, 31, 33, 41, 47, 49, 54, 59, 63, 31, 35,
        43, 46, 47, 51, 57, 60, 35, 39, 46, 46, 47, 50, 55, 58, 41, 43, 48, 49,
        49, 52, 57, 59, 49, 47, 50, 53, 54, 57, 60, 62, 48, 46, 49, 54, 57, 60,
        64, 65, 49, 45, 48, 56, 61, 64, 67, 69, 50, 46, 49, 57, 63, 67, 71, 73,
        52, 48, 50, 58, 65, 71, 75, 77, 54, 50, 51, 59, 67, 73, 78, 81, 57, 52,
        53, 61, 69, 77, 82, 85, 61, 55, 56, 63, 72, 80, 86, 88, 64, 58, 58, 65,
        73, 82, 89, 92, 66, 59, 59, 66, 75, 84, 91, 94, 68, 61, 59, 65, 72, 81,
        89, 95,
        /* Size 16x8 */
        32, 31, 31, 35, 41, 49, 48, 49, 50, 52, 54, 57, 61, 64, 66, 68, 32, 33,
        35, 39, 43, 47, 46, 45, 46, 48, 50, 52, 55, 58, 59, 61, 40, 41, 43, 46,
        48, 50, 49, 48, 49, 50, 51, 53, 56, 58, 59, 59, 49, 47, 46, 46, 49, 53,
        54, 56, 57, 58, 59, 61, 63, 65, 66, 65, 51, 49, 47, 47, 49, 54, 57, 61,
        63, 65, 67, 69, 72, 73, 75, 72, 57, 54, 51, 50, 52, 57, 60, 64, 67, 71,
        73, 77, 80, 82, 84, 81, 63, 59, 57, 55, 57, 60, 64, 67, 71, 75, 78, 82,
        86, 89, 91, 89, 67, 63, 60, 58, 59, 62, 65, 69, 73, 77, 81, 85, 88, 92,
        94, 95,
        /* Size 16x32 */
        32, 31, 32, 37, 40, 48, 49, 49, 51, 52, 57, 58, 63, 64, 67, 67, 31, 31,
        33, 38, 41, 47, 47, 47, 49, 50, 54, 55, 60, 61, 63, 64, 31, 31, 33, 38,
        41, 47, 47, 47, 49, 49, 54, 54, 59, 60, 63, 64, 30, 32, 33, 40, 42, 46,
        45, 45, 47, 48, 52, 52, 57, 58, 60, 61, 31, 33, 35, 41, 43, 46, 46, 45,
        47, 48, 51, 52, 57, 57, 60, 61, 33, 36, 37, 43, 44, 47, 46, 46, 47, 47,
        51, 52, 56, 57, 59, 60, 35, 38, 39, 45, 46, 47, 46, 45, 47, 47, 50, 51,
        55, 56, 58, 60, 37, 40, 41, 47, 47, 47, 46, 45, 46, 47, 50, 50, 54, 55,
        57, 58, 41, 42, 43, 47, 48, 49, 49, 48, 49, 50, 52, 53, 57, 57, 59, 58,
        42, 43, 43, 47, 48, 50, 49, 49, 50, 50, 53, 54, 57, 58, 60, 61, 49, 46,
        47, 48, 50, 53, 53, 53, 54, 54, 57, 57, 60, 61, 62, 61, 49, 46, 47, 48,
        50, 53, 53, 54, 54, 55, 57, 57, 61, 61, 63, 64, 48, 46, 46, 47, 49, 53,
        54, 56, 57, 57, 60, 60, 64, 64, 65, 64, 48, 45, 46, 46, 49, 53, 55, 56,
        58, 58, 61, 61, 65, 65, 66, 67, 49, 45, 45, 46, 48, 53, 56, 58, 61, 61,
        64, 64, 67, 68, 69, 67, 49, 46, 46, 46, 49, 53, 57, 59, 62, 62, 65, 66,
        69, 69, 70, 70, 50, 46, 46, 46, 49, 54, 57, 59, 63, 64, 67, 67, 71, 71,
        73, 71, 51, 47, 47, 47, 49, 54, 58, 61, 64, 66, 69, 70, 73, 74, 74, 74,
        52, 48, 48, 47, 50, 54, 58, 61, 65, 66, 71, 71, 75, 75, 77, 74, 54, 50,
        49, 48, 51, 55, 59, 62, 67, 68, 73, 73, 77, 78, 78, 78, 54, 50, 50, 49,
        51, 55, 59, 62, 67, 68, 73, 74, 78, 78, 81, 78, 57, 52, 52, 50, 52, 56,
        60, 64, 69, 70, 76, 77, 82, 82, 83, 82, 57, 52, 52, 51, 53, 57, 61, 64,
        69, 71, 77, 77, 82, 83, 85, 82, 60, 54, 54, 52, 55, 58, 62, 65, 71, 72,
        79, 79, 85, 86, 87, 86, 61, 56, 55, 53, 56, 59, 63, 66, 72, 73, 80, 81,
        86, 87, 88, 86, 63, 57, 57, 55, 57, 60, 64, 67, 73, 75, 82, 82, 89, 90,
        92, 90, 64, 58, 58, 55, 58, 61, 65, 68, 73, 75, 82, 83, 89, 90, 92, 90,
        64, 59, 58, 56, 58, 61, 65, 68, 74, 75, 83, 83, 90, 91, 94, 95, 66, 60,
        59, 57, 59, 62, 66, 69, 75, 76, 84, 85, 91, 92, 94, 95, 67, 61, 60, 58,
        59, 63, 66, 70, 74, 77, 82, 85, 91, 93, 96, 96, 68, 62, 61, 58, 59, 64,
        65, 71, 72, 78, 81, 86, 89, 94, 95, 96, 68, 62, 62, 59, 59, 65, 65, 71,
        71, 79, 79, 87, 87, 95, 95, 98,
        /* Size 32x16 */
        32, 31, 31, 30, 31, 33, 35, 37, 41, 42, 49, 49, 48, 48, 49, 49, 50, 51,
        52, 54, 54, 57, 57, 60, 61, 63, 64, 64, 66, 67, 68, 68, 31, 31, 31, 32,
        33, 36, 38, 40, 42, 43, 46, 46, 46, 45, 45, 46, 46, 47, 48, 50, 50, 52,
        52, 54, 56, 57, 58, 59, 60, 61, 62, 62, 32, 33, 33, 33, 35, 37, 39, 41,
        43, 43, 47, 47, 46, 46, 45, 46, 46, 47, 48, 49, 50, 52, 52, 54, 55, 57,
        58, 58, 59, 60, 61, 62, 37, 38, 38, 40, 41, 43, 45, 47, 47, 47, 48, 48,
        47, 46, 46, 46, 46, 47, 47, 48, 49, 50, 51, 52, 53, 55, 55, 56, 57, 58,
        58, 59, 40, 41, 41, 42, 43, 44, 46, 47, 48, 48, 50, 50, 49, 49, 48, 49,
        49, 49, 50, 51, 51, 52, 53, 55, 56, 57, 58, 58, 59, 59, 59, 59, 48, 47,
        47, 46, 46, 47, 47, 47, 49, 50, 53, 53, 53, 53, 53, 53, 54, 54, 54, 55,
        55, 56, 57, 58, 59, 60, 61, 61, 62, 63, 64, 65, 49, 47, 47, 45, 46, 46,
        46, 46, 49, 49, 53, 53, 54, 55, 56, 57, 57, 58, 58, 59, 59, 60, 61, 62,
        63, 64, 65, 65, 66, 66, 65, 65, 49, 47, 47, 45, 45, 46, 45, 45, 48, 49,
        53, 54, 56, 56, 58, 59, 59, 61, 61, 62, 62, 64, 64, 65, 66, 67, 68, 68,
        69, 70, 71, 71, 51, 49, 49, 47, 47, 47, 47, 46, 49, 50, 54, 54, 57, 58,
        61, 62, 63, 64, 65, 67, 67, 69, 69, 71, 72, 73, 73, 74, 75, 74, 72, 71,
        52, 50, 49, 48, 48, 47, 47, 47, 50, 50, 54, 55, 57, 58, 61, 62, 64, 66,
        66, 68, 68, 70, 71, 72, 73, 75, 75, 75, 76, 77, 78, 79, 57, 54, 54, 52,
        51, 51, 50, 50, 52, 53, 57, 57, 60, 61, 64, 65, 67, 69, 71, 73, 73, 76,
        77, 79, 80, 82, 82, 83, 84, 82, 81, 79, 58, 55, 54, 52, 52, 52, 51, 50,
        53, 54, 57, 57, 60, 61, 64, 66, 67, 70, 71, 73, 74, 77, 77, 79, 81, 82,
        83, 83, 85, 85, 86, 87, 63, 60, 59, 57, 57, 56, 55, 54, 57, 57, 60, 61,
        64, 65, 67, 69, 71, 73, 75, 77, 78, 82, 82, 85, 86, 89, 89, 90, 91, 91,
        89, 87, 64, 61, 60, 58, 57, 57, 56, 55, 57, 58, 61, 61, 64, 65, 68, 69,
        71, 74, 75, 78, 78, 82, 83, 86, 87, 90, 90, 91, 92, 93, 94, 95, 67, 63,
        63, 60, 60, 59, 58, 57, 59, 60, 62, 63, 65, 66, 69, 70, 73, 74, 77, 78,
        81, 83, 85, 87, 88, 92, 92, 94, 94, 96, 95, 95, 67, 64, 64, 61, 61, 60,
        60, 58, 58, 61, 61, 64, 64, 67, 67, 70, 71, 74, 74, 78, 78, 82, 82, 86,
        86, 90, 90, 95, 95, 96, 96, 98 },
  },
  {
      { /* Luma */
        /* Size 4x4 */
        32, 34, 49, 72, 34, 48, 60, 79, 49, 60, 82, 104, 72, 79, 104, 134,
        /* Size 8x8 */
        32, 32, 34, 38, 46, 56, 68, 78, 32, 33, 35, 39, 45, 54, 64, 74, 34, 35,
        39, 45, 51, 58, 68, 76, 38, 39, 45, 54, 61, 69, 78, 86, 46, 45, 51, 61,
        71, 80, 90, 99, 56, 54, 58, 69, 80, 92, 103, 113, 68, 64, 68, 78, 90,
        103, 117, 128, 78, 74, 76, 86, 99, 113, 128, 140,
        /* Size 16x16 */
        32, 31, 31, 31, 32, 34, 36, 39, 44, 48, 54, 59, 65, 71, 80, 83, 31, 32,
        32, 32, 32, 34, 35, 38, 42, 46, 51, 56, 62, 68, 76, 78, 31, 32, 32, 32,
        32, 33, 34, 37, 41, 44, 49, 54, 59, 65, 72, 75, 31, 32, 32, 33, 34, 35,
        36, 39, 42, 45, 50, 54, 59, 64, 71, 74, 32, 32, 32, 34, 35, 37, 38, 40,
        42, 46, 49, 53, 58, 63, 69, 72, 34, 34, 33, 35, 37, 39, 42, 45, 47, 51,
        54, 58, 63, 68, 74, 76, 36, 35, 34, 36, 38, 42, 48, 50, 54, 57, 60, 64,
        68, 73, 79, 81, 39, 38, 37, 39, 40, 45, 50, 54, 58, 61, 65, 69, 73, 78,
        84, 86, 44, 42, 41, 42, 42, 47, 54, 58, 63, 67, 71, 75, 79, 84, 90, 92,
        48, 46, 44, 45, 46, 51, 57, 61, 67, 71, 76, 80, 85, 90, 96, 99, 54, 51,
        49, 50, 49, 54, 60, 65, 71, 76, 82, 87, 92, 97, 104, 106, 59, 56, 54,
        54, 53, 58, 64, 69, 75, 80, 87, 92, 98, 103, 110, 113, 65, 62, 59, 59,
        58, 63, 68, 73, 79, 85, 92, 98, 105, 111, 118, 121, 71, 68, 65, 64, 63,
        68, 73, 78, 84, 90, 97, 103, 111, 117, 125, 128, 80, 76, 72, 71, 69, 74,
        79, 84, 90, 96, 104, 110, 118, 125, 134, 137, 83, 78, 75, 74, 72, 76,
        81, 86, 92, 99, 106, 113, 121, 128, 137, 140,
        /* Size 32x32 */
        32, 31, 31, 31, 31, 31, 31, 32, 32, 34, 34, 36, 36, 39, 39, 44, 44, 48,
        48, 54, 54, 59, 59, 65, 65, 71, 71, 80, 80, 83, 83, 87, 31, 32, 32, 32,
        32, 32, 32, 32, 32, 34, 34, 35, 35, 38, 38, 42, 42, 46, 46, 51, 51, 56,
        56, 62, 62, 68, 68, 76, 76, 78, 78, 83, 31, 32, 32, 32, 32, 32, 32, 32,
        32, 34, 34, 35, 35, 38, 38, 42, 42, 46, 46, 51, 51, 56, 56, 62, 62, 68,
        68, 76, 76, 78, 78, 83, 31, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 34,
        34, 37, 37, 41, 41, 44, 44, 49, 49, 54, 54, 59, 59, 65, 65, 72, 72, 75,
        75, 79, 31, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 34, 34, 37, 37, 41,
        41, 44, 44, 49, 49, 54, 54, 59, 59, 65, 65, 72, 72, 75, 75, 79, 31, 32,
        32, 32, 32, 33, 33, 34, 34, 35, 35, 36, 36, 39, 39, 42, 42, 45, 45, 50,
        50, 54, 54, 59, 59, 64, 64, 71, 71, 74, 74, 77, 31, 32, 32, 32, 32, 33,
        33, 34, 34, 35, 35, 36, 36, 39, 39, 42, 42, 45, 45, 50, 50, 54, 54, 59,
        59, 64, 64, 71, 71, 74, 74, 77, 32, 32, 32, 32, 32, 34, 34, 35, 35, 37,
        37, 38, 38, 40, 40, 42, 42, 46, 46, 49, 49, 53, 53, 58, 58, 63, 63, 69,
        69, 72, 72, 75, 32, 32, 32, 32, 32, 34, 34, 35, 35, 37, 37, 38, 38, 40,
        40, 42, 42, 46, 46, 49, 49, 53, 53, 58, 58, 63, 63, 69, 69, 72, 72, 75,
        34, 34, 34, 33, 33, 35, 35, 37, 37, 39, 39, 42, 42, 45, 45, 47, 47, 51,
        51, 54, 54, 58, 58, 63, 63, 68, 68, 74, 74, 76, 76, 80, 34, 34, 34, 33,
        33, 35, 35, 37, 37, 39, 39, 42, 42, 45, 45, 47, 47, 51, 51, 54, 54, 58,
        58, 63, 63, 68, 68, 74, 74, 76, 76, 80, 36, 35, 35, 34, 34, 36, 36, 38,
        38, 42, 42, 48, 48, 50, 50, 54, 54, 57, 57, 60, 60, 64, 64, 68, 68, 73,
        73, 79, 79, 81, 81, 84, 36, 35, 35, 34, 34, 36, 36, 38, 38, 42, 42, 48,
        48, 50, 50, 54, 54, 57, 57, 60, 60, 64, 64, 68, 68, 73, 73, 79, 79, 81,
        81, 84, 39, 38, 38, 37, 37, 39, 39, 40, 40, 45, 45, 50, 50, 54, 54, 58,
        58, 61, 61, 65, 65, 69, 69, 73, 73, 78, 78, 84, 84, 86, 86, 90, 39, 38,
        38, 37, 37, 39, 39, 40, 40, 45, 45, 50, 50, 54, 54, 58, 58, 61, 61, 65,
        65, 69, 69, 73, 73, 78, 78, 84, 84, 86, 86, 90, 44, 42, 42, 41, 41, 42,
        42, 42, 42, 47, 47, 54, 54, 58, 58, 63, 63, 67, 67, 71, 71, 75, 75, 79,
        79, 84, 84, 90, 90, 92, 92, 96, 44, 42, 42, 41, 41, 42, 42, 42, 42, 47,
        47, 54, 54, 58, 58, 63, 63, 67, 67, 71, 71, 75, 75, 79, 79, 84, 84, 90,
        90, 92, 92, 96, 48, 46, 46, 44, 44, 45, 45, 46, 46, 51, 51, 57, 57, 61,
        61, 67, 67, 71, 71, 76, 76, 80, 80, 85, 85, 90, 90, 96, 96, 99, 99, 102,
        48, 46, 46, 44, 44, 45, 45, 46, 46, 51, 51, 57, 57, 61, 61, 67, 67, 71,
        71, 76, 76, 80, 80, 85, 85, 90, 90, 96, 96, 99, 99, 102, 54, 51, 51, 49,
        49, 50, 50, 49, 49, 54, 54, 60, 60, 65, 65, 71, 71, 76, 76, 82, 82, 87,
        87, 92, 92, 97, 97, 104, 104, 106, 106, 109, 54, 51, 51, 49, 49, 50, 50,
        49, 49, 54, 54, 60, 60, 65, 65, 71, 71, 76, 76, 82, 82, 87, 87, 92, 92,
        97, 97, 104, 104, 106, 106, 109, 59, 56, 56, 54, 54, 54, 54, 53, 53, 58,
        58, 64, 64, 69, 69, 75, 75, 80, 80, 87, 87, 92, 92, 98, 98, 103, 103,
        110, 110, 113, 113, 116, 59, 56, 56, 54, 54, 54, 54, 53, 53, 58, 58, 64,
        64, 69, 69, 75, 75, 80, 80, 87, 87, 92, 92, 98, 98, 103, 103, 110, 110,
        113, 113, 116, 65, 62, 62, 59, 59, 59, 59, 58, 58, 63, 63, 68, 68, 73,
        73, 79, 79, 85, 85, 92, 92, 98, 98, 105, 105, 111, 111, 118, 118, 121,
        121, 124, 65, 62, 62, 59, 59, 59, 59, 58, 58, 63, 63, 68, 68, 73, 73,
        79, 79, 85, 85, 92, 92, 98, 98, 105, 105, 111, 111, 118, 118, 121, 121,
        124, 71, 68, 68, 65, 65, 64, 64, 63, 63, 68, 68, 73, 73, 78, 78, 84, 84,
        90, 90, 97, 97, 103, 103, 111, 111, 117, 117, 125, 125, 128, 128, 132,
        71, 68, 68, 65, 65, 64, 64, 63, 63, 68, 68, 73, 73, 78, 78, 84, 84, 90,
        90, 97, 97, 103, 103, 111, 111, 117, 117, 125, 125, 128, 128, 132, 80,
        76, 76, 72, 72, 71, 71, 69, 69, 74, 74, 79, 79, 84, 84, 90, 90, 96, 96,
        104, 104, 110, 110, 118, 118, 125, 125, 134, 134, 137, 137, 141, 80, 76,
        76, 72, 72, 71, 71, 69, 69, 74, 74, 79, 79, 84, 84, 90, 90, 96, 96, 104,
        104, 110, 110, 118, 118, 125, 125, 134, 134, 137, 137, 141, 83, 78, 78,
        75, 75, 74, 74, 72, 72, 76, 76, 81, 81, 86, 86, 92, 92, 99, 99, 106,
        106, 113, 113, 121, 121, 128, 128, 137, 137, 140, 140, 144, 83, 78, 78,
        75, 75, 74, 74, 72, 72, 76, 76, 81, 81, 86, 86, 92, 92, 99, 99, 106,
        106, 113, 113, 121, 121, 128, 128, 137, 137, 140, 140, 144, 87, 83, 83,
        79, 79, 77, 77, 75, 75, 80, 80, 84, 84, 90, 90, 96, 96, 102, 102, 109,
        109, 116, 116, 124, 124, 132, 132, 141, 141, 144, 144, 149,
        /* Size 4x8 */
        32, 35, 51, 75, 32, 36, 50, 71, 34, 42, 54, 73, 37, 50, 65, 84, 45, 56,
        76, 96, 54, 63, 87, 110, 65, 73, 97, 125, 75, 81, 106, 136,
        /* Size 8x4 */
        32, 32, 34, 37, 45, 54, 65, 75, 35, 36, 42, 50, 56, 63, 73, 81, 51, 50,
        54, 65, 76, 87, 97, 106, 75, 71, 73, 84, 96, 110, 125, 136,
        /* Size 8x16 */
        32, 31, 32, 36, 44, 53, 65, 79, 31, 32, 32, 35, 42, 51, 62, 75, 31, 32,
        33, 34, 41, 49, 59, 72, 32, 32, 34, 36, 42, 50, 59, 71, 32, 33, 35, 38,
        42, 49, 58, 69, 34, 34, 37, 42, 48, 54, 63, 73, 36, 34, 38, 48, 54, 60,
        68, 78, 39, 37, 40, 50, 58, 65, 73, 84, 44, 41, 43, 53, 63, 71, 79, 90,
        48, 45, 46, 56, 67, 76, 85, 96, 53, 49, 50, 60, 71, 82, 92, 103, 58, 54,
        54, 63, 75, 87, 98, 110, 65, 60, 58, 68, 79, 92, 105, 118, 71, 65, 63,
        73, 84, 97, 111, 125, 79, 72, 70, 79, 90, 104, 118, 133, 82, 75, 72, 81,
        92, 106, 121, 136,
        /* Size 16x8 */
        32, 31, 31, 32, 32, 34, 36, 39, 44, 48, 53, 58, 65, 71, 79, 82, 31, 32,
        32, 32, 33, 34, 34, 37, 41, 45, 49, 54, 60, 65, 72, 75, 32, 32, 33, 34,
        35, 37, 38, 40, 43, 46, 50, 54, 58, 63, 70, 72, 36, 35, 34, 36, 38, 42,
        48, 50, 53, 56, 60, 63, 68, 73, 79, 81, 44, 42, 41, 42, 42, 48, 54, 58,
        63, 67, 71, 75, 79, 84, 90, 92, 53, 51, 49, 50, 49, 54, 60, 65, 71, 76,
        82, 87, 92, 97, 104, 106, 65, 62, 59, 59, 58, 63, 68, 73, 79, 85, 92,
        98, 105, 111, 118, 121, 79, 75, 72, 71, 69, 73, 78, 84, 90, 96, 103,
        110, 118, 125, 133, 136,
        /* Size 16x32 */
        32, 31, 31, 32, 32, 36, 36, 44, 44, 53, 53, 65, 65, 79, 79, 87, 31, 32,
        32, 32, 32, 35, 35, 42, 42, 51, 51, 62, 62, 75, 75, 82, 31, 32, 32, 32,
        32, 35, 35, 42, 42, 51, 51, 62, 62, 75, 75, 82, 31, 32, 32, 33, 33, 34,
        34, 41, 41, 49, 49, 59, 59, 72, 72, 78, 31, 32, 32, 33, 33, 34, 34, 41,
        41, 49, 49, 59, 59, 72, 72, 78, 32, 32, 32, 34, 34, 36, 36, 42, 42, 50,
        50, 59, 59, 71, 71, 77, 32, 32, 32, 34, 34, 36, 36, 42, 42, 50, 50, 59,
        59, 71, 71, 77, 32, 33, 33, 35, 35, 38, 38, 42, 42, 49, 49, 58, 58, 69,
        69, 75, 32, 33, 33, 35, 35, 38, 38, 42, 42, 49, 49, 58, 58, 69, 69, 75,
        34, 34, 34, 37, 37, 42, 42, 48, 48, 54, 54, 63, 63, 73, 73, 79, 34, 34,
        34, 37, 37, 42, 42, 48, 48, 54, 54, 63, 63, 73, 73, 79, 36, 34, 34, 38,
        38, 48, 48, 54, 54, 60, 60, 68, 68, 78, 78, 84, 36, 34, 34, 38, 38, 48,
        48, 54, 54, 60, 60, 68, 68, 78, 78, 84, 39, 37, 37, 40, 40, 50, 50, 58,
        58, 65, 65, 73, 73, 84, 84, 89, 39, 37, 37, 40, 40, 50, 50, 58, 58, 65,
        65, 73, 73, 84, 84, 89, 44, 41, 41, 43, 43, 53, 53, 63, 63, 71, 71, 79,
        79, 90, 90, 95, 44, 41, 41, 43, 43, 53, 53, 63, 63, 71, 71, 79, 79, 90,
        90, 95, 48, 45, 45, 46, 46, 56, 56, 67, 67, 76, 76, 85, 85, 96, 96, 102,
        48, 45, 45, 46, 46, 56, 56, 67, 67, 76, 76, 85, 85, 96, 96, 102, 53, 49,
        49, 50, 50, 60, 60, 71, 71, 82, 82, 92, 92, 103, 103, 109, 53, 49, 49,
        50, 50, 60, 60, 71, 71, 82, 82, 92, 92, 103, 103, 109, 58, 54, 54, 54,
        54, 63, 63, 75, 75, 87, 87, 98, 98, 110, 110, 116, 58, 54, 54, 54, 54,
        63, 63, 75, 75, 87, 87, 98, 98, 110, 110, 116, 65, 60, 60, 58, 58, 68,
        68, 79, 79, 92, 92, 105, 105, 118, 118, 124, 65, 60, 60, 58, 58, 68, 68,
        79, 79, 92, 92, 105, 105, 118, 118, 124, 71, 65, 65, 63, 63, 73, 73, 84,
        84, 97, 97, 111, 111, 125, 125, 132, 71, 65, 65, 63, 63, 73, 73, 84, 84,
        97, 97, 111, 111, 125, 125, 132, 79, 72, 72, 70, 70, 79, 79, 90, 90,
        104, 104, 118, 118, 133, 133, 141, 79, 72, 72, 70, 70, 79, 79, 90, 90,
        104, 104, 118, 118, 133, 133, 141, 82, 75, 75, 72, 72, 81, 81, 92, 92,
        106, 106, 121, 121, 136, 136, 144, 82, 75, 75, 72, 72, 81, 81, 92, 92,
        106, 106, 121, 121, 136, 136, 144, 87, 79, 79, 76, 76, 84, 84, 96, 96,
        109, 109, 124, 124, 141, 141, 149,
        /* Size 32x16 */
        32, 31, 31, 31, 31, 32, 32, 32, 32, 34, 34, 36, 36, 39, 39, 44, 44, 48,
        48, 53, 53, 58, 58, 65, 65, 71, 71, 79, 79, 82, 82, 87, 31, 32, 32, 32,
        32, 32, 32, 33, 33, 34, 34, 34, 34, 37, 37, 41, 41, 45, 45, 49, 49, 54,
        54, 60, 60, 65, 65, 72, 72, 75, 75, 79, 31, 32, 32, 32, 32, 32, 32, 33,
        33, 34, 34, 34, 34, 37, 37, 41, 41, 45, 45, 49, 49, 54, 54, 60, 60, 65,
        65, 72, 72, 75, 75, 79, 32, 32, 32, 33, 33, 34, 34, 35, 35, 37, 37, 38,
        38, 40, 40, 43, 43, 46, 46, 50, 50, 54, 54, 58, 58, 63, 63, 70, 70, 72,
        72, 76, 32, 32, 32, 33, 33, 34, 34, 35, 35, 37, 37, 38, 38, 40, 40, 43,
        43, 46, 46, 50, 50, 54, 54, 58, 58, 63, 63, 70, 70, 72, 72, 76, 36, 35,
        35, 34, 34, 36, 36, 38, 38, 42, 42, 48, 48, 50, 50, 53, 53, 56, 56, 60,
        60, 63, 63, 68, 68, 73, 73, 79, 79, 81, 81, 84, 36, 35, 35, 34, 34, 36,
        36, 38, 38, 42, 42, 48, 48, 50, 50, 53, 53, 56, 56, 60, 60, 63, 63, 68,
        68, 73, 73, 79, 79, 81, 81, 84, 44, 42, 42, 41, 41, 42, 42, 42, 42, 48,
        48, 54, 54, 58, 58, 63, 63, 67, 67, 71, 71, 75, 75, 79, 79, 84, 84, 90,
        90, 92, 92, 96, 44, 42, 42, 41, 41, 42, 42, 42, 42, 48, 48, 54, 54, 58,
        58, 63, 63, 67, 67, 71, 71, 75, 75, 79, 79, 84, 84, 90, 90, 92, 92, 96,
        53, 51, 51, 49, 49, 50, 50, 49, 49, 54, 54, 60, 60, 65, 65, 71, 71, 76,
        76, 82, 82, 87, 87, 92, 92, 97, 97, 104, 104, 106, 106, 109, 53, 51, 51,
        49, 49, 50, 50, 49, 49, 54, 54, 60, 60, 65, 65, 71, 71, 76, 76, 82, 82,
        87, 87, 92, 92, 97, 97, 104, 104, 106, 106, 109, 65, 62, 62, 59, 59, 59,
        59, 58, 58, 63, 63, 68, 68, 73, 73, 79, 79, 85, 85, 92, 92, 98, 98, 105,
        105, 111, 111, 118, 118, 121, 121, 124, 65, 62, 62, 59, 59, 59, 59, 58,
        58, 63, 63, 68, 68, 73, 73, 79, 79, 85, 85, 92, 92, 98, 98, 105, 105,
        111, 111, 118, 118, 121, 121, 124, 79, 75, 75, 72, 72, 71, 71, 69, 69,
        73, 73, 78, 78, 84, 84, 90, 90, 96, 96, 103, 103, 110, 110, 118, 118,
        125, 125, 133, 133, 136, 136, 141, 79, 75, 75, 72, 72, 71, 71, 69, 69,
        73, 73, 78, 78, 84, 84, 90, 90, 96, 96, 103, 103, 110, 110, 118, 118,
        125, 125, 133, 133, 136, 136, 141, 87, 82, 82, 78, 78, 77, 77, 75, 75,
        79, 79, 84, 84, 89, 89, 95, 95, 102, 102, 109, 109, 116, 116, 124, 124,
        132, 132, 141, 141, 144, 144, 149 },
      { /* Chroma */
        /* Size 4x4 */
        32, 46, 47, 57, 46, 53, 54, 60, 47, 54, 66, 75, 57, 60, 75, 89,
        /* Size 8x8 */
        31, 34, 42, 47, 48, 52, 57, 61, 34, 39, 45, 46, 46, 49, 53, 57, 42, 45,
        48, 49, 50, 52, 55, 58, 47, 46, 49, 54, 56, 58, 61, 64, 48, 46, 50, 56,
        61, 65, 68, 71, 52, 49, 52, 58, 65, 71, 75, 79, 57, 53, 55, 61, 68, 75,
        82, 86, 61, 57, 58, 64, 71, 79, 86, 91,
        /* Size 16x16 */
        32, 31, 30, 33, 36, 41, 49, 48, 49, 50, 52, 54, 57, 60, 63, 65, 31, 31,
        31, 34, 38, 42, 47, 47, 47, 48, 50, 52, 54, 57, 60, 61, 30, 31, 32, 35,
        40, 42, 46, 45, 45, 46, 47, 49, 52, 54, 57, 58, 33, 34, 35, 39, 43, 45,
        47, 46, 45, 46, 47, 49, 51, 53, 56, 57, 36, 38, 40, 43, 47, 47, 48, 46,
        45, 46, 47, 48, 50, 52, 54, 55, 41, 42, 42, 45, 47, 48, 50, 49, 49, 50,
        50, 52, 53, 55, 57, 58, 49, 47, 46, 47, 48, 50, 53, 53, 53, 54, 54, 55,
        56, 58, 60, 61, 48, 47, 45, 46, 46, 49, 53, 54, 55, 56, 57, 58, 60, 61,
        63, 64, 49, 47, 45, 45, 45, 49, 53, 55, 58, 60, 61, 62, 63, 65, 67, 68,
        50, 48, 46, 46, 46, 50, 54, 56, 60, 61, 63, 65, 67, 68, 71, 71, 52, 50,
        47, 47, 47, 50, 54, 57, 61, 63, 66, 68, 70, 72, 75, 75, 54, 52, 49, 49,
        48, 52, 55, 58, 62, 65, 68, 71, 73, 75, 78, 79, 57, 54, 52, 51, 50, 53,
        56, 60, 63, 67, 70, 73, 76, 79, 82, 83, 60, 57, 54, 53, 52, 55, 58, 61,
        65, 68, 72, 75, 79, 82, 85, 86, 63, 60, 57, 56, 54, 57, 60, 63, 67, 71,
        75, 78, 82, 85, 89, 90, 65, 61, 58, 57, 55, 58, 61, 64, 68, 71, 75, 79,
        83, 86, 90, 91,
        /* Size 32x32 */
        32, 31, 31, 30, 30, 33, 33, 36, 36, 41, 41, 49, 49, 48, 48, 49, 49, 50,
        50, 52, 52, 54, 54, 57, 57, 60, 60, 63, 63, 65, 65, 67, 31, 31, 31, 31,
        31, 34, 34, 38, 38, 42, 42, 47, 47, 47, 47, 47, 47, 48, 48, 50, 50, 52,
        52, 54, 54, 57, 57, 60, 60, 61, 61, 63, 31, 31, 31, 31, 31, 34, 34, 38,
        38, 42, 42, 47, 47, 47, 47, 47, 47, 48, 48, 50, 50, 52, 52, 54, 54, 57,
        57, 60, 60, 61, 61, 63, 30, 31, 31, 32, 32, 35, 35, 40, 40, 42, 42, 46,
        46, 45, 45, 45, 45, 46, 46, 47, 47, 49, 49, 52, 52, 54, 54, 57, 57, 58,
        58, 60, 30, 31, 31, 32, 32, 35, 35, 40, 40, 42, 42, 46, 46, 45, 45, 45,
        45, 46, 46, 47, 47, 49, 49, 52, 52, 54, 54, 57, 57, 58, 58, 60, 33, 34,
        34, 35, 35, 39, 39, 43, 43, 45, 45, 47, 47, 46, 46, 45, 45, 46, 46, 47,
        47, 49, 49, 51, 51, 53, 53, 56, 56, 57, 57, 59, 33, 34, 34, 35, 35, 39,
        39, 43, 43, 45, 45, 47, 47, 46, 46, 45, 45, 46, 46, 47, 47, 49, 49, 51,
        51, 53, 53, 56, 56, 57, 57, 59, 36, 38, 38, 40, 40, 43, 43, 47, 47, 47,
        47, 48, 48, 46, 46, 45, 45, 46, 46, 47, 47, 48, 48, 50, 50, 52, 52, 54,
        54, 55, 55, 57, 36, 38, 38, 40, 40, 43, 43, 47, 47, 47, 47, 48, 48, 46,
        46, 45, 45, 46, 46, 47, 47, 48, 48, 50, 50, 52, 52, 54, 54, 55, 55, 57,
        41, 42, 42, 42, 42, 45, 45, 47, 47, 48, 48, 50, 50, 49, 49, 49, 49, 50,
        50, 50, 50, 52, 52, 53, 53, 55, 55, 57, 57, 58, 58, 60, 41, 42, 42, 42,
        42, 45, 45, 47, 47, 48, 48, 50, 50, 49, 49, 49, 49, 50, 50, 50, 50, 52,
        52, 53, 53, 55, 55, 57, 57, 58, 58, 60, 49, 47, 47, 46, 46, 47, 47, 48,
        48, 50, 50, 53, 53, 53, 53, 53, 53, 54, 54, 54, 54, 55, 55, 56, 56, 58,
        58, 60, 60, 61, 61, 62, 49, 47, 47, 46, 46, 47, 47, 48, 48, 50, 50, 53,
        53, 53, 53, 53, 53, 54, 54, 54, 54, 55, 55, 56, 56, 58, 58, 60, 60, 61,
        61, 62, 48, 47, 47, 45, 45, 46, 46, 46, 46, 49, 49, 53, 53, 54, 54, 55,
        55, 56, 56, 57, 57, 58, 58, 60, 60, 61, 61, 63, 63, 64, 64, 66, 48, 47,
        47, 45, 45, 46, 46, 46, 46, 49, 49, 53, 53, 54, 54, 55, 55, 56, 56, 57,
        57, 58, 58, 60, 60, 61, 61, 63, 63, 64, 64, 66, 49, 47, 47, 45, 45, 45,
        45, 45, 45, 49, 49, 53, 53, 55, 55, 58, 58, 60, 60, 61, 61, 62, 62, 63,
        63, 65, 65, 67, 67, 68, 68, 69, 49, 47, 47, 45, 45, 45, 45, 45, 45, 49,
        49, 53, 53, 55, 55, 58, 58, 60, 60, 61, 61, 62, 62, 63, 63, 65, 65, 67,
        67, 68, 68, 69, 50, 48, 48, 46, 46, 46, 46, 46, 46, 50, 50, 54, 54, 56,
        56, 60, 60, 61, 61, 63, 63, 65, 65, 67, 67, 68, 68, 71, 71, 71, 71, 72,
        50, 48, 48, 46, 46, 46, 46, 46, 46, 50, 50, 54, 54, 56, 56, 60, 60, 61,
        61, 63, 63, 65, 65, 67, 67, 68, 68, 71, 71, 71, 71, 72, 52, 50, 50, 47,
        47, 47, 47, 47, 47, 50, 50, 54, 54, 57, 57, 61, 61, 63, 63, 66, 66, 68,
        68, 70, 70, 72, 72, 75, 75, 75, 75, 76, 52, 50, 50, 47, 47, 47, 47, 47,
        47, 50, 50, 54, 54, 57, 57, 61, 61, 63, 63, 66, 66, 68, 68, 70, 70, 72,
        72, 75, 75, 75, 75, 76, 54, 52, 52, 49, 49, 49, 49, 48, 48, 52, 52, 55,
        55, 58, 58, 62, 62, 65, 65, 68, 68, 71, 71, 73, 73, 75, 75, 78, 78, 79,
        79, 80, 54, 52, 52, 49, 49, 49, 49, 48, 48, 52, 52, 55, 55, 58, 58, 62,
        62, 65, 65, 68, 68, 71, 71, 73, 73, 75, 75, 78, 78, 79, 79, 80, 57, 54,
        54, 52, 52, 51, 51, 50, 50, 53, 53, 56, 56, 60, 60, 63, 63, 67, 67, 70,
        70, 73, 73, 76, 76, 79, 79, 82, 82, 83, 83, 84, 57, 54, 54, 52, 52, 51,
        51, 50, 50, 53, 53, 56, 56, 60, 60, 63, 63, 67, 67, 70, 70, 73, 73, 76,
        76, 79, 79, 82, 82, 83, 83, 84, 60, 57, 57, 54, 54, 53, 53, 52, 52, 55,
        55, 58, 58, 61, 61, 65, 65, 68, 68, 72, 72, 75, 75, 79, 79, 82, 82, 85,
        85, 86, 86, 88, 60, 57, 57, 54, 54, 53, 53, 52, 52, 55, 55, 58, 58, 61,
        61, 65, 65, 68, 68, 72, 72, 75, 75, 79, 79, 82, 82, 85, 85, 86, 86, 88,
        63, 60, 60, 57, 57, 56, 56, 54, 54, 57, 57, 60, 60, 63, 63, 67, 67, 71,
        71, 75, 75, 78, 78, 82, 82, 85, 85, 89, 89, 90, 90, 92, 63, 60, 60, 57,
        57, 56, 56, 54, 54, 57, 57, 60, 60, 63, 63, 67, 67, 71, 71, 75, 75, 78,
        78, 82, 82, 85, 85, 89, 89, 90, 90, 92, 65, 61, 61, 58, 58, 57, 57, 55,
        55, 58, 58, 61, 61, 64, 64, 68, 68, 71, 71, 75, 75, 79, 79, 83, 83, 86,
        86, 90, 90, 91, 91, 93, 65, 61, 61, 58, 58, 57, 57, 55, 55, 58, 58, 61,
        61, 64, 64, 68, 68, 71, 71, 75, 75, 79, 79, 83, 83, 86, 86, 90, 90, 91,
        91, 93, 67, 63, 63, 60, 60, 59, 59, 57, 57, 60, 60, 62, 62, 66, 66, 69,
        69, 72, 72, 76, 76, 80, 80, 84, 84, 88, 88, 92, 92, 93, 93, 95,
        /* Size 4x8 */
        31, 47, 50, 60, 36, 47, 47, 56, 43, 50, 50, 57, 46, 53, 57, 64, 46, 54,
        64, 71, 50, 55, 68, 78, 54, 58, 72, 85, 59, 61, 75, 90,
        /* Size 8x4 */
        31, 36, 43, 46, 46, 50, 54, 59, 47, 47, 50, 53, 54, 55, 58, 61, 50, 47,
        50, 57, 64, 68, 72, 75, 60, 56, 57, 64, 71, 78, 85, 90,
        /* Size 8x16 */
        32, 31, 37, 48, 49, 52, 57, 63, 31, 31, 38, 47, 47, 50, 54, 60, 30, 32,
        40, 46, 45, 48, 52, 57, 33, 36, 43, 47, 46, 47, 51, 56, 37, 40, 47, 47,
        45, 47, 50, 54, 42, 43, 47, 50, 49, 50, 53, 57, 49, 46, 48, 53, 53, 54,
        57, 60, 48, 46, 47, 53, 56, 57, 60, 64, 49, 45, 46, 53, 58, 61, 64, 67,
        50, 46, 46, 54, 59, 64, 67, 71, 52, 48, 47, 54, 61, 66, 71, 75, 54, 50,
        49, 55, 62, 68, 73, 78, 57, 52, 50, 56, 64, 70, 76, 82, 60, 54, 52, 58,
        65, 72, 79, 85, 63, 57, 55, 60, 67, 75, 82, 89, 64, 59, 56, 61, 68, 75,
        83, 90,
        /* Size 16x8 */
        32, 31, 30, 33, 37, 42, 49, 48, 49, 50, 52, 54, 57, 60, 63, 64, 31, 31,
        32, 36, 40, 43, 46, 46, 45, 46, 48, 50, 52, 54, 57, 59, 37, 38, 40, 43,
        47, 47, 48, 47, 46, 46, 47, 49, 50, 52, 55, 56, 48, 47, 46, 47, 47, 50,
        53, 53, 53, 54, 54, 55, 56, 58, 60, 61, 49, 47, 45, 46, 45, 49, 53, 56,
        58, 59, 61, 62, 64, 65, 67, 68, 52, 50, 48, 47, 47, 50, 54, 57, 61, 64,
        66, 68, 70, 72, 75, 75, 57, 54, 52, 51, 50, 53, 57, 60, 64, 67, 71, 73,
        76, 79, 82, 83, 63, 60, 57, 56, 54, 57, 60, 64, 67, 71, 75, 78, 82, 85,
        89, 90,
        /* Size 16x32 */
        32, 31, 31, 37, 37, 48, 48, 49, 49, 52, 52, 57, 57, 63, 63, 66, 31, 31,
        31, 38, 38, 47, 47, 47, 47, 50, 50, 54, 54, 60, 60, 63, 31, 31, 31, 38,
        38, 47, 47, 47, 47, 50, 50, 54, 54, 60, 60, 63, 30, 32, 32, 40, 40, 46,
        46, 45, 45, 48, 48, 52, 52, 57, 57, 60, 30, 32, 32, 40, 40, 46, 46, 45,
        45, 48, 48, 52, 52, 57, 57, 60, 33, 36, 36, 43, 43, 47, 47, 46, 46, 47,
        47, 51, 51, 56, 56, 59, 33, 36, 36, 43, 43, 47, 47, 46, 46, 47, 47, 51,
        51, 56, 56, 59, 37, 40, 40, 47, 47, 47, 47, 45, 45, 47, 47, 50, 50, 54,
        54, 57, 37, 40, 40, 47, 47, 47, 47, 45, 45, 47, 47, 50, 50, 54, 54, 57,
        42, 43, 43, 47, 47, 50, 50, 49, 49, 50, 50, 53, 53, 57, 57, 60, 42, 43,
        43, 47, 47, 50, 50, 49, 49, 50, 50, 53, 53, 57, 57, 60, 49, 46, 46, 48,
        48, 53, 53, 53, 53, 54, 54, 57, 57, 60, 60, 62, 49, 46, 46, 48, 48, 53,
        53, 53, 53, 54, 54, 57, 57, 60, 60, 62, 48, 46, 46, 47, 47, 53, 53, 56,
        56, 57, 57, 60, 60, 64, 64, 66, 48, 46, 46, 47, 47, 53, 53, 56, 56, 57,
        57, 60, 60, 64, 64, 66, 49, 45, 45, 46, 46, 53, 53, 58, 58, 61, 61, 64,
        64, 67, 67, 69, 49, 45, 45, 46, 46, 53, 53, 58, 58, 61, 61, 64, 64, 67,
        67, 69, 50, 46, 46, 46, 46, 54, 54, 59, 59, 64, 64, 67, 67, 71, 71, 73,
        50, 46, 46, 46, 46, 54, 54, 59, 59, 64, 64, 67, 67, 71, 71, 73, 52, 48,
        48, 47, 47, 54, 54, 61, 61, 66, 66, 71, 71, 75, 75, 77, 52, 48, 48, 47,
        47, 54, 54, 61, 61, 66, 66, 71, 71, 75, 75, 77, 54, 50, 50, 49, 49, 55,
        55, 62, 62, 68, 68, 73, 73, 78, 78, 80, 54, 50, 50, 49, 49, 55, 55, 62,
        62, 68, 68, 73, 73, 78, 78, 80, 57, 52, 52, 50, 50, 56, 56, 64, 64, 70,
        70, 76, 76, 82, 82, 84, 57, 52, 52, 50, 50, 56, 56, 64, 64, 70, 70, 76,
        76, 82, 82, 84, 60, 54, 54, 52, 52, 58, 58, 65, 65, 72, 72, 79, 79, 85,
        85, 88, 60, 54, 54, 52, 52, 58, 58, 65, 65, 72, 72, 79, 79, 85, 85, 88,
        63, 57, 57, 55, 55, 60, 60, 67, 67, 75, 75, 82, 82, 89, 89, 92, 63, 57,
        57, 55, 55, 60, 60, 67, 67, 75, 75, 82, 82, 89, 89, 92, 64, 59, 59, 56,
        56, 61, 61, 68, 68, 75, 75, 83, 83, 90, 90, 93, 64, 59, 59, 56, 56, 61,
        61, 68, 68, 75, 75, 83, 83, 90, 90, 93, 66, 60, 60, 57, 57, 63, 63, 69,
        69, 77, 77, 84, 84, 92, 92, 95,
        /* Size 32x16 */
        32, 31, 31, 30, 30, 33, 33, 37, 37, 42, 42, 49, 49, 48, 48, 49, 49, 50,
        50, 52, 52, 54, 54, 57, 57, 60, 60, 63, 63, 64, 64, 66, 31, 31, 31, 32,
        32, 36, 36, 40, 40, 43, 43, 46, 46, 46, 46, 45, 45, 46, 46, 48, 48, 50,
        50, 52, 52, 54, 54, 57, 57, 59, 59, 60, 31, 31, 31, 32, 32, 36, 36, 40,
        40, 43, 43, 46, 46, 46, 46, 45, 45, 46, 46, 48, 48, 50, 50, 52, 52, 54,
        54, 57, 57, 59, 59, 60, 37, 38, 38, 40, 40, 43, 43, 47, 47, 47, 47, 48,
        48, 47, 47, 46, 46, 46, 46, 47, 47, 49, 49, 50, 50, 52, 52, 55, 55, 56,
        56, 57, 37, 38, 38, 40, 40, 43, 43, 47, 47, 47, 47, 48, 48, 47, 47, 46,
        46, 46, 46, 47, 47, 49, 49, 50, 50, 52, 52, 55, 55, 56, 56, 57, 48, 47,
        47, 46, 46, 47, 47, 47, 47, 50, 50, 53, 53, 53, 53, 53, 53, 54, 54, 54,
        54, 55, 55, 56, 56, 58, 58, 60, 60, 61, 61, 63, 48, 47, 47, 46, 46, 47,
        47, 47, 47, 50, 50, 53, 53, 53, 53, 53, 53, 54, 54, 54, 54, 55, 55, 56,
        56, 58, 58, 60, 60, 61, 61, 63, 49, 47, 47, 45, 45, 46, 46, 45, 45, 49,
        49, 53, 53, 56, 56, 58, 58, 59, 59, 61, 61, 62, 62, 64, 64, 65, 65, 67,
        67, 68, 68, 69, 49, 47, 47, 45, 45, 46, 46, 45, 45, 49, 49, 53, 53, 56,
        56, 58, 58, 59, 59, 61, 61, 62, 62, 64, 64, 65, 65, 67, 67, 68, 68, 69,
        52, 50, 50, 48, 48, 47, 47, 47, 47, 50, 50, 54, 54, 57, 57, 61, 61, 64,
        64, 66, 66, 68, 68, 70, 70, 72, 72, 75, 75, 75, 75, 77, 52, 50, 50, 48,
        48, 47, 47, 47, 47, 50, 50, 54, 54, 57, 57, 61, 61, 64, 64, 66, 66, 68,
        68, 70, 70, 72, 72, 75, 75, 75, 75, 77, 57, 54, 54, 52, 52, 51, 51, 50,
        50, 53, 53, 57, 57, 60, 60, 64, 64, 67, 67, 71, 71, 73, 73, 76, 76, 79,
        79, 82, 82, 83, 83, 84, 57, 54, 54, 52, 52, 51, 51, 50, 50, 53, 53, 57,
        57, 60, 60, 64, 64, 67, 67, 71, 71, 73, 73, 76, 76, 79, 79, 82, 82, 83,
        83, 84, 63, 60, 60, 57, 57, 56, 56, 54, 54, 57, 57, 60, 60, 64, 64, 67,
        67, 71, 71, 75, 75, 78, 78, 82, 82, 85, 85, 89, 89, 90, 90, 92, 63, 60,
        60, 57, 57, 56, 56, 54, 54, 57, 57, 60, 60, 64, 64, 67, 67, 71, 71, 75,
        75, 78, 78, 82, 82, 85, 85, 89, 89, 90, 90, 92, 66, 63, 63, 60, 60, 59,
        59, 57, 57, 60, 60, 62, 62, 66, 66, 69, 69, 73, 73, 77, 77, 80, 80, 84,
        84, 88, 88, 92, 92, 93, 93, 95 },
  },
  {
      { /* Luma */
        /* Size 4x4 */
        32, 33, 45, 62, 33, 39, 51, 64, 45, 51, 71, 87, 62, 64, 87, 108,
        /* Size 8x8 */
        31, 32, 32, 35, 42, 51, 59, 69, 32, 32, 33, 35, 41, 49, 56, 65, 32, 33,
        35, 38, 43, 49, 56, 64, 35, 35, 38, 48, 54, 59, 66, 73, 42, 41, 43, 54,
        63, 71, 77, 85, 51, 49, 49, 59, 71, 81, 89, 97, 59, 56, 56, 66, 77, 89,
        98, 108, 69, 65, 64, 73, 85, 97, 108, 119,
        /* Size 16x16 */
        32, 31, 31, 31, 32, 34, 35, 38, 41, 45, 48, 54, 59, 65, 71, 80, 31, 32,
        32, 32, 32, 34, 35, 37, 40, 43, 46, 51, 56, 62, 68, 76, 31, 32, 32, 32,
        32, 33, 34, 36, 38, 41, 44, 49, 54, 59, 65, 72, 31, 32, 32, 33, 34, 35,
        36, 38, 40, 42, 45, 50, 54, 59, 64, 71, 32, 32, 32, 34, 35, 37, 38, 39,
        41, 43, 46, 49, 53, 58, 63, 69, 34, 34, 33, 35, 37, 39, 42, 44, 46, 48,
        51, 54, 58, 63, 68, 74, 35, 35, 34, 36, 38, 42, 46, 48, 50, 53, 55, 59,
        62, 67, 72, 78, 38, 37, 36, 38, 39, 44, 48, 51, 54, 57, 59, 63, 67, 71,
        76, 82, 41, 40, 38, 40, 41, 46, 50, 54, 57, 60, 63, 67, 71, 75, 80, 86,
        45, 43, 41, 42, 43, 48, 53, 57, 60, 65, 68, 72, 76, 81, 85, 91, 48, 46,
        44, 45, 46, 51, 55, 59, 63, 68, 71, 76, 80, 85, 90, 96, 54, 51, 49, 50,
        49, 54, 59, 63, 67, 72, 76, 82, 87, 92, 97, 104, 59, 56, 54, 54, 53, 58,
        62, 67, 71, 76, 80, 87, 92, 98, 103, 110, 65, 62, 59, 59, 58, 63, 67,
        71, 75, 81, 85, 92, 98, 105, 111, 118, 71, 68, 65, 64, 63, 68, 72, 76,
        80, 85, 90, 97, 103, 111, 117, 125, 80, 76, 72, 71, 69, 74, 78, 82, 86,
        91, 96, 104, 110, 118, 125, 134,
        /* Size 32x32 */
        32, 31, 31, 31, 31, 31, 31, 32, 32, 32, 34, 34, 35, 36, 38, 39, 41, 44,
        45, 48, 48, 53, 54, 57, 59, 62, 65, 67, 71, 72, 80, 80, 31, 31, 32, 32,
        32, 32, 32, 32, 32, 32, 34, 34, 35, 35, 37, 38, 40, 42, 43, 46, 46, 51,
        52, 55, 56, 59, 62, 64, 68, 69, 76, 76, 31, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 34, 34, 35, 35, 37, 38, 40, 42, 43, 46, 46, 51, 51, 55, 56, 59,
        62, 64, 68, 69, 76, 76, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33,
        34, 34, 36, 38, 39, 41, 42, 45, 45, 49, 50, 53, 54, 57, 60, 62, 66, 66,
        73, 73, 31, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 34, 34, 36, 37,
        38, 41, 41, 44, 44, 49, 49, 52, 54, 56, 59, 61, 65, 65, 72, 72, 31, 32,
        32, 32, 32, 32, 33, 33, 33, 33, 34, 34, 35, 35, 37, 38, 39, 41, 42, 45,
        45, 49, 49, 52, 54, 56, 59, 61, 64, 65, 72, 72, 31, 32, 32, 32, 32, 33,
        33, 33, 34, 34, 35, 35, 36, 36, 38, 39, 40, 42, 42, 45, 45, 49, 50, 52,
        54, 56, 59, 60, 64, 65, 71, 71, 32, 32, 32, 32, 32, 33, 33, 34, 34, 34,
        35, 35, 36, 37, 38, 39, 40, 42, 43, 45, 45, 49, 49, 52, 54, 56, 59, 60,
        64, 64, 70, 70, 32, 32, 32, 32, 32, 33, 34, 34, 35, 35, 37, 37, 38, 38,
        39, 40, 41, 42, 43, 46, 46, 49, 49, 52, 53, 55, 58, 59, 63, 63, 69, 69,
        32, 32, 32, 32, 33, 33, 34, 34, 35, 35, 37, 37, 38, 38, 40, 41, 41, 43,
        43, 46, 46, 49, 50, 52, 54, 56, 58, 60, 63, 64, 70, 70, 34, 34, 34, 33,
        33, 34, 35, 35, 37, 37, 39, 39, 42, 42, 44, 45, 46, 47, 48, 51, 51, 54,
        54, 57, 58, 60, 63, 64, 68, 68, 74, 74, 34, 34, 34, 33, 33, 34, 35, 35,
        37, 37, 39, 39, 42, 42, 44, 45, 46, 47, 48, 51, 51, 54, 54, 57, 58, 60,
        63, 64, 68, 68, 74, 74, 35, 35, 35, 34, 34, 35, 36, 36, 38, 38, 42, 42,
        46, 47, 48, 49, 50, 52, 53, 55, 55, 58, 59, 61, 62, 64, 67, 68, 72, 72,
        78, 78, 36, 35, 35, 34, 34, 35, 36, 37, 38, 38, 42, 42, 47, 48, 50, 50,
        52, 54, 54, 57, 57, 59, 60, 62, 64, 66, 68, 69, 73, 73, 79, 79, 38, 37,
        37, 36, 36, 37, 38, 38, 39, 40, 44, 44, 48, 50, 51, 52, 54, 56, 57, 59,
        59, 62, 63, 65, 67, 69, 71, 72, 76, 76, 82, 82, 39, 38, 38, 38, 37, 38,
        39, 39, 40, 41, 45, 45, 49, 50, 52, 54, 55, 58, 58, 61, 61, 64, 65, 67,
        69, 71, 73, 74, 78, 78, 84, 84, 41, 40, 40, 39, 38, 39, 40, 40, 41, 41,
        46, 46, 50, 52, 54, 55, 57, 60, 60, 63, 63, 67, 67, 70, 71, 73, 75, 77,
        80, 81, 86, 86, 44, 42, 42, 41, 41, 41, 42, 42, 42, 43, 47, 47, 52, 54,
        56, 58, 60, 63, 64, 67, 67, 71, 71, 74, 75, 77, 79, 81, 84, 85, 90, 90,
        45, 43, 43, 42, 41, 42, 42, 43, 43, 43, 48, 48, 53, 54, 57, 58, 60, 64,
        65, 68, 68, 72, 72, 75, 76, 78, 81, 82, 85, 86, 91, 91, 48, 46, 46, 45,
        44, 45, 45, 45, 46, 46, 51, 51, 55, 57, 59, 61, 63, 67, 68, 71, 71, 75,
        76, 79, 80, 83, 85, 87, 90, 91, 96, 96, 48, 46, 46, 45, 44, 45, 45, 45,
        46, 46, 51, 51, 55, 57, 59, 61, 63, 67, 68, 71, 71, 75, 76, 79, 80, 83,
        85, 87, 90, 91, 96, 96, 53, 51, 51, 49, 49, 49, 49, 49, 49, 49, 54, 54,
        58, 59, 62, 64, 67, 71, 72, 75, 75, 81, 81, 85, 86, 89, 91, 93, 97, 97,
        103, 103, 54, 52, 51, 50, 49, 49, 50, 49, 49, 50, 54, 54, 59, 60, 63,
        65, 67, 71, 72, 76, 76, 81, 82, 85, 87, 89, 92, 94, 97, 98, 104, 104,
        57, 55, 55, 53, 52, 52, 52, 52, 52, 52, 57, 57, 61, 62, 65, 67, 70, 74,
        75, 79, 79, 85, 85, 89, 90, 93, 96, 98, 102, 102, 108, 108, 59, 56, 56,
        54, 54, 54, 54, 54, 53, 54, 58, 58, 62, 64, 67, 69, 71, 75, 76, 80, 80,
        86, 87, 90, 92, 95, 98, 99, 103, 104, 110, 110, 62, 59, 59, 57, 56, 56,
        56, 56, 55, 56, 60, 60, 64, 66, 69, 71, 73, 77, 78, 83, 83, 89, 89, 93,
        95, 98, 101, 103, 107, 108, 114, 114, 65, 62, 62, 60, 59, 59, 59, 59,
        58, 58, 63, 63, 67, 68, 71, 73, 75, 79, 81, 85, 85, 91, 92, 96, 98, 101,
        105, 106, 111, 111, 118, 118, 67, 64, 64, 62, 61, 61, 60, 60, 59, 60,
        64, 64, 68, 69, 72, 74, 77, 81, 82, 87, 87, 93, 94, 98, 99, 103, 106,
        108, 113, 113, 120, 120, 71, 68, 68, 66, 65, 64, 64, 64, 63, 63, 68, 68,
        72, 73, 76, 78, 80, 84, 85, 90, 90, 97, 97, 102, 103, 107, 111, 113,
        117, 118, 125, 125, 72, 69, 69, 66, 65, 65, 65, 64, 63, 64, 68, 68, 72,
        73, 76, 78, 81, 85, 86, 91, 91, 97, 98, 102, 104, 108, 111, 113, 118,
        119, 126, 126, 80, 76, 76, 73, 72, 72, 71, 70, 69, 70, 74, 74, 78, 79,
        82, 84, 86, 90, 91, 96, 96, 103, 104, 108, 110, 114, 118, 120, 125, 126,
        134, 134, 80, 76, 76, 73, 72, 72, 71, 70, 69, 70, 74, 74, 78, 79, 82,
        84, 86, 90, 91, 96, 96, 103, 104, 108, 110, 114, 118, 120, 125, 126,
        134, 134,
        /* Size 4x8 */
        32, 34, 43, 62, 32, 34, 42, 59, 33, 37, 44, 58, 35, 43, 54, 68, 41, 48,
        64, 79, 49, 54, 71, 91, 57, 60, 78, 101, 66, 68, 86, 111,
        /* Size 8x4 */
        32, 32, 33, 35, 41, 49, 57, 66, 34, 34, 37, 43, 48, 54, 60, 68, 43, 42,
        44, 54, 64, 71, 78, 86, 62, 59, 58, 68, 79, 91, 101, 111,
        /* Size 8x16 */
        32, 31, 32, 36, 44, 53, 62, 73, 31, 32, 32, 35, 42, 51, 59, 69, 31, 32,
        33, 34, 41, 49, 57, 66, 32, 32, 34, 36, 42, 50, 57, 65, 32, 33, 35, 38,
        42, 49, 56, 64, 34, 34, 37, 42, 48, 54, 61, 69, 35, 34, 38, 47, 52, 59,
        65, 73, 38, 36, 40, 49, 56, 63, 69, 77, 41, 39, 41, 51, 60, 67, 74, 81,
        44, 42, 43, 54, 64, 72, 79, 86, 48, 45, 46, 56, 67, 76, 83, 91, 53, 49,
        50, 60, 71, 82, 90, 99, 58, 54, 54, 63, 75, 87, 95, 105, 65, 60, 58, 68,
        79, 92, 102, 112, 71, 65, 63, 73, 84, 97, 108, 119, 79, 72, 70, 79, 90,
        104, 115, 127,
        /* Size 16x8 */
        32, 31, 31, 32, 32, 34, 35, 38, 41, 44, 48, 53, 58, 65, 71, 79, 31, 32,
        32, 32, 33, 34, 34, 36, 39, 42, 45, 49, 54, 60, 65, 72, 32, 32, 33, 34,
        35, 37, 38, 40, 41, 43, 46, 50, 54, 58, 63, 70, 36, 35, 34, 36, 38, 42,
        47, 49, 51, 54, 56, 60, 63, 68, 73, 79, 44, 42, 41, 42, 42, 48, 52, 56,
        60, 64, 67, 71, 75, 79, 84, 90, 53, 51, 49, 50, 49, 54, 59, 63, 67, 72,
        76, 82, 87, 92, 97, 104, 62, 59, 57, 57, 56, 61, 65, 69, 74, 79, 83, 90,
        95, 102, 108, 115, 73, 69, 66, 65, 64, 69, 73, 77, 81, 86, 91, 99, 105,
        112, 119, 127,
        /* Size 16x32 */
        32, 31, 31, 32, 32, 34, 36, 38, 44, 44, 53, 53, 62, 65, 73, 79, 31, 32,
        32, 32, 32, 34, 35, 37, 42, 43, 51, 51, 60, 62, 70, 75, 31, 32, 32, 32,
        32, 34, 35, 37, 42, 43, 51, 51, 59, 62, 69, 75, 31, 32, 32, 32, 32, 33,
        35, 36, 41, 42, 50, 50, 58, 60, 67, 73, 31, 32, 32, 32, 33, 33, 34, 36,
        41, 41, 49, 49, 57, 59, 66, 72, 31, 32, 32, 33, 33, 34, 35, 37, 41, 42,
        49, 49, 57, 59, 66, 71, 32, 32, 32, 33, 34, 35, 36, 38, 42, 43, 50, 50,
        57, 59, 65, 71, 32, 32, 32, 34, 34, 35, 37, 38, 42, 43, 49, 49, 56, 59,
        65, 70, 32, 32, 33, 34, 35, 37, 38, 39, 42, 43, 49, 49, 56, 58, 64, 69,
        32, 33, 33, 34, 35, 37, 39, 40, 43, 44, 50, 50, 56, 58, 64, 69, 34, 34,
        34, 36, 37, 39, 42, 44, 48, 48, 54, 54, 61, 63, 69, 73, 34, 34, 34, 36,
        37, 39, 42, 44, 48, 48, 54, 54, 61, 63, 69, 73, 35, 34, 34, 37, 38, 42,
        47, 48, 52, 53, 59, 59, 65, 67, 73, 77, 36, 35, 34, 37, 38, 43, 48, 49,
        54, 54, 60, 60, 66, 68, 74, 78, 38, 36, 36, 38, 40, 44, 49, 51, 56, 57,
        63, 63, 69, 71, 77, 81, 39, 38, 37, 40, 40, 45, 50, 52, 58, 58, 65, 65,
        71, 73, 79, 84, 41, 39, 39, 41, 41, 46, 51, 54, 60, 60, 67, 67, 74, 76,
        81, 86, 44, 41, 41, 42, 43, 48, 53, 56, 63, 64, 71, 71, 78, 79, 85, 90,
        44, 42, 42, 43, 43, 48, 54, 56, 64, 64, 72, 72, 79, 81, 86, 91, 48, 45,
        45, 46, 46, 51, 56, 59, 67, 67, 76, 76, 83, 85, 91, 96, 48, 45, 45, 46,
        46, 51, 56, 59, 67, 67, 76, 76, 83, 85, 91, 96, 53, 49, 49, 49, 49, 54,
        59, 62, 71, 71, 81, 81, 89, 91, 98, 103, 53, 50, 49, 50, 50, 54, 60, 63,
        71, 72, 82, 82, 90, 92, 99, 103, 57, 53, 52, 52, 52, 57, 62, 65, 74, 75,
        85, 85, 94, 96, 103, 108, 58, 54, 54, 54, 54, 58, 63, 67, 75, 76, 87,
        87, 95, 98, 105, 110, 61, 57, 57, 56, 56, 60, 66, 69, 77, 78, 89, 89,
        98, 101, 108, 114, 65, 60, 60, 59, 58, 63, 68, 71, 79, 80, 92, 92, 102,
        105, 112, 118, 67, 62, 61, 60, 60, 64, 69, 72, 81, 82, 94, 94, 103, 106,
        114, 120, 71, 66, 65, 64, 63, 68, 73, 76, 84, 85, 97, 97, 108, 111, 119,
        125, 72, 66, 66, 64, 64, 68, 73, 76, 85, 86, 98, 98, 108, 111, 119, 125,
        79, 73, 72, 71, 70, 74, 79, 82, 90, 91, 104, 104, 115, 118, 127, 133,
        79, 73, 72, 71, 70, 74, 79, 82, 90, 91, 104, 104, 115, 118, 127, 133,
        /* Size 32x16 */
        32, 31, 31, 31, 31, 31, 32, 32, 32, 32, 34, 34, 35, 36, 38, 39, 41, 44,
        44, 48, 48, 53, 53, 57, 58, 61, 65, 67, 71, 72, 79, 79, 31, 32, 32, 32,
        32, 32, 32, 32, 32, 33, 34, 34, 34, 35, 36, 38, 39, 41, 42, 45, 45, 49,
        50, 53, 54, 57, 60, 62, 66, 66, 73, 73, 31, 32, 32, 32, 32, 32, 32, 32,
        33, 33, 34, 34, 34, 34, 36, 37, 39, 41, 42, 45, 45, 49, 49, 52, 54, 57,
        60, 61, 65, 66, 72, 72, 32, 32, 32, 32, 32, 33, 33, 34, 34, 34, 36, 36,
        37, 37, 38, 40, 41, 42, 43, 46, 46, 49, 50, 52, 54, 56, 59, 60, 64, 64,
        71, 71, 32, 32, 32, 32, 33, 33, 34, 34, 35, 35, 37, 37, 38, 38, 40, 40,
        41, 43, 43, 46, 46, 49, 50, 52, 54, 56, 58, 60, 63, 64, 70, 70, 34, 34,
        34, 33, 33, 34, 35, 35, 37, 37, 39, 39, 42, 43, 44, 45, 46, 48, 48, 51,
        51, 54, 54, 57, 58, 60, 63, 64, 68, 68, 74, 74, 36, 35, 35, 35, 34, 35,
        36, 37, 38, 39, 42, 42, 47, 48, 49, 50, 51, 53, 54, 56, 56, 59, 60, 62,
        63, 66, 68, 69, 73, 73, 79, 79, 38, 37, 37, 36, 36, 37, 38, 38, 39, 40,
        44, 44, 48, 49, 51, 52, 54, 56, 56, 59, 59, 62, 63, 65, 67, 69, 71, 72,
        76, 76, 82, 82, 44, 42, 42, 41, 41, 41, 42, 42, 42, 43, 48, 48, 52, 54,
        56, 58, 60, 63, 64, 67, 67, 71, 71, 74, 75, 77, 79, 81, 84, 85, 90, 90,
        44, 43, 43, 42, 41, 42, 43, 43, 43, 44, 48, 48, 53, 54, 57, 58, 60, 64,
        64, 67, 67, 71, 72, 75, 76, 78, 80, 82, 85, 86, 91, 91, 53, 51, 51, 50,
        49, 49, 50, 49, 49, 50, 54, 54, 59, 60, 63, 65, 67, 71, 72, 76, 76, 81,
        82, 85, 87, 89, 92, 94, 97, 98, 104, 104, 53, 51, 51, 50, 49, 49, 50,
        49, 49, 50, 54, 54, 59, 60, 63, 65, 67, 71, 72, 76, 76, 81, 82, 85, 87,
        89, 92, 94, 97, 98, 104, 104, 62, 60, 59, 58, 57, 57, 57, 56, 56, 56,
        61, 61, 65, 66, 69, 71, 74, 78, 79, 83, 83, 89, 90, 94, 95, 98, 102,
        103, 108, 108, 115, 115, 65, 62, 62, 60, 59, 59, 59, 59, 58, 58, 63, 63,
        67, 68, 71, 73, 76, 79, 81, 85, 85, 91, 92, 96, 98, 101, 105, 106, 111,
        111, 118, 118, 73, 70, 69, 67, 66, 66, 65, 65, 64, 64, 69, 69, 73, 74,
        77, 79, 81, 85, 86, 91, 91, 98, 99, 103, 105, 108, 112, 114, 119, 119,
        127, 127, 79, 75, 75, 73, 72, 71, 71, 70, 69, 69, 73, 73, 77, 78, 81,
        84, 86, 90, 91, 96, 96, 103, 103, 108, 110, 114, 118, 120, 125, 125,
        133, 133 },
      { /* Chroma */
        /* Size 4x4 */
        31, 42, 47, 53, 42, 48, 50, 54, 47, 50, 61, 67, 53, 54, 67, 78,
        /* Size 8x8 */
        31, 32, 38, 48, 47, 50, 53, 57, 32, 35, 42, 47, 45, 47, 50, 54, 38, 42,
        47, 48, 45, 47, 49, 52, 48, 47, 48, 53, 53, 54, 56, 58, 47, 45, 45, 53,
        58, 61, 63, 65, 50, 47, 47, 54, 61, 66, 69, 72, 53, 50, 49, 56, 63, 69,
        73, 77, 57, 54, 52, 58, 65, 72, 77, 82,
        /* Size 16x16 */
        32, 31, 30, 33, 36, 41, 47, 49, 49, 49, 50, 52, 54, 57, 60, 63, 31, 31,
        31, 34, 38, 42, 46, 47, 47, 47, 48, 50, 52, 54, 57, 60, 30, 31, 32, 35,
        40, 42, 45, 46, 45, 45, 46, 47, 49, 52, 54, 57, 33, 34, 35, 39, 43, 45,
        47, 46, 46, 45, 46, 47, 49, 51, 53, 56, 36, 38, 40, 43, 47, 47, 47, 47,
        46, 45, 46, 47, 48, 50, 52, 54, 41, 42, 42, 45, 47, 48, 50, 50, 49, 49,
        50, 50, 52, 53, 55, 57, 47, 46, 45, 47, 47, 50, 52, 52, 52, 52, 53, 53,
        55, 56, 58, 60, 49, 47, 46, 46, 47, 50, 52, 53, 54, 55, 55, 56, 57, 58,
        60, 62, 49, 47, 45, 46, 46, 49, 52, 54, 55, 57, 58, 59, 60, 61, 63, 65,
        49, 47, 45, 45, 45, 49, 52, 55, 57, 59, 60, 61, 63, 64, 66, 68, 50, 48,
        46, 46, 46, 50, 53, 55, 58, 60, 61, 63, 65, 67, 68, 71, 52, 50, 47, 47,
        47, 50, 53, 56, 59, 61, 63, 66, 68, 70, 72, 75, 54, 52, 49, 49, 48, 52,
        55, 57, 60, 63, 65, 68, 71, 73, 75, 78, 57, 54, 52, 51, 50, 53, 56, 58,
        61, 64, 67, 70, 73, 76, 79, 82, 60, 57, 54, 53, 52, 55, 58, 60, 63, 66,
        68, 72, 75, 79, 82, 85, 63, 60, 57, 56, 54, 57, 60, 62, 65, 68, 71, 75,
        78, 82, 85, 89,
        /* Size 32x32 */
        32, 31, 31, 30, 30, 32, 33, 34, 36, 37, 41, 41, 47, 49, 49, 48, 49, 49,
        49, 50, 50, 52, 52, 54, 54, 56, 57, 58, 60, 60, 63, 63, 31, 31, 31, 31,
        31, 32, 34, 35, 38, 38, 42, 42, 46, 48, 47, 47, 47, 47, 47, 48, 48, 50,
        50, 51, 52, 53, 54, 55, 57, 57, 60, 60, 31, 31, 31, 31, 31, 33, 34, 35,
        38, 39, 42, 42, 46, 47, 47, 47, 47, 47, 47, 48, 48, 49, 50, 51, 52, 53,
        54, 55, 57, 57, 60, 60, 30, 31, 31, 31, 31, 33, 35, 36, 39, 40, 42, 42,
        46, 47, 46, 46, 46, 45, 46, 47, 47, 48, 48, 50, 50, 51, 52, 53, 55, 55,
        58, 58, 30, 31, 31, 31, 32, 33, 35, 36, 40, 40, 42, 42, 45, 46, 46, 45,
        45, 45, 45, 46, 46, 47, 47, 49, 49, 51, 52, 52, 54, 54, 57, 57, 32, 32,
        33, 33, 33, 35, 37, 38, 41, 42, 43, 43, 46, 47, 46, 46, 45, 45, 45, 46,
        46, 47, 47, 49, 49, 50, 51, 52, 54, 54, 57, 57, 33, 34, 34, 35, 35, 37,
        39, 40, 43, 43, 45, 45, 47, 47, 46, 46, 46, 45, 45, 46, 46, 47, 47, 49,
        49, 50, 51, 52, 53, 54, 56, 56, 34, 35, 35, 36, 36, 38, 40, 41, 44, 44,
        45, 45, 47, 47, 47, 46, 46, 45, 45, 46, 46, 47, 47, 48, 49, 50, 51, 51,
        53, 53, 55, 55, 36, 38, 38, 39, 40, 41, 43, 44, 47, 47, 47, 47, 47, 48,
        47, 46, 46, 45, 45, 46, 46, 46, 47, 48, 48, 49, 50, 50, 52, 52, 54, 54,
        37, 38, 39, 40, 40, 42, 43, 44, 47, 47, 47, 47, 48, 48, 47, 47, 46, 45,
        46, 46, 46, 47, 47, 48, 48, 49, 50, 51, 52, 52, 55, 55, 41, 42, 42, 42,
        42, 43, 45, 45, 47, 47, 48, 48, 50, 50, 50, 49, 49, 49, 49, 50, 50, 50,
        50, 51, 52, 52, 53, 54, 55, 55, 57, 57, 41, 42, 42, 42, 42, 43, 45, 45,
        47, 47, 48, 48, 50, 50, 50, 49, 49, 49, 49, 50, 50, 50, 50, 51, 52, 52,
        53, 54, 55, 55, 57, 57, 47, 46, 46, 46, 45, 46, 47, 47, 47, 48, 50, 50,
        52, 52, 52, 52, 52, 52, 52, 53, 53, 53, 53, 54, 55, 55, 56, 56, 58, 58,
        60, 60, 49, 48, 47, 47, 46, 47, 47, 47, 48, 48, 50, 50, 52, 53, 53, 53,
        53, 53, 53, 54, 54, 54, 54, 55, 55, 56, 56, 57, 58, 58, 60, 60, 49, 47,
        47, 46, 46, 46, 46, 47, 47, 47, 50, 50, 52, 53, 53, 54, 54, 55, 55, 55,
        55, 56, 56, 57, 57, 58, 58, 59, 60, 60, 62, 62, 48, 47, 47, 46, 45, 46,
        46, 46, 46, 47, 49, 49, 52, 53, 54, 54, 55, 55, 56, 56, 56, 57, 57, 58,
        58, 59, 60, 60, 61, 62, 63, 63, 49, 47, 47, 46, 45, 45, 46, 46, 46, 46,
        49, 49, 52, 53, 54, 55, 55, 57, 57, 58, 58, 59, 59, 60, 60, 61, 61, 62,
        63, 63, 65, 65, 49, 47, 47, 45, 45, 45, 45, 45, 45, 45, 49, 49, 52, 53,
        55, 55, 57, 58, 59, 60, 60, 61, 61, 62, 62, 63, 63, 64, 65, 65, 67, 67,
        49, 47, 47, 46, 45, 45, 45, 45, 45, 46, 49, 49, 52, 53, 55, 56, 57, 59,
        59, 60, 60, 61, 61, 62, 63, 63, 64, 65, 66, 66, 68, 68, 50, 48, 48, 47,
        46, 46, 46, 46, 46, 46, 50, 50, 53, 54, 55, 56, 58, 60, 60, 61, 61, 63,
        63, 65, 65, 66, 67, 67, 68, 69, 71, 71, 50, 48, 48, 47, 46, 46, 46, 46,
        46, 46, 50, 50, 53, 54, 55, 56, 58, 60, 60, 61, 61, 63, 63, 65, 65, 66,
        67, 67, 68, 69, 71, 71, 52, 50, 49, 48, 47, 47, 47, 47, 46, 47, 50, 50,
        53, 54, 56, 57, 59, 61, 61, 63, 63, 66, 66, 67, 68, 69, 70, 71, 72, 72,
        74, 74, 52, 50, 50, 48, 47, 47, 47, 47, 47, 47, 50, 50, 53, 54, 56, 57,
        59, 61, 61, 63, 63, 66, 66, 68, 68, 69, 70, 71, 72, 73, 75, 75, 54, 51,
        51, 50, 49, 49, 49, 48, 48, 48, 51, 51, 54, 55, 57, 58, 60, 62, 62, 65,
        65, 67, 68, 69, 70, 71, 72, 73, 74, 75, 77, 77, 54, 52, 52, 50, 49, 49,
        49, 49, 48, 48, 52, 52, 55, 55, 57, 58, 60, 62, 63, 65, 65, 68, 68, 70,
        71, 72, 73, 74, 75, 76, 78, 78, 56, 53, 53, 51, 51, 50, 50, 50, 49, 49,
        52, 52, 55, 56, 58, 59, 61, 63, 63, 66, 66, 69, 69, 71, 72, 73, 75, 75,
        77, 77, 80, 80, 57, 54, 54, 52, 52, 51, 51, 51, 50, 50, 53, 53, 56, 56,
        58, 60, 61, 63, 64, 67, 67, 70, 70, 72, 73, 75, 76, 77, 79, 79, 82, 82,
        58, 55, 55, 53, 52, 52, 52, 51, 50, 51, 54, 54, 56, 57, 59, 60, 62, 64,
        65, 67, 67, 71, 71, 73, 74, 75, 77, 78, 80, 80, 83, 83, 60, 57, 57, 55,
        54, 54, 53, 53, 52, 52, 55, 55, 58, 58, 60, 61, 63, 65, 66, 68, 68, 72,
        72, 74, 75, 77, 79, 80, 82, 82, 85, 85, 60, 57, 57, 55, 54, 54, 54, 53,
        52, 52, 55, 55, 58, 58, 60, 62, 63, 65, 66, 69, 69, 72, 73, 75, 76, 77,
        79, 80, 82, 82, 85, 85, 63, 60, 60, 58, 57, 57, 56, 55, 54, 55, 57, 57,
        60, 60, 62, 63, 65, 67, 68, 71, 71, 74, 75, 77, 78, 80, 82, 83, 85, 85,
        89, 89, 63, 60, 60, 58, 57, 57, 56, 55, 54, 55, 57, 57, 60, 60, 62, 63,
        65, 67, 68, 71, 71, 74, 75, 77, 78, 80, 82, 83, 85, 85, 89, 89,
        /* Size 4x8 */
        31, 42, 47, 54, 33, 44, 45, 51, 40, 47, 46, 50, 47, 50, 54, 57, 45, 49,
        59, 64, 48, 50, 61, 70, 51, 52, 63, 75, 55, 55, 66, 79,
        /* Size 8x4 */
        31, 33, 40, 47, 45, 48, 51, 55, 42, 44, 47, 50, 49, 50, 52, 55, 47, 45,
        46, 54, 59, 61, 63, 66, 54, 51, 50, 57, 64, 70, 75, 79,
        /* Size 8x16 */
        32, 31, 37, 48, 49, 52, 56, 61, 31, 31, 38, 47, 47, 50, 53, 57, 30, 32,
        40, 46, 45, 48, 51, 55, 33, 36, 43, 47, 46, 47, 50, 54, 37, 40, 47, 47,
        45, 47, 49, 52, 42, 43, 47, 50, 49, 50, 53, 56, 47, 46, 48, 52, 53, 53,
        55, 58, 48, 46, 47, 53, 55, 56, 58, 61, 48, 45, 46, 53, 57, 59, 61, 63,
        49, 45, 46, 53, 58, 62, 64, 66, 50, 46, 46, 54, 59, 64, 66, 69, 52, 48,
        47, 54, 61, 66, 70, 73, 54, 50, 49, 55, 62, 68, 72, 76, 57, 52, 50, 56,
        64, 70, 75, 79, 60, 54, 52, 58, 65, 72, 77, 82, 63, 57, 55, 60, 67, 75,
        80, 86,
        /* Size 16x8 */
        32, 31, 30, 33, 37, 42, 47, 48, 48, 49, 50, 52, 54, 57, 60, 63, 31, 31,
        32, 36, 40, 43, 46, 46, 45, 45, 46, 48, 50, 52, 54, 57, 37, 38, 40, 43,
        47, 47, 48, 47, 46, 46, 46, 47, 49, 50, 52, 55, 48, 47, 46, 47, 47, 50,
        52, 53, 53, 53, 54, 54, 55, 56, 58, 60, 49, 47, 45, 46, 45, 49, 53, 55,
        57, 58, 59, 61, 62, 64, 65, 67, 52, 50, 48, 47, 47, 50, 53, 56, 59, 62,
        64, 66, 68, 70, 72, 75, 56, 53, 51, 50, 49, 53, 55, 58, 61, 64, 66, 70,
        72, 75, 77, 80, 61, 57, 55, 54, 52, 56, 58, 61, 63, 66, 69, 73, 76, 79,
        82, 86,
        /* Size 16x32 */
        32, 31, 31, 35, 37, 42, 48, 48, 49, 49, 52, 52, 56, 57, 61, 63, 31, 31,
        31, 36, 38, 42, 47, 47, 47, 47, 50, 50, 54, 54, 58, 60, 31, 31, 31, 36,
        38, 42, 47, 47, 47, 47, 50, 50, 53, 54, 57, 60, 30, 32, 32, 37, 39, 42,
        46, 46, 46, 46, 48, 48, 52, 52, 56, 58, 30, 32, 32, 37, 40, 42, 46, 46,
        45, 45, 48, 48, 51, 52, 55, 57, 32, 33, 34, 39, 41, 44, 46, 46, 45, 45,
        48, 48, 51, 51, 54, 57, 33, 35, 36, 40, 43, 45, 47, 46, 46, 46, 47, 47,
        50, 51, 54, 56, 34, 37, 37, 42, 44, 45, 47, 47, 45, 46, 47, 47, 50, 51,
        53, 55, 37, 40, 40, 45, 47, 47, 47, 47, 45, 46, 47, 47, 49, 50, 52, 54,
        37, 40, 40, 45, 47, 47, 48, 47, 46, 46, 47, 47, 49, 50, 53, 55, 42, 43,
        43, 46, 47, 48, 50, 50, 49, 49, 50, 50, 53, 53, 56, 57, 42, 43, 43, 46,
        47, 48, 50, 50, 49, 49, 50, 50, 53, 53, 56, 57, 47, 46, 46, 47, 48, 50,
        52, 52, 53, 53, 53, 53, 55, 56, 58, 60, 49, 47, 46, 47, 48, 50, 53, 53,
        53, 54, 54, 54, 56, 57, 59, 60, 48, 46, 46, 47, 47, 50, 53, 53, 55, 55,
        56, 56, 58, 58, 61, 62, 48, 46, 46, 46, 47, 50, 53, 54, 56, 56, 57, 57,
        59, 60, 62, 64, 48, 46, 45, 46, 46, 49, 53, 54, 57, 57, 59, 59, 61, 61,
        63, 65, 49, 45, 45, 45, 46, 49, 53, 55, 58, 59, 61, 61, 63, 64, 66, 67,
        49, 46, 45, 46, 46, 49, 53, 55, 58, 59, 62, 62, 64, 64, 66, 68, 50, 47,
        46, 46, 46, 50, 54, 55, 59, 60, 64, 64, 66, 67, 69, 71, 50, 47, 46, 46,
        46, 50, 54, 55, 59, 60, 64, 64, 66, 67, 69, 71, 52, 48, 48, 47, 47, 50,
        54, 56, 61, 61, 66, 66, 69, 70, 72, 74, 52, 48, 48, 47, 47, 50, 54, 56,
        61, 61, 66, 66, 70, 71, 73, 75, 53, 50, 49, 48, 48, 51, 55, 57, 62, 62,
        68, 68, 71, 72, 75, 77, 54, 50, 50, 49, 49, 52, 55, 57, 62, 63, 68, 68,
        72, 73, 76, 78, 55, 51, 51, 50, 49, 52, 56, 58, 63, 63, 69, 69, 74, 75,
        78, 80, 57, 52, 52, 51, 50, 53, 56, 58, 64, 64, 70, 70, 75, 76, 79, 82,
        58, 53, 53, 51, 51, 54, 57, 59, 64, 65, 71, 71, 76, 77, 80, 83, 60, 55,
        54, 53, 52, 55, 58, 60, 65, 66, 72, 72, 77, 79, 82, 85, 60, 55, 55, 53,
        53, 55, 59, 60, 65, 66, 73, 73, 78, 79, 83, 85, 63, 58, 57, 56, 55, 58,
        60, 62, 67, 68, 75, 75, 80, 82, 86, 89, 63, 58, 57, 56, 55, 58, 60, 62,
        67, 68, 75, 75, 80, 82, 86, 89,
        /* Size 32x16 */
        32, 31, 31, 30, 30, 32, 33, 34, 37, 37, 42, 42, 47, 49, 48, 48, 48, 49,
        49, 50, 50, 52, 52, 53, 54, 55, 57, 58, 60, 60, 63, 63, 31, 31, 31, 32,
        32, 33, 35, 37, 40, 40, 43, 43, 46, 47, 46, 46, 46, 45, 46, 47, 47, 48,
        48, 50, 50, 51, 52, 53, 55, 55, 58, 58, 31, 31, 31, 32, 32, 34, 36, 37,
        40, 40, 43, 43, 46, 46, 46, 46, 45, 45, 45, 46, 46, 48, 48, 49, 50, 51,
        52, 53, 54, 55, 57, 57, 35, 36, 36, 37, 37, 39, 40, 42, 45, 45, 46, 46,
        47, 47, 47, 46, 46, 45, 46, 46, 46, 47, 47, 48, 49, 50, 51, 51, 53, 53,
        56, 56, 37, 38, 38, 39, 40, 41, 43, 44, 47, 47, 47, 47, 48, 48, 47, 47,
        46, 46, 46, 46, 46, 47, 47, 48, 49, 49, 50, 51, 52, 53, 55, 55, 42, 42,
        42, 42, 42, 44, 45, 45, 47, 47, 48, 48, 50, 50, 50, 50, 49, 49, 49, 50,
        50, 50, 50, 51, 52, 52, 53, 54, 55, 55, 58, 58, 48, 47, 47, 46, 46, 46,
        47, 47, 47, 48, 50, 50, 52, 53, 53, 53, 53, 53, 53, 54, 54, 54, 54, 55,
        55, 56, 56, 57, 58, 59, 60, 60, 48, 47, 47, 46, 46, 46, 46, 47, 47, 47,
        50, 50, 52, 53, 53, 54, 54, 55, 55, 55, 55, 56, 56, 57, 57, 58, 58, 59,
        60, 60, 62, 62, 49, 47, 47, 46, 45, 45, 46, 45, 45, 46, 49, 49, 53, 53,
        55, 56, 57, 58, 58, 59, 59, 61, 61, 62, 62, 63, 64, 64, 65, 65, 67, 67,
        49, 47, 47, 46, 45, 45, 46, 46, 46, 46, 49, 49, 53, 54, 55, 56, 57, 59,
        59, 60, 60, 61, 61, 62, 63, 63, 64, 65, 66, 66, 68, 68, 52, 50, 50, 48,
        48, 48, 47, 47, 47, 47, 50, 50, 53, 54, 56, 57, 59, 61, 62, 64, 64, 66,
        66, 68, 68, 69, 70, 71, 72, 73, 75, 75, 52, 50, 50, 48, 48, 48, 47, 47,
        47, 47, 50, 50, 53, 54, 56, 57, 59, 61, 62, 64, 64, 66, 66, 68, 68, 69,
        70, 71, 72, 73, 75, 75, 56, 54, 53, 52, 51, 51, 50, 50, 49, 49, 53, 53,
        55, 56, 58, 59, 61, 63, 64, 66, 66, 69, 70, 71, 72, 74, 75, 76, 77, 78,
        80, 80, 57, 54, 54, 52, 52, 51, 51, 51, 50, 50, 53, 53, 56, 57, 58, 60,
        61, 64, 64, 67, 67, 70, 71, 72, 73, 75, 76, 77, 79, 79, 82, 82, 61, 58,
        57, 56, 55, 54, 54, 53, 52, 53, 56, 56, 58, 59, 61, 62, 63, 66, 66, 69,
        69, 72, 73, 75, 76, 78, 79, 80, 82, 83, 86, 86, 63, 60, 60, 58, 57, 57,
        56, 55, 54, 55, 57, 57, 60, 60, 62, 64, 65, 67, 68, 71, 71, 74, 75, 77,
        78, 80, 82, 83, 85, 85, 89, 89 },
  },
  {
      { /* Luma */
        /* Size 4x4 */
        32, 33, 42, 55, 33, 38, 46, 57, 42, 46, 63, 75, 55, 57, 75, 92,
        /* Size 8x8 */
        31, 32, 32, 34, 38, 46, 52, 63, 32, 32, 32, 34, 37, 44, 49, 59, 32, 32,
        35, 37, 40, 45, 49, 58, 34, 34, 37, 42, 47, 52, 56, 65, 38, 37, 40, 47,
        54, 60, 65, 73, 46, 44, 45, 52, 60, 69, 75, 84, 52, 49, 49, 56, 65, 75,
        82, 92, 63, 59, 58, 65, 73, 84, 92, 105,
        /* Size 16x16 */
        32, 31, 31, 31, 32, 32, 34, 36, 38, 41, 44, 48, 54, 58, 61, 65, 31, 32,
        32, 32, 32, 32, 34, 35, 38, 40, 42, 46, 51, 55, 58, 62, 31, 32, 32, 32,
        32, 32, 33, 34, 37, 38, 41, 44, 49, 53, 56, 59, 31, 32, 32, 33, 33, 33,
        35, 36, 38, 40, 42, 45, 49, 53, 56, 59, 32, 32, 32, 33, 34, 34, 36, 37,
        39, 40, 42, 45, 49, 53, 55, 59, 32, 32, 32, 33, 34, 35, 37, 38, 40, 41,
        42, 46, 49, 52, 55, 58, 34, 34, 33, 35, 36, 37, 39, 42, 44, 46, 47, 51,
        54, 57, 60, 63, 36, 35, 34, 36, 37, 38, 42, 48, 50, 52, 54, 57, 60, 63,
        65, 68, 38, 38, 37, 38, 39, 40, 44, 50, 52, 54, 57, 60, 64, 67, 69, 72,
        41, 40, 38, 40, 40, 41, 46, 52, 54, 57, 60, 63, 67, 70, 73, 75, 44, 42,
        41, 42, 42, 42, 47, 54, 57, 60, 63, 67, 71, 74, 77, 79, 48, 46, 44, 45,
        45, 46, 51, 57, 60, 63, 67, 71, 76, 79, 82, 85, 54, 51, 49, 49, 49, 49,
        54, 60, 64, 67, 71, 76, 82, 86, 89, 92, 58, 55, 53, 53, 53, 52, 57, 63,
        67, 70, 74, 79, 86, 90, 93, 97, 61, 58, 56, 56, 55, 55, 60, 65, 69, 73,
        77, 82, 89, 93, 97, 101, 65, 62, 59, 59, 59, 58, 63, 68, 72, 75, 79, 85,
        92, 97, 101, 105,
        /* Size 32x32 */
        32, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 33, 34, 34, 36, 36, 38, 39,
        41, 44, 44, 47, 48, 50, 54, 54, 58, 59, 61, 65, 65, 70, 31, 31, 31, 32,
        32, 32, 32, 32, 32, 32, 32, 33, 34, 34, 35, 35, 38, 38, 40, 42, 42, 46,
        47, 49, 52, 52, 56, 57, 59, 63, 63, 67, 31, 31, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 33, 34, 34, 35, 35, 38, 38, 40, 42, 42, 45, 46, 48, 51, 51,
        55, 56, 58, 62, 62, 67, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33,
        34, 34, 35, 35, 37, 38, 39, 42, 42, 45, 45, 47, 50, 50, 54, 55, 57, 61,
        61, 65, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 34, 34, 34,
        37, 37, 38, 41, 41, 44, 44, 46, 49, 49, 53, 54, 56, 59, 59, 64, 31, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 34, 34, 34, 37, 37, 38, 41,
        41, 44, 44, 46, 49, 49, 53, 54, 56, 59, 59, 64, 31, 32, 32, 32, 32, 32,
        33, 33, 33, 33, 33, 34, 35, 35, 36, 36, 38, 39, 40, 42, 42, 44, 45, 47,
        49, 49, 53, 54, 56, 59, 59, 63, 31, 32, 32, 32, 32, 32, 33, 33, 33, 34,
        34, 35, 35, 36, 36, 36, 38, 39, 40, 42, 42, 45, 45, 47, 50, 50, 53, 54,
        56, 59, 59, 63, 32, 32, 32, 32, 32, 32, 33, 33, 34, 34, 34, 35, 36, 36,
        37, 37, 39, 39, 40, 42, 42, 45, 45, 47, 49, 49, 53, 54, 55, 59, 59, 63,
        32, 32, 32, 32, 32, 32, 33, 34, 34, 35, 35, 36, 37, 37, 38, 38, 40, 40,
        41, 42, 42, 45, 46, 47, 49, 49, 52, 53, 55, 58, 58, 62, 32, 32, 32, 32,
        32, 32, 33, 34, 34, 35, 35, 36, 37, 37, 38, 38, 40, 40, 41, 42, 42, 45,
        46, 47, 49, 49, 52, 53, 55, 58, 58, 62, 33, 33, 33, 33, 33, 33, 34, 35,
        35, 36, 36, 38, 39, 40, 42, 42, 43, 44, 45, 46, 46, 49, 50, 51, 53, 53,
        56, 57, 59, 62, 62, 66, 34, 34, 34, 34, 33, 33, 35, 35, 36, 37, 37, 39,
        39, 41, 42, 42, 44, 45, 46, 47, 47, 50, 51, 52, 54, 54, 57, 58, 60, 63,
        63, 67, 34, 34, 34, 34, 34, 34, 35, 36, 36, 37, 37, 40, 41, 42, 45, 45,
        46, 47, 48, 50, 50, 52, 53, 54, 56, 56, 59, 60, 62, 65, 65, 69, 36, 35,
        35, 35, 34, 34, 36, 36, 37, 38, 38, 42, 42, 45, 48, 48, 50, 50, 52, 54,
        54, 56, 57, 58, 60, 60, 63, 64, 65, 68, 68, 72, 36, 35, 35, 35, 34, 34,
        36, 36, 37, 38, 38, 42, 42, 45, 48, 48, 50, 50, 52, 54, 54, 56, 57, 58,
        60, 60, 63, 64, 65, 68, 68, 72, 38, 38, 38, 37, 37, 37, 38, 38, 39, 40,
        40, 43, 44, 46, 50, 50, 52, 53, 54, 57, 57, 59, 60, 61, 64, 64, 67, 68,
        69, 72, 72, 76, 39, 38, 38, 38, 37, 37, 39, 39, 39, 40, 40, 44, 45, 47,
        50, 50, 53, 54, 55, 58, 58, 60, 61, 62, 65, 65, 68, 69, 70, 73, 73, 77,
        41, 40, 40, 39, 38, 38, 40, 40, 40, 41, 41, 45, 46, 48, 52, 52, 54, 55,
        57, 60, 60, 62, 63, 65, 67, 67, 70, 71, 73, 75, 75, 79, 44, 42, 42, 42,
        41, 41, 42, 42, 42, 42, 42, 46, 47, 50, 54, 54, 57, 58, 60, 63, 63, 66,
        67, 68, 71, 71, 74, 75, 77, 79, 79, 83, 44, 42, 42, 42, 41, 41, 42, 42,
        42, 42, 42, 46, 47, 50, 54, 54, 57, 58, 60, 63, 63, 66, 67, 68, 71, 71,
        74, 75, 77, 79, 79, 83, 47, 46, 45, 45, 44, 44, 44, 45, 45, 45, 45, 49,
        50, 52, 56, 56, 59, 60, 62, 66, 66, 69, 70, 72, 75, 75, 78, 79, 81, 84,
        84, 88, 48, 47, 46, 45, 44, 44, 45, 45, 45, 46, 46, 50, 51, 53, 57, 57,
        60, 61, 63, 67, 67, 70, 71, 73, 76, 76, 79, 80, 82, 85, 85, 89, 50, 49,
        48, 47, 46, 46, 47, 47, 47, 47, 47, 51, 52, 54, 58, 58, 61, 62, 65, 68,
        68, 72, 73, 75, 78, 78, 82, 83, 85, 88, 88, 92, 54, 52, 51, 50, 49, 49,
        49, 50, 49, 49, 49, 53, 54, 56, 60, 60, 64, 65, 67, 71, 71, 75, 76, 78,
        82, 82, 86, 87, 89, 92, 92, 96, 54, 52, 51, 50, 49, 49, 49, 50, 49, 49,
        49, 53, 54, 56, 60, 60, 64, 65, 67, 71, 71, 75, 76, 78, 82, 82, 86, 87,
        89, 92, 92, 96, 58, 56, 55, 54, 53, 53, 53, 53, 53, 52, 52, 56, 57, 59,
        63, 63, 67, 68, 70, 74, 74, 78, 79, 82, 86, 86, 90, 91, 93, 97, 97, 101,
        59, 57, 56, 55, 54, 54, 54, 54, 54, 53, 53, 57, 58, 60, 64, 64, 68, 69,
        71, 75, 75, 79, 80, 83, 87, 87, 91, 92, 94, 98, 98, 102, 61, 59, 58, 57,
        56, 56, 56, 56, 55, 55, 55, 59, 60, 62, 65, 65, 69, 70, 73, 77, 77, 81,
        82, 85, 89, 89, 93, 94, 97, 101, 101, 105, 65, 63, 62, 61, 59, 59, 59,
        59, 59, 58, 58, 62, 63, 65, 68, 68, 72, 73, 75, 79, 79, 84, 85, 88, 92,
        92, 97, 98, 101, 105, 105, 109, 65, 63, 62, 61, 59, 59, 59, 59, 59, 58,
        58, 62, 63, 65, 68, 68, 72, 73, 75, 79, 79, 84, 85, 88, 92, 92, 97, 98,
        101, 105, 105, 109, 70, 67, 67, 65, 64, 64, 63, 63, 63, 62, 62, 66, 67,
        69, 72, 72, 76, 77, 79, 83, 83, 88, 89, 92, 96, 96, 101, 102, 105, 109,
        109, 114,
        /* Size 4x8 */
        32, 32, 42, 56, 32, 33, 41, 53, 32, 35, 42, 52, 34, 37, 50, 59, 38, 40,
        58, 68, 44, 45, 66, 78, 50, 50, 71, 86, 61, 58, 79, 97,
        /* Size 8x4 */
        32, 32, 32, 34, 38, 44, 50, 61, 32, 33, 35, 37, 40, 45, 50, 58, 42, 41,
        42, 50, 58, 66, 71, 79, 56, 53, 52, 59, 68, 78, 86, 97,
        /* Size 8x16 */
        32, 31, 32, 35, 39, 44, 53, 65, 31, 32, 32, 35, 38, 42, 51, 62, 31, 32,
        33, 34, 37, 41, 49, 59, 31, 32, 34, 35, 38, 42, 49, 59, 32, 32, 34, 36,
        39, 42, 49, 58, 32, 33, 35, 37, 40, 42, 49, 58, 34, 34, 37, 41, 44, 48,
        54, 63, 36, 34, 38, 46, 50, 54, 60, 68, 38, 37, 40, 47, 52, 57, 64, 72,
        41, 39, 41, 49, 54, 60, 67, 76, 44, 41, 43, 51, 57, 63, 71, 79, 48, 45,
        46, 54, 60, 67, 76, 85, 53, 49, 50, 57, 64, 71, 82, 92, 57, 53, 53, 60,
        67, 74, 86, 97, 61, 56, 56, 63, 69, 77, 89, 100, 65, 60, 58, 66, 72, 79,
        92, 105,
        /* Size 16x8 */
        32, 31, 31, 31, 32, 32, 34, 36, 38, 41, 44, 48, 53, 57, 61, 65, 31, 32,
        32, 32, 32, 33, 34, 34, 37, 39, 41, 45, 49, 53, 56, 60, 32, 32, 33, 34,
        34, 35, 37, 38, 40, 41, 43, 46, 50, 53, 56, 58, 35, 35, 34, 35, 36, 37,
        41, 46, 47, 49, 51, 54, 57, 60, 63, 66, 39, 38, 37, 38, 39, 40, 44, 50,
        52, 54, 57, 60, 64, 67, 69, 72, 44, 42, 41, 42, 42, 42, 48, 54, 57, 60,
        63, 67, 71, 74, 77, 79, 53, 51, 49, 49, 49, 49, 54, 60, 64, 67, 71, 76,
        82, 86, 89, 92, 65, 62, 59, 59, 58, 58, 63, 68, 72, 76, 79, 85, 92, 97,
        100, 105,
        /* Size 16x32 */
        32, 31, 31, 31, 32, 32, 35, 36, 39, 44, 44, 51, 53, 58, 65, 65, 31, 32,
        32, 32, 32, 32, 35, 35, 38, 42, 42, 49, 52, 56, 63, 63, 31, 32, 32, 32,
        32, 32, 35, 35, 38, 42, 42, 49, 51, 55, 62, 62, 31, 32, 32, 32, 32, 32,
        34, 35, 37, 41, 41, 48, 50, 54, 61, 61, 31, 32, 32, 32, 33, 33, 34, 34,
        37, 41, 41, 47, 49, 53, 59, 59, 31, 32, 32, 32, 33, 33, 34, 34, 37, 41,
        41, 47, 49, 53, 59, 59, 31, 32, 32, 33, 34, 34, 35, 36, 38, 42, 42, 48,
        49, 53, 59, 59, 32, 32, 32, 33, 34, 34, 36, 36, 38, 42, 42, 48, 50, 53,
        59, 59, 32, 32, 32, 33, 34, 34, 36, 37, 39, 42, 42, 48, 49, 53, 58, 58,
        32, 32, 33, 34, 35, 35, 37, 38, 40, 42, 42, 48, 49, 52, 58, 58, 32, 32,
        33, 34, 35, 35, 37, 38, 40, 42, 42, 48, 49, 52, 58, 58, 33, 33, 33, 35,
        36, 36, 40, 41, 43, 46, 46, 52, 53, 56, 62, 62, 34, 34, 34, 35, 37, 37,
        41, 42, 44, 48, 48, 53, 54, 57, 63, 63, 34, 34, 34, 35, 37, 37, 43, 44,
        46, 50, 50, 55, 56, 59, 65, 65, 36, 35, 34, 36, 38, 38, 46, 48, 50, 54,
        54, 58, 60, 63, 68, 68, 36, 35, 34, 36, 38, 38, 46, 48, 50, 54, 54, 58,
        60, 63, 68, 68, 38, 37, 37, 38, 40, 40, 47, 50, 52, 57, 57, 62, 64, 67,
        72, 72, 39, 38, 37, 39, 40, 40, 48, 50, 53, 58, 58, 63, 65, 68, 73, 73,
        41, 39, 39, 40, 41, 41, 49, 51, 54, 60, 60, 66, 67, 70, 76, 76, 44, 41,
        41, 42, 43, 43, 51, 53, 57, 63, 63, 69, 71, 74, 79, 79, 44, 41, 41, 42,
        43, 43, 51, 53, 57, 63, 63, 69, 71, 74, 79, 79, 47, 44, 44, 44, 45, 45,
        53, 56, 59, 66, 66, 73, 75, 78, 84, 84, 48, 45, 45, 45, 46, 46, 54, 56,
        60, 67, 67, 74, 76, 79, 85, 85, 50, 47, 46, 47, 47, 47, 55, 58, 61, 68,
        68, 76, 78, 82, 88, 88, 53, 50, 49, 50, 50, 50, 57, 60, 64, 71, 71, 79,
        82, 86, 92, 92, 53, 50, 49, 50, 50, 50, 57, 60, 64, 71, 71, 79, 82, 86,
        92, 92, 57, 54, 53, 53, 53, 53, 60, 63, 67, 74, 74, 83, 86, 90, 97, 97,
        58, 55, 54, 54, 54, 54, 61, 63, 68, 75, 75, 84, 87, 91, 98, 98, 61, 57,
        56, 56, 56, 56, 63, 65, 69, 77, 77, 86, 89, 93, 100, 100, 65, 61, 60,
        59, 58, 58, 66, 68, 72, 79, 79, 89, 92, 97, 105, 105, 65, 61, 60, 59,
        58, 58, 66, 68, 72, 79, 79, 89, 92, 97, 105, 105, 70, 65, 64, 63, 62,
        62, 70, 72, 76, 83, 83, 93, 96, 101, 109, 109,
        /* Size 32x16 */
        32, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 33, 34, 34, 36, 36, 38, 39,
        41, 44, 44, 47, 48, 50, 53, 53, 57, 58, 61, 65, 65, 70, 31, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 33, 34, 34, 35, 35, 37, 38, 39, 41, 41, 44,
        45, 47, 50, 50, 54, 55, 57, 61, 61, 65, 31, 32, 32, 32, 32, 32, 32, 32,
        32, 33, 33, 33, 34, 34, 34, 34, 37, 37, 39, 41, 41, 44, 45, 46, 49, 49,
        53, 54, 56, 60, 60, 64, 31, 32, 32, 32, 32, 32, 33, 33, 33, 34, 34, 35,
        35, 35, 36, 36, 38, 39, 40, 42, 42, 44, 45, 47, 50, 50, 53, 54, 56, 59,
        59, 63, 32, 32, 32, 32, 33, 33, 34, 34, 34, 35, 35, 36, 37, 37, 38, 38,
        40, 40, 41, 43, 43, 45, 46, 47, 50, 50, 53, 54, 56, 58, 58, 62, 32, 32,
        32, 32, 33, 33, 34, 34, 34, 35, 35, 36, 37, 37, 38, 38, 40, 40, 41, 43,
        43, 45, 46, 47, 50, 50, 53, 54, 56, 58, 58, 62, 35, 35, 35, 34, 34, 34,
        35, 36, 36, 37, 37, 40, 41, 43, 46, 46, 47, 48, 49, 51, 51, 53, 54, 55,
        57, 57, 60, 61, 63, 66, 66, 70, 36, 35, 35, 35, 34, 34, 36, 36, 37, 38,
        38, 41, 42, 44, 48, 48, 50, 50, 51, 53, 53, 56, 56, 58, 60, 60, 63, 63,
        65, 68, 68, 72, 39, 38, 38, 37, 37, 37, 38, 38, 39, 40, 40, 43, 44, 46,
        50, 50, 52, 53, 54, 57, 57, 59, 60, 61, 64, 64, 67, 68, 69, 72, 72, 76,
        44, 42, 42, 41, 41, 41, 42, 42, 42, 42, 42, 46, 48, 50, 54, 54, 57, 58,
        60, 63, 63, 66, 67, 68, 71, 71, 74, 75, 77, 79, 79, 83, 44, 42, 42, 41,
        41, 41, 42, 42, 42, 42, 42, 46, 48, 50, 54, 54, 57, 58, 60, 63, 63, 66,
        67, 68, 71, 71, 74, 75, 77, 79, 79, 83, 51, 49, 49, 48, 47, 47, 48, 48,
        48, 48, 48, 52, 53, 55, 58, 58, 62, 63, 66, 69, 69, 73, 74, 76, 79, 79,
        83, 84, 86, 89, 89, 93, 53, 52, 51, 50, 49, 49, 49, 50, 49, 49, 49, 53,
        54, 56, 60, 60, 64, 65, 67, 71, 71, 75, 76, 78, 82, 82, 86, 87, 89, 92,
        92, 96, 58, 56, 55, 54, 53, 53, 53, 53, 53, 52, 52, 56, 57, 59, 63, 63,
        67, 68, 70, 74, 74, 78, 79, 82, 86, 86, 90, 91, 93, 97, 97, 101, 65, 63,
        62, 61, 59, 59, 59, 59, 58, 58, 58, 62, 63, 65, 68, 68, 72, 73, 76, 79,
        79, 84, 85, 88, 92, 92, 97, 98, 100, 105, 105, 109, 65, 63, 62, 61, 59,
        59, 59, 59, 58, 58, 58, 62, 63, 65, 68, 68, 72, 73, 76, 79, 79, 84, 85,
        88, 92, 92, 97, 98, 100, 105, 105, 109 },
      { /* Chroma */
        /* Size 4x4 */
        31, 41, 46, 51, 41, 48, 48, 51, 46, 48, 58, 62, 51, 51, 62, 71,
        /* Size 8x8 */
        31, 31, 38, 44, 47, 48, 50, 55, 31, 32, 40, 44, 45, 46, 47, 52, 38, 40,
        47, 47, 46, 46, 47, 50, 44, 44, 47, 50, 51, 51, 52, 54, 47, 45, 46, 51,
        54, 56, 57, 60, 48, 46, 46, 51, 56, 61, 63, 66, 50, 47, 47, 52, 57, 63,
        66, 70, 55, 52, 50, 54, 60, 66, 70, 76,
        /* Size 16x16 */
        32, 31, 30, 33, 34, 36, 41, 49, 48, 49, 49, 50, 52, 54, 55, 57, 31, 31,
        31, 34, 36, 38, 42, 47, 47, 47, 47, 48, 50, 51, 53, 54, 30, 31, 32, 34,
        37, 40, 42, 46, 45, 45, 45, 46, 47, 49, 50, 52, 33, 34, 34, 37, 40, 42,
        44, 47, 46, 46, 45, 46, 47, 49, 50, 51, 34, 36, 37, 40, 42, 45, 46, 47,
        46, 46, 45, 46, 47, 48, 49, 50, 36, 38, 40, 42, 45, 47, 47, 48, 47, 46,
        45, 46, 47, 48, 49, 50, 41, 42, 42, 44, 46, 47, 48, 50, 50, 49, 49, 50,
        50, 51, 52, 53, 49, 47, 46, 47, 47, 48, 50, 53, 53, 53, 53, 54, 54, 55,
        56, 56, 48, 47, 45, 46, 46, 47, 50, 53, 54, 54, 55, 56, 57, 58, 58, 59,
        49, 47, 45, 46, 46, 46, 49, 53, 54, 55, 57, 58, 59, 60, 60, 61, 49, 47,
        45, 45, 45, 45, 49, 53, 55, 57, 58, 60, 61, 62, 63, 63, 50, 48, 46, 46,
        46, 46, 50, 54, 56, 58, 60, 61, 63, 65, 66, 67, 52, 50, 47, 47, 47, 47,
        50, 54, 57, 59, 61, 63, 66, 68, 69, 70, 54, 51, 49, 49, 48, 48, 51, 55,
        58, 60, 62, 65, 68, 70, 71, 73, 55, 53, 50, 50, 49, 49, 52, 56, 58, 60,
        63, 66, 69, 71, 73, 74, 57, 54, 52, 51, 50, 50, 53, 56, 59, 61, 63, 67,
        70, 73, 74, 76,
        /* Size 32x32 */
        32, 31, 31, 31, 30, 30, 33, 33, 34, 36, 36, 40, 41, 44, 49, 49, 48, 48,
        49, 49, 49, 50, 50, 51, 52, 52, 54, 54, 55, 57, 57, 59, 31, 31, 31, 31,
        31, 31, 33, 34, 36, 38, 38, 41, 42, 44, 48, 48, 47, 47, 47, 47, 47, 48,
        49, 49, 50, 50, 52, 52, 53, 55, 55, 57, 31, 31, 31, 31, 31, 31, 34, 34,
        36, 38, 38, 41, 42, 44, 47, 47, 47, 47, 47, 47, 47, 48, 48, 49, 50, 50,
        51, 52, 53, 54, 54, 56, 31, 31, 31, 31, 31, 31, 34, 35, 36, 39, 39, 41,
        42, 44, 47, 47, 46, 46, 46, 46, 46, 47, 47, 48, 49, 49, 50, 51, 52, 53,
        53, 55, 30, 31, 31, 31, 32, 32, 34, 35, 37, 40, 40, 42, 42, 44, 46, 46,
        45, 45, 45, 45, 45, 46, 46, 47, 47, 47, 49, 49, 50, 52, 52, 54, 30, 31,
        31, 31, 32, 32, 34, 35, 37, 40, 40, 42, 42, 44, 46, 46, 45, 45, 45, 45,
        45, 46, 46, 47, 47, 47, 49, 49, 50, 52, 52, 54, 33, 33, 34, 34, 34, 34,
        37, 38, 40, 42, 42, 44, 44, 45, 47, 47, 46, 46, 46, 45, 45, 46, 46, 47,
        47, 47, 49, 49, 50, 51, 51, 53, 33, 34, 34, 35, 35, 35, 38, 39, 40, 43,
        43, 44, 45, 46, 47, 47, 46, 46, 46, 45, 45, 46, 46, 47, 47, 47, 49, 49,
        50, 51, 51, 53, 34, 36, 36, 36, 37, 37, 40, 40, 42, 45, 45, 45, 46, 46,
        47, 47, 46, 46, 46, 45, 45, 46, 46, 47, 47, 47, 48, 49, 49, 50, 50, 52,
        36, 38, 38, 39, 40, 40, 42, 43, 45, 47, 47, 47, 47, 47, 48, 48, 47, 46,
        46, 45, 45, 46, 46, 46, 47, 47, 48, 48, 49, 50, 50, 51, 36, 38, 38, 39,
        40, 40, 42, 43, 45, 47, 47, 47, 47, 47, 48, 48, 47, 46, 46, 45, 45, 46,
        46, 46, 47, 47, 48, 48, 49, 50, 50, 51, 40, 41, 41, 41, 42, 42, 44, 44,
        45, 47, 47, 48, 48, 49, 50, 50, 49, 49, 49, 48, 48, 49, 49, 49, 49, 49,
        51, 51, 51, 52, 52, 54, 41, 42, 42, 42, 42, 42, 44, 45, 46, 47, 47, 48,
        48, 49, 50, 50, 50, 49, 49, 49, 49, 50, 50, 50, 50, 50, 51, 52, 52, 53,
        53, 55, 44, 44, 44, 44, 44, 44, 45, 46, 46, 47, 47, 49, 49, 50, 51, 51,
        51, 51, 51, 51, 51, 51, 51, 51, 52, 52, 53, 53, 54, 54, 54, 56, 49, 48,
        47, 47, 46, 46, 47, 47, 47, 48, 48, 50, 50, 51, 53, 53, 53, 53, 53, 53,
        53, 54, 54, 54, 54, 54, 55, 55, 56, 56, 56, 58, 49, 48, 47, 47, 46, 46,
        47, 47, 47, 48, 48, 50, 50, 51, 53, 53, 53, 53, 53, 53, 53, 54, 54, 54,
        54, 54, 55, 55, 56, 56, 56, 58, 48, 47, 47, 46, 45, 45, 46, 46, 46, 47,
        47, 49, 50, 51, 53, 53, 54, 54, 54, 55, 55, 56, 56, 56, 57, 57, 58, 58,
        58, 59, 59, 60, 48, 47, 47, 46, 45, 45, 46, 46, 46, 46, 46, 49, 49, 51,
        53, 53, 54, 54, 55, 55, 55, 56, 56, 57, 57, 57, 58, 58, 59, 60, 60, 61,
        49, 47, 47, 46, 45, 45, 46, 46, 46, 46, 46, 49, 49, 51, 53, 53, 54, 55,
        55, 57, 57, 57, 58, 58, 59, 59, 60, 60, 60, 61, 61, 63, 49, 47, 47, 46,
        45, 45, 45, 45, 45, 45, 45, 48, 49, 51, 53, 53, 55, 55, 57, 58, 58, 59,
        60, 60, 61, 61, 62, 62, 63, 63, 63, 65, 49, 47, 47, 46, 45, 45, 45, 45,
        45, 45, 45, 48, 49, 51, 53, 53, 55, 55, 57, 58, 58, 59, 60, 60, 61, 61,
        62, 62, 63, 63, 63, 65, 50, 48, 48, 47, 46, 46, 46, 46, 46, 46, 46, 49,
        50, 51, 54, 54, 56, 56, 57, 59, 59, 61, 61, 62, 63, 63, 64, 64, 65, 66,
        66, 67, 50, 49, 48, 47, 46, 46, 46, 46, 46, 46, 46, 49, 50, 51, 54, 54,
        56, 56, 58, 60, 60, 61, 61, 62, 63, 63, 65, 65, 66, 67, 67, 68, 51, 49,
        49, 48, 47, 47, 47, 47, 47, 46, 46, 49, 50, 51, 54, 54, 56, 57, 58, 60,
        60, 62, 62, 63, 65, 65, 66, 66, 67, 68, 68, 70, 52, 50, 50, 49, 47, 47,
        47, 47, 47, 47, 47, 49, 50, 52, 54, 54, 57, 57, 59, 61, 61, 63, 63, 65,
        66, 66, 68, 68, 69, 70, 70, 72, 52, 50, 50, 49, 47, 47, 47, 47, 47, 47,
        47, 49, 50, 52, 54, 54, 57, 57, 59, 61, 61, 63, 63, 65, 66, 66, 68, 68,
        69, 70, 70, 72, 54, 52, 51, 50, 49, 49, 49, 49, 48, 48, 48, 51, 51, 53,
        55, 55, 58, 58, 60, 62, 62, 64, 65, 66, 68, 68, 70, 70, 71, 73, 73, 74,
        54, 52, 52, 51, 49, 49, 49, 49, 49, 48, 48, 51, 52, 53, 55, 55, 58, 58,
        60, 62, 62, 64, 65, 66, 68, 68, 70, 71, 72, 73, 73, 75, 55, 53, 53, 52,
        50, 50, 50, 50, 49, 49, 49, 51, 52, 54, 56, 56, 58, 59, 60, 63, 63, 65,
        66, 67, 69, 69, 71, 72, 73, 74, 74, 76, 57, 55, 54, 53, 52, 52, 51, 51,
        50, 50, 50, 52, 53, 54, 56, 56, 59, 60, 61, 63, 63, 66, 67, 68, 70, 70,
        73, 73, 74, 76, 76, 78, 57, 55, 54, 53, 52, 52, 51, 51, 50, 50, 50, 52,
        53, 54, 56, 56, 59, 60, 61, 63, 63, 66, 67, 68, 70, 70, 73, 73, 74, 76,
        76, 78, 59, 57, 56, 55, 54, 54, 53, 53, 52, 51, 51, 54, 55, 56, 58, 58,
        60, 61, 63, 65, 65, 67, 68, 70, 72, 72, 74, 75, 76, 78, 78, 80,
        /* Size 4x8 */
        31, 38, 47, 52, 32, 40, 45, 49, 39, 47, 45, 48, 44, 47, 51, 53, 46, 47,
        56, 58, 47, 46, 59, 64, 48, 47, 61, 68, 53, 50, 64, 73,
        /* Size 8x4 */
        31, 32, 39, 44, 46, 47, 48, 53, 38, 40, 47, 47, 47, 46, 47, 50, 47, 45,
        45, 51, 56, 59, 61, 64, 52, 49, 48, 53, 58, 64, 68, 73,
        /* Size 8x16 */
        32, 31, 37, 45, 48, 49, 52, 57, 31, 31, 38, 45, 47, 47, 50, 54, 30, 32,
        40, 44, 45, 45, 48, 52, 33, 35, 42, 46, 46, 45, 47, 51, 35, 37, 44, 46,
        46, 45, 47, 51, 37, 40, 47, 47, 47, 45, 47, 50, 42, 43, 47, 49, 50, 49,
        50, 53, 49, 46, 48, 52, 53, 53, 54, 57, 48, 46, 47, 51, 54, 55, 57, 59,
        48, 45, 46, 51, 54, 57, 59, 61, 49, 45, 46, 51, 55, 58, 61, 64, 50, 46,
        46, 52, 56, 59, 64, 67, 52, 48, 47, 53, 57, 61, 66, 71, 54, 49, 48, 54,
        58, 62, 68, 73, 55, 51, 49, 54, 58, 63, 69, 74, 57, 52, 50, 55, 59, 64,
        70, 76,
        /* Size 16x8 */
        32, 31, 30, 33, 35, 37, 42, 49, 48, 48, 49, 50, 52, 54, 55, 57, 31, 31,
        32, 35, 37, 40, 43, 46, 46, 45, 45, 46, 48, 49, 51, 52, 37, 38, 40, 42,
        44, 47, 47, 48, 47, 46, 46, 46, 47, 48, 49, 50, 45, 45, 44, 46, 46, 47,
        49, 52, 51, 51, 51, 52, 53, 54, 54, 55, 48, 47, 45, 46, 46, 47, 50, 53,
        54, 54, 55, 56, 57, 58, 58, 59, 49, 47, 45, 45, 45, 45, 49, 53, 55, 57,
        58, 59, 61, 62, 63, 64, 52, 50, 48, 47, 47, 47, 50, 54, 57, 59, 61, 64,
        66, 68, 69, 70, 57, 54, 52, 51, 51, 50, 53, 57, 59, 61, 64, 67, 71, 73,
        74, 76,
        /* Size 16x32 */
        32, 31, 31, 33, 37, 37, 45, 48, 48, 49, 49, 51, 52, 54, 57, 57, 31, 31,
        31, 34, 38, 38, 45, 47, 47, 47, 47, 50, 50, 52, 55, 55, 31, 31, 31, 34,
        38, 38, 45, 47, 47, 47, 47, 49, 50, 51, 54, 54, 31, 31, 32, 34, 39, 39,
        45, 46, 46, 46, 46, 48, 49, 51, 53, 53, 30, 32, 32, 35, 40, 40, 44, 46,
        45, 45, 45, 47, 48, 49, 52, 52, 30, 32, 32, 35, 40, 40, 44, 46, 45, 45,
        45, 47, 48, 49, 52, 52, 33, 34, 35, 37, 42, 42, 46, 47, 46, 45, 45, 47,
        47, 49, 51, 51, 33, 35, 36, 38, 43, 43, 46, 47, 46, 46, 46, 47, 47, 49,
        51, 51, 35, 37, 37, 40, 44, 44, 46, 47, 46, 45, 45, 47, 47, 48, 51, 51,
        37, 39, 40, 43, 47, 47, 47, 47, 47, 45, 45, 46, 47, 48, 50, 50, 37, 39,
        40, 43, 47, 47, 47, 47, 47, 45, 45, 46, 47, 48, 50, 50, 41, 42, 42, 44,
        47, 47, 49, 49, 49, 48, 48, 49, 50, 51, 52, 52, 42, 42, 43, 44, 47, 47,
        49, 50, 50, 49, 49, 50, 50, 51, 53, 53, 44, 44, 44, 45, 47, 47, 50, 51,
        51, 51, 51, 52, 52, 53, 54, 54, 49, 47, 46, 47, 48, 48, 52, 53, 53, 53,
        53, 54, 54, 55, 57, 57, 49, 47, 46, 47, 48, 48, 52, 53, 53, 53, 53, 54,
        54, 55, 57, 57, 48, 46, 46, 46, 47, 47, 51, 53, 54, 55, 55, 56, 57, 58,
        59, 59, 48, 46, 46, 46, 47, 47, 51, 53, 54, 56, 56, 57, 57, 58, 60, 60,
        48, 46, 45, 46, 46, 46, 51, 53, 54, 57, 57, 58, 59, 60, 61, 61, 49, 46,
        45, 45, 46, 46, 51, 53, 55, 58, 58, 61, 61, 62, 64, 64, 49, 46, 45, 45,
        46, 46, 51, 53, 55, 58, 58, 61, 61, 62, 64, 64, 50, 47, 46, 46, 46, 46,
        52, 54, 56, 59, 59, 62, 63, 64, 66, 66, 50, 47, 46, 46, 46, 46, 52, 54,
        56, 59, 59, 63, 64, 65, 67, 67, 51, 48, 47, 47, 47, 47, 52, 54, 56, 60,
        60, 64, 65, 66, 68, 68, 52, 48, 48, 47, 47, 47, 53, 54, 57, 61, 61, 65,
        66, 68, 71, 71, 52, 48, 48, 47, 47, 47, 53, 54, 57, 61, 61, 65, 66, 68,
        71, 71, 54, 50, 49, 49, 48, 48, 54, 55, 58, 62, 62, 67, 68, 70, 73, 73,
        54, 51, 50, 49, 49, 49, 54, 55, 58, 62, 62, 67, 68, 70, 73, 73, 55, 51,
        51, 50, 49, 49, 54, 56, 58, 63, 63, 68, 69, 71, 74, 74, 57, 53, 52, 51,
        50, 50, 55, 56, 59, 64, 64, 69, 70, 73, 76, 76, 57, 53, 52, 51, 50, 50,
        55, 56, 59, 64, 64, 69, 70, 73, 76, 76, 59, 55, 54, 53, 52, 52, 57, 58,
        61, 65, 65, 70, 72, 74, 78, 78,
        /* Size 32x16 */
        32, 31, 31, 31, 30, 30, 33, 33, 35, 37, 37, 41, 42, 44, 49, 49, 48, 48,
        48, 49, 49, 50, 50, 51, 52, 52, 54, 54, 55, 57, 57, 59, 31, 31, 31, 31,
        32, 32, 34, 35, 37, 39, 39, 42, 42, 44, 47, 47, 46, 46, 46, 46, 46, 47,
        47, 48, 48, 48, 50, 51, 51, 53, 53, 55, 31, 31, 31, 32, 32, 32, 35, 36,
        37, 40, 40, 42, 43, 44, 46, 46, 46, 46, 45, 45, 45, 46, 46, 47, 48, 48,
        49, 50, 51, 52, 52, 54, 33, 34, 34, 34, 35, 35, 37, 38, 40, 43, 43, 44,
        44, 45, 47, 47, 46, 46, 46, 45, 45, 46, 46, 47, 47, 47, 49, 49, 50, 51,
        51, 53, 37, 38, 38, 39, 40, 40, 42, 43, 44, 47, 47, 47, 47, 47, 48, 48,
        47, 47, 46, 46, 46, 46, 46, 47, 47, 47, 48, 49, 49, 50, 50, 52, 37, 38,
        38, 39, 40, 40, 42, 43, 44, 47, 47, 47, 47, 47, 48, 48, 47, 47, 46, 46,
        46, 46, 46, 47, 47, 47, 48, 49, 49, 50, 50, 52, 45, 45, 45, 45, 44, 44,
        46, 46, 46, 47, 47, 49, 49, 50, 52, 52, 51, 51, 51, 51, 51, 52, 52, 52,
        53, 53, 54, 54, 54, 55, 55, 57, 48, 47, 47, 46, 46, 46, 47, 47, 47, 47,
        47, 49, 50, 51, 53, 53, 53, 53, 53, 53, 53, 54, 54, 54, 54, 54, 55, 55,
        56, 56, 56, 58, 48, 47, 47, 46, 45, 45, 46, 46, 46, 47, 47, 49, 50, 51,
        53, 53, 54, 54, 54, 55, 55, 56, 56, 56, 57, 57, 58, 58, 58, 59, 59, 61,
        49, 47, 47, 46, 45, 45, 45, 46, 45, 45, 45, 48, 49, 51, 53, 53, 55, 56,
        57, 58, 58, 59, 59, 60, 61, 61, 62, 62, 63, 64, 64, 65, 49, 47, 47, 46,
        45, 45, 45, 46, 45, 45, 45, 48, 49, 51, 53, 53, 55, 56, 57, 58, 58, 59,
        59, 60, 61, 61, 62, 62, 63, 64, 64, 65, 51, 50, 49, 48, 47, 47, 47, 47,
        47, 46, 46, 49, 50, 52, 54, 54, 56, 57, 58, 61, 61, 62, 63, 64, 65, 65,
        67, 67, 68, 69, 69, 70, 52, 50, 50, 49, 48, 48, 47, 47, 47, 47, 47, 50,
        50, 52, 54, 54, 57, 57, 59, 61, 61, 63, 64, 65, 66, 66, 68, 68, 69, 70,
        70, 72, 54, 52, 51, 51, 49, 49, 49, 49, 48, 48, 48, 51, 51, 53, 55, 55,
        58, 58, 60, 62, 62, 64, 65, 66, 68, 68, 70, 70, 71, 73, 73, 74, 57, 55,
        54, 53, 52, 52, 51, 51, 51, 50, 50, 52, 53, 54, 57, 57, 59, 60, 61, 64,
        64, 66, 67, 68, 71, 71, 73, 73, 74, 76, 76, 78, 57, 55, 54, 53, 52, 52,
        51, 51, 51, 50, 50, 52, 53, 54, 57, 57, 59, 60, 61, 64, 64, 66, 67, 68,
        71, 71, 73, 73, 74, 76, 76, 78 },
  },
  {
      { /* Luma */
        /* Size 4x4 */
        32, 32, 38, 51, 32, 35, 40, 49, 38, 40, 54, 64, 51, 49, 64, 81,
        /* Size 8x8 */
        31, 32, 32, 34, 35, 41, 47, 53, 32, 32, 32, 33, 34, 40, 44, 50, 32, 32,
        34, 35, 37, 41, 45, 51, 34, 33, 35, 39, 42, 47, 51, 55, 35, 34, 37, 42,
        48, 53, 57, 61, 41, 40, 41, 47, 53, 60, 65, 70, 47, 44, 45, 51, 57, 65,
        71, 77, 53, 50, 51, 55, 61, 70, 77, 85,
        /* Size 16x16 */
        32, 31, 31, 31, 31, 32, 32, 34, 36, 38, 39, 44, 47, 49, 54, 59, 31, 32,
        32, 32, 32, 32, 33, 34, 35, 37, 38, 42, 45, 47, 51, 56, 31, 32, 32, 32,
        32, 32, 33, 33, 34, 36, 37, 41, 44, 46, 50, 54, 31, 32, 32, 32, 32, 33,
        33, 34, 35, 36, 38, 41, 44, 45, 49, 54, 31, 32, 32, 32, 33, 34, 34, 35,
        36, 38, 39, 42, 45, 46, 50, 54, 32, 32, 32, 33, 34, 35, 36, 37, 38, 39,
        40, 42, 45, 46, 49, 53, 32, 33, 33, 33, 34, 36, 36, 38, 40, 41, 42, 44,
        47, 48, 51, 55, 34, 34, 33, 34, 35, 37, 38, 39, 42, 44, 45, 47, 50, 51,
        54, 58, 36, 35, 34, 35, 36, 38, 40, 42, 48, 50, 50, 54, 56, 57, 60, 64,
        38, 37, 36, 36, 38, 39, 41, 44, 50, 51, 52, 56, 58, 60, 63, 67, 39, 38,
        37, 38, 39, 40, 42, 45, 50, 52, 54, 58, 60, 62, 65, 69, 44, 42, 41, 41,
        42, 42, 44, 47, 54, 56, 58, 63, 66, 68, 71, 75, 47, 45, 44, 44, 45, 45,
        47, 50, 56, 58, 60, 66, 69, 71, 75, 79, 49, 47, 46, 45, 46, 46, 48, 51,
        57, 60, 62, 68, 71, 73, 77, 81, 54, 51, 50, 49, 50, 49, 51, 54, 60, 63,
        65, 71, 75, 77, 82, 87, 59, 56, 54, 54, 54, 53, 55, 58, 64, 67, 69, 75,
        79, 81, 87, 92,
        /* Size 32x32 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 34, 34, 35, 36, 36,
        38, 39, 39, 42, 44, 44, 47, 48, 49, 53, 54, 55, 59, 59, 31, 31, 31, 31,
        32, 32, 32, 32, 32, 32, 32, 32, 33, 34, 34, 34, 35, 35, 37, 39, 39, 41,
        43, 43, 46, 47, 48, 51, 52, 53, 57, 57, 31, 31, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 33, 34, 34, 34, 35, 35, 37, 38, 38, 41, 42, 43, 45, 46,
        47, 51, 51, 53, 56, 56, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        33, 34, 34, 34, 35, 35, 37, 38, 38, 41, 42, 42, 45, 46, 47, 51, 51, 52,
        56, 56, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 34,
        34, 34, 36, 37, 37, 40, 41, 41, 44, 45, 46, 49, 50, 51, 54, 54, 31, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 34, 34, 34, 36, 37,
        37, 40, 41, 41, 44, 44, 45, 49, 49, 50, 54, 54, 31, 32, 32, 32, 32, 32,
        32, 32, 32, 33, 33, 33, 33, 34, 34, 34, 35, 35, 36, 38, 38, 40, 41, 41,
        44, 45, 45, 49, 49, 50, 54, 54, 31, 32, 32, 32, 32, 32, 32, 33, 33, 33,
        34, 34, 34, 35, 35, 35, 36, 36, 38, 39, 39, 41, 42, 42, 44, 45, 46, 49,
        50, 51, 54, 54, 31, 32, 32, 32, 32, 32, 32, 33, 33, 33, 34, 34, 34, 35,
        35, 36, 36, 36, 38, 39, 39, 41, 42, 42, 45, 45, 46, 49, 50, 51, 54, 54,
        32, 32, 32, 32, 32, 32, 33, 33, 33, 34, 34, 34, 35, 35, 35, 36, 37, 37,
        38, 39, 39, 41, 42, 42, 45, 45, 46, 49, 49, 51, 54, 54, 32, 32, 32, 32,
        32, 32, 33, 34, 34, 34, 35, 35, 36, 37, 37, 37, 38, 38, 39, 40, 40, 42,
        42, 43, 45, 46, 46, 49, 49, 50, 53, 53, 32, 32, 32, 32, 32, 32, 33, 34,
        34, 34, 35, 35, 36, 37, 37, 37, 38, 38, 39, 40, 40, 42, 42, 43, 45, 46,
        46, 49, 49, 50, 53, 53, 32, 33, 33, 33, 33, 33, 33, 34, 34, 35, 36, 36,
        36, 38, 38, 39, 40, 40, 41, 42, 42, 44, 44, 45, 47, 47, 48, 51, 51, 52,
        55, 55, 34, 34, 34, 34, 33, 33, 34, 35, 35, 35, 37, 37, 38, 39, 39, 41,
        42, 42, 44, 45, 45, 47, 47, 48, 50, 51, 51, 54, 54, 55, 58, 58, 34, 34,
        34, 34, 33, 33, 34, 35, 35, 35, 37, 37, 38, 39, 39, 41, 42, 42, 44, 45,
        45, 47, 47, 48, 50, 51, 51, 54, 54, 55, 58, 58, 35, 34, 34, 34, 34, 34,
        34, 35, 36, 36, 37, 37, 39, 41, 41, 43, 45, 45, 47, 47, 47, 49, 50, 51,
        53, 53, 54, 57, 57, 58, 61, 61, 36, 35, 35, 35, 34, 34, 35, 36, 36, 37,
        38, 38, 40, 42, 42, 45, 48, 48, 50, 50, 50, 53, 54, 54, 56, 57, 57, 59,
        60, 61, 64, 64, 36, 35, 35, 35, 34, 34, 35, 36, 36, 37, 38, 38, 40, 42,
        42, 45, 48, 48, 50, 50, 50, 53, 54, 54, 56, 57, 57, 59, 60, 61, 64, 64,
        38, 37, 37, 37, 36, 36, 36, 38, 38, 38, 39, 39, 41, 44, 44, 47, 50, 50,
        51, 52, 52, 55, 56, 56, 58, 59, 60, 62, 63, 64, 67, 67, 39, 39, 38, 38,
        37, 37, 38, 39, 39, 39, 40, 40, 42, 45, 45, 47, 50, 50, 52, 54, 54, 56,
        58, 58, 60, 61, 62, 64, 65, 66, 69, 69, 39, 39, 38, 38, 37, 37, 38, 39,
        39, 39, 40, 40, 42, 45, 45, 47, 50, 50, 52, 54, 54, 56, 58, 58, 60, 61,
        62, 64, 65, 66, 69, 69, 42, 41, 41, 41, 40, 40, 40, 41, 41, 41, 42, 42,
        44, 47, 47, 49, 53, 53, 55, 56, 56, 60, 61, 62, 64, 65, 66, 69, 69, 70,
        73, 73, 44, 43, 42, 42, 41, 41, 41, 42, 42, 42, 42, 42, 44, 47, 47, 50,
        54, 54, 56, 58, 58, 61, 63, 64, 66, 67, 68, 71, 71, 72, 75, 75, 44, 43,
        43, 42, 41, 41, 41, 42, 42, 42, 43, 43, 45, 48, 48, 51, 54, 54, 56, 58,
        58, 62, 64, 64, 66, 67, 68, 71, 72, 73, 76, 76, 47, 46, 45, 45, 44, 44,
        44, 44, 45, 45, 45, 45, 47, 50, 50, 53, 56, 56, 58, 60, 60, 64, 66, 66,
        69, 70, 71, 74, 75, 76, 79, 79, 48, 47, 46, 46, 45, 44, 45, 45, 45, 45,
        46, 46, 47, 51, 51, 53, 57, 57, 59, 61, 61, 65, 67, 67, 70, 71, 72, 75,
        76, 77, 80, 80, 49, 48, 47, 47, 46, 45, 45, 46, 46, 46, 46, 46, 48, 51,
        51, 54, 57, 57, 60, 62, 62, 66, 68, 68, 71, 72, 73, 77, 77, 78, 81, 81,
        53, 51, 51, 51, 49, 49, 49, 49, 49, 49, 49, 49, 51, 54, 54, 57, 59, 59,
        62, 64, 64, 69, 71, 71, 74, 75, 77, 81, 81, 83, 86, 86, 54, 52, 51, 51,
        50, 49, 49, 50, 50, 49, 49, 49, 51, 54, 54, 57, 60, 60, 63, 65, 65, 69,
        71, 72, 75, 76, 77, 81, 82, 83, 87, 87, 55, 53, 53, 52, 51, 50, 50, 51,
        51, 51, 50, 50, 52, 55, 55, 58, 61, 61, 64, 66, 66, 70, 72, 73, 76, 77,
        78, 83, 83, 85, 88, 88, 59, 57, 56, 56, 54, 54, 54, 54, 54, 54, 53, 53,
        55, 58, 58, 61, 64, 64, 67, 69, 69, 73, 75, 76, 79, 80, 81, 86, 87, 88,
        92, 92, 59, 57, 56, 56, 54, 54, 54, 54, 54, 54, 53, 53, 55, 58, 58, 61,
        64, 64, 67, 69, 69, 73, 75, 76, 79, 80, 81, 86, 87, 88, 92, 92,
        /* Size 4x8 */
        32, 32, 37, 52, 32, 33, 36, 49, 32, 34, 38, 49, 34, 37, 44, 54, 35, 38,
        49, 60, 40, 42, 55, 69, 46, 46, 59, 76, 52, 51, 64, 83,
        /* Size 8x4 */
        32, 32, 32, 34, 35, 40, 46, 52, 32, 33, 34, 37, 38, 42, 46, 51, 37, 36,
        38, 44, 49, 55, 59, 64, 52, 49, 49, 54, 60, 69, 76, 83,
        /* Size 8x16 */
        32, 31, 32, 32, 36, 44, 47, 53, 31, 32, 32, 33, 35, 42, 45, 51, 31, 32,
        32, 33, 35, 41, 44, 49, 31, 32, 33, 33, 35, 41, 44, 49, 32, 32, 34, 34,
        36, 42, 45, 50, 32, 33, 35, 36, 38, 42, 45, 49, 32, 33, 35, 36, 40, 44,
        47, 51, 34, 34, 36, 38, 42, 48, 50, 54, 36, 34, 37, 40, 48, 54, 56, 60,
        38, 36, 39, 41, 49, 56, 58, 63, 39, 37, 40, 42, 50, 58, 60, 65, 44, 41,
        42, 45, 53, 63, 66, 71, 47, 44, 45, 47, 56, 66, 69, 75, 49, 46, 47, 48,
        57, 67, 71, 77, 53, 49, 50, 51, 60, 71, 75, 82, 58, 54, 54, 55, 63, 75,
        79, 87,
        /* Size 16x8 */
        32, 31, 31, 31, 32, 32, 32, 34, 36, 38, 39, 44, 47, 49, 53, 58, 31, 32,
        32, 32, 32, 33, 33, 34, 34, 36, 37, 41, 44, 46, 49, 54, 32, 32, 32, 33,
        34, 35, 35, 36, 37, 39, 40, 42, 45, 47, 50, 54, 32, 33, 33, 33, 34, 36,
        36, 38, 40, 41, 42, 45, 47, 48, 51, 55, 36, 35, 35, 35, 36, 38, 40, 42,
        48, 49, 50, 53, 56, 57, 60, 63, 44, 42, 41, 41, 42, 42, 44, 48, 54, 56,
        58, 63, 66, 67, 71, 75, 47, 45, 44, 44, 45, 45, 47, 50, 56, 58, 60, 66,
        69, 71, 75, 79, 53, 51, 49, 49, 50, 49, 51, 54, 60, 63, 65, 71, 75, 77,
        82, 87,
        /* Size 16x32 */
        32, 31, 31, 31, 32, 32, 32, 35, 36, 38, 44, 44, 47, 53, 53, 59, 31, 32,
        32, 32, 32, 32, 33, 35, 35, 37, 43, 43, 46, 52, 52, 57, 31, 32, 32, 32,
        32, 32, 33, 35, 35, 37, 42, 42, 45, 51, 51, 56, 31, 32, 32, 32, 32, 32,
        33, 35, 35, 37, 42, 42, 45, 51, 51, 56, 31, 32, 32, 32, 32, 32, 33, 34,
        35, 36, 41, 41, 44, 49, 49, 54, 31, 32, 32, 32, 32, 33, 33, 34, 34, 36,
        41, 41, 44, 49, 49, 54, 31, 32, 32, 32, 33, 33, 33, 35, 35, 36, 41, 41,
        44, 49, 49, 54, 32, 32, 32, 32, 33, 34, 34, 36, 36, 38, 42, 42, 45, 49,
        49, 54, 32, 32, 32, 33, 34, 34, 34, 36, 36, 38, 42, 42, 45, 50, 50, 54,
        32, 32, 32, 33, 34, 34, 35, 37, 37, 38, 42, 42, 45, 49, 49, 54, 32, 32,
        33, 33, 35, 35, 36, 38, 38, 39, 42, 42, 45, 49, 49, 53, 32, 32, 33, 33,
        35, 35, 36, 38, 38, 39, 42, 42, 45, 49, 49, 53, 32, 33, 33, 33, 35, 36,
        36, 39, 40, 41, 44, 44, 47, 51, 51, 55, 34, 34, 34, 34, 36, 37, 38, 42,
        42, 44, 48, 48, 50, 54, 54, 58, 34, 34, 34, 34, 36, 37, 38, 42, 42, 44,
        48, 48, 50, 54, 54, 58, 35, 34, 34, 34, 37, 37, 39, 44, 45, 46, 50, 50,
        53, 57, 57, 61, 36, 35, 34, 35, 37, 38, 40, 47, 48, 49, 54, 54, 56, 60,
        60, 64, 36, 35, 34, 35, 37, 38, 40, 47, 48, 49, 54, 54, 56, 60, 60, 64,
        38, 37, 36, 37, 39, 40, 41, 48, 49, 51, 56, 56, 58, 63, 63, 67, 39, 38,
        37, 38, 40, 40, 42, 49, 50, 52, 58, 58, 60, 65, 65, 69, 39, 38, 37, 38,
        40, 40, 42, 49, 50, 52, 58, 58, 60, 65, 65, 69, 42, 40, 40, 40, 42, 42,
        44, 51, 52, 55, 61, 61, 64, 69, 69, 73, 44, 42, 41, 41, 42, 43, 45, 52,
        53, 56, 63, 63, 66, 71, 71, 75, 44, 42, 41, 41, 43, 43, 45, 52, 54, 56,
        63, 63, 66, 72, 72, 76, 47, 45, 44, 44, 45, 45, 47, 54, 56, 58, 66, 66,
        69, 75, 75, 79, 48, 46, 45, 45, 46, 46, 48, 55, 56, 59, 67, 67, 70, 76,
        76, 80, 49, 47, 46, 46, 47, 47, 48, 56, 57, 60, 67, 67, 71, 77, 77, 81,
        53, 50, 49, 49, 49, 49, 51, 58, 59, 62, 71, 71, 74, 81, 81, 86, 53, 51,
        49, 49, 50, 50, 51, 59, 60, 63, 71, 71, 75, 82, 82, 87, 55, 52, 51, 51,
        51, 51, 53, 60, 61, 64, 72, 72, 76, 83, 83, 88, 58, 55, 54, 54, 54, 54,
        55, 62, 63, 67, 75, 75, 79, 87, 87, 92, 58, 55, 54, 54, 54, 54, 55, 62,
        63, 67, 75, 75, 79, 87, 87, 92,
        /* Size 32x16 */
        32, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 34, 34, 35, 36, 36,
        38, 39, 39, 42, 44, 44, 47, 48, 49, 53, 53, 55, 58, 58, 31, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 33, 34, 34, 34, 35, 35, 37, 38, 38, 40,
        42, 42, 45, 46, 47, 50, 51, 52, 55, 55, 31, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 33, 33, 33, 34, 34, 34, 34, 34, 36, 37, 37, 40, 41, 41, 44, 45,
        46, 49, 49, 51, 54, 54, 31, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33,
        33, 34, 34, 34, 35, 35, 37, 38, 38, 40, 41, 41, 44, 45, 46, 49, 49, 51,
        54, 54, 32, 32, 32, 32, 32, 32, 33, 33, 34, 34, 35, 35, 35, 36, 36, 37,
        37, 37, 39, 40, 40, 42, 42, 43, 45, 46, 47, 49, 50, 51, 54, 54, 32, 32,
        32, 32, 32, 33, 33, 34, 34, 34, 35, 35, 36, 37, 37, 37, 38, 38, 40, 40,
        40, 42, 43, 43, 45, 46, 47, 49, 50, 51, 54, 54, 32, 33, 33, 33, 33, 33,
        33, 34, 34, 35, 36, 36, 36, 38, 38, 39, 40, 40, 41, 42, 42, 44, 45, 45,
        47, 48, 48, 51, 51, 53, 55, 55, 35, 35, 35, 35, 34, 34, 35, 36, 36, 37,
        38, 38, 39, 42, 42, 44, 47, 47, 48, 49, 49, 51, 52, 52, 54, 55, 56, 58,
        59, 60, 62, 62, 36, 35, 35, 35, 35, 34, 35, 36, 36, 37, 38, 38, 40, 42,
        42, 45, 48, 48, 49, 50, 50, 52, 53, 54, 56, 56, 57, 59, 60, 61, 63, 63,
        38, 37, 37, 37, 36, 36, 36, 38, 38, 38, 39, 39, 41, 44, 44, 46, 49, 49,
        51, 52, 52, 55, 56, 56, 58, 59, 60, 62, 63, 64, 67, 67, 44, 43, 42, 42,
        41, 41, 41, 42, 42, 42, 42, 42, 44, 48, 48, 50, 54, 54, 56, 58, 58, 61,
        63, 63, 66, 67, 67, 71, 71, 72, 75, 75, 44, 43, 42, 42, 41, 41, 41, 42,
        42, 42, 42, 42, 44, 48, 48, 50, 54, 54, 56, 58, 58, 61, 63, 63, 66, 67,
        67, 71, 71, 72, 75, 75, 47, 46, 45, 45, 44, 44, 44, 45, 45, 45, 45, 45,
        47, 50, 50, 53, 56, 56, 58, 60, 60, 64, 66, 66, 69, 70, 71, 74, 75, 76,
        79, 79, 53, 52, 51, 51, 49, 49, 49, 49, 50, 49, 49, 49, 51, 54, 54, 57,
        60, 60, 63, 65, 65, 69, 71, 72, 75, 76, 77, 81, 82, 83, 87, 87, 53, 52,
        51, 51, 49, 49, 49, 49, 50, 49, 49, 49, 51, 54, 54, 57, 60, 60, 63, 65,
        65, 69, 71, 72, 75, 76, 77, 81, 82, 83, 87, 87, 59, 57, 56, 56, 54, 54,
        54, 54, 54, 54, 53, 53, 55, 58, 58, 61, 64, 64, 67, 69, 69, 73, 75, 76,
        79, 80, 81, 86, 87, 88, 92, 92 },
      { /* Chroma */
        /* Size 4x4 */
        31, 38, 47, 49, 38, 47, 46, 46, 47, 46, 54, 57, 49, 46, 57, 66,
        /* Size 8x8 */
        31, 31, 35, 42, 48, 47, 49, 51, 31, 32, 36, 42, 46, 45, 46, 48, 35, 36,
        41, 45, 47, 45, 46, 48, 42, 42, 45, 48, 50, 49, 50, 51, 48, 46, 47, 50,
        53, 53, 54, 54, 47, 45, 45, 49, 53, 57, 59, 60, 49, 46, 46, 50, 54, 59,
        61, 64, 51, 48, 48, 51, 54, 60, 64, 68,
        /* Size 16x16 */
        32, 31, 30, 31, 33, 36, 38, 41, 49, 49, 48, 49, 50, 51, 52, 54, 31, 31,
        31, 32, 34, 38, 40, 42, 47, 47, 47, 47, 48, 48, 50, 52, 30, 31, 31, 32,
        35, 39, 41, 42, 46, 46, 46, 45, 46, 47, 48, 50, 31, 32, 32, 33, 36, 40,
        41, 43, 46, 46, 45, 45, 46, 46, 47, 49, 33, 34, 35, 36, 39, 43, 44, 45,
        47, 46, 46, 45, 46, 47, 47, 49, 36, 38, 39, 40, 43, 47, 47, 47, 48, 47,
        46, 45, 46, 46, 47, 48, 38, 40, 41, 41, 44, 47, 47, 48, 49, 48, 48, 47,
        47, 47, 48, 49, 41, 42, 42, 43, 45, 47, 48, 48, 50, 50, 49, 49, 50, 50,
        50, 52, 49, 47, 46, 46, 47, 48, 49, 50, 53, 53, 53, 53, 54, 54, 54, 55,
        49, 47, 46, 46, 46, 47, 48, 50, 53, 53, 54, 55, 55, 55, 56, 57, 48, 47,
        46, 45, 46, 46, 48, 49, 53, 54, 54, 55, 56, 56, 57, 58, 49, 47, 45, 45,
        45, 45, 47, 49, 53, 55, 55, 58, 59, 60, 61, 62, 50, 48, 46, 46, 46, 46,
        47, 50, 54, 55, 56, 59, 61, 61, 63, 64, 51, 48, 47, 46, 47, 46, 47, 50,
        54, 55, 56, 60, 61, 62, 64, 66, 52, 50, 48, 47, 47, 47, 48, 50, 54, 56,
        57, 61, 63, 64, 66, 68, 54, 52, 50, 49, 49, 48, 49, 52, 55, 57, 58, 62,
        64, 66, 68, 71,
        /* Size 32x32 */
        32, 31, 31, 31, 30, 30, 31, 33, 33, 34, 36, 36, 38, 41, 41, 45, 49, 49,
        49, 48, 48, 49, 49, 49, 50, 50, 51, 52, 52, 53, 54, 54, 31, 31, 31, 31,
        31, 31, 31, 34, 34, 35, 38, 38, 39, 42, 42, 45, 48, 48, 47, 47, 47, 47,
        47, 47, 49, 49, 49, 50, 50, 51, 53, 53, 31, 31, 31, 31, 31, 31, 32, 34,
        34, 35, 38, 38, 40, 42, 42, 45, 47, 47, 47, 47, 47, 47, 47, 47, 48, 48,
        48, 49, 50, 50, 52, 52, 31, 31, 31, 31, 31, 31, 32, 34, 34, 36, 38, 38,
        40, 42, 42, 45, 47, 47, 47, 47, 47, 47, 46, 47, 48, 48, 48, 49, 49, 50,
        52, 52, 30, 31, 31, 31, 31, 31, 32, 35, 35, 36, 39, 39, 41, 42, 42, 44,
        46, 46, 46, 46, 46, 45, 45, 45, 46, 47, 47, 48, 48, 48, 50, 50, 30, 31,
        31, 31, 31, 32, 32, 35, 35, 36, 40, 40, 41, 42, 42, 44, 46, 46, 46, 45,
        45, 45, 45, 45, 46, 46, 46, 47, 47, 48, 49, 49, 31, 31, 32, 32, 32, 32,
        33, 35, 36, 37, 40, 40, 41, 43, 43, 44, 46, 46, 46, 45, 45, 45, 45, 45,
        46, 46, 46, 47, 47, 48, 49, 49, 33, 34, 34, 34, 35, 35, 35, 38, 38, 40,
        43, 43, 43, 44, 44, 46, 47, 47, 46, 46, 46, 45, 45, 45, 46, 46, 47, 47,
        47, 48, 49, 49, 33, 34, 34, 34, 35, 35, 36, 38, 39, 40, 43, 43, 44, 45,
        45, 46, 47, 47, 46, 46, 46, 45, 45, 45, 46, 46, 47, 47, 47, 48, 49, 49,
        34, 35, 35, 36, 36, 36, 37, 40, 40, 41, 44, 44, 45, 45, 45, 46, 47, 47,
        47, 46, 46, 45, 45, 45, 46, 46, 46, 47, 47, 48, 49, 49, 36, 38, 38, 38,
        39, 40, 40, 43, 43, 44, 47, 47, 47, 47, 47, 47, 48, 48, 47, 46, 46, 45,
        45, 45, 46, 46, 46, 46, 47, 47, 48, 48, 36, 38, 38, 38, 39, 40, 40, 43,
        43, 44, 47, 47, 47, 47, 47, 47, 48, 48, 47, 46, 46, 45, 45, 45, 46, 46,
        46, 46, 47, 47, 48, 48, 38, 39, 40, 40, 41, 41, 41, 43, 44, 45, 47, 47,
        47, 48, 48, 48, 49, 49, 48, 48, 48, 47, 47, 47, 47, 47, 47, 48, 48, 48,
        49, 49, 41, 42, 42, 42, 42, 42, 43, 44, 45, 45, 47, 47, 48, 48, 48, 49,
        50, 50, 50, 49, 49, 49, 49, 49, 50, 50, 50, 50, 50, 51, 52, 52, 41, 42,
        42, 42, 42, 42, 43, 44, 45, 45, 47, 47, 48, 48, 48, 49, 50, 50, 50, 49,
        49, 49, 49, 49, 50, 50, 50, 50, 50, 51, 52, 52, 45, 45, 45, 45, 44, 44,
        44, 46, 46, 46, 47, 47, 48, 49, 49, 50, 51, 51, 51, 51, 51, 51, 51, 51,
        52, 52, 52, 52, 52, 52, 53, 53, 49, 48, 47, 47, 46, 46, 46, 47, 47, 47,
        48, 48, 49, 50, 50, 51, 53, 53, 53, 53, 53, 53, 53, 53, 54, 54, 54, 54,
        54, 54, 55, 55, 49, 48, 47, 47, 46, 46, 46, 47, 47, 47, 48, 48, 49, 50,
        50, 51, 53, 53, 53, 53, 53, 53, 53, 53, 54, 54, 54, 54, 54, 54, 55, 55,
        49, 47, 47, 47, 46, 46, 46, 46, 46, 47, 47, 47, 48, 50, 50, 51, 53, 53,
        53, 54, 54, 54, 55, 55, 55, 55, 55, 56, 56, 56, 57, 57, 48, 47, 47, 47,
        46, 45, 45, 46, 46, 46, 46, 46, 48, 49, 49, 51, 53, 53, 54, 54, 54, 55,
        55, 56, 56, 56, 56, 57, 57, 58, 58, 58, 48, 47, 47, 47, 46, 45, 45, 46,
        46, 46, 46, 46, 48, 49, 49, 51, 53, 53, 54, 54, 54, 55, 55, 56, 56, 56,
        56, 57, 57, 58, 58, 58, 49, 47, 47, 47, 45, 45, 45, 45, 45, 45, 45, 45,
        47, 49, 49, 51, 53, 53, 54, 55, 55, 57, 57, 58, 58, 59, 59, 60, 60, 60,
        61, 61, 49, 47, 47, 46, 45, 45, 45, 45, 45, 45, 45, 45, 47, 49, 49, 51,
        53, 53, 55, 55, 55, 57, 58, 58, 59, 60, 60, 61, 61, 61, 62, 62, 49, 47,
        47, 47, 45, 45, 45, 45, 45, 45, 45, 45, 47, 49, 49, 51, 53, 53, 55, 56,
        56, 58, 58, 59, 59, 60, 60, 61, 61, 62, 63, 63, 50, 49, 48, 48, 46, 46,
        46, 46, 46, 46, 46, 46, 47, 50, 50, 52, 54, 54, 55, 56, 56, 58, 59, 59,
        61, 61, 61, 63, 63, 63, 64, 64, 50, 49, 48, 48, 47, 46, 46, 46, 46, 46,
        46, 46, 47, 50, 50, 52, 54, 54, 55, 56, 56, 59, 60, 60, 61, 61, 62, 63,
        63, 64, 65, 65, 51, 49, 48, 48, 47, 46, 46, 47, 47, 46, 46, 46, 47, 50,
        50, 52, 54, 54, 55, 56, 56, 59, 60, 60, 61, 62, 62, 64, 64, 64, 66, 66,
        52, 50, 49, 49, 48, 47, 47, 47, 47, 47, 46, 46, 48, 50, 50, 52, 54, 54,
        56, 57, 57, 60, 61, 61, 63, 63, 64, 66, 66, 67, 68, 68, 52, 50, 50, 49,
        48, 47, 47, 47, 47, 47, 47, 47, 48, 50, 50, 52, 54, 54, 56, 57, 57, 60,
        61, 61, 63, 63, 64, 66, 66, 67, 68, 68, 53, 51, 50, 50, 48, 48, 48, 48,
        48, 48, 47, 47, 48, 51, 51, 52, 54, 54, 56, 58, 58, 60, 61, 62, 63, 64,
        64, 67, 67, 68, 69, 69, 54, 53, 52, 52, 50, 49, 49, 49, 49, 49, 48, 48,
        49, 52, 52, 53, 55, 55, 57, 58, 58, 61, 62, 63, 64, 65, 66, 68, 68, 69,
        71, 71, 54, 53, 52, 52, 50, 49, 49, 49, 49, 49, 48, 48, 49, 52, 52, 53,
        55, 55, 57, 58, 58, 61, 62, 63, 64, 65, 66, 68, 68, 69, 71, 71,
        /* Size 4x8 */
        31, 38, 47, 50, 31, 40, 46, 48, 36, 44, 47, 47, 42, 47, 50, 50, 47, 48,
        53, 54, 46, 46, 54, 60, 48, 46, 55, 64, 50, 48, 56, 67,
        /* Size 8x4 */
        31, 31, 36, 42, 47, 46, 48, 50, 38, 40, 44, 47, 48, 46, 46, 48, 47, 46,
        47, 50, 53, 54, 55, 56, 50, 48, 47, 50, 54, 60, 64, 67,
        /* Size 8x16 */
        32, 31, 35, 38, 48, 49, 50, 52, 31, 31, 37, 40, 47, 47, 48, 50, 30, 32,
        38, 40, 46, 45, 46, 48, 31, 33, 38, 41, 46, 45, 46, 48, 33, 36, 41, 44,
        47, 46, 46, 47, 37, 40, 45, 47, 47, 45, 46, 47, 39, 41, 46, 47, 48, 47,
        47, 48, 42, 43, 46, 48, 50, 49, 50, 50, 49, 46, 48, 49, 53, 53, 54, 54,
        48, 46, 47, 48, 53, 55, 55, 56, 48, 46, 46, 48, 53, 56, 56, 57, 49, 45,
        45, 47, 53, 58, 59, 61, 50, 46, 46, 48, 54, 59, 61, 63, 51, 47, 47, 48,
        54, 60, 61, 64, 52, 48, 47, 48, 54, 61, 63, 66, 54, 50, 49, 50, 55, 62,
        65, 68,
        /* Size 16x8 */
        32, 31, 30, 31, 33, 37, 39, 42, 49, 48, 48, 49, 50, 51, 52, 54, 31, 31,
        32, 33, 36, 40, 41, 43, 46, 46, 46, 45, 46, 47, 48, 50, 35, 37, 38, 38,
        41, 45, 46, 46, 48, 47, 46, 45, 46, 47, 47, 49, 38, 40, 40, 41, 44, 47,
        47, 48, 49, 48, 48, 47, 48, 48, 48, 50, 48, 47, 46, 46, 47, 47, 48, 50,
        53, 53, 53, 53, 54, 54, 54, 55, 49, 47, 45, 45, 46, 45, 47, 49, 53, 55,
        56, 58, 59, 60, 61, 62, 50, 48, 46, 46, 46, 46, 47, 50, 54, 55, 56, 59,
        61, 61, 63, 65, 52, 50, 48, 48, 47, 47, 48, 50, 54, 56, 57, 61, 63, 64,
        66, 68,
        /* Size 16x32 */
        32, 31, 31, 31, 35, 37, 38, 47, 48, 48, 49, 49, 50, 52, 52, 54, 31, 31,
        31, 32, 36, 38, 39, 46, 47, 47, 48, 48, 49, 50, 50, 53, 31, 31, 31, 32,
        37, 38, 40, 46, 47, 47, 47, 47, 48, 50, 50, 52, 31, 31, 31, 32, 37, 38,
        40, 46, 47, 47, 47, 47, 48, 50, 50, 52, 30, 31, 32, 32, 38, 39, 40, 45,
        46, 46, 45, 45, 46, 48, 48, 50, 30, 31, 32, 33, 38, 40, 41, 45, 46, 46,
        45, 45, 46, 48, 48, 50, 31, 32, 33, 33, 38, 40, 41, 45, 46, 46, 45, 45,
        46, 48, 48, 50, 33, 35, 35, 36, 41, 43, 43, 46, 47, 46, 45, 45, 46, 47,
        47, 49, 33, 35, 36, 36, 41, 43, 44, 46, 47, 46, 46, 46, 46, 47, 47, 49,
        34, 36, 37, 37, 42, 44, 45, 47, 47, 47, 45, 45, 46, 47, 47, 49, 37, 39,
        40, 41, 45, 47, 47, 47, 47, 47, 45, 45, 46, 47, 47, 48, 37, 39, 40, 41,
        45, 47, 47, 47, 47, 47, 45, 45, 46, 47, 47, 48, 39, 40, 41, 42, 46, 47,
        47, 48, 48, 48, 47, 47, 47, 48, 48, 50, 42, 42, 43, 43, 46, 47, 48, 50,
        50, 50, 49, 49, 50, 50, 50, 52, 42, 42, 43, 43, 46, 47, 48, 50, 50, 50,
        49, 49, 50, 50, 50, 52, 45, 45, 44, 45, 47, 47, 48, 51, 51, 51, 51, 51,
        52, 52, 52, 54, 49, 47, 46, 47, 48, 48, 49, 52, 53, 53, 53, 53, 54, 54,
        54, 55, 49, 47, 46, 47, 48, 48, 49, 52, 53, 53, 53, 53, 54, 54, 54, 55,
        48, 47, 46, 46, 47, 47, 48, 52, 53, 53, 55, 55, 55, 56, 56, 57, 48, 46,
        46, 46, 46, 47, 48, 52, 53, 54, 56, 56, 56, 57, 57, 59, 48, 46, 46, 46,
        46, 47, 48, 52, 53, 54, 56, 56, 56, 57, 57, 59, 49, 46, 45, 45, 46, 46,
        47, 52, 53, 54, 57, 57, 58, 60, 60, 61, 49, 46, 45, 45, 45, 46, 47, 52,
        53, 55, 58, 58, 59, 61, 61, 62, 49, 46, 45, 45, 46, 46, 47, 52, 53, 55,
        58, 58, 60, 61, 61, 63, 50, 47, 46, 46, 46, 46, 48, 53, 54, 55, 59, 59,
        61, 63, 63, 65, 50, 48, 46, 46, 46, 46, 48, 53, 54, 55, 59, 59, 61, 64,
        64, 65, 51, 48, 47, 47, 47, 47, 48, 53, 54, 55, 60, 60, 61, 64, 64, 66,
        52, 49, 48, 48, 47, 47, 48, 53, 54, 56, 61, 61, 63, 66, 66, 68, 52, 49,
        48, 48, 47, 47, 48, 53, 54, 56, 61, 61, 63, 66, 66, 68, 53, 50, 48, 48,
        48, 48, 49, 54, 54, 56, 61, 61, 63, 67, 67, 69, 54, 51, 50, 50, 49, 49,
        50, 55, 55, 57, 62, 62, 65, 68, 68, 71, 54, 51, 50, 50, 49, 49, 50, 55,
        55, 57, 62, 62, 65, 68, 68, 71,
        /* Size 32x16 */
        32, 31, 31, 31, 30, 30, 31, 33, 33, 34, 37, 37, 39, 42, 42, 45, 49, 49,
        48, 48, 48, 49, 49, 49, 50, 50, 51, 52, 52, 53, 54, 54, 31, 31, 31, 31,
        31, 31, 32, 35, 35, 36, 39, 39, 40, 42, 42, 45, 47, 47, 47, 46, 46, 46,
        46, 46, 47, 48, 48, 49, 49, 50, 51, 51, 31, 31, 31, 31, 32, 32, 33, 35,
        36, 37, 40, 40, 41, 43, 43, 44, 46, 46, 46, 46, 46, 45, 45, 45, 46, 46,
        47, 48, 48, 48, 50, 50, 31, 32, 32, 32, 32, 33, 33, 36, 36, 37, 41, 41,
        42, 43, 43, 45, 47, 47, 46, 46, 46, 45, 45, 45, 46, 46, 47, 48, 48, 48,
        50, 50, 35, 36, 37, 37, 38, 38, 38, 41, 41, 42, 45, 45, 46, 46, 46, 47,
        48, 48, 47, 46, 46, 46, 45, 46, 46, 46, 47, 47, 47, 48, 49, 49, 37, 38,
        38, 38, 39, 40, 40, 43, 43, 44, 47, 47, 47, 47, 47, 47, 48, 48, 47, 47,
        47, 46, 46, 46, 46, 46, 47, 47, 47, 48, 49, 49, 38, 39, 40, 40, 40, 41,
        41, 43, 44, 45, 47, 47, 47, 48, 48, 48, 49, 49, 48, 48, 48, 47, 47, 47,
        48, 48, 48, 48, 48, 49, 50, 50, 47, 46, 46, 46, 45, 45, 45, 46, 46, 47,
        47, 47, 48, 50, 50, 51, 52, 52, 52, 52, 52, 52, 52, 52, 53, 53, 53, 53,
        53, 54, 55, 55, 48, 47, 47, 47, 46, 46, 46, 47, 47, 47, 47, 47, 48, 50,
        50, 51, 53, 53, 53, 53, 53, 53, 53, 53, 54, 54, 54, 54, 54, 54, 55, 55,
        48, 47, 47, 47, 46, 46, 46, 46, 46, 47, 47, 47, 48, 50, 50, 51, 53, 53,
        53, 54, 54, 54, 55, 55, 55, 55, 55, 56, 56, 56, 57, 57, 49, 48, 47, 47,
        45, 45, 45, 45, 46, 45, 45, 45, 47, 49, 49, 51, 53, 53, 55, 56, 56, 57,
        58, 58, 59, 59, 60, 61, 61, 61, 62, 62, 49, 48, 47, 47, 45, 45, 45, 45,
        46, 45, 45, 45, 47, 49, 49, 51, 53, 53, 55, 56, 56, 57, 58, 58, 59, 59,
        60, 61, 61, 61, 62, 62, 50, 49, 48, 48, 46, 46, 46, 46, 46, 46, 46, 46,
        47, 50, 50, 52, 54, 54, 55, 56, 56, 58, 59, 60, 61, 61, 61, 63, 63, 63,
        65, 65, 52, 50, 50, 50, 48, 48, 48, 47, 47, 47, 47, 47, 48, 50, 50, 52,
        54, 54, 56, 57, 57, 60, 61, 61, 63, 64, 64, 66, 66, 67, 68, 68, 52, 50,
        50, 50, 48, 48, 48, 47, 47, 47, 47, 47, 48, 50, 50, 52, 54, 54, 56, 57,
        57, 60, 61, 61, 63, 64, 64, 66, 66, 67, 68, 68, 54, 53, 52, 52, 50, 50,
        50, 49, 49, 49, 48, 48, 50, 52, 52, 54, 55, 55, 57, 59, 59, 61, 62, 63,
        65, 65, 66, 68, 68, 69, 71, 71 },
  },
  {
      { /* Luma */
        /* Size 4x4 */
        32, 32, 35, 43, 32, 34, 37, 43, 35, 37, 48, 54, 43, 43, 54, 65,
        /* Size 8x8 */
        31, 31, 32, 32, 34, 37, 43, 47, 31, 32, 32, 32, 34, 36, 41, 44, 32, 32,
        33, 34, 35, 38, 42, 45, 32, 32, 34, 35, 37, 39, 42, 46, 34, 34, 35, 37,
        41, 45, 49, 52, 37, 36, 38, 39, 45, 51, 56, 59, 43, 41, 42, 42, 49, 56,
        63, 67, 47, 44, 45, 46, 52, 59, 67, 71,
        /* Size 16x16 */
        32, 31, 31, 31, 31, 31, 32, 32, 34, 35, 36, 39, 41, 44, 47, 48, 31, 32,
        32, 32, 32, 32, 32, 33, 34, 35, 35, 38, 40, 42, 45, 46, 31, 32, 32, 32,
        32, 32, 32, 33, 34, 34, 35, 38, 39, 42, 45, 45, 31, 32, 32, 32, 32, 32,
        32, 33, 33, 34, 34, 37, 38, 41, 44, 44, 31, 32, 32, 32, 33, 33, 33, 34,
        35, 36, 36, 39, 40, 42, 44, 45, 31, 32, 32, 32, 33, 33, 34, 34, 35, 36,
        36, 39, 40, 42, 45, 45, 32, 32, 32, 32, 33, 34, 35, 36, 37, 38, 38, 40,
        41, 42, 45, 46, 32, 33, 33, 33, 34, 34, 36, 36, 38, 39, 40, 42, 43, 44,
        47, 47, 34, 34, 34, 33, 35, 35, 37, 38, 39, 42, 42, 45, 46, 47, 50, 51,
        35, 35, 34, 34, 36, 36, 38, 39, 42, 46, 47, 49, 50, 52, 55, 55, 36, 35,
        35, 34, 36, 36, 38, 40, 42, 47, 48, 50, 52, 54, 56, 57, 39, 38, 38, 37,
        39, 39, 40, 42, 45, 49, 50, 54, 55, 58, 60, 61, 41, 40, 39, 38, 40, 40,
        41, 43, 46, 50, 52, 55, 57, 60, 62, 63, 44, 42, 42, 41, 42, 42, 42, 44,
        47, 52, 54, 58, 60, 63, 66, 67, 47, 45, 45, 44, 44, 45, 45, 47, 50, 55,
        56, 60, 62, 66, 69, 70, 48, 46, 45, 44, 45, 45, 46, 47, 51, 55, 57, 61,
        63, 67, 70, 71,
        /* Size 32x32 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 34, 34, 34,
        35, 36, 36, 38, 39, 39, 41, 44, 44, 45, 47, 48, 48, 51, 31, 31, 31, 31,
        31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 33, 34, 34, 34, 35, 35, 35, 37,
        39, 39, 40, 43, 43, 44, 46, 47, 47, 50, 31, 31, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 33, 34, 34, 34, 35, 35, 35, 37, 38, 38, 40, 42,
        42, 43, 45, 46, 46, 49, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 33, 34, 34, 34, 35, 35, 35, 37, 38, 38, 40, 42, 42, 43, 45, 46,
        46, 49, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 34,
        34, 34, 34, 35, 35, 36, 38, 38, 39, 42, 42, 42, 45, 45, 45, 48, 31, 31,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 34, 34, 34,
        34, 36, 37, 37, 38, 41, 41, 41, 44, 44, 44, 47, 31, 31, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 34, 34, 34, 34, 36, 37, 37,
        38, 41, 41, 41, 44, 44, 44, 47, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 33, 33, 33, 33, 34, 34, 34, 34, 35, 35, 36, 38, 38, 39, 41, 41, 42,
        44, 45, 45, 47, 31, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 33,
        34, 35, 35, 35, 36, 36, 36, 37, 39, 39, 40, 42, 42, 42, 44, 45, 45, 48,
        31, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 34, 34, 34, 35, 35, 35,
        36, 36, 36, 38, 39, 39, 40, 42, 42, 42, 45, 45, 45, 48, 31, 32, 32, 32,
        32, 32, 32, 32, 33, 33, 33, 33, 34, 34, 34, 35, 35, 35, 36, 36, 36, 38,
        39, 39, 40, 42, 42, 42, 45, 45, 45, 48, 32, 32, 32, 32, 32, 32, 32, 33,
        33, 33, 33, 34, 35, 35, 35, 36, 36, 36, 37, 37, 37, 39, 40, 40, 41, 42,
        42, 43, 45, 45, 45, 48, 32, 32, 32, 32, 32, 32, 32, 33, 33, 34, 34, 35,
        35, 35, 36, 37, 37, 37, 38, 38, 38, 39, 40, 40, 41, 42, 42, 43, 45, 46,
        46, 48, 32, 32, 32, 32, 32, 32, 32, 33, 33, 34, 34, 35, 35, 35, 36, 37,
        37, 37, 38, 38, 38, 39, 40, 40, 41, 42, 42, 43, 45, 46, 46, 48, 32, 33,
        33, 33, 33, 33, 33, 33, 34, 34, 34, 35, 36, 36, 36, 38, 38, 38, 39, 40,
        40, 41, 42, 42, 43, 44, 44, 45, 47, 47, 47, 50, 34, 34, 34, 34, 34, 33,
        33, 34, 35, 35, 35, 36, 37, 37, 38, 39, 39, 40, 42, 42, 42, 44, 45, 45,
        46, 47, 47, 48, 50, 51, 51, 53, 34, 34, 34, 34, 34, 33, 33, 34, 35, 35,
        35, 36, 37, 37, 38, 39, 39, 40, 42, 42, 42, 44, 45, 45, 46, 47, 47, 48,
        50, 51, 51, 53, 34, 34, 34, 34, 34, 34, 34, 34, 35, 35, 35, 36, 37, 37,
        38, 40, 40, 41, 43, 44, 44, 45, 46, 46, 47, 49, 49, 49, 51, 52, 52, 54,
        35, 35, 35, 35, 34, 34, 34, 34, 36, 36, 36, 37, 38, 38, 39, 42, 42, 43,
        46, 47, 47, 48, 49, 49, 50, 52, 52, 53, 55, 55, 55, 57, 36, 35, 35, 35,
        35, 34, 34, 35, 36, 36, 36, 37, 38, 38, 40, 42, 42, 44, 47, 48, 48, 50,
        50, 50, 52, 54, 54, 54, 56, 57, 57, 58, 36, 35, 35, 35, 35, 34, 34, 35,
        36, 36, 36, 37, 38, 38, 40, 42, 42, 44, 47, 48, 48, 50, 50, 50, 52, 54,
        54, 54, 56, 57, 57, 58, 38, 37, 37, 37, 36, 36, 36, 36, 37, 38, 38, 39,
        39, 39, 41, 44, 44, 45, 48, 50, 50, 51, 52, 52, 54, 56, 56, 57, 58, 59,
        59, 61, 39, 39, 38, 38, 38, 37, 37, 38, 39, 39, 39, 40, 40, 40, 42, 45,
        45, 46, 49, 50, 50, 52, 54, 54, 55, 58, 58, 58, 60, 61, 61, 63, 39, 39,
        38, 38, 38, 37, 37, 38, 39, 39, 39, 40, 40, 40, 42, 45, 45, 46, 49, 50,
        50, 52, 54, 54, 55, 58, 58, 58, 60, 61, 61, 63, 41, 40, 40, 40, 39, 38,
        38, 39, 40, 40, 40, 41, 41, 41, 43, 46, 46, 47, 50, 52, 52, 54, 55, 55,
        57, 60, 60, 60, 62, 63, 63, 66, 44, 43, 42, 42, 42, 41, 41, 41, 42, 42,
        42, 42, 42, 42, 44, 47, 47, 49, 52, 54, 54, 56, 58, 58, 60, 63, 63, 64,
        66, 67, 67, 69, 44, 43, 42, 42, 42, 41, 41, 41, 42, 42, 42, 42, 42, 42,
        44, 47, 47, 49, 52, 54, 54, 56, 58, 58, 60, 63, 63, 64, 66, 67, 67, 69,
        45, 44, 43, 43, 42, 41, 41, 42, 42, 42, 42, 43, 43, 43, 45, 48, 48, 49,
        53, 54, 54, 57, 58, 58, 60, 64, 64, 65, 67, 68, 68, 70, 47, 46, 45, 45,
        45, 44, 44, 44, 44, 45, 45, 45, 45, 45, 47, 50, 50, 51, 55, 56, 56, 58,
        60, 60, 62, 66, 66, 67, 69, 70, 70, 73, 48, 47, 46, 46, 45, 44, 44, 45,
        45, 45, 45, 45, 46, 46, 47, 51, 51, 52, 55, 57, 57, 59, 61, 61, 63, 67,
        67, 68, 70, 71, 71, 74, 48, 47, 46, 46, 45, 44, 44, 45, 45, 45, 45, 45,
        46, 46, 47, 51, 51, 52, 55, 57, 57, 59, 61, 61, 63, 67, 67, 68, 70, 71,
        71, 74, 51, 50, 49, 49, 48, 47, 47, 47, 48, 48, 48, 48, 48, 48, 50, 53,
        53, 54, 57, 58, 58, 61, 63, 63, 66, 69, 69, 70, 73, 74, 74, 77,
        /* Size 4x8 */
        31, 32, 35, 43, 32, 33, 34, 41, 32, 34, 36, 42, 32, 35, 38, 42, 34, 37,
        43, 49, 37, 40, 49, 56, 42, 43, 53, 63, 46, 46, 56, 67,
        /* Size 8x4 */
        31, 32, 32, 32, 34, 37, 42, 46, 32, 33, 34, 35, 37, 40, 43, 46, 35, 34,
        36, 38, 43, 49, 53, 56, 43, 41, 42, 42, 49, 56, 63, 67,
        /* Size 8x16 */
        32, 31, 31, 32, 35, 36, 44, 47, 31, 32, 32, 32, 35, 35, 42, 45, 31, 32,
        32, 32, 34, 35, 41, 45, 31, 32, 32, 33, 34, 34, 41, 44, 31, 32, 33, 34,
        35, 36, 42, 44, 32, 32, 33, 34, 36, 36, 42, 45, 32, 33, 34, 35, 37, 38,
        42, 45, 32, 33, 34, 36, 39, 40, 44, 47, 34, 34, 35, 37, 41, 42, 48, 50,
        35, 34, 36, 38, 45, 47, 52, 55, 36, 34, 36, 38, 46, 48, 54, 56, 39, 37,
        39, 40, 48, 50, 58, 60, 41, 39, 40, 41, 49, 51, 60, 62, 44, 41, 42, 43,
        51, 53, 63, 66, 47, 44, 44, 45, 53, 56, 66, 69, 48, 45, 45, 46, 54, 56,
        67, 70,
        /* Size 16x8 */
        32, 31, 31, 31, 31, 32, 32, 32, 34, 35, 36, 39, 41, 44, 47, 48, 31, 32,
        32, 32, 32, 32, 33, 33, 34, 34, 34, 37, 39, 41, 44, 45, 31, 32, 32, 32,
        33, 33, 34, 34, 35, 36, 36, 39, 40, 42, 44, 45, 32, 32, 32, 33, 34, 34,
        35, 36, 37, 38, 38, 40, 41, 43, 45, 46, 35, 35, 34, 34, 35, 36, 37, 39,
        41, 45, 46, 48, 49, 51, 53, 54, 36, 35, 35, 34, 36, 36, 38, 40, 42, 47,
        48, 50, 51, 53, 56, 56, 44, 42, 41, 41, 42, 42, 42, 44, 48, 52, 54, 58,
        60, 63, 66, 67, 47, 45, 45, 44, 44, 45, 45, 47, 50, 55, 56, 60, 62, 66,
        69, 70,
        /* Size 16x32 */
        32, 31, 31, 31, 31, 32, 32, 32, 35, 36, 36, 40, 44, 44, 47, 53, 31, 31,
        32, 32, 32, 32, 32, 33, 35, 35, 35, 39, 43, 43, 46, 52, 31, 32, 32, 32,
        32, 32, 32, 33, 35, 35, 35, 39, 42, 42, 45, 51, 31, 32, 32, 32, 32, 32,
        32, 33, 35, 35, 35, 39, 42, 42, 45, 51, 31, 32, 32, 32, 32, 32, 32, 33,
        34, 35, 35, 39, 41, 41, 45, 50, 31, 32, 32, 32, 32, 33, 33, 33, 34, 34,
        34, 38, 41, 41, 44, 49, 31, 32, 32, 32, 32, 33, 33, 33, 34, 34, 34, 38,
        41, 41, 44, 49, 31, 32, 32, 32, 32, 33, 33, 33, 34, 35, 35, 38, 41, 41,
        44, 49, 31, 32, 32, 32, 33, 34, 34, 34, 35, 36, 36, 39, 42, 42, 44, 49,
        32, 32, 32, 32, 33, 34, 34, 34, 36, 36, 36, 39, 42, 42, 45, 50, 32, 32,
        32, 32, 33, 34, 34, 34, 36, 36, 36, 39, 42, 42, 45, 50, 32, 32, 32, 32,
        33, 35, 35, 35, 37, 37, 37, 40, 42, 42, 45, 49, 32, 32, 33, 33, 34, 35,
        35, 36, 37, 38, 38, 41, 42, 42, 45, 49, 32, 32, 33, 33, 34, 35, 35, 36,
        37, 38, 38, 41, 42, 42, 45, 49, 32, 33, 33, 33, 34, 36, 36, 36, 39, 40,
        40, 42, 44, 44, 47, 51, 34, 34, 34, 34, 35, 37, 37, 38, 41, 42, 42, 45,
        48, 48, 50, 54, 34, 34, 34, 34, 35, 37, 37, 38, 41, 42, 42, 45, 48, 48,
        50, 54, 34, 34, 34, 34, 35, 37, 37, 38, 42, 43, 43, 46, 49, 49, 51, 55,
        35, 35, 34, 34, 36, 38, 38, 39, 45, 47, 47, 50, 52, 52, 55, 59, 36, 35,
        34, 34, 36, 38, 38, 40, 46, 48, 48, 51, 54, 54, 56, 60, 36, 35, 34, 34,
        36, 38, 38, 40, 46, 48, 48, 51, 54, 54, 56, 60, 38, 37, 36, 36, 37, 40,
        40, 41, 47, 49, 49, 53, 56, 56, 58, 63, 39, 38, 37, 37, 39, 40, 40, 42,
        48, 50, 50, 54, 58, 58, 60, 65, 39, 38, 37, 37, 39, 40, 40, 42, 48, 50,
        50, 54, 58, 58, 60, 65, 41, 40, 39, 39, 40, 41, 41, 43, 49, 51, 51, 56,
        60, 60, 62, 67, 44, 42, 41, 41, 42, 43, 43, 45, 51, 53, 53, 59, 63, 63,
        66, 71, 44, 42, 41, 41, 42, 43, 43, 45, 51, 53, 53, 59, 63, 63, 66, 71,
        44, 43, 42, 42, 42, 43, 43, 45, 51, 54, 54, 59, 64, 64, 67, 72, 47, 45,
        44, 44, 44, 45, 45, 47, 53, 56, 56, 61, 66, 66, 69, 75, 48, 46, 45, 45,
        45, 46, 46, 48, 54, 56, 56, 62, 67, 67, 70, 76, 48, 46, 45, 45, 45, 46,
        46, 48, 54, 56, 56, 62, 67, 67, 70, 76, 51, 49, 47, 47, 48, 48, 48, 50,
        56, 58, 58, 64, 69, 69, 73, 79,
        /* Size 32x16 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 34, 34, 34,
        35, 36, 36, 38, 39, 39, 41, 44, 44, 44, 47, 48, 48, 51, 31, 31, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 34, 34, 34, 35, 35, 35, 37,
        38, 38, 40, 42, 42, 43, 45, 46, 46, 49, 31, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 33, 33, 33, 34, 34, 34, 34, 34, 34, 36, 37, 37, 39, 41,
        41, 42, 44, 45, 45, 47, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        33, 33, 33, 34, 34, 34, 34, 34, 34, 36, 37, 37, 39, 41, 41, 42, 44, 45,
        45, 47, 31, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 34, 34, 34, 35,
        35, 35, 36, 36, 36, 37, 39, 39, 40, 42, 42, 42, 44, 45, 45, 48, 32, 32,
        32, 32, 32, 33, 33, 33, 34, 34, 34, 35, 35, 35, 36, 37, 37, 37, 38, 38,
        38, 40, 40, 40, 41, 43, 43, 43, 45, 46, 46, 48, 32, 32, 32, 32, 32, 33,
        33, 33, 34, 34, 34, 35, 35, 35, 36, 37, 37, 37, 38, 38, 38, 40, 40, 40,
        41, 43, 43, 43, 45, 46, 46, 48, 32, 33, 33, 33, 33, 33, 33, 33, 34, 34,
        34, 35, 36, 36, 36, 38, 38, 38, 39, 40, 40, 41, 42, 42, 43, 45, 45, 45,
        47, 48, 48, 50, 35, 35, 35, 35, 34, 34, 34, 34, 35, 36, 36, 37, 37, 37,
        39, 41, 41, 42, 45, 46, 46, 47, 48, 48, 49, 51, 51, 51, 53, 54, 54, 56,
        36, 35, 35, 35, 35, 34, 34, 35, 36, 36, 36, 37, 38, 38, 40, 42, 42, 43,
        47, 48, 48, 49, 50, 50, 51, 53, 53, 54, 56, 56, 56, 58, 36, 35, 35, 35,
        35, 34, 34, 35, 36, 36, 36, 37, 38, 38, 40, 42, 42, 43, 47, 48, 48, 49,
        50, 50, 51, 53, 53, 54, 56, 56, 56, 58, 40, 39, 39, 39, 39, 38, 38, 38,
        39, 39, 39, 40, 41, 41, 42, 45, 45, 46, 50, 51, 51, 53, 54, 54, 56, 59,
        59, 59, 61, 62, 62, 64, 44, 43, 42, 42, 41, 41, 41, 41, 42, 42, 42, 42,
        42, 42, 44, 48, 48, 49, 52, 54, 54, 56, 58, 58, 60, 63, 63, 64, 66, 67,
        67, 69, 44, 43, 42, 42, 41, 41, 41, 41, 42, 42, 42, 42, 42, 42, 44, 48,
        48, 49, 52, 54, 54, 56, 58, 58, 60, 63, 63, 64, 66, 67, 67, 69, 47, 46,
        45, 45, 45, 44, 44, 44, 44, 45, 45, 45, 45, 45, 47, 50, 50, 51, 55, 56,
        56, 58, 60, 60, 62, 66, 66, 67, 69, 70, 70, 73, 53, 52, 51, 51, 50, 49,
        49, 49, 49, 50, 50, 49, 49, 49, 51, 54, 54, 55, 59, 60, 60, 63, 65, 65,
        67, 71, 71, 72, 75, 76, 76, 79 },
      { /* Chroma */
        /* Size 4x4 */
        31, 37, 47, 47, 37, 44, 47, 45, 47, 47, 53, 53, 47, 45, 53, 59,
        /* Size 8x8 */
        31, 31, 34, 37, 43, 48, 47, 49, 31, 32, 35, 40, 43, 46, 45, 46, 34, 35,
        39, 43, 45, 46, 45, 46, 37, 40, 43, 47, 47, 47, 45, 46, 43, 43, 45, 47,
        49, 50, 50, 50, 48, 46, 46, 47, 50, 53, 55, 55, 47, 45, 45, 45, 50, 55,
        58, 60, 49, 46, 46, 46, 50, 55, 60, 61,
        /* Size 16x16 */
        32, 31, 31, 30, 33, 33, 36, 38, 41, 47, 49, 48, 49, 49, 50, 50, 31, 31,
        31, 31, 34, 34, 38, 40, 42, 46, 47, 47, 47, 47, 48, 48, 31, 31, 31, 31,
        34, 35, 39, 40, 42, 46, 47, 46, 46, 46, 47, 47, 30, 31, 31, 32, 34, 35,
        40, 41, 42, 45, 46, 45, 45, 45, 46, 46, 33, 34, 34, 34, 37, 38, 42, 43,
        44, 46, 47, 46, 46, 45, 46, 46, 33, 34, 35, 35, 38, 39, 43, 44, 45, 47,
        47, 46, 46, 45, 46, 46, 36, 38, 39, 40, 42, 43, 47, 47, 47, 47, 48, 46,
        46, 45, 46, 46, 38, 40, 40, 41, 43, 44, 47, 47, 48, 48, 49, 48, 47, 47,
        47, 47, 41, 42, 42, 42, 44, 45, 47, 48, 48, 50, 50, 49, 49, 49, 50, 50,
        47, 46, 46, 45, 46, 47, 47, 48, 50, 52, 52, 52, 52, 52, 53, 53, 49, 47,
        47, 46, 47, 47, 48, 49, 50, 52, 53, 53, 53, 53, 54, 54, 48, 47, 46, 45,
        46, 46, 46, 48, 49, 52, 53, 54, 55, 55, 56, 56, 49, 47, 46, 45, 46, 46,
        46, 47, 49, 52, 53, 55, 55, 57, 57, 58, 49, 47, 46, 45, 45, 45, 45, 47,
        49, 52, 53, 55, 57, 58, 59, 60, 50, 48, 47, 46, 46, 46, 46, 47, 50, 53,
        54, 56, 57, 59, 61, 61, 50, 48, 47, 46, 46, 46, 46, 47, 50, 53, 54, 56,
        58, 60, 61, 61,
        /* Size 32x32 */
        32, 31, 31, 31, 31, 30, 30, 31, 33, 33, 33, 35, 36, 36, 38, 41, 41, 43,
        47, 49, 49, 49, 48, 48, 49, 49, 49, 49, 50, 50, 50, 51, 31, 31, 31, 31,
        31, 31, 31, 31, 33, 34, 34, 36, 37, 37, 39, 42, 42, 43, 47, 48, 48, 48,
        47, 47, 47, 47, 47, 48, 49, 49, 49, 50, 31, 31, 31, 31, 31, 31, 31, 32,
        34, 34, 34, 37, 38, 38, 40, 42, 42, 43, 46, 47, 47, 47, 47, 47, 47, 47,
        47, 47, 48, 48, 48, 49, 31, 31, 31, 31, 31, 31, 31, 32, 34, 34, 34, 37,
        38, 38, 40, 42, 42, 43, 46, 47, 47, 47, 47, 47, 47, 47, 47, 47, 48, 48,
        48, 49, 31, 31, 31, 31, 31, 31, 31, 32, 34, 35, 35, 37, 39, 39, 40, 42,
        42, 43, 46, 47, 47, 46, 46, 46, 46, 46, 46, 46, 47, 47, 47, 48, 30, 31,
        31, 31, 31, 32, 32, 32, 34, 35, 35, 38, 40, 40, 41, 42, 42, 43, 45, 46,
        46, 46, 45, 45, 45, 45, 45, 45, 46, 46, 46, 47, 30, 31, 31, 31, 31, 32,
        32, 32, 34, 35, 35, 38, 40, 40, 41, 42, 42, 43, 45, 46, 46, 46, 45, 45,
        45, 45, 45, 45, 46, 46, 46, 47, 31, 31, 32, 32, 32, 32, 32, 33, 35, 36,
        36, 38, 40, 40, 41, 43, 43, 43, 46, 46, 46, 46, 45, 45, 45, 45, 45, 45,
        46, 46, 46, 47, 33, 33, 34, 34, 34, 34, 34, 35, 37, 38, 38, 41, 42, 42,
        43, 44, 44, 45, 46, 47, 47, 46, 46, 46, 46, 45, 45, 45, 46, 46, 46, 47,
        33, 34, 34, 34, 35, 35, 35, 36, 38, 39, 39, 41, 43, 43, 44, 45, 45, 45,
        47, 47, 47, 46, 46, 46, 46, 45, 45, 45, 46, 46, 46, 47, 33, 34, 34, 34,
        35, 35, 35, 36, 38, 39, 39, 41, 43, 43, 44, 45, 45, 45, 47, 47, 47, 46,
        46, 46, 46, 45, 45, 45, 46, 46, 46, 47, 35, 36, 37, 37, 37, 38, 38, 38,
        41, 41, 41, 44, 46, 46, 46, 46, 46, 46, 47, 47, 47, 47, 46, 46, 46, 45,
        45, 45, 46, 46, 46, 47, 36, 37, 38, 38, 39, 40, 40, 40, 42, 43, 43, 46,
        47, 47, 47, 47, 47, 47, 47, 48, 48, 47, 46, 46, 46, 45, 45, 45, 46, 46,
        46, 46, 36, 37, 38, 38, 39, 40, 40, 40, 42, 43, 43, 46, 47, 47, 47, 47,
        47, 47, 47, 48, 48, 47, 46, 46, 46, 45, 45, 45, 46, 46, 46, 46, 38, 39,
        40, 40, 40, 41, 41, 41, 43, 44, 44, 46, 47, 47, 47, 48, 48, 48, 48, 49,
        49, 48, 48, 48, 47, 47, 47, 47, 47, 47, 47, 48, 41, 42, 42, 42, 42, 42,
        42, 43, 44, 45, 45, 46, 47, 47, 48, 48, 48, 49, 50, 50, 50, 50, 49, 49,
        49, 49, 49, 49, 50, 50, 50, 50, 41, 42, 42, 42, 42, 42, 42, 43, 44, 45,
        45, 46, 47, 47, 48, 48, 48, 49, 50, 50, 50, 50, 49, 49, 49, 49, 49, 49,
        50, 50, 50, 50, 43, 43, 43, 43, 43, 43, 43, 43, 45, 45, 45, 46, 47, 47,
        48, 49, 49, 49, 50, 51, 51, 50, 50, 50, 50, 50, 50, 50, 50, 50, 50, 51,
        47, 47, 46, 46, 46, 45, 45, 46, 46, 47, 47, 47, 47, 47, 48, 50, 50, 50,
        52, 52, 52, 52, 52, 52, 52, 52, 52, 52, 53, 53, 53, 53, 49, 48, 47, 47,
        47, 46, 46, 46, 47, 47, 47, 47, 48, 48, 49, 50, 50, 51, 52, 53, 53, 53,
        53, 53, 53, 53, 53, 53, 54, 54, 54, 54, 49, 48, 47, 47, 47, 46, 46, 46,
        47, 47, 47, 47, 48, 48, 49, 50, 50, 51, 52, 53, 53, 53, 53, 53, 53, 53,
        53, 53, 54, 54, 54, 54, 49, 48, 47, 47, 46, 46, 46, 46, 46, 46, 46, 47,
        47, 47, 48, 50, 50, 50, 52, 53, 53, 53, 54, 54, 54, 55, 55, 55, 55, 55,
        55, 56, 48, 47, 47, 47, 46, 45, 45, 45, 46, 46, 46, 46, 46, 46, 48, 49,
        49, 50, 52, 53, 53, 54, 54, 54, 55, 55, 55, 56, 56, 56, 56, 57, 48, 47,
        47, 47, 46, 45, 45, 45, 46, 46, 46, 46, 46, 46, 48, 49, 49, 50, 52, 53,
        53, 54, 54, 54, 55, 55, 55, 56, 56, 56, 56, 57, 49, 47, 47, 47, 46, 45,
        45, 45, 46, 46, 46, 46, 46, 46, 47, 49, 49, 50, 52, 53, 53, 54, 55, 55,
        55, 57, 57, 57, 57, 58, 58, 58, 49, 47, 47, 47, 46, 45, 45, 45, 45, 45,
        45, 45, 45, 45, 47, 49, 49, 50, 52, 53, 53, 55, 55, 55, 57, 58, 58, 59,
        59, 60, 60, 60, 49, 47, 47, 47, 46, 45, 45, 45, 45, 45, 45, 45, 45, 45,
        47, 49, 49, 50, 52, 53, 53, 55, 55, 55, 57, 58, 58, 59, 59, 60, 60, 60,
        49, 48, 47, 47, 46, 45, 45, 45, 45, 45, 45, 45, 45, 45, 47, 49, 49, 50,
        52, 53, 53, 55, 56, 56, 57, 59, 59, 59, 60, 60, 60, 61, 50, 49, 48, 48,
        47, 46, 46, 46, 46, 46, 46, 46, 46, 46, 47, 50, 50, 50, 53, 54, 54, 55,
        56, 56, 57, 59, 59, 60, 61, 61, 61, 62, 50, 49, 48, 48, 47, 46, 46, 46,
        46, 46, 46, 46, 46, 46, 47, 50, 50, 50, 53, 54, 54, 55, 56, 56, 58, 60,
        60, 60, 61, 61, 61, 63, 50, 49, 48, 48, 47, 46, 46, 46, 46, 46, 46, 46,
        46, 46, 47, 50, 50, 50, 53, 54, 54, 55, 56, 56, 58, 60, 60, 60, 61, 61,
        61, 63, 51, 50, 49, 49, 48, 47, 47, 47, 47, 47, 47, 47, 46, 46, 48, 50,
        50, 51, 53, 54, 54, 56, 57, 57, 58, 60, 60, 61, 62, 63, 63, 64,
        /* Size 4x8 */
        31, 38, 47, 48, 31, 40, 46, 45, 35, 43, 47, 46, 39, 47, 47, 45, 43, 47,
        50, 50, 47, 47, 53, 55, 46, 46, 53, 58, 48, 46, 54, 59,
        /* Size 8x4 */
        31, 31, 35, 39, 43, 47, 46, 48, 38, 40, 43, 47, 47, 47, 46, 46, 47, 46,
        47, 47, 50, 53, 53, 54, 48, 45, 46, 45, 50, 55, 58, 59,
        /* Size 8x16 */
        32, 31, 33, 37, 45, 48, 49, 50, 31, 31, 34, 38, 45, 47, 47, 48, 31, 32,
        34, 39, 45, 46, 46, 47, 30, 32, 35, 40, 44, 46, 45, 46, 33, 35, 37, 42,
        46, 47, 45, 46, 33, 36, 38, 43, 46, 47, 46, 46, 37, 40, 43, 47, 47, 47,
        45, 46, 39, 41, 43, 47, 48, 48, 47, 47, 42, 43, 44, 47, 49, 50, 49, 50,
        47, 46, 46, 48, 51, 52, 53, 53, 49, 46, 47, 48, 52, 53, 53, 54, 48, 46,
        46, 47, 51, 53, 56, 56, 48, 45, 46, 46, 51, 53, 57, 57, 49, 45, 45, 46,
        51, 53, 58, 59, 50, 46, 46, 46, 52, 54, 59, 61, 50, 46, 46, 46, 52, 54,
        59, 61,
        /* Size 16x8 */
        32, 31, 31, 30, 33, 33, 37, 39, 42, 47, 49, 48, 48, 49, 50, 50, 31, 31,
        32, 32, 35, 36, 40, 41, 43, 46, 46, 46, 45, 45, 46, 46, 33, 34, 34, 35,
        37, 38, 43, 43, 44, 46, 47, 46, 46, 45, 46, 46, 37, 38, 39, 40, 42, 43,
        47, 47, 47, 48, 48, 47, 46, 46, 46, 46, 45, 45, 45, 44, 46, 46, 47, 48,
        49, 51, 52, 51, 51, 51, 52, 52, 48, 47, 46, 46, 47, 47, 47, 48, 50, 52,
        53, 53, 53, 53, 54, 54, 49, 47, 46, 45, 45, 46, 45, 47, 49, 53, 53, 56,
        57, 58, 59, 59, 50, 48, 47, 46, 46, 46, 46, 47, 50, 53, 54, 56, 57, 59,
        61, 61,
        /* Size 16x32 */
        32, 31, 31, 31, 33, 37, 37, 38, 45, 48, 48, 49, 49, 49, 50, 52, 31, 31,
        31, 31, 33, 38, 38, 39, 45, 47, 47, 48, 48, 48, 49, 51, 31, 31, 31, 31,
        34, 38, 38, 40, 45, 47, 47, 47, 47, 47, 48, 50, 31, 31, 31, 31, 34, 38,
        38, 40, 45, 47, 47, 47, 47, 47, 48, 50, 31, 31, 32, 32, 34, 39, 39, 40,
        45, 46, 46, 46, 46, 46, 47, 49, 30, 31, 32, 32, 35, 40, 40, 41, 44, 46,
        46, 45, 45, 45, 46, 48, 30, 31, 32, 32, 35, 40, 40, 41, 44, 46, 46, 45,
        45, 45, 46, 48, 31, 32, 33, 33, 35, 40, 40, 41, 45, 46, 46, 45, 45, 45,
        46, 48, 33, 34, 35, 35, 37, 42, 42, 43, 46, 47, 47, 46, 45, 45, 46, 47,
        33, 35, 36, 36, 38, 43, 43, 44, 46, 47, 47, 46, 46, 46, 46, 47, 33, 35,
        36, 36, 38, 43, 43, 44, 46, 47, 47, 46, 46, 46, 46, 47, 35, 37, 38, 38,
        41, 45, 45, 46, 47, 47, 47, 46, 45, 45, 46, 47, 37, 39, 40, 40, 43, 47,
        47, 47, 47, 47, 47, 46, 45, 45, 46, 47, 37, 39, 40, 40, 43, 47, 47, 47,
        47, 47, 47, 46, 45, 45, 46, 47, 39, 40, 41, 41, 43, 47, 47, 47, 48, 48,
        48, 47, 47, 47, 47, 48, 42, 42, 43, 43, 44, 47, 47, 48, 49, 50, 50, 49,
        49, 49, 50, 50, 42, 42, 43, 43, 44, 47, 47, 48, 49, 50, 50, 49, 49, 49,
        50, 50, 43, 43, 43, 43, 45, 47, 47, 48, 50, 50, 50, 50, 50, 50, 50, 51,
        47, 46, 46, 46, 46, 48, 48, 48, 51, 52, 52, 52, 53, 53, 53, 53, 49, 47,
        46, 46, 47, 48, 48, 49, 52, 53, 53, 53, 53, 53, 54, 54, 49, 47, 46, 46,
        47, 48, 48, 49, 52, 53, 53, 53, 53, 53, 54, 54, 48, 47, 46, 46, 46, 47,
        47, 48, 52, 53, 53, 54, 55, 55, 55, 56, 48, 47, 46, 46, 46, 47, 47, 48,
        51, 53, 53, 54, 56, 56, 56, 57, 48, 47, 46, 46, 46, 47, 47, 48, 51, 53,
        53, 54, 56, 56, 56, 57, 48, 47, 45, 45, 46, 46, 46, 47, 51, 53, 53, 55,
        57, 57, 57, 59, 49, 46, 45, 45, 45, 46, 46, 47, 51, 53, 53, 56, 58, 58,
        59, 61, 49, 46, 45, 45, 45, 46, 46, 47, 51, 53, 53, 56, 58, 58, 59, 61,
        49, 47, 45, 45, 45, 46, 46, 47, 52, 53, 53, 56, 58, 58, 60, 62, 50, 48,
        46, 46, 46, 46, 46, 48, 52, 54, 54, 57, 59, 59, 61, 63, 50, 48, 46, 46,
        46, 46, 46, 48, 52, 54, 54, 57, 59, 59, 61, 64, 50, 48, 46, 46, 46, 46,
        46, 48, 52, 54, 54, 57, 59, 59, 61, 64, 51, 49, 47, 47, 47, 47, 47, 48,
        52, 54, 54, 58, 60, 60, 62, 65,
        /* Size 32x16 */
        32, 31, 31, 31, 31, 30, 30, 31, 33, 33, 33, 35, 37, 37, 39, 42, 42, 43,
        47, 49, 49, 48, 48, 48, 48, 49, 49, 49, 50, 50, 50, 51, 31, 31, 31, 31,
        31, 31, 31, 32, 34, 35, 35, 37, 39, 39, 40, 42, 42, 43, 46, 47, 47, 47,
        47, 47, 47, 46, 46, 47, 48, 48, 48, 49, 31, 31, 31, 31, 32, 32, 32, 33,
        35, 36, 36, 38, 40, 40, 41, 43, 43, 43, 46, 46, 46, 46, 46, 46, 45, 45,
        45, 45, 46, 46, 46, 47, 31, 31, 31, 31, 32, 32, 32, 33, 35, 36, 36, 38,
        40, 40, 41, 43, 43, 43, 46, 46, 46, 46, 46, 46, 45, 45, 45, 45, 46, 46,
        46, 47, 33, 33, 34, 34, 34, 35, 35, 35, 37, 38, 38, 41, 43, 43, 43, 44,
        44, 45, 46, 47, 47, 46, 46, 46, 46, 45, 45, 45, 46, 46, 46, 47, 37, 38,
        38, 38, 39, 40, 40, 40, 42, 43, 43, 45, 47, 47, 47, 47, 47, 47, 48, 48,
        48, 47, 47, 47, 46, 46, 46, 46, 46, 46, 46, 47, 37, 38, 38, 38, 39, 40,
        40, 40, 42, 43, 43, 45, 47, 47, 47, 47, 47, 47, 48, 48, 48, 47, 47, 47,
        46, 46, 46, 46, 46, 46, 46, 47, 38, 39, 40, 40, 40, 41, 41, 41, 43, 44,
        44, 46, 47, 47, 47, 48, 48, 48, 48, 49, 49, 48, 48, 48, 47, 47, 47, 47,
        48, 48, 48, 48, 45, 45, 45, 45, 45, 44, 44, 45, 46, 46, 46, 47, 47, 47,
        48, 49, 49, 50, 51, 52, 52, 52, 51, 51, 51, 51, 51, 52, 52, 52, 52, 52,
        48, 47, 47, 47, 46, 46, 46, 46, 47, 47, 47, 47, 47, 47, 48, 50, 50, 50,
        52, 53, 53, 53, 53, 53, 53, 53, 53, 53, 54, 54, 54, 54, 48, 47, 47, 47,
        46, 46, 46, 46, 47, 47, 47, 47, 47, 47, 48, 50, 50, 50, 52, 53, 53, 53,
        53, 53, 53, 53, 53, 53, 54, 54, 54, 54, 49, 48, 47, 47, 46, 45, 45, 45,
        46, 46, 46, 46, 46, 46, 47, 49, 49, 50, 52, 53, 53, 54, 54, 54, 55, 56,
        56, 56, 57, 57, 57, 58, 49, 48, 47, 47, 46, 45, 45, 45, 45, 46, 46, 45,
        45, 45, 47, 49, 49, 50, 53, 53, 53, 55, 56, 56, 57, 58, 58, 58, 59, 59,
        59, 60, 49, 48, 47, 47, 46, 45, 45, 45, 45, 46, 46, 45, 45, 45, 47, 49,
        49, 50, 53, 53, 53, 55, 56, 56, 57, 58, 58, 58, 59, 59, 59, 60, 50, 49,
        48, 48, 47, 46, 46, 46, 46, 46, 46, 46, 46, 46, 47, 50, 50, 50, 53, 54,
        54, 55, 56, 56, 57, 59, 59, 60, 61, 61, 61, 62, 52, 51, 50, 50, 49, 48,
        48, 48, 47, 47, 47, 47, 47, 47, 48, 50, 50, 51, 53, 54, 54, 56, 57, 57,
        59, 61, 61, 62, 63, 64, 64, 65 },
  },
  {
      { /* Luma */
        /* Size 4x4 */
        32, 32, 34, 38, 32, 33, 35, 39, 34, 35, 39, 45, 38, 39, 45, 54,
        /* Size 8x8 */
        31, 31, 32, 32, 33, 34, 37, 41, 31, 32, 32, 32, 33, 34, 36, 39, 32, 32,
        32, 33, 34, 35, 37, 40, 32, 32, 33, 34, 35, 36, 38, 41, 33, 33, 34, 35,
        37, 39, 41, 44, 34, 34, 35, 36, 39, 43, 46, 49, 37, 36, 37, 38, 41, 46,
        51, 54, 41, 39, 40, 41, 44, 49, 54, 58,
        /* Size 16x16 */
        32, 31, 31, 31, 31, 31, 31, 32, 32, 34, 34, 36, 36, 39, 39, 44, 31, 32,
        32, 32, 32, 32, 32, 32, 32, 34, 34, 35, 35, 38, 38, 42, 31, 32, 32, 32,
        32, 32, 32, 32, 32, 34, 34, 35, 35, 38, 38, 42, 31, 32, 32, 32, 32, 32,
        32, 32, 32, 33, 33, 34, 34, 37, 37, 41, 31, 32, 32, 32, 32, 32, 32, 32,
        32, 33, 33, 34, 34, 37, 37, 41, 31, 32, 32, 32, 32, 33, 33, 34, 34, 35,
        35, 36, 36, 39, 39, 42, 31, 32, 32, 32, 32, 33, 33, 34, 34, 35, 35, 36,
        36, 39, 39, 42, 32, 32, 32, 32, 32, 34, 34, 35, 35, 37, 37, 38, 38, 40,
        40, 42, 32, 32, 32, 32, 32, 34, 34, 35, 35, 37, 37, 38, 38, 40, 40, 42,
        34, 34, 34, 33, 33, 35, 35, 37, 37, 39, 39, 42, 42, 45, 45, 47, 34, 34,
        34, 33, 33, 35, 35, 37, 37, 39, 39, 42, 42, 45, 45, 47, 36, 35, 35, 34,
        34, 36, 36, 38, 38, 42, 42, 48, 48, 50, 50, 54, 36, 35, 35, 34, 34, 36,
        36, 38, 38, 42, 42, 48, 48, 50, 50, 54, 39, 38, 38, 37, 37, 39, 39, 40,
        40, 45, 45, 50, 50, 54, 54, 58, 39, 38, 38, 37, 37, 39, 39, 40, 40, 45,
        45, 50, 50, 54, 54, 58, 44, 42, 42, 41, 41, 42, 42, 42, 42, 47, 47, 54,
        54, 58, 58, 63,
        /* Size 32x32 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 33,
        34, 34, 34, 35, 36, 36, 36, 37, 39, 39, 39, 41, 44, 44, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 33, 34, 34, 34, 34,
        35, 35, 35, 37, 39, 39, 39, 41, 43, 43, 31, 31, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 34, 34, 34, 34, 35, 35, 35, 37,
        38, 38, 38, 40, 42, 42, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 33, 34, 34, 34, 34, 35, 35, 35, 37, 38, 38, 38, 40,
        42, 42, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 33, 34, 34, 34, 34, 35, 35, 35, 37, 38, 38, 38, 40, 42, 42, 31, 31,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 34, 34,
        34, 34, 35, 35, 35, 36, 38, 38, 38, 39, 41, 41, 31, 31, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 34, 34, 34,
        34, 36, 37, 37, 37, 39, 41, 41, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 34, 34, 34, 34, 36, 37, 37,
        37, 39, 41, 41, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 33, 33, 33, 33, 34, 34, 34, 34, 36, 37, 37, 37, 39, 41, 41,
        31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 33, 33, 34,
        34, 34, 34, 35, 35, 35, 35, 37, 38, 38, 38, 40, 41, 41, 31, 32, 32, 32,
        32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 34, 34, 34, 34, 35, 35, 35, 36,
        36, 36, 36, 38, 39, 39, 39, 40, 42, 42, 31, 32, 32, 32, 32, 32, 32, 32,
        32, 33, 33, 33, 33, 33, 34, 34, 34, 34, 35, 35, 35, 36, 36, 36, 36, 38,
        39, 39, 39, 40, 42, 42, 31, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33,
        33, 33, 34, 34, 34, 34, 35, 35, 35, 36, 36, 36, 36, 38, 39, 39, 39, 40,
        42, 42, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 34, 34, 34,
        34, 35, 36, 36, 36, 36, 37, 37, 37, 38, 40, 40, 40, 41, 42, 42, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 33, 34, 34, 34, 34, 35, 35, 35, 36, 37, 37,
        37, 37, 38, 38, 38, 39, 40, 40, 40, 41, 42, 42, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 33, 34, 34, 34, 34, 35, 35, 35, 36, 37, 37, 37, 37, 38, 38,
        38, 39, 40, 40, 40, 41, 42, 42, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33,
        34, 34, 34, 34, 35, 35, 35, 36, 37, 37, 37, 37, 38, 38, 38, 39, 40, 40,
        40, 41, 42, 42, 33, 33, 33, 33, 33, 33, 33, 33, 33, 34, 34, 34, 34, 35,
        36, 36, 36, 37, 38, 38, 38, 39, 40, 40, 40, 41, 42, 42, 42, 44, 45, 45,
        34, 34, 34, 34, 34, 34, 33, 33, 33, 34, 35, 35, 35, 36, 37, 37, 37, 38,
        39, 39, 39, 41, 42, 42, 42, 44, 45, 45, 45, 46, 47, 47, 34, 34, 34, 34,
        34, 34, 33, 33, 33, 34, 35, 35, 35, 36, 37, 37, 37, 38, 39, 39, 39, 41,
        42, 42, 42, 44, 45, 45, 45, 46, 47, 47, 34, 34, 34, 34, 34, 34, 33, 33,
        33, 34, 35, 35, 35, 36, 37, 37, 37, 38, 39, 39, 39, 41, 42, 42, 42, 44,
        45, 45, 45, 46, 47, 47, 35, 34, 34, 34, 34, 34, 34, 34, 34, 35, 36, 36,
        36, 36, 37, 37, 37, 39, 41, 41, 41, 43, 45, 45, 45, 46, 47, 47, 47, 49,
        50, 50, 36, 35, 35, 35, 35, 35, 34, 34, 34, 35, 36, 36, 36, 37, 38, 38,
        38, 40, 42, 42, 42, 45, 48, 48, 48, 49, 50, 50, 50, 52, 54, 54, 36, 35,
        35, 35, 35, 35, 34, 34, 34, 35, 36, 36, 36, 37, 38, 38, 38, 40, 42, 42,
        42, 45, 48, 48, 48, 49, 50, 50, 50, 52, 54, 54, 36, 35, 35, 35, 35, 35,
        34, 34, 34, 35, 36, 36, 36, 37, 38, 38, 38, 40, 42, 42, 42, 45, 48, 48,
        48, 49, 50, 50, 50, 52, 54, 54, 37, 37, 37, 37, 37, 36, 36, 36, 36, 37,
        38, 38, 38, 38, 39, 39, 39, 41, 44, 44, 44, 46, 49, 49, 49, 51, 52, 52,
        52, 54, 56, 56, 39, 39, 38, 38, 38, 38, 37, 37, 37, 38, 39, 39, 39, 40,
        40, 40, 40, 42, 45, 45, 45, 47, 50, 50, 50, 52, 54, 54, 54, 56, 58, 58,
        39, 39, 38, 38, 38, 38, 37, 37, 37, 38, 39, 39, 39, 40, 40, 40, 40, 42,
        45, 45, 45, 47, 50, 50, 50, 52, 54, 54, 54, 56, 58, 58, 39, 39, 38, 38,
        38, 38, 37, 37, 37, 38, 39, 39, 39, 40, 40, 40, 40, 42, 45, 45, 45, 47,
        50, 50, 50, 52, 54, 54, 54, 56, 58, 58, 41, 41, 40, 40, 40, 39, 39, 39,
        39, 40, 40, 40, 40, 41, 41, 41, 41, 44, 46, 46, 46, 49, 52, 52, 52, 54,
        56, 56, 56, 58, 60, 60, 44, 43, 42, 42, 42, 41, 41, 41, 41, 41, 42, 42,
        42, 42, 42, 42, 42, 45, 47, 47, 47, 50, 54, 54, 54, 56, 58, 58, 58, 60,
        63, 63, 44, 43, 42, 42, 42, 41, 41, 41, 41, 41, 42, 42, 42, 42, 42, 42,
        42, 45, 47, 47, 47, 50, 54, 54, 54, 56, 58, 58, 58, 60, 63, 63,
        /* Size 4x8 */
        31, 32, 34, 39, 32, 32, 34, 38, 32, 33, 34, 38, 32, 33, 36, 40, 33, 34,
        38, 42, 34, 36, 41, 47, 37, 38, 44, 52, 40, 40, 46, 56,
        /* Size 8x4 */
        31, 32, 32, 32, 33, 34, 37, 40, 32, 32, 33, 33, 34, 36, 38, 40, 34, 34,
        34, 36, 38, 41, 44, 46, 39, 38, 38, 40, 42, 47, 52, 56,
        /* Size 8x16 */
        32, 31, 31, 32, 32, 36, 36, 44, 31, 32, 32, 32, 32, 35, 35, 42, 31, 32,
        32, 32, 32, 35, 35, 42, 31, 32, 32, 33, 33, 34, 34, 41, 31, 32, 32, 33,
        33, 34, 34, 41, 32, 32, 32, 34, 34, 36, 36, 42, 32, 32, 32, 34, 34, 36,
        36, 42, 32, 33, 33, 35, 35, 38, 38, 42, 32, 33, 33, 35, 35, 38, 38, 42,
        34, 34, 34, 37, 37, 42, 42, 48, 34, 34, 34, 37, 37, 42, 42, 48, 36, 34,
        34, 38, 38, 48, 48, 54, 36, 34, 34, 38, 38, 48, 48, 54, 39, 37, 37, 40,
        40, 50, 50, 58, 39, 37, 37, 40, 40, 50, 50, 58, 44, 41, 41, 43, 43, 53,
        53, 63,
        /* Size 16x8 */
        32, 31, 31, 31, 31, 32, 32, 32, 32, 34, 34, 36, 36, 39, 39, 44, 31, 32,
        32, 32, 32, 32, 32, 33, 33, 34, 34, 34, 34, 37, 37, 41, 31, 32, 32, 32,
        32, 32, 32, 33, 33, 34, 34, 34, 34, 37, 37, 41, 32, 32, 32, 33, 33, 34,
        34, 35, 35, 37, 37, 38, 38, 40, 40, 43, 32, 32, 32, 33, 33, 34, 34, 35,
        35, 37, 37, 38, 38, 40, 40, 43, 36, 35, 35, 34, 34, 36, 36, 38, 38, 42,
        42, 48, 48, 50, 50, 53, 36, 35, 35, 34, 34, 36, 36, 38, 38, 42, 42, 48,
        48, 50, 50, 53, 44, 42, 42, 41, 41, 42, 42, 42, 42, 48, 48, 54, 54, 58,
        58, 63,
        /* Size 16x32 */
        32, 31, 31, 31, 31, 32, 32, 32, 32, 34, 36, 36, 36, 39, 44, 44, 31, 31,
        31, 31, 31, 32, 32, 32, 32, 34, 35, 35, 35, 39, 43, 43, 31, 32, 32, 32,
        32, 32, 32, 32, 32, 34, 35, 35, 35, 38, 42, 42, 31, 32, 32, 32, 32, 32,
        32, 32, 32, 34, 35, 35, 35, 38, 42, 42, 31, 32, 32, 32, 32, 32, 32, 32,
        32, 34, 35, 35, 35, 38, 42, 42, 31, 32, 32, 32, 32, 32, 32, 32, 32, 34,
        35, 35, 35, 38, 41, 41, 31, 32, 32, 32, 32, 32, 33, 33, 33, 33, 34, 34,
        34, 37, 41, 41, 31, 32, 32, 32, 32, 32, 33, 33, 33, 33, 34, 34, 34, 37,
        41, 41, 31, 32, 32, 32, 32, 32, 33, 33, 33, 33, 34, 34, 34, 37, 41, 41,
        31, 32, 32, 32, 32, 33, 33, 33, 33, 34, 35, 35, 35, 38, 41, 41, 32, 32,
        32, 32, 32, 33, 34, 34, 34, 35, 36, 36, 36, 39, 42, 42, 32, 32, 32, 32,
        32, 33, 34, 34, 34, 35, 36, 36, 36, 39, 42, 42, 32, 32, 32, 32, 32, 33,
        34, 34, 34, 35, 36, 36, 36, 39, 42, 42, 32, 32, 32, 32, 32, 33, 34, 34,
        34, 36, 37, 37, 37, 40, 42, 42, 32, 32, 33, 33, 33, 34, 35, 35, 35, 37,
        38, 38, 38, 40, 42, 42, 32, 32, 33, 33, 33, 34, 35, 35, 35, 37, 38, 38,
        38, 40, 42, 42, 32, 32, 33, 33, 33, 34, 35, 35, 35, 37, 38, 38, 38, 40,
        42, 42, 33, 33, 33, 33, 33, 34, 36, 36, 36, 38, 40, 40, 40, 42, 45, 45,
        34, 34, 34, 34, 34, 35, 37, 37, 37, 39, 42, 42, 42, 45, 48, 48, 34, 34,
        34, 34, 34, 35, 37, 37, 37, 39, 42, 42, 42, 45, 48, 48, 34, 34, 34, 34,
        34, 35, 37, 37, 37, 39, 42, 42, 42, 45, 48, 48, 35, 34, 34, 34, 34, 36,
        37, 37, 37, 41, 45, 45, 45, 47, 50, 50, 36, 35, 34, 34, 34, 36, 38, 38,
        38, 43, 48, 48, 48, 51, 54, 54, 36, 35, 34, 34, 34, 36, 38, 38, 38, 43,
        48, 48, 48, 51, 54, 54, 36, 35, 34, 34, 34, 36, 38, 38, 38, 43, 48, 48,
        48, 51, 54, 54, 37, 37, 36, 36, 36, 38, 39, 39, 39, 44, 49, 49, 49, 52,
        56, 56, 39, 38, 37, 37, 37, 39, 40, 40, 40, 45, 50, 50, 50, 54, 58, 58,
        39, 38, 37, 37, 37, 39, 40, 40, 40, 45, 50, 50, 50, 54, 58, 58, 39, 38,
        37, 37, 37, 39, 40, 40, 40, 45, 50, 50, 50, 54, 58, 58, 41, 40, 39, 39,
        39, 40, 42, 42, 42, 46, 52, 52, 52, 56, 60, 60, 44, 42, 41, 41, 41, 42,
        43, 43, 43, 48, 53, 53, 53, 58, 63, 63, 44, 42, 41, 41, 41, 42, 43, 43,
        43, 48, 53, 53, 53, 58, 63, 63,
        /* Size 32x16 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 33,
        34, 34, 34, 35, 36, 36, 36, 37, 39, 39, 39, 41, 44, 44, 31, 31, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 34, 34, 34, 34,
        35, 35, 35, 37, 38, 38, 38, 40, 42, 42, 31, 31, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 34, 34, 34, 34, 34, 34, 34, 36,
        37, 37, 37, 39, 41, 41, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 33, 33, 33, 33, 34, 34, 34, 34, 34, 34, 34, 36, 37, 37, 37, 39,
        41, 41, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33,
        33, 33, 34, 34, 34, 34, 34, 34, 34, 36, 37, 37, 37, 39, 41, 41, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 34, 34, 34, 34, 35, 35,
        35, 36, 36, 36, 36, 38, 39, 39, 39, 40, 42, 42, 32, 32, 32, 32, 32, 32,
        33, 33, 33, 33, 34, 34, 34, 34, 35, 35, 35, 36, 37, 37, 37, 37, 38, 38,
        38, 39, 40, 40, 40, 42, 43, 43, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33,
        34, 34, 34, 34, 35, 35, 35, 36, 37, 37, 37, 37, 38, 38, 38, 39, 40, 40,
        40, 42, 43, 43, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 34, 34, 34, 34,
        35, 35, 35, 36, 37, 37, 37, 37, 38, 38, 38, 39, 40, 40, 40, 42, 43, 43,
        34, 34, 34, 34, 34, 34, 33, 33, 33, 34, 35, 35, 35, 36, 37, 37, 37, 38,
        39, 39, 39, 41, 43, 43, 43, 44, 45, 45, 45, 46, 48, 48, 36, 35, 35, 35,
        35, 35, 34, 34, 34, 35, 36, 36, 36, 37, 38, 38, 38, 40, 42, 42, 42, 45,
        48, 48, 48, 49, 50, 50, 50, 52, 53, 53, 36, 35, 35, 35, 35, 35, 34, 34,
        34, 35, 36, 36, 36, 37, 38, 38, 38, 40, 42, 42, 42, 45, 48, 48, 48, 49,
        50, 50, 50, 52, 53, 53, 36, 35, 35, 35, 35, 35, 34, 34, 34, 35, 36, 36,
        36, 37, 38, 38, 38, 40, 42, 42, 42, 45, 48, 48, 48, 49, 50, 50, 50, 52,
        53, 53, 39, 39, 38, 38, 38, 38, 37, 37, 37, 38, 39, 39, 39, 40, 40, 40,
        40, 42, 45, 45, 45, 47, 51, 51, 51, 52, 54, 54, 54, 56, 58, 58, 44, 43,
        42, 42, 42, 41, 41, 41, 41, 41, 42, 42, 42, 42, 42, 42, 42, 45, 48, 48,
        48, 50, 54, 54, 54, 56, 58, 58, 58, 60, 63, 63, 44, 43, 42, 42, 42, 41,
        41, 41, 41, 41, 42, 42, 42, 42, 42, 42, 42, 45, 48, 48, 48, 50, 54, 54,
        54, 56, 58, 58, 58, 60, 63, 63 },
      { /* Chroma */
        /* Size 4x4 */
        31, 34, 42, 47, 34, 39, 45, 46, 42, 45, 48, 49, 47, 46, 49, 54,
        /* Size 8x8 */
        31, 31, 32, 35, 39, 45, 48, 48, 31, 31, 33, 37, 41, 44, 46, 46, 32, 33,
        35, 39, 42, 45, 46, 45, 35, 37, 39, 43, 45, 47, 47, 46, 39, 41, 42, 45,
        47, 48, 48, 47, 45, 44, 45, 47, 48, 50, 51, 51, 48, 46, 46, 47, 48, 51,
        53, 54, 48, 46, 45, 46, 47, 51, 54, 56,
        /* Size 16x16 */
        32, 31, 31, 30, 30, 33, 33, 36, 36, 41, 41, 49, 49, 48, 48, 49, 31, 31,
        31, 31, 31, 34, 34, 38, 38, 42, 42, 47, 47, 47, 47, 47, 31, 31, 31, 31,
        31, 34, 34, 38, 38, 42, 42, 47, 47, 47, 47, 47, 30, 31, 31, 32, 32, 35,
        35, 40, 40, 42, 42, 46, 46, 45, 45, 45, 30, 31, 31, 32, 32, 35, 35, 40,
        40, 42, 42, 46, 46, 45, 45, 45, 33, 34, 34, 35, 35, 39, 39, 43, 43, 45,
        45, 47, 47, 46, 46, 45, 33, 34, 34, 35, 35, 39, 39, 43, 43, 45, 45, 47,
        47, 46, 46, 45, 36, 38, 38, 40, 40, 43, 43, 47, 47, 47, 47, 48, 48, 46,
        46, 45, 36, 38, 38, 40, 40, 43, 43, 47, 47, 47, 47, 48, 48, 46, 46, 45,
        41, 42, 42, 42, 42, 45, 45, 47, 47, 48, 48, 50, 50, 49, 49, 49, 41, 42,
        42, 42, 42, 45, 45, 47, 47, 48, 48, 50, 50, 49, 49, 49, 49, 47, 47, 46,
        46, 47, 47, 48, 48, 50, 50, 53, 53, 53, 53, 53, 49, 47, 47, 46, 46, 47,
        47, 48, 48, 50, 50, 53, 53, 53, 53, 53, 48, 47, 47, 45, 45, 46, 46, 46,
        46, 49, 49, 53, 53, 54, 54, 55, 48, 47, 47, 45, 45, 46, 46, 46, 46, 49,
        49, 53, 53, 54, 54, 55, 49, 47, 47, 45, 45, 45, 45, 45, 45, 49, 49, 53,
        53, 55, 55, 58,
        /* Size 32x32 */
        32, 31, 31, 31, 31, 31, 30, 30, 30, 32, 33, 33, 33, 35, 36, 36, 36, 39,
        41, 41, 41, 45, 49, 49, 49, 49, 48, 48, 48, 49, 49, 49, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 32, 34, 34, 34, 35, 37, 37, 37, 39, 42, 42, 42, 45,
        48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 33, 34, 34, 34, 36, 38, 38, 38, 40, 42, 42, 42, 45, 47, 47, 47, 47,
        47, 47, 47, 47, 47, 47, 31, 31, 31, 31, 31, 31, 31, 31, 31, 33, 34, 34,
        34, 36, 38, 38, 38, 40, 42, 42, 42, 45, 47, 47, 47, 47, 47, 47, 47, 47,
        47, 47, 31, 31, 31, 31, 31, 31, 31, 31, 31, 33, 34, 34, 34, 36, 38, 38,
        38, 40, 42, 42, 42, 45, 47, 47, 47, 47, 47, 47, 47, 47, 47, 47, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 33, 35, 35, 35, 37, 39, 39, 39, 41, 42, 42,
        42, 44, 47, 47, 47, 46, 46, 46, 46, 46, 46, 46, 30, 31, 31, 31, 31, 31,
        32, 32, 32, 33, 35, 35, 35, 37, 40, 40, 40, 41, 42, 42, 42, 44, 46, 46,
        46, 46, 45, 45, 45, 45, 45, 45, 30, 31, 31, 31, 31, 31, 32, 32, 32, 33,
        35, 35, 35, 37, 40, 40, 40, 41, 42, 42, 42, 44, 46, 46, 46, 46, 45, 45,
        45, 45, 45, 45, 30, 31, 31, 31, 31, 31, 32, 32, 32, 33, 35, 35, 35, 37,
        40, 40, 40, 41, 42, 42, 42, 44, 46, 46, 46, 46, 45, 45, 45, 45, 45, 45,
        32, 32, 33, 33, 33, 33, 33, 33, 33, 35, 37, 37, 37, 39, 41, 41, 41, 42,
        43, 43, 43, 45, 47, 47, 47, 46, 46, 46, 46, 45, 45, 45, 33, 34, 34, 34,
        34, 35, 35, 35, 35, 37, 39, 39, 39, 41, 43, 43, 43, 44, 45, 45, 45, 46,
        47, 47, 47, 47, 46, 46, 46, 46, 45, 45, 33, 34, 34, 34, 34, 35, 35, 35,
        35, 37, 39, 39, 39, 41, 43, 43, 43, 44, 45, 45, 45, 46, 47, 47, 47, 47,
        46, 46, 46, 46, 45, 45, 33, 34, 34, 34, 34, 35, 35, 35, 35, 37, 39, 39,
        39, 41, 43, 43, 43, 44, 45, 45, 45, 46, 47, 47, 47, 47, 46, 46, 46, 46,
        45, 45, 35, 35, 36, 36, 36, 37, 37, 37, 37, 39, 41, 41, 41, 43, 45, 45,
        45, 45, 46, 46, 46, 47, 47, 47, 47, 47, 46, 46, 46, 46, 45, 45, 36, 37,
        38, 38, 38, 39, 40, 40, 40, 41, 43, 43, 43, 45, 47, 47, 47, 47, 47, 47,
        47, 47, 48, 48, 48, 47, 46, 46, 46, 46, 45, 45, 36, 37, 38, 38, 38, 39,
        40, 40, 40, 41, 43, 43, 43, 45, 47, 47, 47, 47, 47, 47, 47, 47, 48, 48,
        48, 47, 46, 46, 46, 46, 45, 45, 36, 37, 38, 38, 38, 39, 40, 40, 40, 41,
        43, 43, 43, 45, 47, 47, 47, 47, 47, 47, 47, 47, 48, 48, 48, 47, 46, 46,
        46, 46, 45, 45, 39, 39, 40, 40, 40, 41, 41, 41, 41, 42, 44, 44, 44, 45,
        47, 47, 47, 47, 48, 48, 48, 48, 49, 49, 49, 48, 48, 48, 48, 47, 47, 47,
        41, 42, 42, 42, 42, 42, 42, 42, 42, 43, 45, 45, 45, 46, 47, 47, 47, 48,
        48, 48, 48, 49, 50, 50, 50, 50, 49, 49, 49, 49, 49, 49, 41, 42, 42, 42,
        42, 42, 42, 42, 42, 43, 45, 45, 45, 46, 47, 47, 47, 48, 48, 48, 48, 49,
        50, 50, 50, 50, 49, 49, 49, 49, 49, 49, 41, 42, 42, 42, 42, 42, 42, 42,
        42, 43, 45, 45, 45, 46, 47, 47, 47, 48, 48, 48, 48, 49, 50, 50, 50, 50,
        49, 49, 49, 49, 49, 49, 45, 45, 45, 45, 45, 44, 44, 44, 44, 45, 46, 46,
        46, 47, 47, 47, 47, 48, 49, 49, 49, 50, 51, 51, 51, 51, 51, 51, 51, 51,
        51, 51, 49, 48, 47, 47, 47, 47, 46, 46, 46, 47, 47, 47, 47, 47, 48, 48,
        48, 49, 50, 50, 50, 51, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 49, 48,
        47, 47, 47, 47, 46, 46, 46, 47, 47, 47, 47, 47, 48, 48, 48, 49, 50, 50,
        50, 51, 53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 49, 48, 47, 47, 47, 47,
        46, 46, 46, 47, 47, 47, 47, 47, 48, 48, 48, 49, 50, 50, 50, 51, 53, 53,
        53, 53, 53, 53, 53, 53, 53, 53, 49, 48, 47, 47, 47, 46, 46, 46, 46, 46,
        47, 47, 47, 47, 47, 47, 47, 48, 50, 50, 50, 51, 53, 53, 53, 53, 53, 53,
        53, 54, 54, 54, 48, 48, 47, 47, 47, 46, 45, 45, 45, 46, 46, 46, 46, 46,
        46, 46, 46, 48, 49, 49, 49, 51, 53, 53, 53, 53, 54, 54, 54, 55, 55, 55,
        48, 48, 47, 47, 47, 46, 45, 45, 45, 46, 46, 46, 46, 46, 46, 46, 46, 48,
        49, 49, 49, 51, 53, 53, 53, 53, 54, 54, 54, 55, 55, 55, 48, 48, 47, 47,
        47, 46, 45, 45, 45, 46, 46, 46, 46, 46, 46, 46, 46, 48, 49, 49, 49, 51,
        53, 53, 53, 53, 54, 54, 54, 55, 55, 55, 49, 48, 47, 47, 47, 46, 45, 45,
        45, 45, 46, 46, 46, 46, 46, 46, 46, 47, 49, 49, 49, 51, 53, 53, 53, 54,
        55, 55, 55, 56, 57, 57, 49, 48, 47, 47, 47, 46, 45, 45, 45, 45, 45, 45,
        45, 45, 45, 45, 45, 47, 49, 49, 49, 51, 53, 53, 53, 54, 55, 55, 55, 57,
        58, 58, 49, 48, 47, 47, 47, 46, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45,
        45, 47, 49, 49, 49, 51, 53, 53, 53, 54, 55, 55, 55, 57, 58, 58,
        /* Size 4x8 */
        31, 34, 42, 48, 31, 35, 42, 46, 33, 37, 44, 46, 36, 41, 46, 46, 40, 44,
        48, 48, 45, 46, 49, 51, 47, 47, 50, 54, 47, 46, 49, 55,
        /* Size 8x4 */
        31, 31, 33, 36, 40, 45, 47, 47, 34, 35, 37, 41, 44, 46, 47, 46, 42, 42,
        44, 46, 48, 49, 50, 49, 48, 46, 46, 46, 48, 51, 54, 55,
        /* Size 8x16 */
        32, 31, 31, 37, 37, 48, 48, 49, 31, 31, 31, 38, 38, 47, 47, 47, 31, 31,
        31, 38, 38, 47, 47, 47, 30, 32, 32, 40, 40, 46, 46, 45, 30, 32, 32, 40,
        40, 46, 46, 45, 33, 36, 36, 43, 43, 47, 47, 46, 33, 36, 36, 43, 43, 47,
        47, 46, 37, 40, 40, 47, 47, 47, 47, 45, 37, 40, 40, 47, 47, 47, 47, 45,
        42, 43, 43, 47, 47, 50, 50, 49, 42, 43, 43, 47, 47, 50, 50, 49, 49, 46,
        46, 48, 48, 53, 53, 53, 49, 46, 46, 48, 48, 53, 53, 53, 48, 46, 46, 47,
        47, 53, 53, 56, 48, 46, 46, 47, 47, 53, 53, 56, 49, 45, 45, 46, 46, 53,
        53, 58,
        /* Size 16x8 */
        32, 31, 31, 30, 30, 33, 33, 37, 37, 42, 42, 49, 49, 48, 48, 49, 31, 31,
        31, 32, 32, 36, 36, 40, 40, 43, 43, 46, 46, 46, 46, 45, 31, 31, 31, 32,
        32, 36, 36, 40, 40, 43, 43, 46, 46, 46, 46, 45, 37, 38, 38, 40, 40, 43,
        43, 47, 47, 47, 47, 48, 48, 47, 47, 46, 37, 38, 38, 40, 40, 43, 43, 47,
        47, 47, 47, 48, 48, 47, 47, 46, 48, 47, 47, 46, 46, 47, 47, 47, 47, 50,
        50, 53, 53, 53, 53, 53, 48, 47, 47, 46, 46, 47, 47, 47, 47, 50, 50, 53,
        53, 53, 53, 53, 49, 47, 47, 45, 45, 46, 46, 45, 45, 49, 49, 53, 53, 56,
        56, 58,
        /* Size 16x32 */
        32, 31, 31, 31, 31, 33, 37, 37, 37, 42, 48, 48, 48, 48, 49, 49, 31, 31,
        31, 31, 31, 34, 37, 37, 37, 42, 47, 47, 47, 48, 48, 48, 31, 31, 31, 31,
        31, 34, 38, 38, 38, 42, 47, 47, 47, 47, 47, 47, 31, 31, 31, 31, 31, 34,
        38, 38, 38, 42, 47, 47, 47, 47, 47, 47, 31, 31, 31, 31, 31, 34, 38, 38,
        38, 42, 47, 47, 47, 47, 47, 47, 31, 31, 32, 32, 32, 35, 39, 39, 39, 42,
        46, 46, 46, 46, 46, 46, 30, 31, 32, 32, 32, 35, 40, 40, 40, 42, 46, 46,
        46, 45, 45, 45, 30, 31, 32, 32, 32, 35, 40, 40, 40, 42, 46, 46, 46, 45,
        45, 45, 30, 31, 32, 32, 32, 35, 40, 40, 40, 42, 46, 46, 46, 45, 45, 45,
        32, 33, 34, 34, 34, 37, 41, 41, 41, 44, 46, 46, 46, 46, 45, 45, 33, 34,
        36, 36, 36, 39, 43, 43, 43, 45, 47, 47, 47, 46, 46, 46, 33, 34, 36, 36,
        36, 39, 43, 43, 43, 45, 47, 47, 47, 46, 46, 46, 33, 34, 36, 36, 36, 39,
        43, 43, 43, 45, 47, 47, 47, 46, 46, 46, 35, 36, 38, 38, 38, 41, 45, 45,
        45, 46, 47, 47, 47, 46, 45, 45, 37, 38, 40, 40, 40, 43, 47, 47, 47, 47,
        47, 47, 47, 46, 45, 45, 37, 38, 40, 40, 40, 43, 47, 47, 47, 47, 47, 47,
        47, 46, 45, 45, 37, 38, 40, 40, 40, 43, 47, 47, 47, 47, 47, 47, 47, 46,
        45, 45, 39, 40, 41, 41, 41, 44, 47, 47, 47, 48, 49, 49, 49, 48, 47, 47,
        42, 42, 43, 43, 43, 45, 47, 47, 47, 48, 50, 50, 50, 50, 49, 49, 42, 42,
        43, 43, 43, 45, 47, 47, 47, 48, 50, 50, 50, 50, 49, 49, 42, 42, 43, 43,
        43, 45, 47, 47, 47, 48, 50, 50, 50, 50, 49, 49, 45, 45, 44, 44, 44, 46,
        47, 47, 47, 49, 51, 51, 51, 51, 51, 51, 49, 48, 46, 46, 46, 47, 48, 48,
        48, 50, 53, 53, 53, 53, 53, 53, 49, 48, 46, 46, 46, 47, 48, 48, 48, 50,
        53, 53, 53, 53, 53, 53, 49, 48, 46, 46, 46, 47, 48, 48, 48, 50, 53, 53,
        53, 53, 53, 53, 48, 47, 46, 46, 46, 47, 47, 47, 47, 50, 53, 53, 53, 54,
        54, 54, 48, 47, 46, 46, 46, 46, 47, 47, 47, 50, 53, 53, 53, 54, 56, 56,
        48, 47, 46, 46, 46, 46, 47, 47, 47, 50, 53, 53, 53, 54, 56, 56, 48, 47,
        46, 46, 46, 46, 47, 47, 47, 50, 53, 53, 53, 54, 56, 56, 48, 47, 45, 45,
        45, 46, 46, 46, 46, 49, 53, 53, 53, 55, 57, 57, 49, 47, 45, 45, 45, 45,
        46, 46, 46, 49, 53, 53, 53, 56, 58, 58, 49, 47, 45, 45, 45, 45, 46, 46,
        46, 49, 53, 53, 53, 56, 58, 58,
        /* Size 32x16 */
        32, 31, 31, 31, 31, 31, 30, 30, 30, 32, 33, 33, 33, 35, 37, 37, 37, 39,
        42, 42, 42, 45, 49, 49, 49, 48, 48, 48, 48, 48, 49, 49, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 33, 34, 34, 34, 36, 38, 38, 38, 40, 42, 42, 42, 45,
        48, 48, 48, 47, 47, 47, 47, 47, 47, 47, 31, 31, 31, 31, 31, 32, 32, 32,
        32, 34, 36, 36, 36, 38, 40, 40, 40, 41, 43, 43, 43, 44, 46, 46, 46, 46,
        46, 46, 46, 45, 45, 45, 31, 31, 31, 31, 31, 32, 32, 32, 32, 34, 36, 36,
        36, 38, 40, 40, 40, 41, 43, 43, 43, 44, 46, 46, 46, 46, 46, 46, 46, 45,
        45, 45, 31, 31, 31, 31, 31, 32, 32, 32, 32, 34, 36, 36, 36, 38, 40, 40,
        40, 41, 43, 43, 43, 44, 46, 46, 46, 46, 46, 46, 46, 45, 45, 45, 33, 34,
        34, 34, 34, 35, 35, 35, 35, 37, 39, 39, 39, 41, 43, 43, 43, 44, 45, 45,
        45, 46, 47, 47, 47, 47, 46, 46, 46, 46, 45, 45, 37, 37, 38, 38, 38, 39,
        40, 40, 40, 41, 43, 43, 43, 45, 47, 47, 47, 47, 47, 47, 47, 47, 48, 48,
        48, 47, 47, 47, 47, 46, 46, 46, 37, 37, 38, 38, 38, 39, 40, 40, 40, 41,
        43, 43, 43, 45, 47, 47, 47, 47, 47, 47, 47, 47, 48, 48, 48, 47, 47, 47,
        47, 46, 46, 46, 37, 37, 38, 38, 38, 39, 40, 40, 40, 41, 43, 43, 43, 45,
        47, 47, 47, 47, 47, 47, 47, 47, 48, 48, 48, 47, 47, 47, 47, 46, 46, 46,
        42, 42, 42, 42, 42, 42, 42, 42, 42, 44, 45, 45, 45, 46, 47, 47, 47, 48,
        48, 48, 48, 49, 50, 50, 50, 50, 50, 50, 50, 49, 49, 49, 48, 47, 47, 47,
        47, 46, 46, 46, 46, 46, 47, 47, 47, 47, 47, 47, 47, 49, 50, 50, 50, 51,
        53, 53, 53, 53, 53, 53, 53, 53, 53, 53, 48, 47, 47, 47, 47, 46, 46, 46,
        46, 46, 47, 47, 47, 47, 47, 47, 47, 49, 50, 50, 50, 51, 53, 53, 53, 53,
        53, 53, 53, 53, 53, 53, 48, 47, 47, 47, 47, 46, 46, 46, 46, 46, 47, 47,
        47, 47, 47, 47, 47, 49, 50, 50, 50, 51, 53, 53, 53, 53, 53, 53, 53, 53,
        53, 53, 48, 48, 47, 47, 47, 46, 45, 45, 45, 46, 46, 46, 46, 46, 46, 46,
        46, 48, 50, 50, 50, 51, 53, 53, 53, 54, 54, 54, 54, 55, 56, 56, 49, 48,
        47, 47, 47, 46, 45, 45, 45, 45, 46, 46, 46, 45, 45, 45, 45, 47, 49, 49,
        49, 51, 53, 53, 53, 54, 56, 56, 56, 57, 58, 58, 49, 48, 47, 47, 47, 46,
        45, 45, 45, 45, 46, 46, 46, 45, 45, 45, 45, 47, 49, 49, 49, 51, 53, 53,
        53, 54, 56, 56, 56, 57, 58, 58 },
  },
  {
      { /* Luma */
        /* Size 4x4 */
        32, 32, 32, 35, 32, 32, 33, 35, 32, 33, 35, 38, 35, 35, 38, 46,
        /* Size 8x8 */
        31, 31, 31, 32, 32, 32, 34, 35, 31, 32, 32, 32, 32, 33, 34, 35, 31, 32,
        32, 32, 32, 33, 33, 34, 32, 32, 32, 33, 34, 34, 35, 36, 32, 32, 32, 34,
        35, 35, 36, 38, 32, 33, 33, 34, 35, 36, 38, 40, 34, 34, 33, 35, 36, 38,
        39, 42, 35, 35, 34, 36, 38, 40, 42, 48,
        /* Size 16x16 */
        32, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 33, 34, 34, 36, 36, 31, 31,
        31, 32, 32, 32, 32, 32, 32, 32, 32, 33, 34, 34, 35, 35, 31, 31, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 33, 34, 34, 35, 35, 31, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 33, 34, 34, 35, 35, 31, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 33, 33, 34, 34, 34, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 33, 33, 34, 34, 34, 31, 32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 34,
        35, 35, 36, 36, 31, 32, 32, 32, 32, 32, 33, 33, 33, 34, 34, 35, 35, 36,
        36, 36, 32, 32, 32, 32, 32, 32, 33, 33, 34, 34, 34, 35, 36, 36, 37, 37,
        32, 32, 32, 32, 32, 32, 33, 34, 34, 35, 35, 36, 37, 37, 38, 38, 32, 32,
        32, 32, 32, 32, 33, 34, 34, 35, 35, 36, 37, 37, 38, 38, 33, 33, 33, 33,
        33, 33, 34, 35, 35, 36, 36, 38, 39, 40, 42, 42, 34, 34, 34, 34, 33, 33,
        35, 35, 36, 37, 37, 39, 39, 41, 42, 42, 34, 34, 34, 34, 34, 34, 35, 36,
        36, 37, 37, 40, 41, 42, 45, 45, 36, 35, 35, 35, 34, 34, 36, 36, 37, 38,
        38, 42, 42, 45, 48, 48, 36, 35, 35, 35, 34, 34, 36, 36, 37, 38, 38, 42,
        42, 45, 48, 48,
        /* Size 32x32 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32,
        32, 32, 32, 32, 33, 34, 34, 34, 34, 35, 36, 36, 36, 37, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        33, 34, 34, 34, 34, 35, 35, 35, 35, 37, 31, 31, 31, 31, 31, 31, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 34, 34, 34,
        34, 35, 35, 35, 35, 36, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 34, 34, 34, 34, 35, 35, 35,
        35, 36, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 33, 33, 34, 34, 34, 34, 35, 35, 35, 35, 36, 31, 31,
        31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 33, 33, 34, 34, 34, 34, 35, 35, 35, 35, 36, 31, 31, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 34,
        34, 34, 34, 34, 35, 35, 35, 36, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 34, 34,
        34, 34, 34, 35, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 34, 34, 34, 34, 34, 35,
        31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 33, 33, 33, 33, 33, 34, 34, 34, 34, 34, 35, 31, 31, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33,
        33, 33, 33, 33, 34, 34, 34, 34, 34, 35, 31, 31, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 34, 34, 34, 34,
        34, 35, 35, 35, 35, 36, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33,
        33, 33, 33, 33, 33, 33, 33, 33, 33, 34, 34, 35, 35, 35, 35, 36, 36, 36,
        36, 37, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 33,
        33, 34, 34, 34, 34, 34, 35, 35, 35, 35, 36, 36, 36, 36, 36, 37, 31, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 33, 34, 34, 34,
        34, 34, 35, 35, 35, 35, 36, 36, 36, 36, 36, 37, 31, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 33, 34, 34, 34, 34, 34, 35, 35,
        35, 35, 36, 36, 36, 36, 36, 37, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 33, 33, 33, 33, 33, 34, 34, 34, 34, 34, 35, 35, 36, 36, 36, 36, 37,
        37, 37, 37, 38, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 34,
        34, 34, 34, 35, 35, 35, 35, 35, 36, 36, 36, 36, 37, 37, 38, 38, 38, 39,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 34, 34, 34, 34, 35,
        35, 35, 35, 36, 36, 37, 37, 37, 37, 38, 38, 38, 38, 39, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 33, 33, 34, 34, 34, 34, 35, 35, 35, 35, 36,
        36, 37, 37, 37, 37, 38, 38, 38, 38, 39, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 33, 33, 34, 34, 34, 34, 35, 35, 35, 35, 36, 36, 37, 37, 37,
        37, 38, 38, 38, 38, 39, 32, 32, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33,
        34, 34, 34, 34, 35, 35, 36, 36, 36, 36, 37, 38, 38, 38, 38, 39, 40, 40,
        40, 41, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 34, 34, 35, 35, 35,
        35, 36, 36, 36, 36, 37, 38, 39, 39, 39, 40, 41, 42, 42, 42, 42, 34, 34,
        34, 34, 34, 34, 34, 33, 33, 33, 33, 34, 35, 35, 35, 35, 36, 36, 37, 37,
        37, 38, 39, 39, 39, 39, 41, 42, 42, 42, 42, 43, 34, 34, 34, 34, 34, 34,
        34, 33, 33, 33, 33, 34, 35, 35, 35, 35, 36, 36, 37, 37, 37, 38, 39, 39,
        39, 39, 41, 42, 42, 42, 42, 43, 34, 34, 34, 34, 34, 34, 34, 33, 33, 33,
        33, 34, 35, 35, 35, 35, 36, 36, 37, 37, 37, 38, 39, 39, 39, 39, 41, 42,
        42, 42, 42, 43, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 35, 36,
        36, 36, 36, 37, 37, 37, 37, 38, 40, 41, 41, 41, 42, 44, 45, 45, 45, 45,
        35, 35, 35, 35, 35, 35, 34, 34, 34, 34, 34, 35, 36, 36, 36, 36, 37, 37,
        38, 38, 38, 39, 41, 42, 42, 42, 44, 46, 47, 47, 47, 48, 36, 35, 35, 35,
        35, 35, 35, 34, 34, 34, 34, 35, 36, 36, 36, 36, 37, 38, 38, 38, 38, 40,
        42, 42, 42, 42, 45, 47, 48, 48, 48, 49, 36, 35, 35, 35, 35, 35, 35, 34,
        34, 34, 34, 35, 36, 36, 36, 36, 37, 38, 38, 38, 38, 40, 42, 42, 42, 42,
        45, 47, 48, 48, 48, 49, 36, 35, 35, 35, 35, 35, 35, 34, 34, 34, 34, 35,
        36, 36, 36, 36, 37, 38, 38, 38, 38, 40, 42, 42, 42, 42, 45, 47, 48, 48,
        48, 49, 37, 37, 36, 36, 36, 36, 36, 35, 35, 35, 35, 36, 37, 37, 37, 37,
        38, 39, 39, 39, 39, 41, 42, 43, 43, 43, 45, 48, 49, 49, 49, 50,
        /* Size 4x8 */
        31, 31, 32, 35, 32, 32, 32, 35, 32, 32, 33, 34, 32, 32, 34, 36, 32, 33,
        35, 38, 33, 33, 36, 40, 34, 34, 37, 42, 35, 34, 38, 48,
        /* Size 8x4 */
        31, 32, 32, 32, 32, 33, 34, 35, 31, 32, 32, 32, 33, 33, 34, 34, 32, 32,
        33, 34, 35, 36, 37, 38, 35, 35, 34, 36, 38, 40, 42, 48,
        /* Size 8x16 */
        32, 31, 31, 31, 32, 32, 35, 36, 31, 32, 32, 32, 32, 32, 35, 35, 31, 32,
        32, 32, 32, 32, 35, 35, 31, 32, 32, 32, 32, 32, 34, 35, 31, 32, 32, 32,
        33, 33, 34, 34, 31, 32, 32, 32, 33, 33, 34, 34, 31, 32, 32, 33, 34, 34,
        35, 36, 32, 32, 32, 33, 34, 34, 36, 36, 32, 32, 32, 33, 34, 34, 36, 37,
        32, 32, 33, 34, 35, 35, 37, 38, 32, 32, 33, 34, 35, 35, 37, 38, 33, 33,
        33, 35, 36, 36, 40, 41, 34, 34, 34, 35, 37, 37, 41, 42, 34, 34, 34, 35,
        37, 37, 43, 44, 36, 35, 34, 36, 38, 38, 46, 48, 36, 35, 34, 36, 38, 38,
        46, 48,
        /* Size 16x8 */
        32, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 33, 34, 34, 36, 36, 31, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 34, 34, 35, 35, 31, 32, 32, 32,
        32, 32, 32, 32, 32, 33, 33, 33, 34, 34, 34, 34, 31, 32, 32, 32, 32, 32,
        33, 33, 33, 34, 34, 35, 35, 35, 36, 36, 32, 32, 32, 32, 33, 33, 34, 34,
        34, 35, 35, 36, 37, 37, 38, 38, 32, 32, 32, 32, 33, 33, 34, 34, 34, 35,
        35, 36, 37, 37, 38, 38, 35, 35, 35, 34, 34, 34, 35, 36, 36, 37, 37, 40,
        41, 43, 46, 46, 36, 35, 35, 35, 34, 34, 36, 36, 37, 38, 38, 41, 42, 44,
        48, 48,
        /* Size 16x32 */
        32, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 33, 35, 36, 36, 36, 31, 31,
        31, 31, 31, 31, 32, 32, 32, 32, 32, 33, 35, 35, 35, 35, 31, 31, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 33, 35, 35, 35, 35, 31, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 33, 35, 35, 35, 35, 31, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 33, 35, 35, 35, 35, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 33, 35, 35, 35, 35, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33,
        34, 35, 35, 35, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 34, 35,
        35, 35, 31, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 34, 34, 34, 34,
        31, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 34, 34, 34, 34, 31, 32,
        32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 34, 34, 34, 34, 31, 32, 32, 32,
        32, 32, 33, 33, 33, 33, 33, 34, 35, 35, 35, 35, 31, 32, 32, 32, 32, 32,
        33, 33, 34, 34, 34, 34, 35, 36, 36, 36, 32, 32, 32, 32, 32, 32, 33, 34,
        34, 34, 34, 35, 36, 36, 36, 36, 32, 32, 32, 32, 32, 32, 33, 34, 34, 34,
        34, 35, 36, 36, 36, 36, 32, 32, 32, 32, 32, 32, 33, 34, 34, 34, 34, 35,
        36, 36, 36, 36, 32, 32, 32, 32, 32, 32, 33, 34, 34, 34, 34, 35, 36, 37,
        37, 37, 32, 32, 32, 33, 33, 33, 33, 34, 35, 35, 35, 36, 37, 38, 38, 38,
        32, 32, 32, 33, 33, 33, 34, 35, 35, 35, 35, 36, 37, 38, 38, 38, 32, 32,
        32, 33, 33, 33, 34, 35, 35, 35, 35, 36, 37, 38, 38, 38, 32, 32, 32, 33,
        33, 33, 34, 35, 35, 35, 35, 36, 37, 38, 38, 38, 32, 33, 33, 33, 33, 33,
        34, 35, 36, 36, 36, 37, 39, 40, 40, 40, 33, 33, 33, 33, 33, 33, 35, 36,
        36, 36, 36, 38, 40, 41, 41, 41, 34, 34, 34, 34, 34, 34, 35, 36, 37, 37,
        37, 39, 41, 42, 42, 42, 34, 34, 34, 34, 34, 34, 35, 36, 37, 37, 37, 39,
        41, 42, 42, 42, 34, 34, 34, 34, 34, 34, 35, 36, 37, 37, 37, 39, 41, 42,
        42, 42, 34, 34, 34, 34, 34, 34, 35, 37, 37, 37, 37, 40, 43, 44, 44, 44,
        35, 35, 34, 34, 34, 34, 36, 37, 38, 38, 38, 41, 45, 47, 47, 47, 36, 35,
        35, 34, 34, 34, 36, 37, 38, 38, 38, 42, 46, 48, 48, 48, 36, 35, 35, 34,
        34, 34, 36, 37, 38, 38, 38, 42, 46, 48, 48, 48, 36, 35, 35, 34, 34, 34,
        36, 37, 38, 38, 38, 42, 46, 48, 48, 48, 37, 36, 36, 36, 36, 36, 37, 38,
        39, 39, 39, 42, 46, 49, 49, 49,
        /* Size 32x16 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 33, 34, 34, 34, 34, 35, 36, 36, 36, 37, 31, 31, 31, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33,
        33, 34, 34, 34, 34, 35, 35, 35, 35, 36, 31, 31, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 34, 34, 34,
        34, 34, 35, 35, 35, 36, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 33, 34, 34, 34, 34, 34, 34, 34,
        34, 36, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 33, 33, 33, 33, 33, 33, 34, 34, 34, 34, 34, 34, 34, 34, 36, 31, 31,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33,
        33, 33, 33, 34, 34, 34, 34, 34, 34, 34, 34, 36, 31, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 33, 33, 34, 34, 34, 34, 35, 35,
        35, 35, 35, 36, 36, 36, 36, 37, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 33, 33, 34, 34, 34, 34, 34, 35, 35, 35, 35, 36, 36, 36, 36, 37, 37,
        37, 37, 37, 38, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 34, 34,
        34, 34, 34, 35, 35, 35, 35, 36, 36, 37, 37, 37, 37, 38, 38, 38, 38, 39,
        32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 34, 34, 34, 34, 34, 35,
        35, 35, 35, 36, 36, 37, 37, 37, 37, 38, 38, 38, 38, 39, 32, 32, 32, 32,
        32, 32, 32, 32, 33, 33, 33, 33, 34, 34, 34, 34, 34, 35, 35, 35, 35, 36,
        36, 37, 37, 37, 37, 38, 38, 38, 38, 39, 33, 33, 33, 33, 33, 33, 33, 33,
        33, 33, 33, 34, 34, 35, 35, 35, 35, 36, 36, 36, 36, 37, 38, 39, 39, 39,
        40, 41, 42, 42, 42, 42, 35, 35, 35, 35, 35, 35, 34, 34, 34, 34, 34, 35,
        35, 36, 36, 36, 36, 37, 37, 37, 37, 39, 40, 41, 41, 41, 43, 45, 46, 46,
        46, 46, 36, 35, 35, 35, 35, 35, 35, 35, 34, 34, 34, 35, 36, 36, 36, 36,
        37, 38, 38, 38, 38, 40, 41, 42, 42, 42, 44, 47, 48, 48, 48, 49, 36, 35,
        35, 35, 35, 35, 35, 35, 34, 34, 34, 35, 36, 36, 36, 36, 37, 38, 38, 38,
        38, 40, 41, 42, 42, 42, 44, 47, 48, 48, 48, 49, 36, 35, 35, 35, 35, 35,
        35, 35, 34, 34, 34, 35, 36, 36, 36, 36, 37, 38, 38, 38, 38, 40, 41, 42,
        42, 42, 44, 47, 48, 48, 48, 49 },
      { /* Chroma */
        /* Size 4x4 */
        31, 32, 38, 46, 32, 34, 41, 46, 38, 41, 47, 47, 46, 46, 47, 52,
        /* Size 8x8 */
        31, 31, 30, 34, 36, 39, 42, 48, 31, 31, 31, 34, 37, 40, 42, 47, 30, 31,
        32, 35, 39, 41, 42, 46, 34, 34, 35, 39, 42, 44, 45, 47, 36, 37, 39, 42,
        46, 47, 47, 47, 39, 40, 41, 44, 47, 47, 48, 49, 42, 42, 42, 45, 47, 48,
        48, 50, 48, 47, 46, 47, 47, 49, 50, 53,
        /* Size 16x16 */
        32, 31, 31, 31, 30, 30, 33, 33, 34, 36, 36, 40, 41, 44, 49, 49, 31, 31,
        31, 31, 31, 31, 33, 34, 36, 38, 38, 41, 42, 44, 48, 48, 31, 31, 31, 31,
        31, 31, 34, 34, 36, 38, 38, 41, 42, 44, 47, 47, 31, 31, 31, 31, 31, 31,
        34, 35, 36, 39, 39, 41, 42, 44, 47, 47, 30, 31, 31, 31, 32, 32, 34, 35,
        37, 40, 40, 42, 42, 44, 46, 46, 30, 31, 31, 31, 32, 32, 34, 35, 37, 40,
        40, 42, 42, 44, 46, 46, 33, 33, 34, 34, 34, 34, 37, 38, 40, 42, 42, 44,
        44, 45, 47, 47, 33, 34, 34, 35, 35, 35, 38, 39, 40, 43, 43, 44, 45, 46,
        47, 47, 34, 36, 36, 36, 37, 37, 40, 40, 42, 45, 45, 45, 46, 46, 47, 47,
        36, 38, 38, 39, 40, 40, 42, 43, 45, 47, 47, 47, 47, 47, 48, 48, 36, 38,
        38, 39, 40, 40, 42, 43, 45, 47, 47, 47, 47, 47, 48, 48, 40, 41, 41, 41,
        42, 42, 44, 44, 45, 47, 47, 48, 48, 49, 50, 50, 41, 42, 42, 42, 42, 42,
        44, 45, 46, 47, 47, 48, 48, 49, 50, 50, 44, 44, 44, 44, 44, 44, 45, 46,
        46, 47, 47, 49, 49, 50, 51, 51, 49, 48, 47, 47, 46, 46, 47, 47, 47, 48,
        48, 50, 50, 51, 53, 53, 49, 48, 47, 47, 46, 46, 47, 47, 47, 48, 48, 50,
        50, 51, 53, 53,
        /* Size 32x32 */
        32, 31, 31, 31, 31, 31, 31, 30, 30, 30, 30, 31, 33, 33, 33, 33, 34, 36,
        36, 36, 36, 38, 40, 41, 41, 41, 44, 47, 49, 49, 49, 49, 31, 31, 31, 31,
        31, 31, 31, 31, 30, 30, 30, 32, 33, 34, 34, 34, 35, 36, 37, 37, 37, 39,
        41, 42, 42, 42, 44, 47, 48, 48, 48, 48, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 32, 33, 34, 34, 34, 36, 37, 38, 38, 38, 39, 41, 42, 42, 42,
        44, 46, 48, 48, 48, 47, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32,
        34, 34, 34, 34, 36, 37, 38, 38, 38, 40, 41, 42, 42, 42, 44, 46, 47, 47,
        47, 47, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 34, 34, 34, 34,
        36, 37, 38, 38, 38, 40, 41, 42, 42, 42, 44, 46, 47, 47, 47, 47, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 34, 34, 34, 34, 36, 37, 38, 38,
        38, 40, 41, 42, 42, 42, 44, 46, 47, 47, 47, 47, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 33, 34, 35, 35, 35, 36, 38, 39, 39, 39, 40, 41, 42,
        42, 42, 44, 46, 47, 47, 47, 47, 30, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 33, 34, 35, 35, 35, 37, 38, 39, 39, 39, 41, 42, 42, 42, 42, 44, 46,
        46, 46, 46, 46, 30, 30, 31, 31, 31, 31, 31, 31, 32, 32, 32, 33, 34, 35,
        35, 35, 37, 39, 40, 40, 40, 41, 42, 42, 42, 42, 44, 45, 46, 46, 46, 46,
        30, 30, 31, 31, 31, 31, 31, 31, 32, 32, 32, 33, 34, 35, 35, 35, 37, 39,
        40, 40, 40, 41, 42, 42, 42, 42, 44, 45, 46, 46, 46, 46, 30, 30, 31, 31,
        31, 31, 31, 31, 32, 32, 32, 33, 34, 35, 35, 35, 37, 39, 40, 40, 40, 41,
        42, 42, 42, 42, 44, 45, 46, 46, 46, 46, 31, 32, 32, 32, 32, 32, 33, 33,
        33, 33, 33, 34, 36, 37, 37, 37, 38, 40, 41, 41, 41, 42, 43, 43, 43, 43,
        44, 46, 46, 46, 46, 46, 33, 33, 33, 34, 34, 34, 34, 34, 34, 34, 34, 36,
        37, 38, 38, 38, 40, 41, 42, 42, 42, 43, 44, 44, 44, 44, 45, 46, 47, 47,
        47, 46, 33, 34, 34, 34, 34, 34, 35, 35, 35, 35, 35, 37, 38, 39, 39, 39,
        40, 42, 43, 43, 43, 44, 44, 45, 45, 45, 46, 47, 47, 47, 47, 47, 33, 34,
        34, 34, 34, 34, 35, 35, 35, 35, 35, 37, 38, 39, 39, 39, 40, 42, 43, 43,
        43, 44, 44, 45, 45, 45, 46, 47, 47, 47, 47, 47, 33, 34, 34, 34, 34, 34,
        35, 35, 35, 35, 35, 37, 38, 39, 39, 39, 40, 42, 43, 43, 43, 44, 44, 45,
        45, 45, 46, 47, 47, 47, 47, 47, 34, 35, 36, 36, 36, 36, 36, 37, 37, 37,
        37, 38, 40, 40, 40, 40, 42, 44, 45, 45, 45, 45, 45, 46, 46, 46, 46, 47,
        47, 47, 47, 47, 36, 36, 37, 37, 37, 37, 38, 38, 39, 39, 39, 40, 41, 42,
        42, 42, 44, 46, 46, 46, 46, 47, 47, 47, 47, 47, 47, 47, 47, 47, 47, 47,
        36, 37, 38, 38, 38, 38, 39, 39, 40, 40, 40, 41, 42, 43, 43, 43, 45, 46,
        47, 47, 47, 47, 47, 47, 47, 47, 47, 47, 48, 48, 48, 47, 36, 37, 38, 38,
        38, 38, 39, 39, 40, 40, 40, 41, 42, 43, 43, 43, 45, 46, 47, 47, 47, 47,
        47, 47, 47, 47, 47, 47, 48, 48, 48, 47, 36, 37, 38, 38, 38, 38, 39, 39,
        40, 40, 40, 41, 42, 43, 43, 43, 45, 46, 47, 47, 47, 47, 47, 47, 47, 47,
        47, 47, 48, 48, 48, 47, 38, 39, 39, 40, 40, 40, 40, 41, 41, 41, 41, 42,
        43, 44, 44, 44, 45, 47, 47, 47, 47, 47, 48, 48, 48, 48, 48, 48, 49, 49,
        49, 48, 40, 41, 41, 41, 41, 41, 41, 42, 42, 42, 42, 43, 44, 44, 44, 44,
        45, 47, 47, 47, 47, 48, 48, 48, 48, 48, 49, 49, 50, 50, 50, 49, 41, 42,
        42, 42, 42, 42, 42, 42, 42, 42, 42, 43, 44, 45, 45, 45, 46, 47, 47, 47,
        47, 48, 48, 48, 48, 48, 49, 50, 50, 50, 50, 50, 41, 42, 42, 42, 42, 42,
        42, 42, 42, 42, 42, 43, 44, 45, 45, 45, 46, 47, 47, 47, 47, 48, 48, 48,
        48, 48, 49, 50, 50, 50, 50, 50, 41, 42, 42, 42, 42, 42, 42, 42, 42, 42,
        42, 43, 44, 45, 45, 45, 46, 47, 47, 47, 47, 48, 48, 48, 48, 48, 49, 50,
        50, 50, 50, 50, 44, 44, 44, 44, 44, 44, 44, 44, 44, 44, 44, 44, 45, 46,
        46, 46, 46, 47, 47, 47, 47, 48, 49, 49, 49, 49, 50, 51, 51, 51, 51, 51,
        47, 47, 46, 46, 46, 46, 46, 46, 45, 45, 45, 46, 46, 47, 47, 47, 47, 47,
        47, 47, 47, 48, 49, 50, 50, 50, 51, 52, 52, 52, 52, 52, 49, 48, 48, 47,
        47, 47, 47, 46, 46, 46, 46, 46, 47, 47, 47, 47, 47, 47, 48, 48, 48, 49,
        50, 50, 50, 50, 51, 52, 53, 53, 53, 53, 49, 48, 48, 47, 47, 47, 47, 46,
        46, 46, 46, 46, 47, 47, 47, 47, 47, 47, 48, 48, 48, 49, 50, 50, 50, 50,
        51, 52, 53, 53, 53, 53, 49, 48, 48, 47, 47, 47, 47, 46, 46, 46, 46, 46,
        47, 47, 47, 47, 47, 47, 48, 48, 48, 49, 50, 50, 50, 50, 51, 52, 53, 53,
        53, 53, 49, 48, 47, 47, 47, 47, 47, 46, 46, 46, 46, 46, 46, 47, 47, 47,
        47, 47, 47, 47, 47, 48, 49, 50, 50, 50, 51, 52, 53, 53, 53, 53,
        /* Size 4x8 */
        31, 31, 37, 48, 31, 31, 38, 47, 31, 32, 40, 46, 34, 36, 43, 47, 37, 39,
        46, 47, 39, 41, 47, 48, 42, 43, 47, 50, 48, 46, 48, 53,
        /* Size 8x4 */
        31, 31, 31, 34, 37, 39, 42, 48, 31, 31, 32, 36, 39, 41, 43, 46, 37, 38,
        40, 43, 46, 47, 47, 48, 48, 47, 46, 47, 47, 48, 50, 53,
        /* Size 8x16 */
        32, 31, 31, 33, 37, 37, 45, 48, 31, 31, 31, 34, 38, 38, 45, 47, 31, 31,
        31, 34, 38, 38, 45, 47, 31, 31, 32, 34, 39, 39, 45, 46, 30, 32, 32, 35,
        40, 40, 44, 46, 30, 32, 32, 35, 40, 40, 44, 46, 33, 34, 35, 37, 42, 42,
        46, 47, 33, 35, 36, 38, 43, 43, 46, 47, 35, 37, 37, 40, 44, 44, 46, 47,
        37, 39, 40, 43, 47, 47, 47, 47, 37, 39, 40, 43, 47, 47, 47, 47, 41, 42,
        42, 44, 47, 47, 49, 49, 42, 42, 43, 44, 47, 47, 49, 50, 44, 44, 44, 45,
        47, 47, 50, 51, 49, 47, 46, 47, 48, 48, 52, 53, 49, 47, 46, 47, 48, 48,
        52, 53,
        /* Size 16x8 */
        32, 31, 31, 31, 30, 30, 33, 33, 35, 37, 37, 41, 42, 44, 49, 49, 31, 31,
        31, 31, 32, 32, 34, 35, 37, 39, 39, 42, 42, 44, 47, 47, 31, 31, 31, 32,
        32, 32, 35, 36, 37, 40, 40, 42, 43, 44, 46, 46, 33, 34, 34, 34, 35, 35,
        37, 38, 40, 43, 43, 44, 44, 45, 47, 47, 37, 38, 38, 39, 40, 40, 42, 43,
        44, 47, 47, 47, 47, 47, 48, 48, 37, 38, 38, 39, 40, 40, 42, 43, 44, 47,
        47, 47, 47, 47, 48, 48, 45, 45, 45, 45, 44, 44, 46, 46, 46, 47, 47, 49,
        49, 50, 52, 52, 48, 47, 47, 46, 46, 46, 47, 47, 47, 47, 47, 49, 50, 51,
        53, 53,
        /* Size 16x32 */
        32, 31, 31, 31, 31, 31, 33, 35, 37, 37, 37, 40, 45, 48, 48, 48, 31, 31,
        31, 31, 31, 31, 33, 36, 37, 37, 37, 41, 45, 48, 48, 48, 31, 31, 31, 31,
        31, 31, 34, 36, 38, 38, 38, 41, 45, 47, 47, 47, 31, 31, 31, 31, 31, 31,
        34, 37, 38, 38, 38, 41, 45, 47, 47, 47, 31, 31, 31, 31, 31, 31, 34, 37,
        38, 38, 38, 41, 45, 47, 47, 47, 31, 31, 31, 31, 31, 31, 34, 37, 38, 38,
        38, 41, 45, 47, 47, 47, 31, 31, 31, 32, 32, 32, 34, 37, 39, 39, 39, 41,
        45, 46, 46, 46, 30, 31, 31, 32, 32, 32, 34, 38, 39, 39, 39, 42, 44, 46,
        46, 46, 30, 31, 32, 32, 32, 32, 35, 38, 40, 40, 40, 42, 44, 46, 46, 46,
        30, 31, 32, 32, 32, 32, 35, 38, 40, 40, 40, 42, 44, 46, 46, 46, 30, 31,
        32, 32, 32, 32, 35, 38, 40, 40, 40, 42, 44, 46, 46, 46, 31, 32, 33, 33,
        33, 33, 36, 39, 41, 41, 41, 43, 45, 46, 46, 46, 33, 34, 34, 35, 35, 35,
        37, 40, 42, 42, 42, 44, 46, 47, 47, 47, 33, 34, 35, 36, 36, 36, 38, 41,
        43, 43, 43, 44, 46, 47, 47, 47, 33, 34, 35, 36, 36, 36, 38, 41, 43, 43,
        43, 44, 46, 47, 47, 47, 33, 34, 35, 36, 36, 36, 38, 41, 43, 43, 43, 44,
        46, 47, 47, 47, 35, 36, 37, 37, 37, 37, 40, 43, 44, 44, 44, 45, 46, 47,
        47, 47, 36, 37, 38, 39, 39, 39, 42, 44, 46, 46, 46, 47, 47, 47, 47, 47,
        37, 38, 39, 40, 40, 40, 43, 45, 47, 47, 47, 47, 47, 47, 47, 47, 37, 38,
        39, 40, 40, 40, 43, 45, 47, 47, 47, 47, 47, 47, 47, 47, 37, 38, 39, 40,
        40, 40, 43, 45, 47, 47, 47, 47, 47, 47, 47, 47, 39, 39, 40, 41, 41, 41,
        43, 46, 47, 47, 47, 48, 48, 48, 48, 48, 41, 41, 42, 42, 42, 42, 44, 46,
        47, 47, 47, 48, 49, 49, 49, 49, 42, 42, 42, 43, 43, 43, 44, 46, 47, 47,
        47, 48, 49, 50, 50, 50, 42, 42, 42, 43, 43, 43, 44, 46, 47, 47, 47, 48,
        49, 50, 50, 50, 42, 42, 42, 43, 43, 43, 44, 46, 47, 47, 47, 48, 49, 50,
        50, 50, 44, 44, 44, 44, 44, 44, 45, 47, 47, 47, 47, 49, 50, 51, 51, 51,
        47, 46, 46, 46, 46, 46, 46, 47, 48, 48, 48, 49, 51, 52, 52, 52, 49, 48,
        47, 46, 46, 46, 47, 48, 48, 48, 48, 50, 52, 53, 53, 53, 49, 48, 47, 46,
        46, 46, 47, 48, 48, 48, 48, 50, 52, 53, 53, 53, 49, 48, 47, 46, 46, 46,
        47, 48, 48, 48, 48, 50, 52, 53, 53, 53, 49, 48, 47, 46, 46, 46, 47, 47,
        47, 47, 47, 49, 52, 53, 53, 53,
        /* Size 32x16 */
        32, 31, 31, 31, 31, 31, 31, 30, 30, 30, 30, 31, 33, 33, 33, 33, 35, 36,
        37, 37, 37, 39, 41, 42, 42, 42, 44, 47, 49, 49, 49, 49, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 32, 34, 34, 34, 34, 36, 37, 38, 38, 38, 39,
        41, 42, 42, 42, 44, 46, 48, 48, 48, 48, 31, 31, 31, 31, 31, 31, 31, 31,
        32, 32, 32, 33, 34, 35, 35, 35, 37, 38, 39, 39, 39, 40, 42, 42, 42, 42,
        44, 46, 47, 47, 47, 47, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 33,
        35, 36, 36, 36, 37, 39, 40, 40, 40, 41, 42, 43, 43, 43, 44, 46, 46, 46,
        46, 46, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 33, 35, 36, 36, 36,
        37, 39, 40, 40, 40, 41, 42, 43, 43, 43, 44, 46, 46, 46, 46, 46, 31, 31,
        31, 31, 31, 31, 32, 32, 32, 32, 32, 33, 35, 36, 36, 36, 37, 39, 40, 40,
        40, 41, 42, 43, 43, 43, 44, 46, 46, 46, 46, 46, 33, 33, 34, 34, 34, 34,
        34, 34, 35, 35, 35, 36, 37, 38, 38, 38, 40, 42, 43, 43, 43, 43, 44, 44,
        44, 44, 45, 46, 47, 47, 47, 47, 35, 36, 36, 37, 37, 37, 37, 38, 38, 38,
        38, 39, 40, 41, 41, 41, 43, 44, 45, 45, 45, 46, 46, 46, 46, 46, 47, 47,
        48, 48, 48, 47, 37, 37, 38, 38, 38, 38, 39, 39, 40, 40, 40, 41, 42, 43,
        43, 43, 44, 46, 47, 47, 47, 47, 47, 47, 47, 47, 47, 48, 48, 48, 48, 47,
        37, 37, 38, 38, 38, 38, 39, 39, 40, 40, 40, 41, 42, 43, 43, 43, 44, 46,
        47, 47, 47, 47, 47, 47, 47, 47, 47, 48, 48, 48, 48, 47, 37, 37, 38, 38,
        38, 38, 39, 39, 40, 40, 40, 41, 42, 43, 43, 43, 44, 46, 47, 47, 47, 47,
        47, 47, 47, 47, 47, 48, 48, 48, 48, 47, 40, 41, 41, 41, 41, 41, 41, 42,
        42, 42, 42, 43, 44, 44, 44, 44, 45, 47, 47, 47, 47, 48, 48, 48, 48, 48,
        49, 49, 50, 50, 50, 49, 45, 45, 45, 45, 45, 45, 45, 44, 44, 44, 44, 45,
        46, 46, 46, 46, 46, 47, 47, 47, 47, 48, 49, 49, 49, 49, 50, 51, 52, 52,
        52, 52, 48, 48, 47, 47, 47, 47, 46, 46, 46, 46, 46, 46, 47, 47, 47, 47,
        47, 47, 47, 47, 47, 48, 49, 50, 50, 50, 51, 52, 53, 53, 53, 53, 48, 48,
        47, 47, 47, 47, 46, 46, 46, 46, 46, 46, 47, 47, 47, 47, 47, 47, 47, 47,
        47, 48, 49, 50, 50, 50, 51, 52, 53, 53, 53, 53, 48, 48, 47, 47, 47, 47,
        46, 46, 46, 46, 46, 46, 47, 47, 47, 47, 47, 47, 47, 47, 47, 48, 49, 50,
        50, 50, 51, 52, 53, 53, 53, 53 },
  },
  {
      { /* Luma */
        /* Size 4x4 */
        31, 32, 32, 32, 32, 32, 32, 33, 32, 32, 33, 34, 32, 33, 34, 35,
        /* Size 8x8 */
        31, 31, 31, 31, 32, 32, 32, 33, 31, 32, 32, 32, 32, 32, 32, 33, 31, 32,
        32, 32, 32, 32, 32, 33, 31, 32, 32, 32, 32, 32, 32, 33, 32, 32, 32, 32,
        33, 33, 34, 35, 32, 32, 32, 32, 33, 34, 34, 35, 32, 32, 32, 32, 34, 34,
        35, 36, 33, 33, 33, 33, 35, 35, 36, 38,
        /* Size 16x16 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 34, 31, 31,
        31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 33, 34, 31, 31, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 34, 31, 31, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 33, 34, 31, 31, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 33, 34, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 33, 33, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 33, 33, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33,
        33, 34, 31, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 33, 34, 35,
        31, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 34, 34, 34, 35, 31, 32,
        32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 34, 34, 34, 35, 32, 32, 32, 32,
        32, 32, 32, 33, 33, 33, 33, 34, 35, 35, 35, 36, 32, 32, 32, 32, 32, 32,
        32, 33, 33, 34, 34, 35, 35, 35, 36, 37, 32, 32, 32, 32, 32, 32, 32, 33,
        33, 34, 34, 35, 35, 35, 36, 37, 32, 33, 33, 33, 33, 33, 33, 33, 34, 34,
        34, 35, 36, 36, 36, 38, 34, 34, 34, 34, 34, 33, 33, 34, 35, 35, 35, 36,
        37, 37, 38, 39,
        /* Size 32x32 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 33, 34, 34, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 33, 34, 34, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 33, 33, 34, 34, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33,
        34, 34, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 34, 34, 31, 31,
        31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 34, 34, 31, 31, 31, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 33, 33, 34, 34, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        33, 33, 34, 34, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 34, 34,
        31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 31, 31, 31, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 31, 31, 31, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 33, 33, 33, 33, 33, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33,
        33, 33, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 31, 31,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 33, 33, 33, 33, 33, 33, 33, 33, 33, 34, 34, 31, 31, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 33, 33, 33,
        33, 33, 33, 33, 34, 34, 34, 34, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 34,
        34, 34, 35, 35, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 33, 33, 33, 33, 33, 33, 33, 33, 34, 34, 34, 34, 34, 34, 35, 35, 35,
        31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33,
        33, 33, 33, 33, 33, 34, 34, 34, 34, 34, 34, 35, 35, 35, 31, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 33, 33,
        33, 34, 34, 34, 34, 34, 34, 35, 35, 35, 31, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 33, 33, 33, 34, 34, 34,
        34, 34, 34, 35, 35, 35, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 33, 33, 33, 33, 33, 33, 33, 34, 34, 34, 34, 34, 34, 34, 35, 35,
        35, 35, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33,
        33, 33, 33, 33, 33, 34, 34, 34, 35, 35, 35, 35, 35, 35, 36, 36, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 34, 34, 34,
        34, 34, 34, 35, 35, 35, 35, 35, 35, 36, 36, 36, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 34, 34, 34, 34, 34, 35, 35,
        35, 35, 35, 35, 36, 36, 37, 37, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 33, 33, 33, 34, 34, 34, 34, 34, 35, 35, 35, 35, 35, 35,
        36, 36, 37, 37, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        33, 33, 33, 34, 34, 34, 34, 34, 35, 35, 35, 35, 35, 35, 36, 36, 37, 37,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 33, 34, 34,
        34, 34, 34, 34, 35, 35, 35, 35, 35, 35, 36, 36, 37, 37, 32, 32, 33, 33,
        33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 34, 34, 34, 34, 34, 34, 35,
        35, 35, 36, 36, 36, 36, 36, 37, 38, 38, 33, 33, 33, 33, 33, 33, 33, 33,
        33, 33, 33, 33, 33, 33, 33, 34, 34, 35, 35, 35, 35, 35, 35, 36, 36, 36,
        36, 36, 37, 38, 38, 38, 34, 34, 34, 34, 34, 34, 34, 34, 34, 33, 33, 33,
        33, 33, 34, 34, 35, 35, 35, 35, 35, 35, 36, 36, 37, 37, 37, 37, 38, 38,
        39, 39, 34, 34, 34, 34, 34, 34, 34, 34, 34, 33, 33, 33, 33, 33, 34, 34,
        35, 35, 35, 35, 35, 35, 36, 36, 37, 37, 37, 37, 38, 38, 39, 39,
        /* Size 4x8 */
        31, 31, 32, 32, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 32, 32,
        33, 34, 32, 32, 34, 34, 32, 33, 34, 35, 33, 33, 35, 36,
        /* Size 8x4 */
        31, 31, 32, 32, 32, 32, 32, 33, 31, 32, 32, 32, 32, 32, 33, 33, 32, 32,
        32, 32, 33, 34, 34, 35, 32, 32, 32, 33, 34, 34, 35, 36,
        /* Size 8x16 */
        32, 31, 31, 31, 31, 32, 32, 32, 31, 31, 32, 32, 32, 32, 32, 33, 31, 32,
        32, 32, 32, 32, 32, 33, 31, 32, 32, 32, 32, 32, 32, 33, 31, 32, 32, 32,
        32, 32, 32, 33, 31, 32, 32, 32, 32, 33, 33, 33, 31, 32, 32, 32, 32, 33,
        33, 33, 31, 32, 32, 32, 32, 33, 33, 33, 31, 32, 32, 32, 33, 34, 34, 34,
        32, 32, 32, 32, 33, 34, 34, 34, 32, 32, 32, 32, 33, 34, 34, 34, 32, 32,
        32, 32, 33, 35, 35, 35, 32, 32, 33, 33, 34, 35, 35, 36, 32, 32, 33, 33,
        34, 35, 35, 36, 32, 33, 33, 33, 34, 36, 36, 36, 34, 34, 34, 34, 35, 37,
        37, 38,
        /* Size 16x8 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 34, 31, 31,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 34, 31, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 34, 31, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 33, 33, 33, 34, 31, 32, 32, 32, 32, 32, 32, 32,
        33, 33, 33, 33, 34, 34, 34, 35, 32, 32, 32, 32, 32, 33, 33, 33, 34, 34,
        34, 35, 35, 35, 36, 37, 32, 32, 32, 32, 32, 33, 33, 33, 34, 34, 34, 35,
        35, 35, 36, 37, 32, 33, 33, 33, 33, 33, 33, 33, 34, 34, 34, 35, 36, 36,
        36, 38,
        /* Size 16x32 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 34, 31, 31,
        31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 33, 34, 31, 31, 31, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 34, 31, 31, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 33, 34, 31, 31, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 33, 34, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 33, 34, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 33, 34, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        33, 34, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 34,
        31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 31, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 33, 31, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 33, 31, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 33, 33, 33, 33, 33, 33, 31, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 33, 33, 33, 33, 33, 33, 31, 32, 32, 32, 32, 32, 32, 32, 32, 33,
        33, 33, 33, 33, 33, 34, 31, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33,
        33, 33, 34, 34, 31, 32, 32, 32, 32, 32, 32, 32, 33, 33, 34, 34, 34, 34,
        34, 35, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 34, 34, 34, 34, 34, 35,
        32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 34, 34, 34, 34, 34, 35, 32, 32,
        32, 32, 32, 32, 32, 33, 33, 33, 34, 34, 34, 34, 34, 35, 32, 32, 32, 32,
        32, 32, 32, 33, 33, 33, 34, 34, 34, 34, 34, 35, 32, 32, 32, 32, 32, 32,
        32, 33, 33, 34, 34, 34, 34, 34, 35, 35, 32, 32, 32, 32, 32, 32, 32, 33,
        33, 34, 35, 35, 35, 35, 35, 36, 32, 32, 32, 32, 33, 33, 33, 33, 33, 34,
        35, 35, 35, 35, 36, 36, 32, 32, 32, 32, 33, 33, 33, 33, 34, 34, 35, 35,
        35, 35, 36, 37, 32, 32, 32, 32, 33, 33, 33, 33, 34, 34, 35, 35, 35, 35,
        36, 37, 32, 32, 32, 32, 33, 33, 33, 33, 34, 34, 35, 35, 35, 35, 36, 37,
        32, 32, 32, 33, 33, 33, 33, 33, 34, 34, 35, 35, 35, 35, 36, 37, 32, 33,
        33, 33, 33, 33, 33, 33, 34, 35, 36, 36, 36, 36, 36, 38, 33, 33, 33, 33,
        33, 33, 33, 34, 34, 35, 36, 36, 36, 36, 37, 38, 34, 34, 34, 34, 34, 34,
        34, 34, 35, 36, 37, 37, 37, 37, 38, 39, 34, 34, 34, 34, 34, 34, 34, 34,
        35, 36, 37, 37, 37, 37, 38, 39,
        /* Size 32x16 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 34, 34, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 33, 33, 34, 34, 31, 31, 31, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 33, 33, 34, 34, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33,
        34, 34, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 33, 33, 34, 34, 31, 31,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 33, 33, 33, 33, 33, 33, 33, 34, 34, 31, 31, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33,
        33, 33, 33, 33, 33, 33, 34, 34, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33,
        33, 34, 34, 34, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 33, 33, 33, 33, 33, 33, 33, 33, 33, 34, 34, 34, 34, 34, 34, 35, 35,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33,
        33, 33, 33, 34, 34, 34, 34, 34, 34, 34, 35, 35, 36, 36, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 33, 34, 34, 34, 34, 34, 34,
        35, 35, 35, 35, 35, 35, 36, 36, 37, 37, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 33, 33, 33, 33, 33, 33, 34, 34, 34, 34, 34, 34, 35, 35, 35, 35,
        35, 35, 36, 36, 37, 37, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33,
        33, 33, 33, 33, 34, 34, 34, 34, 34, 34, 35, 35, 35, 35, 35, 35, 36, 36,
        37, 37, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 33,
        34, 34, 34, 34, 34, 34, 35, 35, 35, 35, 35, 35, 36, 36, 37, 37, 32, 33,
        33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 34, 34, 34, 34, 34,
        34, 35, 35, 36, 36, 36, 36, 36, 36, 37, 38, 38, 34, 34, 34, 34, 34, 34,
        34, 34, 34, 33, 33, 33, 33, 33, 34, 34, 35, 35, 35, 35, 35, 35, 36, 36,
        37, 37, 37, 37, 38, 38, 39, 39 },
      { /* Chroma */
        /* Size 4x4 */
        31, 31, 34, 38, 31, 32, 35, 40, 34, 35, 39, 43, 38, 40, 43, 47,
        /* Size 8x8 */
        31, 31, 31, 30, 34, 35, 37, 40, 31, 31, 31, 31, 34, 35, 38, 41, 31, 31,
        31, 31, 35, 36, 39, 41, 30, 31, 31, 32, 35, 36, 40, 42, 34, 34, 35, 35,
        39, 40, 43, 44, 35, 35, 36, 36, 40, 41, 44, 45, 37, 38, 39, 40, 43, 44,
        47, 47, 40, 41, 41, 42, 44, 45, 47, 48,
        /* Size 16x16 */
        32, 31, 31, 31, 31, 30, 30, 31, 33, 33, 33, 35, 36, 36, 38, 41, 31, 31,
        31, 31, 31, 31, 31, 31, 33, 34, 34, 36, 37, 37, 39, 42, 31, 31, 31, 31,
        31, 31, 31, 32, 34, 34, 34, 37, 38, 38, 40, 42, 31, 31, 31, 31, 31, 31,
        31, 32, 34, 34, 34, 37, 38, 38, 40, 42, 31, 31, 31, 31, 31, 31, 31, 32,
        34, 35, 35, 37, 39, 39, 40, 42, 30, 31, 31, 31, 31, 32, 32, 32, 34, 35,
        35, 38, 40, 40, 41, 42, 30, 31, 31, 31, 31, 32, 32, 32, 34, 35, 35, 38,
        40, 40, 41, 42, 31, 31, 32, 32, 32, 32, 32, 33, 35, 36, 36, 38, 40, 40,
        41, 43, 33, 33, 34, 34, 34, 34, 34, 35, 37, 38, 38, 41, 42, 42, 43, 44,
        33, 34, 34, 34, 35, 35, 35, 36, 38, 39, 39, 41, 43, 43, 44, 45, 33, 34,
        34, 34, 35, 35, 35, 36, 38, 39, 39, 41, 43, 43, 44, 45, 35, 36, 37, 37,
        37, 38, 38, 38, 41, 41, 41, 44, 46, 46, 46, 46, 36, 37, 38, 38, 39, 40,
        40, 40, 42, 43, 43, 46, 47, 47, 47, 47, 36, 37, 38, 38, 39, 40, 40, 40,
        42, 43, 43, 46, 47, 47, 47, 47, 38, 39, 40, 40, 40, 41, 41, 41, 43, 44,
        44, 46, 47, 47, 47, 48, 41, 42, 42, 42, 42, 42, 42, 43, 44, 45, 45, 46,
        47, 47, 48, 48,
        /* Size 32x32 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 30, 30, 30, 30, 30, 31, 32, 33, 33,
        33, 33, 33, 34, 35, 36, 36, 36, 36, 37, 38, 40, 41, 41, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 30, 30, 30, 30, 31, 32, 33, 34, 34, 34, 34, 35,
        36, 37, 37, 37, 37, 37, 39, 40, 42, 42, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 32, 33, 34, 34, 34, 34, 35, 36, 37, 37, 37,
        37, 38, 39, 40, 42, 42, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 32, 32, 34, 34, 34, 34, 34, 35, 36, 38, 38, 38, 38, 38, 40, 41,
        42, 42, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 33,
        34, 34, 34, 34, 34, 35, 37, 38, 38, 38, 38, 39, 40, 41, 42, 42, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 33, 34, 34, 34, 34,
        34, 35, 37, 38, 38, 38, 38, 39, 40, 41, 42, 42, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 32, 33, 34, 34, 34, 34, 34, 35, 37, 38,
        38, 38, 38, 39, 40, 41, 42, 42, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 32, 33, 34, 34, 34, 34, 34, 36, 37, 38, 38, 38, 38, 39,
        40, 41, 42, 42, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        32, 33, 34, 35, 35, 35, 35, 36, 37, 38, 39, 39, 39, 39, 40, 41, 42, 42,
        30, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 33, 34, 35,
        35, 35, 35, 36, 37, 39, 39, 39, 39, 40, 40, 41, 42, 42, 30, 30, 31, 31,
        31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 33, 34, 35, 35, 35, 35, 36,
        38, 39, 40, 40, 40, 40, 41, 42, 42, 42, 30, 30, 31, 31, 31, 31, 31, 31,
        31, 31, 32, 32, 32, 32, 32, 33, 34, 35, 35, 35, 35, 36, 38, 39, 40, 40,
        40, 40, 41, 42, 42, 42, 30, 30, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32,
        32, 32, 32, 33, 34, 35, 35, 35, 35, 36, 38, 39, 40, 40, 40, 40, 41, 42,
        42, 42, 30, 30, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 33,
        34, 35, 35, 35, 35, 36, 38, 39, 40, 40, 40, 40, 41, 42, 42, 42, 31, 31,
        31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 34, 35, 36, 36, 36,
        36, 37, 38, 40, 40, 40, 40, 41, 41, 42, 43, 43, 32, 32, 32, 32, 33, 33,
        33, 33, 33, 33, 33, 33, 33, 33, 34, 35, 36, 37, 37, 37, 37, 38, 39, 41,
        41, 41, 41, 42, 42, 43, 43, 43, 33, 33, 33, 34, 34, 34, 34, 34, 34, 34,
        34, 34, 34, 34, 35, 36, 37, 38, 38, 38, 38, 39, 41, 42, 42, 42, 42, 43,
        43, 44, 44, 44, 33, 34, 34, 34, 34, 34, 34, 34, 35, 35, 35, 35, 35, 35,
        36, 37, 38, 39, 39, 39, 39, 40, 41, 43, 43, 43, 43, 43, 44, 44, 45, 45,
        33, 34, 34, 34, 34, 34, 34, 34, 35, 35, 35, 35, 35, 35, 36, 37, 38, 39,
        39, 39, 39, 40, 41, 43, 43, 43, 43, 43, 44, 44, 45, 45, 33, 34, 34, 34,
        34, 34, 34, 34, 35, 35, 35, 35, 35, 35, 36, 37, 38, 39, 39, 39, 39, 40,
        41, 43, 43, 43, 43, 43, 44, 44, 45, 45, 33, 34, 34, 34, 34, 34, 34, 34,
        35, 35, 35, 35, 35, 35, 36, 37, 38, 39, 39, 39, 39, 40, 41, 43, 43, 43,
        43, 43, 44, 44, 45, 45, 34, 35, 35, 35, 35, 35, 35, 36, 36, 36, 36, 36,
        36, 36, 37, 38, 39, 40, 40, 40, 40, 41, 42, 44, 44, 44, 44, 44, 45, 45,
        45, 45, 35, 36, 36, 36, 37, 37, 37, 37, 37, 37, 38, 38, 38, 38, 38, 39,
        41, 41, 41, 41, 41, 42, 44, 45, 46, 46, 46, 46, 46, 46, 46, 46, 36, 37,
        37, 38, 38, 38, 38, 38, 38, 39, 39, 39, 39, 39, 40, 41, 42, 43, 43, 43,
        43, 44, 45, 46, 47, 47, 47, 47, 47, 47, 47, 47, 36, 37, 37, 38, 38, 38,
        38, 38, 39, 39, 40, 40, 40, 40, 40, 41, 42, 43, 43, 43, 43, 44, 46, 47,
        47, 47, 47, 47, 47, 47, 47, 47, 36, 37, 37, 38, 38, 38, 38, 38, 39, 39,
        40, 40, 40, 40, 40, 41, 42, 43, 43, 43, 43, 44, 46, 47, 47, 47, 47, 47,
        47, 47, 47, 47, 36, 37, 37, 38, 38, 38, 38, 38, 39, 39, 40, 40, 40, 40,
        40, 41, 42, 43, 43, 43, 43, 44, 46, 47, 47, 47, 47, 47, 47, 47, 47, 47,
        37, 37, 38, 38, 39, 39, 39, 39, 39, 40, 40, 40, 40, 40, 41, 42, 43, 43,
        43, 43, 43, 44, 46, 47, 47, 47, 47, 47, 47, 47, 47, 47, 38, 39, 39, 40,
        40, 40, 40, 40, 40, 40, 41, 41, 41, 41, 41, 42, 43, 44, 44, 44, 44, 45,
        46, 47, 47, 47, 47, 47, 47, 48, 48, 48, 40, 40, 40, 41, 41, 41, 41, 41,
        41, 41, 42, 42, 42, 42, 42, 43, 44, 44, 44, 44, 44, 45, 46, 47, 47, 47,
        47, 47, 48, 48, 48, 48, 41, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42,
        42, 42, 43, 43, 44, 45, 45, 45, 45, 45, 46, 47, 47, 47, 47, 47, 48, 48,
        48, 48, 41, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 43, 43,
        44, 45, 45, 45, 45, 45, 46, 47, 47, 47, 47, 47, 48, 48, 48, 48,
        /* Size 4x8 */
        31, 31, 35, 37, 31, 31, 36, 38, 31, 32, 37, 39, 31, 32, 37, 40, 34, 36,
        40, 43, 35, 37, 42, 44, 38, 40, 45, 47, 41, 42, 45, 47,
        /* Size 8x4 */
        31, 31, 31, 31, 34, 35, 38, 41, 31, 31, 32, 32, 36, 37, 40, 42, 35, 36,
        37, 37, 40, 42, 45, 45, 37, 38, 39, 40, 43, 44, 47, 47,
        /* Size 8x16 */
        32, 31, 31, 31, 33, 37, 37, 38, 31, 31, 31, 31, 33, 38, 38, 39, 31, 31,
        31, 31, 34, 38, 38, 40, 31, 31, 31, 31, 34, 38, 38, 40, 31, 31, 32, 32,
        34, 39, 39, 40, 30, 31, 32, 32, 35, 40, 40, 41, 30, 31, 32, 32, 35, 40,
        40, 41, 31, 32, 33, 33, 35, 40, 40, 41, 33, 34, 35, 35, 37, 42, 42, 43,
        33, 35, 36, 36, 38, 43, 43, 44, 33, 35, 36, 36, 38, 43, 43, 44, 35, 37,
        38, 38, 41, 45, 45, 46, 37, 39, 40, 40, 43, 47, 47, 47, 37, 39, 40, 40,
        43, 47, 47, 47, 39, 40, 41, 41, 43, 47, 47, 47, 42, 42, 43, 43, 44, 47,
        47, 48,
        /* Size 16x8 */
        32, 31, 31, 31, 31, 30, 30, 31, 33, 33, 33, 35, 37, 37, 39, 42, 31, 31,
        31, 31, 31, 31, 31, 32, 34, 35, 35, 37, 39, 39, 40, 42, 31, 31, 31, 31,
        32, 32, 32, 33, 35, 36, 36, 38, 40, 40, 41, 43, 31, 31, 31, 31, 32, 32,
        32, 33, 35, 36, 36, 38, 40, 40, 41, 43, 33, 33, 34, 34, 34, 35, 35, 35,
        37, 38, 38, 41, 43, 43, 43, 44, 37, 38, 38, 38, 39, 40, 40, 40, 42, 43,
        43, 45, 47, 47, 47, 47, 37, 38, 38, 38, 39, 40, 40, 40, 42, 43, 43, 45,
        47, 47, 47, 47, 38, 39, 40, 40, 40, 41, 41, 41, 43, 44, 44, 46, 47, 47,
        47, 48,
        /* Size 16x32 */
        32, 31, 31, 31, 31, 31, 31, 31, 33, 35, 37, 37, 37, 37, 38, 42, 31, 31,
        31, 31, 31, 31, 31, 31, 33, 35, 37, 37, 37, 37, 39, 42, 31, 31, 31, 31,
        31, 31, 31, 32, 33, 35, 38, 38, 38, 38, 39, 42, 31, 31, 31, 31, 31, 31,
        31, 32, 34, 36, 38, 38, 38, 38, 40, 42, 31, 31, 31, 31, 31, 31, 31, 32,
        34, 36, 38, 38, 38, 38, 40, 42, 31, 31, 31, 31, 31, 31, 31, 32, 34, 36,
        38, 38, 38, 38, 40, 42, 31, 31, 31, 31, 31, 31, 31, 32, 34, 36, 38, 38,
        38, 38, 40, 42, 31, 31, 31, 31, 31, 31, 31, 32, 34, 36, 38, 38, 38, 38,
        40, 42, 31, 31, 31, 31, 32, 32, 32, 32, 34, 36, 39, 39, 39, 39, 40, 42,
        30, 31, 31, 32, 32, 32, 32, 32, 34, 37, 39, 39, 39, 39, 40, 42, 30, 31,
        31, 32, 32, 32, 32, 33, 35, 37, 40, 40, 40, 40, 41, 42, 30, 31, 31, 32,
        32, 32, 32, 33, 35, 37, 40, 40, 40, 40, 41, 42, 30, 31, 31, 32, 32, 32,
        32, 33, 35, 37, 40, 40, 40, 40, 41, 42, 30, 31, 31, 32, 32, 32, 32, 33,
        35, 37, 40, 40, 40, 40, 41, 42, 31, 31, 32, 32, 33, 33, 33, 33, 35, 38,
        40, 40, 40, 40, 41, 43, 32, 32, 33, 33, 34, 34, 34, 34, 36, 39, 41, 41,
        41, 41, 42, 44, 33, 33, 34, 35, 35, 35, 35, 35, 37, 40, 42, 42, 42, 42,
        43, 44, 33, 34, 35, 35, 36, 36, 36, 36, 38, 40, 43, 43, 43, 43, 44, 45,
        33, 34, 35, 35, 36, 36, 36, 36, 38, 40, 43, 43, 43, 43, 44, 45, 33, 34,
        35, 35, 36, 36, 36, 36, 38, 40, 43, 43, 43, 43, 44, 45, 33, 34, 35, 35,
        36, 36, 36, 36, 38, 40, 43, 43, 43, 43, 44, 45, 34, 35, 36, 37, 37, 37,
        37, 37, 39, 42, 44, 44, 44, 44, 45, 45, 35, 36, 37, 38, 38, 38, 38, 39,
        41, 43, 45, 45, 45, 45, 46, 46, 36, 37, 38, 39, 39, 39, 39, 40, 42, 44,
        47, 47, 47, 47, 47, 47, 37, 38, 39, 40, 40, 40, 40, 41, 43, 45, 47, 47,
        47, 47, 47, 47, 37, 38, 39, 40, 40, 40, 40, 41, 43, 45, 47, 47, 47, 47,
        47, 47, 37, 38, 39, 40, 40, 40, 40, 41, 43, 45, 47, 47, 47, 47, 47, 47,
        37, 38, 39, 40, 40, 40, 40, 41, 43, 45, 47, 47, 47, 47, 47, 47, 39, 39,
        40, 41, 41, 41, 41, 42, 43, 45, 47, 47, 47, 47, 47, 48, 40, 41, 41, 42,
        42, 42, 42, 42, 44, 45, 47, 47, 47, 47, 47, 48, 42, 42, 42, 43, 43, 43,
        43, 43, 44, 46, 47, 47, 47, 47, 48, 48, 42, 42, 42, 43, 43, 43, 43, 43,
        44, 46, 47, 47, 47, 47, 48, 48,
        /* Size 32x16 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 30, 30, 30, 30, 30, 31, 32, 33, 33,
        33, 33, 33, 34, 35, 36, 37, 37, 37, 37, 39, 40, 42, 42, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 33, 34, 34, 34, 34, 35,
        36, 37, 38, 38, 38, 38, 39, 41, 42, 42, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 32, 33, 34, 35, 35, 35, 35, 36, 37, 38, 39, 39,
        39, 39, 40, 41, 42, 42, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32,
        32, 32, 32, 33, 35, 35, 35, 35, 35, 37, 38, 39, 40, 40, 40, 40, 41, 42,
        43, 43, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 33, 34,
        35, 36, 36, 36, 36, 37, 38, 39, 40, 40, 40, 40, 41, 42, 43, 43, 31, 31,
        31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 33, 34, 35, 36, 36, 36,
        36, 37, 38, 39, 40, 40, 40, 40, 41, 42, 43, 43, 31, 31, 31, 31, 31, 31,
        31, 31, 32, 32, 32, 32, 32, 32, 33, 34, 35, 36, 36, 36, 36, 37, 38, 39,
        40, 40, 40, 40, 41, 42, 43, 43, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32,
        33, 33, 33, 33, 33, 34, 35, 36, 36, 36, 36, 37, 39, 40, 41, 41, 41, 41,
        42, 42, 43, 43, 33, 33, 33, 34, 34, 34, 34, 34, 34, 34, 35, 35, 35, 35,
        35, 36, 37, 38, 38, 38, 38, 39, 41, 42, 43, 43, 43, 43, 43, 44, 44, 44,
        35, 35, 35, 36, 36, 36, 36, 36, 36, 37, 37, 37, 37, 37, 38, 39, 40, 40,
        40, 40, 40, 42, 43, 44, 45, 45, 45, 45, 45, 45, 46, 46, 37, 37, 38, 38,
        38, 38, 38, 38, 39, 39, 40, 40, 40, 40, 40, 41, 42, 43, 43, 43, 43, 44,
        45, 47, 47, 47, 47, 47, 47, 47, 47, 47, 37, 37, 38, 38, 38, 38, 38, 38,
        39, 39, 40, 40, 40, 40, 40, 41, 42, 43, 43, 43, 43, 44, 45, 47, 47, 47,
        47, 47, 47, 47, 47, 47, 37, 37, 38, 38, 38, 38, 38, 38, 39, 39, 40, 40,
        40, 40, 40, 41, 42, 43, 43, 43, 43, 44, 45, 47, 47, 47, 47, 47, 47, 47,
        47, 47, 37, 37, 38, 38, 38, 38, 38, 38, 39, 39, 40, 40, 40, 40, 40, 41,
        42, 43, 43, 43, 43, 44, 45, 47, 47, 47, 47, 47, 47, 47, 47, 47, 38, 39,
        39, 40, 40, 40, 40, 40, 40, 40, 41, 41, 41, 41, 41, 42, 43, 44, 44, 44,
        44, 45, 46, 47, 47, 47, 47, 47, 47, 47, 48, 48, 42, 42, 42, 42, 42, 42,
        42, 42, 42, 42, 42, 42, 42, 42, 43, 44, 44, 45, 45, 45, 45, 45, 46, 47,
        47, 47, 47, 47, 48, 48, 48, 48 },
  },
  {
      { /* Luma */
        /* Size 4x4 */
        31, 31, 31, 32, 31, 32, 32, 32, 31, 32, 32, 32, 32, 32, 32, 33,
        /* Size 8x8 */
        31, 31, 31, 31, 31, 31, 32, 32, 31, 32, 32, 32, 32, 32, 32, 32, 31, 32,
        32, 32, 32, 32, 32, 32, 31, 32, 32, 32, 32, 32, 32, 32, 31, 32, 32, 32,
        32, 32, 32, 32, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        33, 33, 32, 32, 32, 32, 32, 32, 33, 33,
        /* Size 16x16 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 31, 31, 31, 31,
        31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 31, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 31, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 33, 33, 33, 33, 33, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 33, 33, 33, 33, 33, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33,
        33, 33, 33, 33,
        /* Size 32x32 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31,
        31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 31, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31,
        31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31,
        31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 33, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 33, 33, 33, 31, 31,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 33, 33, 33, 33, 33, 33, 33, 33, 33, 31, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33,
        33, 33, 33, 33, 33, 33, 33, 33, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 33,
        33, 33, 33, 33, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33,
        31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 31, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 31, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33,
        33, 33, 33, 33, 33, 33, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 33, 33, 33,
        33, 33, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33,
        /* Size 4x8 */
        31, 31, 31, 32, 31, 32, 32, 32, 31, 32, 32, 32, 31, 32, 32, 32, 31, 32,
        32, 32, 31, 32, 32, 33, 32, 32, 32, 33, 32, 32, 32, 33,
        /* Size 8x4 */
        31, 31, 31, 31, 31, 31, 32, 32, 31, 32, 32, 32, 32, 32, 32, 32, 31, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33,
        /* Size 8x16 */
        32, 31, 31, 31, 31, 31, 31, 32, 31, 31, 31, 31, 31, 31, 32, 32, 31, 31,
        32, 32, 32, 32, 32, 32, 31, 32, 32, 32, 32, 32, 32, 32, 31, 32, 32, 32,
        32, 32, 32, 32, 31, 32, 32, 32, 32, 32, 32, 32, 31, 32, 32, 32, 32, 32,
        32, 32, 31, 32, 32, 32, 32, 32, 32, 32, 31, 32, 32, 32, 32, 32, 32, 32,
        31, 32, 32, 32, 32, 32, 32, 32, 31, 32, 32, 32, 32, 32, 32, 32, 31, 32,
        32, 32, 32, 32, 33, 33, 31, 32, 32, 32, 32, 32, 33, 33, 32, 32, 32, 32,
        32, 32, 33, 34, 32, 32, 32, 32, 32, 32, 33, 34, 32, 32, 32, 32, 32, 32,
        33, 34,
        /* Size 16x8 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 31, 31,
        31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33,
        33, 33, 33, 33, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 34,
        34, 34,
        /* Size 16x32 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 31, 31, 31, 31, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 33, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 33, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33,
        31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 31, 31,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 31, 31, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 31, 31, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 31, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 33, 33, 33, 33, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 33, 33, 33, 33, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33,
        33, 33, 33, 34, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33,
        34, 34, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 34, 34,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 34, 34, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 34, 34, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 34, 34, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 33, 33, 33, 34, 34, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 33, 33, 33, 34, 34,
        /* Size 32x16 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 31, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31,
        31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33,
        33, 33, 33, 33, 33, 33, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 33, 33, 33,
        33, 33, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 33, 33, 33, 33, 34, 34, 34, 34, 34, 34, 34, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33, 33, 33, 33, 33, 33,
        34, 34, 34, 34, 34, 34, 34, 34 },
      { /* Chroma */
        /* Size 4x4 */
        31, 31, 31, 34, 31, 31, 31, 35, 31, 31, 32, 35, 34, 35, 35, 39,
        /* Size 8x8 */
        31, 31, 31, 31, 30, 31, 33, 33, 31, 31, 31, 31, 31, 32, 34, 34, 31, 31,
        31, 31, 31, 32, 34, 34, 31, 31, 31, 31, 31, 32, 35, 35, 30, 31, 31, 31,
        32, 32, 35, 35, 31, 32, 32, 32, 32, 33, 36, 36, 33, 34, 34, 35, 35, 36,
        39, 39, 33, 34, 34, 35, 35, 36, 39, 39,
        /* Size 16x16 */
        32, 31, 31, 31, 31, 31, 31, 30, 30, 30, 30, 31, 33, 33, 33, 33, 31, 31,
        31, 31, 31, 31, 31, 31, 30, 30, 30, 32, 33, 34, 34, 34, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 32, 33, 34, 34, 34, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 32, 34, 34, 34, 34, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 32, 34, 34, 34, 34, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 32, 34, 34, 34, 34, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 33,
        34, 35, 35, 35, 30, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 33, 34, 35,
        35, 35, 30, 30, 31, 31, 31, 31, 31, 31, 32, 32, 32, 33, 34, 35, 35, 35,
        30, 30, 31, 31, 31, 31, 31, 31, 32, 32, 32, 33, 34, 35, 35, 35, 30, 30,
        31, 31, 31, 31, 31, 31, 32, 32, 32, 33, 34, 35, 35, 35, 31, 32, 32, 32,
        32, 32, 33, 33, 33, 33, 33, 34, 36, 37, 37, 37, 33, 33, 33, 34, 34, 34,
        34, 34, 34, 34, 34, 36, 37, 38, 38, 38, 33, 34, 34, 34, 34, 34, 35, 35,
        35, 35, 35, 37, 38, 39, 39, 39, 33, 34, 34, 34, 34, 34, 35, 35, 35, 35,
        35, 37, 38, 39, 39, 39, 33, 34, 34, 34, 34, 34, 35, 35, 35, 35, 35, 37,
        38, 39, 39, 39,
        /* Size 32x32 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 30, 30, 30, 30, 30,
        30, 30, 30, 31, 31, 32, 33, 33, 33, 33, 33, 33, 33, 34, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 30, 30, 30, 30, 30, 30, 30, 31,
        31, 32, 33, 33, 33, 33, 33, 33, 33, 34, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 30, 30, 30, 30, 30, 30, 31, 32, 32, 33, 34,
        34, 34, 34, 34, 34, 34, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 33, 33, 34, 34, 34, 34, 34,
        34, 35, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 32, 33, 33, 34, 34, 34, 34, 34, 34, 35, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 32, 32, 33, 34, 34, 34, 34, 34, 34, 34, 35, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 33,
        34, 34, 34, 34, 34, 34, 34, 35, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 33, 34, 34, 34, 34,
        34, 34, 34, 35, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 32, 32, 33, 34, 34, 34, 34, 34, 34, 34, 35,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 32, 32, 33, 34, 34, 34, 34, 34, 34, 34, 35, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32,
        32, 33, 34, 34, 34, 34, 34, 34, 34, 35, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 33, 34, 35,
        35, 35, 35, 35, 35, 35, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 33, 33, 34, 35, 35, 35, 35, 35,
        35, 35, 30, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 32, 33, 33, 34, 35, 35, 35, 35, 35, 35, 36, 30, 30,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 32, 33, 34, 34, 35, 35, 35, 35, 35, 35, 36, 30, 30, 30, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 33, 34,
        34, 35, 35, 35, 35, 35, 35, 36, 30, 30, 30, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 33, 34, 34, 35, 35, 35,
        35, 35, 35, 36, 30, 30, 30, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 32, 32, 32, 32, 32, 32, 32, 33, 34, 34, 35, 35, 35, 35, 35, 35, 36,
        30, 30, 30, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32,
        32, 32, 32, 32, 33, 34, 34, 35, 35, 35, 35, 35, 35, 36, 30, 30, 30, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32,
        33, 34, 34, 35, 35, 35, 35, 35, 35, 36, 30, 30, 30, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 33, 34, 34, 35,
        35, 35, 35, 35, 35, 36, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 34, 34, 35, 36, 36, 36, 36, 36,
        36, 37, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 33, 33,
        33, 33, 33, 33, 33, 34, 34, 35, 36, 37, 37, 37, 37, 37, 37, 37, 32, 32,
        32, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 34, 34, 34, 34, 34, 34,
        34, 34, 35, 36, 37, 37, 37, 37, 37, 37, 37, 38, 33, 33, 33, 33, 33, 34,
        34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 34, 35, 36, 37,
        37, 38, 38, 38, 38, 38, 38, 39, 33, 33, 34, 34, 34, 34, 34, 34, 34, 34,
        34, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 36, 37, 37, 38, 39, 39, 39,
        39, 39, 39, 40, 33, 33, 34, 34, 34, 34, 34, 34, 34, 34, 34, 35, 35, 35,
        35, 35, 35, 35, 35, 35, 35, 36, 37, 37, 38, 39, 39, 39, 39, 39, 39, 40,
        33, 33, 34, 34, 34, 34, 34, 34, 34, 34, 34, 35, 35, 35, 35, 35, 35, 35,
        35, 35, 35, 36, 37, 37, 38, 39, 39, 39, 39, 39, 39, 40, 33, 33, 34, 34,
        34, 34, 34, 34, 34, 34, 34, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 36,
        37, 37, 38, 39, 39, 39, 39, 39, 39, 40, 33, 33, 34, 34, 34, 34, 34, 34,
        34, 34, 34, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 36, 37, 37, 38, 39,
        39, 39, 39, 39, 39, 40, 33, 33, 34, 34, 34, 34, 34, 34, 34, 34, 34, 35,
        35, 35, 35, 35, 35, 35, 35, 35, 35, 36, 37, 37, 38, 39, 39, 39, 39, 39,
        39, 40, 34, 34, 34, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 36, 36, 36,
        36, 36, 36, 36, 36, 37, 37, 38, 39, 40, 40, 40, 40, 40, 40, 40,
        /* Size 4x8 */
        31, 31, 31, 34, 31, 31, 31, 35, 31, 31, 31, 35, 31, 32, 32, 36, 31, 32,
        32, 36, 31, 33, 33, 37, 34, 36, 36, 40, 34, 36, 36, 40,
        /* Size 8x4 */
        31, 31, 31, 31, 31, 31, 34, 34, 31, 31, 31, 32, 32, 33, 36, 36, 31, 31,
        31, 32, 32, 33, 36, 36, 34, 35, 35, 36, 36, 37, 40, 40,
        /* Size 8x16 */
        32, 31, 31, 31, 31, 31, 33, 35, 31, 31, 31, 31, 31, 31, 33, 36, 31, 31,
        31, 31, 31, 31, 34, 36, 31, 31, 31, 31, 31, 31, 34, 37, 31, 31, 31, 31,
        31, 31, 34, 37, 31, 31, 31, 31, 31, 31, 34, 37, 31, 31, 31, 32, 32, 32,
        34, 37, 30, 31, 31, 32, 32, 32, 34, 38, 30, 31, 32, 32, 32, 32, 35, 38,
        30, 31, 32, 32, 32, 32, 35, 38, 30, 31, 32, 32, 32, 32, 35, 38, 31, 32,
        33, 33, 33, 33, 36, 39, 33, 34, 34, 35, 35, 35, 37, 40, 33, 34, 35, 36,
        36, 36, 38, 41, 33, 34, 35, 36, 36, 36, 38, 41, 33, 34, 35, 36, 36, 36,
        38, 41,
        /* Size 16x8 */
        32, 31, 31, 31, 31, 31, 31, 30, 30, 30, 30, 31, 33, 33, 33, 33, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 34, 34, 34, 34, 31, 31, 31, 31,
        31, 31, 31, 31, 32, 32, 32, 33, 34, 35, 35, 35, 31, 31, 31, 31, 31, 31,
        32, 32, 32, 32, 32, 33, 35, 36, 36, 36, 31, 31, 31, 31, 31, 31, 32, 32,
        32, 32, 32, 33, 35, 36, 36, 36, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32,
        32, 33, 35, 36, 36, 36, 33, 33, 34, 34, 34, 34, 34, 34, 35, 35, 35, 36,
        37, 38, 38, 38, 35, 36, 36, 37, 37, 37, 37, 38, 38, 38, 38, 39, 40, 41,
        41, 41,
        /* Size 16x32 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 33, 34, 35, 37, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 33, 34, 35, 37, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 32, 33, 34, 36, 37, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 32, 33, 35, 36, 38, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 32, 34, 35, 36, 38, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 33, 34, 35, 37, 38, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 33,
        34, 35, 37, 38, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 33, 34, 35,
        37, 38, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 33, 34, 35, 37, 38,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 33, 34, 35, 37, 38, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 33, 34, 35, 37, 38, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 33, 34, 35, 37, 38, 31, 31, 31, 31, 31, 32,
        32, 32, 32, 32, 32, 33, 34, 36, 37, 39, 31, 31, 31, 31, 31, 32, 32, 32,
        32, 32, 32, 33, 34, 36, 37, 39, 30, 31, 31, 31, 31, 32, 32, 32, 32, 32,
        32, 33, 34, 36, 38, 39, 30, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 33,
        35, 36, 38, 40, 30, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 33, 35, 36,
        38, 40, 30, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 33, 35, 36, 38, 40,
        30, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 33, 35, 36, 38, 40, 30, 31,
        31, 31, 32, 32, 32, 32, 32, 32, 32, 33, 35, 36, 38, 40, 30, 31, 31, 31,
        32, 32, 32, 32, 32, 32, 32, 33, 35, 36, 38, 40, 31, 31, 31, 32, 32, 33,
        33, 33, 33, 33, 33, 34, 35, 37, 38, 40, 31, 32, 32, 33, 33, 33, 33, 33,
        33, 33, 33, 35, 36, 37, 39, 41, 32, 32, 33, 33, 34, 34, 34, 34, 34, 34,
        34, 35, 37, 38, 40, 41, 33, 33, 34, 34, 34, 35, 35, 35, 35, 35, 35, 36,
        37, 39, 40, 42, 33, 34, 34, 35, 35, 36, 36, 36, 36, 36, 36, 37, 38, 40,
        41, 43, 33, 34, 34, 35, 35, 36, 36, 36, 36, 36, 36, 37, 38, 40, 41, 43,
        33, 34, 34, 35, 35, 36, 36, 36, 36, 36, 36, 37, 38, 40, 41, 43, 33, 34,
        34, 35, 35, 36, 36, 36, 36, 36, 36, 37, 38, 40, 41, 43, 33, 34, 34, 35,
        35, 36, 36, 36, 36, 36, 36, 37, 38, 40, 41, 43, 33, 34, 34, 35, 35, 36,
        36, 36, 36, 36, 36, 37, 38, 40, 41, 43, 34, 34, 35, 35, 36, 36, 36, 36,
        36, 36, 36, 38, 39, 40, 42, 44,
        /* Size 32x16 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 30, 30, 30, 30,
        30, 30, 30, 31, 31, 32, 33, 33, 33, 33, 33, 33, 33, 34, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        32, 32, 33, 34, 34, 34, 34, 34, 34, 34, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 33, 34, 34,
        34, 34, 34, 34, 34, 35, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 33, 33, 34, 35, 35, 35, 35, 35,
        35, 35, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32,
        32, 32, 32, 32, 32, 32, 33, 34, 34, 35, 35, 35, 35, 35, 35, 36, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 33, 33, 34, 35, 36, 36, 36, 36, 36, 36, 36, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 34,
        35, 36, 36, 36, 36, 36, 36, 36, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33, 33, 34, 35, 36, 36, 36,
        36, 36, 36, 36, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 33, 33, 34, 35, 36, 36, 36, 36, 36, 36, 36,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 33, 33, 34, 35, 36, 36, 36, 36, 36, 36, 36, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 33,
        33, 34, 35, 36, 36, 36, 36, 36, 36, 36, 32, 32, 32, 32, 32, 33, 33, 33,
        33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 34, 35, 35, 36, 37,
        37, 37, 37, 37, 37, 38, 33, 33, 33, 33, 34, 34, 34, 34, 34, 34, 34, 34,
        34, 34, 34, 35, 35, 35, 35, 35, 35, 35, 36, 37, 37, 38, 38, 38, 38, 38,
        38, 39, 34, 34, 34, 35, 35, 35, 35, 35, 35, 35, 35, 35, 36, 36, 36, 36,
        36, 36, 36, 36, 36, 37, 37, 38, 39, 40, 40, 40, 40, 40, 40, 40, 35, 35,
        36, 36, 36, 37, 37, 37, 37, 37, 37, 37, 37, 37, 38, 38, 38, 38, 38, 38,
        38, 38, 39, 40, 40, 41, 41, 41, 41, 41, 41, 42, 37, 37, 37, 38, 38, 38,
        38, 38, 38, 38, 38, 38, 39, 39, 39, 40, 40, 40, 40, 40, 40, 40, 41, 41,
        42, 43, 43, 43, 43, 43, 43, 44 },
  },
  {
      { /* Luma */
        /* Size 4x4 */
        31, 31, 31, 31, 31, 32, 32, 32, 31, 32, 32, 32, 31, 32, 32, 32,
        /* Size 8x8 */
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 32, 32, 32, 32, 32, 31, 31, 32, 32, 32, 32, 32, 32, 31, 31, 32, 32,
        32, 32, 32, 32, 31, 31, 32, 32, 32, 32, 32, 32, 31, 31, 32, 32, 32, 32,
        32, 32, 31, 31, 32, 32, 32, 32, 32, 32,
        /* Size 16x16 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 32, 32, 32, 32, 32, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31,
        31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32,
        /* Size 32x32 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32,
        32, 32, 32, 32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31,
        31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 31, 31,
        31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31,
        31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 31, 31, 31, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        /* Size 4x8 */
        31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 31, 32, 32, 32, 31, 32,
        32, 32, 31, 32, 32, 32, 31, 32, 32, 32, 31, 32, 32, 32,
        /* Size 8x4 */
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 31, 31,
        32, 32, 32, 32, 32, 32, 31, 31, 32, 32, 32, 32, 32, 32,
        /* Size 8x16 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 31, 31, 31, 32,
        32, 32, 32, 32, 31, 31, 32, 32, 32, 32, 32, 32, 31, 31, 32, 32, 32, 32,
        32, 32, 31, 31, 32, 32, 32, 32, 32, 32, 31, 31, 32, 32, 32, 32, 32, 32,
        31, 31, 32, 32, 32, 32, 32, 32, 31, 31, 32, 32, 32, 32, 32, 32, 31, 31,
        32, 32, 32, 32, 32, 32, 31, 31, 32, 32, 32, 32, 32, 32, 31, 31, 32, 32,
        32, 32, 32, 32, 31, 31, 32, 32, 32, 32, 32, 32, 31, 31, 32, 32, 32, 32,
        32, 32,
        /* Size 16x8 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32,
        /* Size 16x32 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32,
        32, 32, 32, 32, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31,
        31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31,
        31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31,
        31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32,
        /* Size 32x16 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32,
        32, 32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31,
        31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 31, 31,
        31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31,
        31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 31, 31, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31,
        31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 31, 31,
        32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 32, 32 },
      { /* Chroma */
        /* Size 4x4 */
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        /* Size 8x8 */
        31, 31, 31, 31, 31, 31, 31, 30, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 30, 31, 31, 31, 31, 31, 31, 31,
        /* Size 16x16 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 30, 30, 30, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 30, 30, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 30, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 30, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 30, 30, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 30, 30, 30, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 32,
        /* Size 32x32 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 30, 30, 30, 30, 30, 30, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 30, 30, 30, 30, 30, 30, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 30, 30, 30, 30, 30, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 30, 30,
        30, 30, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 30, 30, 30, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 30, 30, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        30, 30, 30, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 30, 30, 30, 30,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 30, 30, 30, 30, 30, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 30, 30, 30, 30, 30, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        32, 32, 30, 30, 30, 30, 30, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32,
        /* Size 4x8 */
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 30, 31, 32, 32,
        /* Size 8x4 */
        31, 31, 31, 31, 31, 31, 31, 30, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 32, 32, 31, 31, 31, 31, 31, 31, 32, 32,
        /* Size 8x16 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 31, 31, 31, 31,
        31, 32, 32, 32, 30, 31, 31, 31, 31, 32, 32, 32, 30, 31, 31, 31, 32, 32,
        32, 32,
        /* Size 16x8 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 30, 30, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 32, 32, 32, 32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        32, 32, 32, 32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32,
        32, 32,
        /* Size 16x32 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32,
        32, 32, 32, 32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32,
        32, 32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32,
        30, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 30, 31,
        31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 30, 30, 31, 31,
        31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 30, 30, 31, 31, 31, 31,
        31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 30, 30, 31, 31, 31, 31, 31, 31,
        32, 32, 32, 32, 32, 32, 32, 32,
        /* Size 32x16 */
        32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 30, 30, 30, 30, 30, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 30, 30, 30, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32,
        32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32,
        32, 32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 32, 32, 32, 32, 32, 32, 32, 32, 32, 31, 31, 31, 31, 31, 31,
        31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 32,
        32, 32, 32, 32, 32, 32, 32, 32 },
  },
}
</code></pre>

<div class="annex">

  <h2 class="no_count" id="annex-a-levels">Annex A: Levels</h2>

  <h3 class="no_toc no_count" id="overview">Overview</h3>

  <p>Levels specify restrictions on the capabilities needed to decode the bitstreams.</p>

  <p>There is only a single level currently defined in this Specification. The level
is called level 1.</p>

  <p>Level 1 limits the bitstream to a worst case of roughly a 1080P 60fps 20Mbps
stream by the following restrictions:</p>

  <ul>
    <li>
      <p>Width must be less than or equal to 1920.</p>
    </li>
    <li>
      <p>Height must be less than or equal to 1080.</p>
    </li>
    <li>
      <p>The number of frames per second must be less than or equal to 60 (this
includes both output frames and frames that are not output).</p>
    </li>
    <li>
      <p>The size in bits for an intra frame must be less than or equal
to 100,000,000 / 60.</p>
    </li>
    <li>
      <p>The size in bits for an inter frame must be less than or equal
to 50,000,000 / 60.</p>
    </li>
    <li>
      <p>The number of times the function read_bool is called for an intra frame
must be less than or equal to 2 * 100,000,000 / 60.</p>
    </li>
    <li>
      <p>The number of times the function read_bool is called for an inter frame must
be less than or equal to 2 * 50,000,000 / 60.</p>
    </li>
  </ul>

  <h2 class="no_count" id="annex-b-raw-bitstream-format">Annex B: Raw Bitstream Format</h2>

  <h3 class="no_count" id="overview-1">Overview</h3>

  <p>An AV1 bitstream consists of a number of OBUs that are normally held within
a container format alongside audio and timing information.</p>

  <p>This annex defines a simple method of packing OBUs into a raw bitstream format.</p>

  <h3 class="no_count" id="raw-bitstream-syntax">Raw Bitstream Syntax</h3>

  <pre class="syntax"><code>raw_bitstream( sz ) {
    while ( sz &gt; 0 ) {
        <b class="syntax-element">obu_size</b>                                                             le(4)
        open_bitstream_unit( obu_size )
        sz -= 4 + obu_size
    }
}
</code></pre>

  <h3 class="no_count" id="raw-bitstream-semantics">Raw Bitstream semantics</h3>

  <p><strong>sz</strong> specifies the number of bytes in the entire bitstream and is provided by
external means.</p>

  <p><strong>obu_size</strong> specifies the size in bytes of the next OBU.</p>

  <h2 class="no_count" id="annex-c-included-experiments">Annex C: Included Experiments</h2>

  <h3 class="no_count" id="overview-2">Overview</h3>

  <p>This is a temporary section that describes how the specification relates to the current code base.</p>

  <h3 id="included-experiments">Included Experiments</h3>

  <p>The specification has been updated to include the following list of adopted experiments:</p>

  <table class="table table-sm table-bordered">
    <thead>
      <tr>
        <th>Experiment</th>
        <th>Notes</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>ext_partition</td>
        <td> </td>
      </tr>
      <tr>
        <td>max_tile</td>
        <td>Bug 980 not yet fixed in code or spec</td>
      </tr>
      <tr>
        <td>new_multisymbol</td>
        <td> </td>
      </tr>
      <tr>
        <td>palette_delta_encoding</td>
        <td> </td>
      </tr>
      <tr>
        <td>HLS R19</td>
        <td> </td>
      </tr>
      <tr>
        <td>altref2</td>
        <td> </td>
      </tr>
      <tr>
        <td>cdef_singlepass</td>
        <td> </td>
      </tr>
      <tr>
        <td>cfl</td>
        <td>Bug 928 not yet fixed in code or spec</td>
      </tr>
      <tr>
        <td>chroma_sub8x8</td>
        <td> </td>
      </tr>
      <tr>
        <td>colorspace_headers</td>
        <td> </td>
      </tr>
      <tr>
        <td>compound_segment</td>
        <td>Bug 929 not yet fixed in code or spec</td>
      </tr>
      <tr>
        <td>dependent_horztiles</td>
        <td> </td>
      </tr>
      <tr>
        <td>ext_delta_q</td>
        <td> </td>
      </tr>
      <tr>
        <td>ext-comp-refs</td>
        <td> </td>
      </tr>
      <tr>
        <td>interintra</td>
        <td> </td>
      </tr>
      <tr>
        <td>loopfiltering_across_tiles</td>
        <td> </td>
      </tr>
      <tr>
        <td>mv_compress</td>
        <td> </td>
      </tr>
      <tr>
        <td>palette_throughput</td>
        <td> </td>
      </tr>
      <tr>
        <td>reference_buffer</td>
        <td> </td>
      </tr>
      <tr>
        <td>smooth_hv</td>
        <td> </td>
      </tr>
      <tr>
        <td>tempmv_signaling</td>
        <td> </td>
      </tr>
      <tr>
        <td>wedge</td>
        <td> </td>
      </tr>
      <tr>
        <td>frame_size</td>
        <td> </td>
      </tr>
      <tr>
        <td>parallel_deblocking</td>
        <td> </td>
      </tr>
      <tr>
        <td>tmv</td>
        <td> </td>
      </tr>
      <tr>
        <td>alt_intra</td>
        <td> </td>
      </tr>
      <tr>
        <td>aom_qm</td>
        <td> </td>
      </tr>
      <tr>
        <td>cb4x4</td>
        <td> </td>
      </tr>
      <tr>
        <td>cdef</td>
        <td> </td>
      </tr>
      <tr>
        <td>compound_round</td>
        <td> </td>
      </tr>
      <tr>
        <td>convolve_round</td>
        <td> </td>
      </tr>
      <tr>
        <td>daala_ec</td>
        <td> </td>
      </tr>
      <tr>
        <td>delta_q</td>
        <td> </td>
      </tr>
      <tr>
        <td>dual_filter</td>
        <td> </td>
      </tr>
      <tr>
        <td>ec_adapt</td>
        <td> </td>
      </tr>
      <tr>
        <td>ec_multisymbol</td>
        <td> </td>
      </tr>
      <tr>
        <td>ec_smallmul</td>
        <td> </td>
      </tr>
      <tr>
        <td>ext_inter</td>
        <td>Bug 857, 858, 951 not yet fixed in code or spec</td>
      </tr>
      <tr>
        <td>ext_refs</td>
        <td> </td>
      </tr>
      <tr>
        <td>ext-intra</td>
        <td> </td>
      </tr>
      <tr>
        <td>ext-tx</td>
        <td> </td>
      </tr>
      <tr>
        <td>filter_7bit</td>
        <td> </td>
      </tr>
      <tr>
        <td>global_motion</td>
        <td> </td>
      </tr>
      <tr>
        <td>independent_row_tile</td>
        <td> </td>
      </tr>
      <tr>
        <td>misc_fixes</td>
        <td> </td>
      </tr>
      <tr>
        <td>motion_var</td>
        <td> </td>
      </tr>
      <tr>
        <td>new_tokenset</td>
        <td> </td>
      </tr>
      <tr>
        <td>one_sided_compound</td>
        <td> </td>
      </tr>
      <tr>
        <td>palette</td>
        <td> </td>
      </tr>
      <tr>
        <td>rect_intra_pred</td>
        <td> </td>
      </tr>
      <tr>
        <td>rect_tx</td>
        <td> </td>
      </tr>
      <tr>
        <td>ref-mv</td>
        <td>Bug 981 not yet fixed in code or spec</td>
      </tr>
      <tr>
        <td>restricted</td>
        <td> </td>
      </tr>
      <tr>
        <td>segmentation</td>
        <td> </td>
      </tr>
      <tr>
        <td>map</td>
        <td> </td>
      </tr>
      <tr>
        <td>update</td>
        <td> </td>
      </tr>
      <tr>
        <td>simp_mv_pred</td>
        <td> </td>
      </tr>
      <tr>
        <td>tile_groups</td>
        <td> </td>
      </tr>
      <tr>
        <td>var_tx</td>
        <td> </td>
      </tr>
      <tr>
        <td>warped_motion</td>
        <td>Bug 950 not yet fixed in code or spec</td>
      </tr>
      <tr>
        <td>ext_warped_motion</td>
        <td>Included in spec, but not yet adopted</td>
      </tr>
      <tr>
        <td>loopfilter_level</td>
        <td> </td>
      </tr>
      <tr>
        <td>deblock_13tap</td>
        <td> </td>
      </tr>
      <tr>
        <td>gm_ref_mv</td>
        <td> </td>
      </tr>
      <tr>
        <td>kf_ctx</td>
        <td> </td>
      </tr>
      <tr>
        <td>intra_edge</td>
        <td> </td>
      </tr>
      <tr>
        <td>simple_bwd_adapt</td>
        <td> </td>
      </tr>
      <tr>
        <td>ext_partition_types</td>
        <td>Bug 914 not yet fixed in code or spec</td>
      </tr>
      <tr>
        <td>mfmv</td>
        <td> </td>
      </tr>
      <tr>
        <td>short_filter</td>
        <td> </td>
      </tr>
      <tr>
        <td>frame_marker</td>
        <td> </td>
      </tr>
      <tr>
        <td>no_frame_context_signalling</td>
        <td> </td>
      </tr>
      <tr>
        <td>segment_zeromv</td>
        <td> </td>
      </tr>
      <tr>
        <td>loop_restoration</td>
        <td> </td>
      </tr>
      <tr>
        <td>striped_loop_restoration</td>
        <td> </td>
      </tr>
      <tr>
        <td>amvr</td>
        <td>Bug 1048 not yet fixed in code or spec</td>
      </tr>
      <tr>
        <td>ext-intra-mod</td>
        <td> </td>
      </tr>
      <tr>
        <td>segment_pred_last</td>
        <td>Bug 1091 not yet fixed in code</td>
      </tr>
      <tr>
        <td>txmg</td>
        <td> </td>
      </tr>
      <tr>
        <td>tx64x64</td>
        <td> </td>
      </tr>
      <tr>
        <td>gm_ref_mv</td>
        <td> </td>
      </tr>
      <tr>
        <td>txk_sel</td>
        <td>Bugs 869, 866 not yet fixed in code</td>
      </tr>
      <tr>
        <td>lv_map</td>
        <td>Bugs 840, 841 not yet fixed in code</td>
      </tr>
      <tr>
        <td>lv_map_multi</td>
        <td>Bugs 840, 841 not yet fixed in code</td>
      </tr>
    </tbody>
  </table>

  <h3 id="excluded-experiments">Excluded Experiments</h3>

  <p>The specification has not yet been updated with the following experiments:</p>

  <table class="table table-sm table-bordered">
    <thead>
      <tr>
        <th>Experiment</th>
        <th>Notes</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>q_adapt_probs</td>
        <td>Bug 936 not yet fixed</td>
      </tr>
      <tr>
        <td>daala_tx</td>
        <td>Unclear if this is to be adopted</td>
      </tr>
      <tr>
        <td>filter_intra</td>
        <td> </td>
      </tr>
      <tr>
        <td>ext_tile</td>
        <td>Code still under development</td>
      </tr>
      <tr>
        <td>CICP</td>
        <td>No code for this yet</td>
      </tr>
      <tr>
        <td>Timecodes</td>
        <td>No code for this yet</td>
      </tr>
      <tr>
        <td>coef_ctx_reduce</td>
        <td> </td>
      </tr>
      <tr>
        <td>horzonly_frame_superres</td>
        <td> </td>
      </tr>
      <tr>
        <td>intrabc</td>
        <td> </td>
      </tr>
      <tr>
        <td>jnt_comp</td>
        <td> </td>
      </tr>
      <tr>
        <td>spatial_segmentation</td>
        <td> </td>
      </tr>
      <tr>
        <td>simplify_tx_mode</td>
        <td> </td>
      </tr>
      <tr>
        <td>monochrome</td>
        <td> </td>
      </tr>
    </tbody>
  </table>

</div>

<h2 class="no_count" id="bibliography">Bibliography</h2>

<ol>
  <li>
    <p>Recommendation ITU-R BT.601-7 (2011), Studio encoding parameters of digital
television for standard 4:3 and wide screen 16:9 aspect ratios.</p>
  </li>
  <li>
    <p>Recommendation ITU-R BT.709-6 (2015), Parameter values for the HDTV
    standards for production and international programme exchange.</p>
  </li>
  <li>
    <p>SMPTE ST 170 (2004), Television – Composite Analog Video Signal – NTSC for
Studio Applications.</p>
  </li>
  <li>
    <p>SMPTE ST 240 (1999), For Television – 1125-Line High-Definition Production
Systems – Signal Parameters.</p>
  </li>
  <li>
    <p>Recommendation ITU-R BT.2020-2 (2015), Parameter values for ultra-high
definition television systems for production and international programme
exchange.</p>
  </li>
  <li>
    <p>IEC 61966-2-1 (1999), Multimedia systems and equipment – Colour measurement
and management – Part 2-1: Colour management – Default RGB colour space –
sRGB.</p>
  </li>
</ol>


      </div>
    </div>
  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="assets/js/bootstrap.min.js"></script>
</body>
</html>
