#### Coef Syntax

~~~~~
read_coef( token ) {
    cat = extraBits[ token ][ 0 ]
    minValue = extraBits[ token ][ 2 ]
    if ( cat == 0 )
        return token
    
    if ( cat < 6 ) {
        extraBitCount = extraBits[ token ][ 1 ]
    } else {
        extraBitCount = BitDepth + 3 + Max( 0, tx_size_sqr_up_map[ tx_size ] )
        extraBitCount = Min( 18, ( ( extraBitCount + 3 ) >> 2 ) << 2 )
    }
    
    coef = 0
    count = 0
    cdfIndex = 0
    while ( count < extraBitCount ) {
        bits = Min( extraBitCount - count, 4 )
        @@coef_extra_bits                                                S
        coef |= coef_extra_bits << count
        count += bits
        cdfIndex += 1
    }
    return minValue + coef
}
~~~~~
{:.syntax }

where extraBits is defined as:

~~~~~ c
extraBits[ 11 ][ 3 ] = {
    { 0, 0, 0 },
    { 0, 0, 1 },
    { 0, 0, 2 },
    { 0, 0, 3 },
    { 0, 0, 4 },
    { 1, 1, 5 },
    { 2, 2, 7 },
    { 3, 3, 11 },
    { 4, 4, 19 },
    { 5, 5, 35 },
    { 6, 14, 67 }
}
~~~~~
